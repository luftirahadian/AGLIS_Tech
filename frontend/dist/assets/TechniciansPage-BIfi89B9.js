var ne=Object.defineProperty,ce=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var O=(c,i,l)=>i in c?ne(c,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[i]=l,k=(c,i)=>{for(var l in i||(i={}))de.call(i,l)&&O(c,l,i[l]);if(J)for(var l of J(i))xe.call(i,l)&&O(c,l,i[l]);return c},C=(c,i)=>ce(c,oe(i));import{j as e}from"./notifications-DovgEgck.js";import{u as me,r as b}from"./react-vendor-BQ7pSkNi.js";import{a as ue,b as W,u as he}from"./react-query-B7OIdD7u.js";import{t as S}from"./tickets-DRGGKwAV.js";import{L as be,K as v,a as A,w as pe}from"./customers-CrLrHLij.js";import{ab as ge,I as ve,D as je,O as K,K as V,C as T,N as Q,b as N,a8 as R,S as ye,aC as fe,aD as E,U as Ne,p as we,m as _e,q as Z,V as ke,W as Ce,x as Se,z as w,Y as Ae,Z as Te,_ as Ee,al as q,ad as ze}from"./ui-vendor-DNUUwVb4.js";import"./charts-CREYXqqm.js";import"./forms-Dmkgx8TD.js";import"./socket-BFcXWKeu.js";const Oe=()=>{var $,P;const c=me(),i=ue(),[l,z]=b.useState({search:"",employment_status:"",availability_status:"",skill_level:"",work_zone:"",specialization:""}),[n,x]=b.useState(1),[j,H]=b.useState("created_at"),[y,B]=b.useState("DESC"),[g,X]=b.useState(10),[f,D]=b.useState("table"),{data:u,isLoading:Y,refetch:G}=W(["technicians",l,n,g,j,y],()=>S.getTechnicians(C(k({},l),{page:n,limit:g,sort_by:j,sort_order:y})),{keepPreviousData:!0}),{data:_}=W("technician-stats",()=>S.getTechnicianStats()),ee=he(({id:a,status:s})=>S.updateAvailability(a,{availability_status:s}),{onSuccess:()=>{w.success("Status updated successfully"),G(),i.invalidateQueries("technician-stats")},onError:a=>{var s,t;w.error(((t=(s=a.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to update status")}}),d=(a,s)=>{z(t=>C(k({},t),{[a]:s})),x(1)},L=()=>{c("/users?create=true&role=technician"),w.info('Create a user account with role "Technician"')},F=a=>{c(`/technicians/${a.id}`)},ae=(a,s)=>{ee.mutate({id:a,status:s})},I=a=>{j===a?B(y==="ASC"?"DESC":"ASC"):(H(a),B("DESC")),x(1)},se=()=>{const a=h.map(r=>{var U;return{"Employee ID":r.employee_id,"Full Name":r.full_name,Username:r.username||"N/A",Phone:r.phone,Email:r.email||"","Skill Level":r.skill_level,"Work Zone":(U=r.work_zone)==null?void 0:U.replace("_"," "),"Employment Status":r.employment_status,Availability:r.availability_status,"Active Tickets":`${r.active_tickets||0}/${r.max_daily_tickets||8}`,Rating:r.avg_customer_rating?parseFloat(r.avg_customer_rating).toFixed(1):"N/A","Completed Tickets":r.total_tickets_completed||0,"Hire Date":r.hire_date?new Date(r.hire_date).toLocaleDateString("id-ID"):"","Created At":new Date(r.created_at).toLocaleDateString("id-ID")}}),s=A.json_to_sheet(a),t=A.book_new();A.book_append_sheet(t,s,"Technicians"),s["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:15},{wch:25},{wch:12},{wch:15},{wch:15},{wch:12},{wch:15},{wch:8},{wch:15},{wch:12},{wch:12}];const m=`technicians-export-${new Date().toISOString().split("T")[0]}.xlsx`;pe(t,m),w.success(`Exported ${a.length} technicians to ${m}`)},M=a=>j!==a?e.jsx(Ae,{className:"h-4 w-4 text-gray-400"}):y==="ASC"?e.jsx(Te,{className:"h-4 w-4 text-blue-600"}):e.jsx(Ee,{className:"h-4 w-4 text-blue-600"}),te=a=>{const s={available:{color:"bg-green-100 text-green-800",icon:T,label:"Available"},busy:{color:"bg-yellow-100 text-yellow-800",icon:Q,label:"Busy"},break:{color:"bg-blue-100 text-blue-800",icon:q,label:"Break"},offline:{color:"bg-gray-100 text-gray-800",icon:N,label:"Offline"}},t=s[a]||s.offline,m=t.icon;return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.color}`,children:[e.jsx(m,{className:"h-3 w-3 mr-1"}),t.label]})},le=a=>{const s={active:{color:"bg-green-100 text-green-800",icon:T,label:"Active"},inactive:{color:"bg-gray-100 text-gray-800",icon:q,label:"Inactive"},suspended:{color:"bg-red-100 text-red-800",icon:N,label:"Suspended"},terminated:{color:"bg-red-100 text-red-800",icon:N,label:"Terminated"}},t=s[a]||s.active,m=t.icon;return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.color}`,children:[e.jsx(m,{className:"h-3 w-3 mr-1"}),t.label]})},ie=a=>{const s={junior:{color:"bg-blue-100 text-blue-800",label:"Junior"},senior:{color:"bg-purple-100 text-purple-800",label:"Senior"},expert:{color:"bg-orange-100 text-orange-800",label:"Expert"},specialist:{color:"bg-red-100 text-red-800",label:"Specialist"}},t=s[a]||s.junior;return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.color}`,children:[e.jsx(ze,{className:"h-3 w-3 mr-1"}),t.label]})},re=({current:a,max:s})=>{const t=a/s*100,m=t>=80?"bg-red-500":t>=50?"bg-yellow-500":"bg-green-500";return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[a,"/",s]}),e.jsxs("span",{className:`text-xs font-semibold ${t>=80?"text-red-600":t>=50?"text-yellow-600":"text-green-600"}`,children:[t.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`${m} h-2 rounded-full transition-all duration-300`,style:{width:`${Math.min(t,100)}%`}})})]})},h=(($=u==null?void 0:u.data)==null?void 0:$.technicians)||[],o=((P=u==null?void 0:u.data)==null?void 0:P.pagination)||{},p=(_==null?void 0:_.data)||{};return b.useEffect(()=>{const a=()=>{i.invalidateQueries(["technicians"]),i.invalidateQueries("technician-stats")};return window.addEventListener("technician-created",a),window.addEventListener("technician-updated",a),window.addEventListener("technician-status-changed",a),()=>{window.removeEventListener("technician-created",a),window.removeEventListener("technician-updated",a),window.removeEventListener("technician-status-changed",a)}},[i]),Y&&!u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(be,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[e.jsx(ge,{className:"h-7 w-7 text-blue-600"}),e.jsx("span",{children:"Technician Management"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Kelola teknisi lapangan dan monitor performa"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(ve,{className:"h-4 w-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-xs text-blue-900",children:'Create technician via Users page with role="Technician"'})]}),e.jsxs("button",{onClick:se,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2",title:"Export to Excel",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),e.jsxs("button",{onClick:L,className:"btn-primary flex items-center space-x-2",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:"Create Technician User"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx(v,{icon:V,title:"Total Teknisi",value:p.total_technicians||0,color:"blue"}),e.jsx(v,{icon:T,title:"Available",value:p.available_technicians||0,color:"green",onClick:()=>{d("availability_status",l.availability_status==="available"?"":"available")}}),e.jsx(v,{icon:Q,title:"Busy",value:p.busy_technicians||0,color:"yellow",onClick:()=>{d("availability_status",l.availability_status==="busy"?"":"busy")}}),e.jsx(v,{icon:N,title:"Offline",value:p.offline_technicians||0,color:"gray",onClick:()=>{d("availability_status",l.availability_status==="offline"?"":"offline")}}),e.jsx(v,{icon:R,title:"Avg Rating",value:p.avg_customer_rating?parseFloat(p.avg_customer_rating).toFixed(1):"0.0",format:"decimal",suffix:"/5.0",color:"orange"})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari teknisi...",value:l.search,onChange:a=>d("search",a.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Availability Status"}),e.jsxs("select",{className:"form-input",value:l.availability_status,onChange:a=>d("availability_status",a.target.value),children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"available",children:"Available"}),e.jsx("option",{value:"busy",children:"Busy"}),e.jsx("option",{value:"break",children:"On Break"}),e.jsx("option",{value:"offline",children:"Offline"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Status"}),e.jsxs("select",{className:"form-input",value:l.employment_status,onChange:a=>d("employment_status",a.target.value),children:[e.jsx("option",{value:"",children:"Semua"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"terminated",children:"Terminated"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skill Level"}),e.jsxs("select",{className:"form-input",value:l.skill_level,onChange:a=>d("skill_level",a.target.value),children:[e.jsx("option",{value:"",children:"Semua Level"}),e.jsx("option",{value:"junior",children:"Junior"}),e.jsx("option",{value:"senior",children:"Senior"}),e.jsx("option",{value:"expert",children:"Expert"}),e.jsx("option",{value:"specialist",children:"Specialist"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Zone"}),e.jsxs("select",{className:"form-input",value:l.work_zone,onChange:a=>d("work_zone",a.target.value),children:[e.jsx("option",{value:"",children:"Semua Zone"}),e.jsx("option",{value:"Karawang",children:"Karawang"}),e.jsx("option",{value:"Jakarta_Pusat",children:"Jakarta Pusat"}),e.jsx("option",{value:"Jakarta_Selatan",children:"Jakarta Selatan"}),e.jsx("option",{value:"Jakarta_Utara",children:"Jakarta Utara"}),e.jsx("option",{value:"Jakarta_Timur",children:"Jakarta Timur"}),e.jsx("option",{value:"Jakarta_Barat",children:"Jakarta Barat"}),e.jsx("option",{value:"Bogor",children:"Bogor"}),e.jsx("option",{value:"Depok",children:"Depok"}),e.jsx("option",{value:"Tangerang",children:"Tangerang"}),e.jsx("option",{value:"Bekasi",children:"Bekasi"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),e.jsxs("select",{className:"form-input",value:l.specialization,onChange:a=>d("specialization",a.target.value),children:[e.jsx("option",{value:"",children:"Semua Spesialisasi"}),e.jsx("option",{value:"fiber_optic",children:"Fiber Optic"}),e.jsx("option",{value:"wireless",children:"Wireless"}),e.jsx("option",{value:"networking",children:"Networking"}),e.jsx("option",{value:"installation",children:"Installation"}),e.jsx("option",{value:"troubleshooting",children:"Troubleshooting"})]})]})]}),Object.values(l).some(a=>a)&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),Object.entries(l).map(([a,s])=>s?e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs rounded-full flex items-center space-x-1",children:[e.jsxs("span",{children:[a,": ",s]}),e.jsx("button",{onClick:()=>d(a,""),className:"hover:text-blue-900",children:"×"})]},a):null),e.jsx("button",{onClick:()=>{z({search:"",employment_status:"",availability_status:"",skill_level:"",work_zone:"",specialization:""}),x(1)},className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]})]}),e.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>D("table"),className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${f==="table"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{children:"Table View"})]}),e.jsxs("button",{onClick:()=>D("map"),className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${f==="map"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:"Map View"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[h.length," technician",h.length!==1?"s":""," displayed"]})]})}),f==="table"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Technicians",e.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",o.total||0," total)"]})]})}),e.jsx("div",{className:"card-body p-0",children:h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(V,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No technicians found"}),e.jsx("p",{className:"mt-1 text-gray-500 mb-4",children:'Create a user account with role "Technician" to get started'}),e.jsxs("button",{onClick:L,className:"btn-primary",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Create Technician User"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("full_name"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Technician"}),M("full_name")]})}),e.jsx("th",{className:"table-header-cell",children:"Contact"}),e.jsx("th",{className:"table-header-cell",children:"Work Zone"}),e.jsx("th",{className:"table-header-cell",children:"Status"}),e.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>I("availability_status"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Availability"}),M("availability_status")]})}),e.jsx("th",{className:"table-header-cell",children:"Capacity"}),e.jsx("th",{className:"table-header-cell",children:"Rating"})]})}),e.jsx("tbody",{className:"table-body",children:h.map(a=>{var s;return e.jsxs("tr",{onClick:()=>F(a),className:"group cursor-pointer hover:bg-blue-50 hover:shadow-md hover:border-l-4 hover:border-l-blue-500 transition-all duration-200",title:"Klik untuk lihat detail technician",children:[e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ne,{className:"h-5 w-5 text-blue-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate",style:{maxWidth:"150px"},children:a.full_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",a.employee_id]})]})]})}),e.jsx("td",{className:"table-cell",style:{maxWidth:"180px"},children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(we,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:a.phone})]}),a.email&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500",title:a.email,children:[e.jsx(_e,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:a.email})]})]})}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Z,{className:"h-4 w-4 mr-1 text-gray-400"}),e.jsx("span",{className:"capitalize",children:(s=a.work_zone)==null?void 0:s.replace("_"," ")})]})}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"space-y-1",children:[le(a.employment_status),e.jsx("div",{className:"text-xs",children:ie(a.skill_level)})]})}),e.jsx("td",{className:"table-cell",onClick:t=>t.stopPropagation(),children:e.jsx("div",{className:"space-y-2",children:e.jsxs("select",{value:a.availability_status,onChange:t=>ae(a.id,t.target.value),disabled:a.employment_status!=="active",className:`text-xs font-medium rounded-full px-2 py-1 border-0 focus:ring-2 focus:ring-blue-500 w-full ${a.availability_status==="available"?"bg-green-100 text-green-800":a.availability_status==="busy"?"bg-yellow-100 text-yellow-800":a.availability_status==="break"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"} ${a.employment_status!=="active"?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("option",{value:"available",children:"Available"}),e.jsx("option",{value:"busy",children:"Busy"}),e.jsx("option",{value:"break",children:"Break"}),e.jsx("option",{value:"offline",children:"Offline"})]})})}),e.jsx("td",{className:"table-cell",children:e.jsx(re,{current:parseInt(a.active_tickets)||0,max:a.max_daily_tickets||8})}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{className:"h-4 w-4 mr-1 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:a.avg_customer_rating?parseFloat(a.avg_customer_rating).toFixed(1):"N/A"}),e.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"/5.0"})]})})]},a.id)})})]})}),o.total>0&&e.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>x(Math.max(1,n-1)),disabled:n===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>x(Math.min(o.pages,n+1)),disabled:n===o.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),e.jsxs("select",{value:g,onChange:a=>{X(parseInt(a.target.value)),x(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),e.jsx("div",{className:"border-l border-gray-300 h-6"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(n-1)*g+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(n*g,o.total)})," ","of ",e.jsx("span",{className:"font-medium",children:o.total})," results"]})]}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsx("button",{onClick:()=>x(Math.max(1,n-1)),disabled:n===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ke,{className:"h-5 w-5"})}),Array.from({length:Math.min(o.pages,10)},(a,s)=>o.pages<=10||n<=5?s+1:n>=o.pages-4?o.pages-9+s:n-5+s).map(a=>e.jsx("button",{onClick:()=>x(a),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${n===a?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:a},a)),e.jsx("button",{onClick:()=>x(Math.min(o.pages,n+1)),disabled:n===o.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ce,{className:"h-5 w-5"})})]})})]})]})})]})})]}),f==="map"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(E,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Technician Locations"})]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[e.jsx(E,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Map View"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Interactive map showing technician locations and work zones"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto text-left",children:h.filter(a=>a.current_latitude&&a.current_longitude).map(a=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:a.full_name}),te(a.availability_status)]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),a.work_zone]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-3 w-3 mr-1"}),a.active_tickets||0,"/",a.max_daily_tickets||8," tickets"]}),a.current_latitude&&a.current_longitude&&e.jsxs("div",{className:"text-blue-600",children:["📍 ",parseFloat(a.current_latitude).toFixed(4),", ",parseFloat(a.current_longitude).toFixed(4)]})]}),e.jsx("button",{onClick:()=>F(a),className:"mt-3 w-full px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"View Details"})]},a.id))}),h.filter(a=>a.current_latitude&&a.current_longitude).length===0&&e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No technicians with location data available"})]})})]})]})};export{Oe as default};
//# sourceMappingURL=TechniciansPage-BIfi89B9.js.map
