{"version":3,"file":"RegistrationDetailPage-Bhl0ssKr.js","sources":["../../src/pages/registrations/RegistrationDetailPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { useQuery, useMutation, useQueryClient } from 'react-query'\nimport {\n  User, Phone, Mail, MapPin, Package, Calendar,\n  CheckCircle, XCircle, Clock, AlertCircle, FileText,\n  Home, UserCheck, ClipboardCheck, Settings, DollarSign\n} from 'lucide-react'\nimport registrationService from '../../services/registrationService'\nimport packageService from '../../services/packageService'\nimport LoadingSpinner from '../../components/LoadingSpinner'\nimport BackButton from '../../components/common/BackButton'\nimport ConfirmationModal from '../../components/ConfirmationModal'\nimport { useAuth } from '../../contexts/AuthContext'\nimport toast from 'react-hot-toast'\n\nconst RegistrationDetailPage = () => {\n  const { id } = useParams()\n  const navigate = useNavigate()\n  const queryClient = useQueryClient()\n  const { user } = useAuth()\n\n  // Determine default tab based on status\n  const [activeTab, setActiveTab] = useState('details')\n  \n  // State untuk form actions\n  const [actionType, setActionType] = useState('')\n  const [rejectionReason, setRejectionReason] = useState('')\n  const [surveyDate, setSurveyDate] = useState('')\n  const [surveyResults, setSurveyResults] = useState('')\n  const [actionNotes, setActionNotes] = useState('')\n\n  // Create customer confirmation modal\n  const [showCreateCustomerModal, setShowCreateCustomerModal] = useState(false)\n  \n  // Quick action modals\n  const [showVerifyModal, setShowVerifyModal] = useState(false)\n  const [showRejectModal, setShowRejectModal] = useState(false)\n  const [rejectReason, setRejectReasonInput] = useState('')\n  const [showApproveModal, setShowApproveModal] = useState(false)\n  const [showScheduleSurveyModal, setShowScheduleSurveyModal] = useState(false)\n  const [surveyDateInput, setSurveyDateInput] = useState(new Date().toISOString().split('T')[0])\n\n  // Fetch registration detail\n  const { data: registrationData, isLoading, error } = useQuery(\n    ['registration', id],\n    () => registrationService.getById(id),\n    {\n      enabled: !!id,\n      staleTime: 30000\n    }\n  )\n\n  // Fetch packages\n  const { data: packagesData } = useQuery(\n    'packages',\n    packageService.getAll,\n    { refetchOnWindowFocus: false }\n  )\n\n  const registration = registrationData?.data\n  const selectedPackage = packagesData?.data?.find(pkg => pkg.id === registration?.package_id)\n\n  // ==================== RBAC CHECK ====================\n  const isAdmin = user?.role === 'admin'\n  const isSupervisor = user?.role === 'supervisor'\n  const isCustomerService = user?.role === 'customer_service'\n  const canVerify = isAdmin || isSupervisor || isCustomerService\n  const canReject = isAdmin || isSupervisor || isCustomerService\n  const canApprove = isAdmin || isSupervisor || isCustomerService\n  const canCreateCustomer = isAdmin || isSupervisor || isCustomerService\n\n  // Auto-switch to Actions tab for verified/survey registrations only (NOT for pending)\n  useEffect(() => {\n    if (registration && ['verified', 'survey_scheduled', 'survey_completed'].includes(registration.status)) {\n      setActiveTab('actions')\n    }\n  }, [registration])\n\n  // Update status mutation\n  const updateStatusMutation = useMutation(\n    ({ id, data }) => registrationService.updateStatus(id, data),\n    {\n      onSuccess: () => {\n        toast.success('Status berhasil diupdate')\n        queryClient.invalidateQueries(['registration', id])\n        queryClient.invalidateQueries('registrations')\n        // Reset form\n        setActionType('')\n        setRejectionReason('')\n        setSurveyDate('')\n        setSurveyResults('')\n        setActionNotes('')\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.message || 'Gagal update status')\n      }\n    }\n  )\n\n  // Create customer mutation\n  const createCustomerMutation = useMutation(\n    (regId) => registrationService.createCustomer(regId),\n    {\n      onSuccess: (data) => {\n        toast.success('Customer dan ticket instalasi berhasil dibuat!')\n        queryClient.invalidateQueries(['registration', id])\n        queryClient.invalidateQueries('registrations')\n        queryClient.invalidateQueries('customers')\n        queryClient.invalidateQueries('tickets')\n      },\n      onError: (error) => {\n        console.error('❌ CREATE CUSTOMER ERROR:', error)\n        toast.error(error.response?.data?.message || 'Gagal membuat customer')\n      }\n    }\n  )\n\n  const handleSubmitAction = () => {\n    if (!registration) return\n\n    let data = {\n      status: actionType,\n      notes: actionNotes\n    }\n\n    if (actionType === 'rejected') {\n      if (!rejectionReason.trim()) {\n        toast.error('Alasan penolakan wajib diisi')\n        return\n      }\n      data.rejection_reason = rejectionReason\n    }\n\n    if (actionType === 'survey_scheduled') {\n      if (!surveyDate) {\n        toast.error('Tanggal survey wajib diisi')\n        return\n      }\n      data.survey_scheduled_date = surveyDate\n    }\n\n    if (actionType === 'survey_completed') {\n      if (!surveyResults.trim()) {\n        toast.error('Hasil survey wajib diisi')\n        return\n      }\n      data.survey_notes = surveyResults\n      data.survey_result = 'feasible'\n    }\n\n    updateStatusMutation.mutate({ id: registration.id, data })\n  }\n\n  const handleCreateCustomer = () => {\n    setShowCreateCustomerModal(true)\n  }\n\n  const confirmCreateCustomer = () => {\n    createCustomerMutation.mutate(registration.id)\n    setShowCreateCustomerModal(false)\n  }\n\n  // ==================== QUICK ACTION HANDLERS ====================\n\n  const handleQuickVerify = () => {\n    setShowVerifyModal(true)\n  }\n\n  const confirmQuickVerify = async () => {\n    try {\n      await registrationService.updateStatus(registration.id, { \n        status: 'verified', \n        notes: 'Quick verified via detail page' \n      })\n      toast.success(`✅ Registration ${registration.registration_number} verified`)\n      queryClient.invalidateQueries(['registration', id])\n      queryClient.invalidateQueries('registrations')\n      setShowVerifyModal(false)\n    } catch (error) {\n      toast.error('❌ Failed to verify registration')\n      console.error('Quick verify error:', error)\n    }\n  }\n\n  const handleQuickReject = () => {\n    setRejectReasonInput('')\n    setShowRejectModal(true)\n  }\n\n  const confirmQuickReject = async () => {\n    if (!rejectReason.trim()) {\n      toast.error('⚠️ Alasan reject wajib diisi')\n      return\n    }\n\n    try {\n      await registrationService.updateStatus(registration.id, { \n        status: 'rejected',\n        rejection_reason: rejectReason,\n        notes: rejectReason\n      })\n      toast.success(`✅ Registration ${registration.registration_number} rejected`)\n      queryClient.invalidateQueries(['registration', id])\n      queryClient.invalidateQueries('registrations')\n      setShowRejectModal(false)\n      setRejectReasonInput('')\n    } catch (error) {\n      toast.error('❌ Failed to reject registration')\n      console.error('Quick reject error:', error)\n    }\n  }\n\n  const handleQuickApprove = () => {\n    setShowApproveModal(true)\n  }\n\n  const confirmQuickApprove = async () => {\n    try {\n      await registrationService.updateStatus(registration.id, { \n        status: 'approved', \n        notes: 'Quick approved via detail page' \n      })\n      toast.success(`✅ Registration ${registration.registration_number} approved`)\n      queryClient.invalidateQueries(['registration', id])\n      queryClient.invalidateQueries('registrations')\n      setShowApproveModal(false)\n    } catch (error) {\n      toast.error('❌ Failed to approve registration')\n      console.error('Quick approve error:', error)\n    }\n  }\n\n  const handleQuickScheduleSurvey = () => {\n    setSurveyDateInput(new Date().toISOString().split('T')[0])\n    setShowScheduleSurveyModal(true)\n  }\n\n  const confirmQuickScheduleSurvey = async () => {\n    if (!surveyDateInput) {\n      toast.error('Tanggal survey wajib diisi')\n      return\n    }\n\n    try {\n      await registrationService.updateStatus(registration.id, { \n        status: 'survey_scheduled',\n        survey_date: surveyDateInput,\n        notes: `Survey scheduled for ${surveyDateInput}`\n      })\n      toast.success(`✅ Survey scheduled for ${registration.registration_number}`)\n      queryClient.invalidateQueries(['registration', id])\n      queryClient.invalidateQueries('registrations')\n      setShowScheduleSurveyModal(false)\n    } catch (error) {\n      toast.error('❌ Failed to schedule survey')\n      console.error('Quick schedule survey error:', error)\n    }\n  }\n\n  const formatStatusText = (status) => {\n    if (!status) return '-'\n    return status\n      .replace(/_/g, ' ')\n      .split(' ')\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ')\n  }\n\n  const getStatusBadge = (status) => {\n    const statusConfig = {\n      pending_verification: { color: 'bg-yellow-100 text-yellow-800 border-yellow-300', icon: Clock },\n      verified: { color: 'bg-blue-100 text-blue-800 border-blue-300', icon: CheckCircle },\n      survey_scheduled: { color: 'bg-indigo-100 text-indigo-800 border-indigo-300', icon: Calendar },\n      survey_completed: { color: 'bg-purple-100 text-purple-800 border-purple-300', icon: ClipboardCheck },\n      approved: { color: 'bg-green-100 text-green-800 border-green-300', icon: UserCheck },\n      customer_created: { color: 'bg-emerald-100 text-emerald-800 border-emerald-300', icon: Home },\n      rejected: { color: 'bg-red-100 text-red-800 border-red-300', icon: XCircle }\n    }\n\n    const config = statusConfig[status] || statusConfig.pending_verification\n    const Icon = config.icon\n\n    return (\n      <span className={`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium border ${config.color}`}>\n        <Icon className=\"h-4 w-4\" />\n        {formatStatusText(status)}\n      </span>\n    )\n  }\n\n  const formatCurrency = (amount) => {\n    if (!amount) return '-'\n    return new Intl.NumberFormat('id-ID', {\n      style: 'currency',\n      currency: 'IDR',\n      minimumFractionDigits: 0\n    }).format(amount)\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return '-'\n    return new Date(dateString).toLocaleDateString('id-ID', {\n      day: 'numeric',\n      month: 'short',\n      year: 'numeric'\n    })\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center min-h-96\">\n        <LoadingSpinner />\n      </div>\n    )\n  }\n\n  if (error || !registration) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-red-500 mb-4\">\n          <AlertCircle className=\"h-12 w-12 mx-auto\" />\n        </div>\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Registration Not Found</h3>\n        <p className=\"text-gray-500 mb-4\">Pendaftaran tidak ditemukan</p>\n        <BackButton to=\"/registrations\" label=\"Back to Registrations\" />\n      </div>\n    )\n  }\n\n  const tabs = [\n    { id: 'details', label: 'Details', icon: FileText },\n    { id: 'actions', label: 'Actions', icon: Settings },\n    { id: 'timeline', label: 'Timeline', icon: Calendar }\n  ]\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <BackButton to=\"/registrations\" label=\"Back to Registrations\" />\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              {registration.registration_number} - {registration.full_name}\n            </h1>\n            <p className=\"text-gray-600\">Pendaftaran Customer Baru</p>\n          </div>\n        </div>\n        <div>\n          {getStatusBadge(registration.status)}\n        </div>\n      </div>\n\n      {/* Quick Info Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {/* Card 1: Customer */}\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <div className=\"flex items-center\">\n              <User className=\"h-8 w-8 text-blue-600 bg-blue-100 rounded-lg p-2 mr-3\" />\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-600\">Customer</p>\n                <p className=\"text-base font-semibold text-gray-900 truncate\">{registration.full_name}</p>\n                <p className=\"text-xs text-gray-500 flex items-center gap-1\">\n                  <Phone className=\"h-3 w-3\" />\n                  {registration.phone}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Card 2: Email */}\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <div className=\"flex items-center\">\n              <Mail className=\"h-8 w-8 text-green-600 bg-green-100 rounded-lg p-2 mr-3\" />\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-600\">Email</p>\n                <p className=\"text-sm font-semibold text-gray-900 truncate\">{registration.email}</p>\n                {registration.whatsapp_verified && (\n                  <p className=\"text-xs text-green-600 flex items-center gap-1\">\n                    <CheckCircle className=\"h-3 w-3\" />\n                    WhatsApp Verified\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Card 3: Package */}\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <div className=\"flex items-center\">\n              <Package className=\"h-8 w-8 text-purple-600 bg-purple-100 rounded-lg p-2 mr-3\" />\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-600\">Package</p>\n                <p className=\"text-base font-semibold text-gray-900 truncate\">\n                  {selectedPackage?.name || 'Loading...'}\n                </p>\n                <p className=\"text-xs text-gray-500\">\n                  {selectedPackage ? formatCurrency(selectedPackage.price) + '/bln' : '-'}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Card 4: Status & Date */}\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <div className=\"flex items-center\">\n              <Calendar className=\"h-8 w-8 text-orange-600 bg-orange-100 rounded-lg p-2 mr-3\" />\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-600\">Created</p>\n                <p className=\"text-base font-semibold text-gray-900\">\n                  {formatDate(registration.created_at)}\n                </p>\n                <p className=\"text-xs text-gray-500\">\n                  {new Date(registration.created_at).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' })}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      {!['customer_created', 'rejected', 'cancelled'].includes(registration.status) && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <CheckCircle className=\"h-5 w-5 text-gray-400\" />\n              <span className=\"text-sm font-medium text-gray-700\">Quick Actions:</span>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              {/* Quick Verify (only for pending) */}\n              {canVerify && registration.status === 'pending_verification' && (\n                <button\n                  onClick={handleQuickVerify}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium inline-flex items-center gap-2 transition-colors\"\n                >\n                  <UserCheck className=\"h-4 w-4\" />\n                  Quick Verify\n                </button>\n              )}\n\n              {/* Quick Approve (only for verified) */}\n              {canApprove && registration.status === 'verified' && (\n                <button\n                  onClick={handleQuickApprove}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium inline-flex items-center gap-2 transition-colors\"\n                >\n                  <CheckCircle className=\"h-4 w-4\" />\n                  Quick Approve\n                </button>\n              )}\n\n              {/* Quick Schedule Survey (only for verified) */}\n              {canVerify && registration.status === 'verified' && (\n                <button\n                  onClick={handleQuickScheduleSurvey}\n                  className=\"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 text-sm font-medium inline-flex items-center gap-2 transition-colors\"\n                >\n                  <Calendar className=\"h-4 w-4\" />\n                  Schedule Survey\n                </button>\n              )}\n\n              {/* Quick Create Customer (only for approved) */}\n              {canCreateCustomer && registration.status === 'approved' && !registration.customer_id && (\n                <button\n                  onClick={handleCreateCustomer}\n                  className=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm font-medium inline-flex items-center gap-2 transition-colors\"\n                >\n                  <Home className=\"h-4 w-4\" />\n                  Create Customer\n                </button>\n              )}\n\n              {/* Quick Reject (only for non-final statuses) */}\n              {canReject && !['customer_created', 'rejected', 'cancelled'].includes(registration.status) && (\n                <button\n                  onClick={handleQuickReject}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm font-medium inline-flex items-center gap-2 transition-colors\"\n                >\n                  <XCircle className=\"h-4 w-4\" />\n                  Quick Reject\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Tabs Card */}\n      <div className=\"card\">\n        {/* Tabs Navigation */}\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8 px-6\">\n            {tabs.map((tab) => {\n              const Icon = tab.icon\n              return (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${\n                    activeTab === tab.id\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                  }`}\n                >\n                  <Icon className=\"h-4 w-4 mr-2\" />\n                  {tab.label}\n                </button>\n              )\n            })}\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"card-body\">\n          {/* DETAILS TAB */}\n          {activeTab === 'details' && (\n            <div className=\"space-y-6\">\n              {/* Personal & Address Info - 2 Column Grid */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {/* Personal Information */}\n                <div>\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Data Pribadi</h4>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-start gap-3\">\n                      <User className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-gray-500\">Nama Lengkap</p>\n                        <p className=\"font-medium text-gray-900\">{registration.full_name}</p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <Mail className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-gray-500\">Email</p>\n                        <p className=\"font-medium text-gray-900\">{registration.email}</p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <Phone className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-gray-500\">WhatsApp</p>\n                        <div className=\"flex items-center gap-2\">\n                          <p className=\"font-medium text-gray-900\">{registration.phone}</p>\n                          {registration.whatsapp_verified && (\n                            <CheckCircle className=\"h-4 w-4 text-green-500\" title=\"Verified\" />\n                          )}\n                        </div>\n                      </div>\n                    </div>\n\n                    {registration.id_card_number && (\n                      <div className=\"flex items-start gap-3\">\n                        <FileText className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                        <div className=\"flex-1\">\n                          <p className=\"text-sm text-gray-500\">Nomor KTP</p>\n                          <p className=\"font-medium text-gray-900\">{registration.id_card_number}</p>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Address Information */}\n                <div>\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Alamat</h4>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-start gap-3\">\n                      <MapPin className=\"h-5 w-5 text-gray-400 mt-0.5\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-gray-500\">Alamat Lengkap</p>\n                        <p className=\"text-gray-900\">{registration.address}</p>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-3 pl-8\">\n                      {registration.rt && (\n                        <div>\n                          <p className=\"text-sm text-gray-500\">RT</p>\n                          <p className=\"font-medium text-gray-900\">{registration.rt}</p>\n                        </div>\n                      )}\n                      {registration.rw && (\n                        <div>\n                          <p className=\"text-sm text-gray-500\">RW</p>\n                          <p className=\"font-medium text-gray-900\">{registration.rw}</p>\n                        </div>\n                      )}\n                      {registration.kelurahan && (\n                        <div>\n                          <p className=\"text-sm text-gray-500\">Kelurahan</p>\n                          <p className=\"font-medium text-gray-900\">{registration.kelurahan}</p>\n                        </div>\n                      )}\n                      {registration.kecamatan && (\n                        <div>\n                          <p className=\"text-sm text-gray-500\">Kecamatan</p>\n                          <p className=\"font-medium text-gray-900\">{registration.kecamatan}</p>\n                        </div>\n                      )}\n                      {registration.city && (\n                        <div>\n                          <p className=\"text-sm text-gray-500\">Kota</p>\n                          <p className=\"font-medium text-gray-900\">{registration.city}</p>\n                        </div>\n                      )}\n                      {registration.postal_code && (\n                        <div>\n                          <p className=\"text-sm text-gray-500\">Kode Pos</p>\n                          <p className=\"font-medium text-gray-900\">{registration.postal_code}</p>\n                        </div>\n                      )}\n                    </div>\n\n                    {registration.address_notes && (\n                      <div className=\"pl-8 pt-2 border-t\">\n                        <p className=\"text-sm text-gray-500\">Catatan Alamat</p>\n                        <p className=\"text-sm text-gray-700 italic\">{registration.address_notes}</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Package Information - Full Width */}\n              <div className=\"border-t pt-6\">\n                <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Informasi Paket</h4>\n                {selectedPackage ? (\n                  <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex items-start gap-4\">\n                        <Package className=\"h-10 w-10 text-blue-600 bg-white rounded-lg p-2 shadow-sm\" />\n                        <div>\n                          <h5 className=\"text-xl font-semibold text-gray-900\">{selectedPackage.name}</h5>\n                          <p className=\"text-sm text-gray-600 mt-1\">{selectedPackage.description}</p>\n                          \n                          <div className=\"flex items-center gap-6 mt-4\">\n                            <div>\n                              <p className=\"text-xs text-gray-500\">Kecepatan</p>\n                              <p className=\"text-lg font-semibold text-blue-600\">\n                                {selectedPackage.speed_mbps} Mbps\n                              </p>\n                            </div>\n                            <div className=\"h-8 w-px bg-gray-300\"></div>\n                            <div>\n                              <p className=\"text-xs text-gray-500\">Harga Bulanan</p>\n                              <p className=\"text-lg font-semibold text-green-600\">\n                                {formatCurrency(selectedPackage.price)}\n                              </p>\n                            </div>\n                            <div className=\"h-8 w-px bg-gray-300\"></div>\n                            <div>\n                              <p className=\"text-xs text-gray-500\">Tipe</p>\n                              <p className=\"text-sm font-medium text-gray-900 capitalize\">\n                                {selectedPackage.type}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Installation Preference */}\n                    {registration.preferred_installation_date && (\n                      <div className=\"mt-4 pt-4 border-t border-blue-200 flex items-start gap-3\">\n                        <Calendar className=\"h-5 w-5 text-blue-600 mt-0.5\" />\n                        <div>\n                          <p className=\"text-sm text-gray-600\">Preferensi Instalasi</p>\n                          <p className=\"font-medium text-gray-900\">\n                            {formatDate(registration.preferred_installation_date)}\n                            {registration.preferred_time_slot && (\n                              <span className=\"ml-2 text-gray-600\">\n                                ({registration.preferred_time_slot === 'morning' ? 'Pagi' : \n                                  registration.preferred_time_slot === 'afternoon' ? 'Siang' : 'Sore'})\n                              </span>\n                            )}\n                          </p>\n                        </div>\n                      </div>\n                    )}\n\n                    {registration.notes && (\n                      <div className=\"mt-4 pt-4 border-t border-blue-200\">\n                        <p className=\"text-sm text-gray-600 mb-1\">Catatan Customer</p>\n                        <p className=\"text-gray-900 italic\">\"{registration.notes}\"</p>\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <p className=\"text-gray-500 text-sm\">Paket tidak ditemukan</p>\n                )}\n              </div>\n\n              {/* Survey Information (if exists) */}\n              {(registration.survey_scheduled_date || registration.survey_notes) && (\n                <div className=\"border-t pt-6\">\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Informasi Survey</h4>\n                  <div className=\"bg-indigo-50 rounded-lg p-4 border border-indigo-200\">\n                    {registration.survey_scheduled_date && (\n                      <div className=\"flex items-start gap-3 mb-3\">\n                        <Calendar className=\"h-5 w-5 text-indigo-600 mt-0.5\" />\n                        <div>\n                          <p className=\"text-sm text-gray-600\">Tanggal Survey</p>\n                          <p className=\"font-medium text-gray-900\">\n                            {new Date(registration.survey_scheduled_date).toLocaleString('id-ID')}\n                          </p>\n                        </div>\n                      </div>\n                    )}\n                    {registration.survey_notes && (\n                      <div className=\"flex items-start gap-3\">\n                        <FileText className=\"h-5 w-5 text-indigo-600 mt-0.5\" />\n                        <div>\n                          <p className=\"text-sm text-gray-600\">Hasil Survey</p>\n                          <p className=\"text-gray-900 whitespace-pre-wrap\">{registration.survey_notes}</p>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* ACTIONS TAB */}\n          {activeTab === 'actions' && (\n            <div className=\"space-y-6\">\n              {/* Approved - Create Customer */}\n              {registration.status === 'approved' && !registration.customer_id && (\n                <div>\n                  <div className=\"bg-blue-50 border-l-4 border-blue-400 p-4 rounded mb-6\">\n                    <p className=\"font-medium text-blue-900\">🎉 Registration Approved!</p>\n                    <p className=\"text-sm text-blue-800 mt-1\">\n                      Pendaftaran sudah disetujui. Klik tombol di bawah untuk membuat data customer dan ticket instalasi.\n                    </p>\n                  </div>\n\n                  <button\n                    onClick={handleCreateCustomer}\n                    disabled={createCustomerMutation.isLoading}\n                    className=\"w-full px-6 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors inline-flex items-center justify-center gap-2 text-lg font-medium\"\n                  >\n                    <Home className=\"h-6 w-6\" />\n                    {createCustomerMutation.isLoading ? 'Creating Customer...' : 'Buat Customer & Ticket Instalasi'}\n                  </button>\n                </div>\n              )}\n\n              {/* Customer Already Created */}\n              {registration.customer_id && (\n                <div>\n                  <div className=\"bg-green-50 border-l-4 border-green-400 p-4 rounded mb-6\">\n                    <p className=\"font-medium text-green-900\">✅ Customer Sudah Dibuat!</p>\n                    <p className=\"text-sm text-green-800 mt-1\">\n                      Customer dan installation ticket sudah dibuat.\n                    </p>\n                  </div>\n\n                  <button\n                    onClick={() => navigate(`/customers/${registration.customer_id}`)}\n                    className=\"w-full btn btn-primary py-4 text-lg\"\n                  >\n                    <User className=\"h-6 w-6 mr-2\" />\n                    Lihat Customer Detail\n                  </button>\n                </div>\n              )}\n\n              {/* Rejected - No Actions */}\n              {registration.status === 'rejected' && (\n                <div className=\"text-center py-12\">\n                  <XCircle className=\"h-16 w-16 text-red-400 mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                    Registration {formatStatusText(registration.status)}\n                  </h3>\n                  <p className=\"text-gray-500\">Tidak ada tindakan yang tersedia</p>\n                  {registration.rejection_reason && (\n                    <div className=\"mt-4 bg-red-50 border border-red-200 rounded-lg p-4 max-w-2xl mx-auto\">\n                      <p className=\"text-sm font-medium text-red-900 mb-1\">Alasan:</p>\n                      <p className=\"text-red-800\">\"{registration.rejection_reason}\"</p>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Active Actions - Pending/Verified/Survey */}\n              {!['approved', 'customer_created', 'rejected'].includes(registration.status) && (\n                <div>\n                  {/* PENDING VERIFICATION */}\n                  {registration.status === 'pending_verification' && (\n                    <div className=\"space-y-4\">\n                      <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded\">\n                        <p className=\"text-sm font-medium text-yellow-900\">⏳ Pending Verification</p>\n                        <p className=\"text-sm text-yellow-700 mt-1\">\n                          Pendaftaran menunggu verifikasi data. Pilih tindakan di bawah ini.\n                        </p>\n                      </div>\n\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'verified'\n                            ? 'border-blue-500 text-blue-600 bg-blue-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"verified\"\n                            checked={actionType === 'verified'}\n                            onChange={() => setActionType('verified')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <UserCheck className={`h-5 w-5 mr-3 ${\n                                actionType === 'verified' ? 'text-blue-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'verified' ? 'text-blue-600' : 'text-gray-900'\n                                }`}>\n                                  Verifikasi Data\n                                </div>\n                                <div className=\"text-gray-500\">Data sudah diperiksa dan valid</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'verified' && (\n                            <div className=\"flex-shrink-0 text-blue-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'rejected'\n                            ? 'border-red-500 text-red-600 bg-red-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"rejected\"\n                            checked={actionType === 'rejected'}\n                            onChange={() => setActionType('rejected')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <XCircle className={`h-5 w-5 mr-3 ${\n                                actionType === 'rejected' ? 'text-red-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'rejected' ? 'text-red-600' : 'text-gray-900'\n                                }`}>\n                                  Tolak Pendaftaran\n                                </div>\n                                <div className=\"text-gray-500\">Data tidak valid atau tidak memenuhi syarat</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'rejected' && (\n                            <div className=\"flex-shrink-0 text-red-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* VERIFIED */}\n                  {registration.status === 'verified' && (\n                    <div className=\"space-y-4\">\n                      <div className=\"bg-blue-50 border-l-4 border-blue-400 p-4 rounded\">\n                        <p className=\"text-sm font-medium text-blue-900\">✅ Data Verified</p>\n                        <p className=\"text-sm text-blue-700 mt-1\">\n                          Data sudah diverifikasi. Pilih langkah selanjutnya.\n                        </p>\n                      </div>\n\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'approved'\n                            ? 'border-green-500 text-green-600 bg-green-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"approved\"\n                            checked={actionType === 'approved'}\n                            onChange={() => setActionType('approved')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <CheckCircle className={`h-5 w-5 mr-3 ${\n                                actionType === 'approved' ? 'text-green-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'approved' ? 'text-green-600' : 'text-gray-900'\n                                }`}>\n                                  Approve Langsung\n                                </div>\n                                <div className=\"text-gray-500\">Fast track: Skip survey</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'approved' && (\n                            <div className=\"flex-shrink-0 text-green-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'survey_scheduled'\n                            ? 'border-indigo-500 text-indigo-600 bg-indigo-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"survey_scheduled\"\n                            checked={actionType === 'survey_scheduled'}\n                            onChange={() => setActionType('survey_scheduled')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <Calendar className={`h-5 w-5 mr-3 ${\n                                actionType === 'survey_scheduled' ? 'text-indigo-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'survey_scheduled' ? 'text-indigo-600' : 'text-gray-900'\n                                }`}>\n                                  Schedule Survey\n                                </div>\n                                <div className=\"text-gray-500\">Perlu survey lokasi & coverage</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'survey_scheduled' && (\n                            <div className=\"flex-shrink-0 text-indigo-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'rejected'\n                            ? 'border-red-500 text-red-600 bg-red-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"rejected\"\n                            checked={actionType === 'rejected'}\n                            onChange={() => setActionType('rejected')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <XCircle className={`h-5 w-5 mr-3 ${\n                                actionType === 'rejected' ? 'text-red-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'rejected' ? 'text-red-600' : 'text-gray-900'\n                                }`}>\n                                  Reject Pendaftaran\n                                </div>\n                                <div className=\"text-gray-500\">Tidak ada coverage atau tidak layak</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'rejected' && (\n                            <div className=\"flex-shrink-0 text-red-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* SURVEY SCHEDULED */}\n                  {registration.status === 'survey_scheduled' && (\n                    <div className=\"space-y-4\">\n                      <div className=\"bg-indigo-50 border-l-4 border-indigo-400 p-4 rounded\">\n                        <p className=\"text-sm font-medium text-indigo-900\">📅 Survey Scheduled</p>\n                        <p className=\"text-sm text-indigo-700 mt-1\">\n                          Survey telah dijadwalkan pada {new Date(registration.survey_scheduled_date).toLocaleString('id-ID')}. \n                          Setelah survey dilakukan, update status di bawah ini.\n                        </p>\n                      </div>\n\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'survey_completed'\n                            ? 'border-purple-500 text-purple-600 bg-purple-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"survey_completed\"\n                            checked={actionType === 'survey_completed'}\n                            onChange={() => setActionType('survey_completed')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <ClipboardCheck className={`h-5 w-5 mr-3 ${\n                                actionType === 'survey_completed' ? 'text-purple-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'survey_completed' ? 'text-purple-600' : 'text-gray-900'\n                                }`}>\n                                  Survey Completed\n                                </div>\n                                <div className=\"text-gray-500\">Lokasi feasible untuk instalasi</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'survey_completed' && (\n                            <div className=\"flex-shrink-0 text-purple-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'rejected'\n                            ? 'border-red-500 text-red-600 bg-red-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"rejected\"\n                            checked={actionType === 'rejected'}\n                            onChange={() => setActionType('rejected')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <XCircle className={`h-5 w-5 mr-3 ${\n                                actionType === 'rejected' ? 'text-red-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'rejected' ? 'text-red-600' : 'text-gray-900'\n                                }`}>\n                                  Reject - Tidak Feasible\n                                </div>\n                                <div className=\"text-gray-500\">Lokasi tidak memungkinkan</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'rejected' && (\n                            <div className=\"flex-shrink-0 text-red-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* SURVEY COMPLETED */}\n                  {registration.status === 'survey_completed' && (\n                    <div className=\"space-y-4\">\n                      <div className=\"bg-green-50 border-l-4 border-green-400 p-4 rounded\">\n                        <p className=\"text-sm font-medium text-green-900\">✅ Survey Completed</p>\n                        <p className=\"text-sm text-green-700 mt-1\">\n                          Survey sudah selesai. Pilih tindakan selanjutnya di bawah ini.\n                        </p>\n                      </div>\n\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'approved'\n                            ? 'border-green-500 text-green-600 bg-green-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"approved\"\n                            checked={actionType === 'approved'}\n                            onChange={() => setActionType('approved')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <CheckCircle className={`h-5 w-5 mr-3 ${\n                                actionType === 'approved' ? 'text-green-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'approved' ? 'text-green-600' : 'text-gray-900'\n                                }`}>\n                                  Approve Pendaftaran\n                                </div>\n                                <div className=\"text-gray-500\">Lokasi feasible, siap create customer</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'approved' && (\n                            <div className=\"flex-shrink-0 text-green-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n\n                        <label className={`\n                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors\n                          ${actionType === 'rejected'\n                            ? 'border-red-500 text-red-600 bg-red-50'\n                            : 'border-gray-300 bg-white hover:bg-gray-50'\n                          }\n                        `}>\n                          <input\n                            type=\"radio\"\n                            name=\"action\"\n                            value=\"rejected\"\n                            checked={actionType === 'rejected'}\n                            onChange={() => setActionType('rejected')}\n                            className=\"sr-only\"\n                          />\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center\">\n                              <XCircle className={`h-5 w-5 mr-3 ${\n                                actionType === 'rejected' ? 'text-red-600' : 'text-gray-400'\n                              }`} />\n                              <div className=\"text-sm\">\n                                <div className={`font-medium ${\n                                  actionType === 'rejected' ? 'text-red-600' : 'text-gray-900'\n                                }`}>\n                                  Reject - Tidak Feasible\n                                </div>\n                                <div className=\"text-gray-500\">Lokasi tidak layak untuk instalasi</div>\n                              </div>\n                            </div>\n                          </div>\n                          {actionType === 'rejected' && (\n                            <div className=\"flex-shrink-0 text-red-600\">\n                              <CheckCircle className=\"h-5 w-5\" />\n                            </div>\n                          )}\n                        </label>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Form Fields */}\n                  {actionType && (\n                    <div className=\"space-y-6 mt-6\">\n                      {/* Rejection Reason */}\n                      {actionType === 'rejected' && (\n                        <div>\n                          <label className=\"form-label\">\n                            Alasan Penolakan <span className=\"text-red-500\">*</span>\n                          </label>\n                          <textarea\n                            value={rejectionReason}\n                            onChange={(e) => setRejectionReason(e.target.value)}\n                            rows={6}\n                            className=\"form-input\"\n                            placeholder=\"Jelaskan alasan penolakan dengan detail...\"\n                          />\n                          <p className=\"text-xs text-gray-500 mt-1\">\n                            Contoh: Lokasi tidak ada coverage ODP, jarak terlalu jauh, atau data tidak valid\n                          </p>\n                        </div>\n                      )}\n\n                      {/* Survey Date */}\n                      {actionType === 'survey_scheduled' && (\n                        <div>\n                          <label className=\"form-label\">\n                            Tanggal & Waktu Survey <span className=\"text-red-500\">*</span>\n                          </label>\n                          <input\n                            type=\"datetime-local\"\n                            value={surveyDate}\n                            onChange={(e) => setSurveyDate(e.target.value)}\n                            className=\"form-input\"\n                          />\n                        </div>\n                      )}\n\n                      {/* Survey Results */}\n                      {actionType === 'survey_completed' && (\n                        <div>\n                          <label className=\"form-label\">\n                            Hasil Survey <span className=\"text-red-500\">*</span>\n                          </label>\n                          <textarea\n                            value={surveyResults}\n                            onChange={(e) => setSurveyResults(e.target.value)}\n                            rows={8}\n                            className=\"form-input\"\n                            placeholder=\"Jelaskan hasil survey dengan detail...\"\n                          />\n                          <p className=\"text-xs text-gray-500 mt-1\">\n                            Informasi: Lokasi ODP, jarak ke customer, panjang kabel, hambatan, dan kesimpulan feasibility\n                          </p>\n                        </div>\n                      )}\n\n                      {/* Notes (Optional) */}\n                      {(actionType === 'verified' || actionType === 'approved' || actionType === 'survey_scheduled') && (\n                        <div>\n                          <label className=\"form-label\">Catatan (Opsional)</label>\n                          <textarea\n                            value={actionNotes}\n                            onChange={(e) => setActionNotes(e.target.value)}\n                            rows={3}\n                            className=\"form-input\"\n                            placeholder=\"Tambahkan catatan jika diperlukan...\"\n                          />\n                        </div>\n                      )}\n\n                      {/* Submit Buttons */}\n                      <div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\n                        <button\n                          onClick={() => {\n                            setActionType('')\n                            setRejectionReason('')\n                            setSurveyDate('')\n                            setSurveyResults('')\n                            setActionNotes('')\n                          }}\n                          className=\"btn-secondary\"\n                        >\n                          Batal\n                        </button>\n                        <button\n                          onClick={handleSubmitAction}\n                          disabled={\n                            updateStatusMutation.isLoading ||\n                            (actionType === 'rejected' && !rejectionReason) ||\n                            (actionType === 'survey_scheduled' && !surveyDate) ||\n                            (actionType === 'survey_completed' && !surveyResults)\n                          }\n                          className=\"btn-primary\"\n                        >\n                          {updateStatusMutation.isLoading ? (\n                            <>\n                              <span className=\"inline-block animate-spin mr-2\">⏳</span>\n                              Processing...\n                            </>\n                          ) : (\n                            'Konfirmasi'\n                          )}\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* TIMELINE TAB */}\n          {activeTab === 'timeline' && (\n            <div>\n              <h4 className=\"text-lg font-medium text-gray-900 mb-6\">Approval Timeline</h4>\n              \n              <div className=\"border-l-4 border-gray-200 pl-6 space-y-6\">\n                {/* Created */}\n                <div className=\"relative\">\n                  <div className=\"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-green-500 border-4 border-white shadow\"></div>\n                  <div>\n                    <p className=\"font-medium text-gray-900 flex items-center gap-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-600\" />\n                      Pendaftaran Dibuat\n                    </p>\n                    <p className=\"text-sm text-gray-500 mt-1\">\n                      {new Date(registration.created_at).toLocaleString('id-ID')}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Verified */}\n                {registration.verified_at && (\n                  <div className=\"relative\">\n                    <div className=\"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-blue-500 border-4 border-white shadow\"></div>\n                    <div>\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\n                        <UserCheck className=\"h-4 w-4 text-blue-600\" />\n                        Data Diverifikasi\n                      </p>\n                      <p className=\"text-sm text-gray-500 mt-1\">\n                        {new Date(registration.verified_at).toLocaleString('id-ID')}\n                      </p>\n                      {registration.verification_notes && (\n                        <div className=\"mt-2 bg-blue-50 rounded p-3 border-l-2 border-blue-400\">\n                          <p className=\"text-sm text-blue-900 italic\">\"{registration.verification_notes}\"</p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                {/* Survey Scheduled */}\n                {registration.survey_scheduled_date && (\n                  <div className=\"relative\">\n                    <div className=\"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-indigo-500 border-4 border-white shadow\"></div>\n                    <div>\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\n                        <Calendar className=\"h-4 w-4 text-indigo-600\" />\n                        Survey Dijadwalkan\n                      </p>\n                      <p className=\"text-sm text-gray-500 mt-1\">\n                        Scheduled for: {new Date(registration.survey_scheduled_date).toLocaleString('id-ID')}\n                      </p>\n                    </div>\n                  </div>\n                )}\n\n                {/* Survey Completed */}\n                {registration.survey_completed_date && (\n                  <div className=\"relative\">\n                    <div className=\"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-purple-500 border-4 border-white shadow\"></div>\n                    <div>\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\n                        <ClipboardCheck className=\"h-4 w-4 text-purple-600\" />\n                        Survey Selesai\n                      </p>\n                      <p className=\"text-sm text-gray-500 mt-1\">\n                        {new Date(registration.survey_completed_date).toLocaleString('id-ID')}\n                      </p>\n                      {registration.survey_notes && (\n                        <div className=\"mt-2 bg-purple-50 rounded p-3 border-l-2 border-purple-400\">\n                          <p className=\"text-sm font-medium text-purple-900 mb-1\">Hasil Survey:</p>\n                          <p className=\"text-sm text-purple-900 whitespace-pre-wrap\">\"{registration.survey_notes}\"</p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                {/* Approved */}\n                {registration.approved_at && (\n                  <div className=\"relative\">\n                    <div className=\"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-green-500 border-4 border-white shadow\"></div>\n                    <div>\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\n                        <CheckCircle className=\"h-4 w-4 text-green-600\" />\n                        Pendaftaran Disetujui\n                      </p>\n                      <p className=\"text-sm text-gray-500 mt-1\">\n                        {new Date(registration.approved_at).toLocaleString('id-ID')}\n                      </p>\n                      {registration.approval_notes && (\n                        <div className=\"mt-2 bg-green-50 rounded p-3 border-l-2 border-green-400\">\n                          <p className=\"text-sm text-green-900 italic\">\"{registration.approval_notes}\"</p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                {/* Rejected */}\n                {registration.rejection_reason && (\n                  <div className=\"relative\">\n                    <div className=\"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-red-500 border-4 border-white shadow\"></div>\n                    <div>\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\n                        <XCircle className=\"h-4 w-4 text-red-600\" />\n                        Pendaftaran Ditolak\n                      </p>\n                      <div className=\"mt-2 bg-red-50 rounded p-3 border-l-2 border-red-400\">\n                        <p className=\"text-sm font-medium text-red-900 mb-1\">Alasan:</p>\n                        <p className=\"text-sm text-red-800\">\"{registration.rejection_reason}\"</p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Customer Created */}\n                {registration.customer_id && (\n                  <div className=\"relative\">\n                    <div className=\"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-purple-500 border-4 border-white shadow\"></div>\n                    <div>\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\n                        <Home className=\"h-4 w-4 text-purple-600\" />\n                        Customer Created\n                      </p>\n                      <p className=\"text-sm text-gray-500 mt-1\">\n                        Customer ID: {registration.customer_id}\n                      </p>\n                      <button\n                        onClick={() => navigate(`/customers/${registration.customer_id}`)}\n                        className=\"mt-2 text-sm text-blue-600 hover:text-blue-800 hover:underline\"\n                      >\n                        → View Customer Detail\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Create Customer Confirmation Modal */}\n      <ConfirmationModal\n        isOpen={showCreateCustomerModal}\n        onClose={() => setShowCreateCustomerModal(false)}\n        onConfirm={confirmCreateCustomer}\n        title=\"🏠 Buat Customer & Ticket Instalasi\"\n        message={registration ? `Apakah Anda yakin ingin membuat customer dan ticket instalasi untuk \"${registration.full_name}\"?` : ''}\n        confirmText=\"Ya, Buat Customer\"\n        cancelText=\"Batal\"\n        type=\"success\"\n        isLoading={createCustomerMutation.isLoading}\n      >\n        {registration && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2\">\n            <div className=\"text-sm space-y-1\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Nama:</span>\n                <span className=\"font-medium text-gray-900\">{registration.full_name}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">No. HP:</span>\n                <span className=\"font-medium text-gray-900\">{registration.phone || '-'}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Paket:</span>\n                <span className=\"font-medium text-gray-900\">{selectedPackage?.name || '-'}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Harga:</span>\n                <span className=\"font-medium text-gray-900\">\n                  Rp {new Intl.NumberFormat('id-ID').format(selectedPackage?.price || 0)}/bulan\n                </span>\n              </div>\n            </div>\n            <div className=\"mt-3 pt-3 border-t border-blue-200\">\n              <p className=\"text-xs text-gray-600\">\n                ✅ Customer baru akan dibuat di sistem<br/>\n                🎫 Ticket instalasi akan otomatis dibuatkan<br/>\n                📧 Notifikasi akan dikirim ke teknisi<br/>\n                🔗 Status registrasi akan di-update\n              </p>\n            </div>\n          </div>\n        )}\n      </ConfirmationModal>\n\n      {/* Quick Verify Confirmation Modal */}\n      <ConfirmationModal\n        isOpen={showVerifyModal}\n        onClose={() => setShowVerifyModal(false)}\n        onConfirm={confirmQuickVerify}\n        title=\"✅ Verifikasi Data Registrasi\"\n        message={registration ? `Verifikasi data pendaftaran dari \"${registration.full_name}\"?` : ''}\n        confirmText=\"Ya, Verifikasi\"\n        cancelText=\"Batal\"\n        type=\"info\"\n      >\n        {registration && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2\">\n            <p className=\"text-sm text-gray-700\">\n              ✅ Status akan berubah menjadi <span className=\"font-semibold text-blue-900\">\"Verified\"</span><br/>\n              📋 Data sudah diperiksa dan valid<br/>\n              ⏭️ Registrasi siap untuk diproses lebih lanjut\n            </p>\n          </div>\n        )}\n      </ConfirmationModal>\n\n      {/* Quick Approve Confirmation Modal */}\n      <ConfirmationModal\n        isOpen={showApproveModal}\n        onClose={() => setShowApproveModal(false)}\n        onConfirm={confirmQuickApprove}\n        title=\"✅ Approve Registrasi\"\n        message={registration ? `Setujui pendaftaran dari \"${registration.full_name}\"?` : ''}\n        confirmText=\"Ya, Approve\"\n        cancelText=\"Batal\"\n        type=\"success\"\n      >\n        {registration && (\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-3 mt-2\">\n            <p className=\"text-sm text-gray-700\">\n              ✅ Status akan berubah menjadi <span className=\"font-semibold text-green-900\">\"Approved\"</span><br/>\n              🎉 Pendaftaran disetujui<br/>\n              ⏭️ Siap untuk dibuat customer & ticket instalasi\n            </p>\n          </div>\n        )}\n      </ConfirmationModal>\n\n      {/* Quick Schedule Survey Modal */}\n      <ConfirmationModal\n        isOpen={showScheduleSurveyModal}\n        onClose={() => setShowScheduleSurveyModal(false)}\n        onConfirm={confirmQuickScheduleSurvey}\n        title=\"📅 Jadwalkan Survey\"\n        message={registration ? `Jadwalkan survey untuk \"${registration.full_name}\"` : ''}\n        confirmText=\"Ya, Jadwalkan\"\n        cancelText=\"Batal\"\n        type=\"warning\"\n      >\n        {registration && (\n          <div className=\"mt-3\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Tanggal Survey *\n            </label>\n            <input\n              type=\"date\"\n              value={surveyDateInput}\n              onChange={(e) => setSurveyDateInput(e.target.value)}\n              min={new Date().toISOString().split('T')[0]}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n            />\n            <p className=\"mt-2 text-xs text-gray-600\">\n              📅 Status akan berubah menjadi <span className=\"font-semibold\">\"Survey Scheduled\"</span>\n            </p>\n          </div>\n        )}\n      </ConfirmationModal>\n\n      {/* Quick Reject Modal */}\n      <ConfirmationModal\n        isOpen={showRejectModal}\n        onClose={() => {\n          setShowRejectModal(false)\n          setRejectReasonInput('')\n        }}\n        onConfirm={confirmQuickReject}\n        title=\"❌ Reject Registrasi\"\n        message={registration ? `Tolak pendaftaran dari \"${registration.full_name}\"?` : ''}\n        confirmText=\"Ya, Reject\"\n        cancelText=\"Batal\"\n        type=\"danger\"\n      >\n        {registration && (\n          <div className=\"mt-3\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Alasan Reject *\n            </label>\n            <textarea\n              value={rejectReason}\n              onChange={(e) => setRejectReasonInput(e.target.value)}\n              rows={3}\n              placeholder=\"Tuliskan alasan reject...\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none\"\n            />\n            <p className=\"mt-2 text-xs text-gray-600\">\n              ❌ Status akan berubah menjadi <span className=\"font-semibold\">\"Rejected\"</span>\n            </p>\n          </div>\n        )}\n      </ConfirmationModal>\n    </div>\n  )\n}\n\nexport default RegistrationDetailPage\n"],"names":["RegistrationDetailPage","id","useParams","navigate","useNavigate","queryClient","useQueryClient","user","useAuth","activeTab","setActiveTab","useState","actionType","setActionType","rejectionReason","setRejectionReason","surveyDate","setSurveyDate","surveyResults","setSurveyResults","actionNotes","setActionNotes","showCreateCustomerModal","setShowCreateCustomerModal","showVerifyModal","setShowVerifyModal","showRejectModal","setShowRejectModal","rejectReason","setRejectReasonInput","showApproveModal","setShowApproveModal","showScheduleSurveyModal","setShowScheduleSurveyModal","surveyDateInput","setSurveyDateInput","registrationData","isLoading","error","useQuery","registrationService","packagesData","packageService","registration","selectedPackage","_a","pkg","isAdmin","isSupervisor","isCustomerService","canVerify","canReject","canApprove","canCreateCustomer","useEffect","updateStatusMutation","useMutation","data","toast","createCustomerMutation","regId","handleSubmitAction","handleCreateCustomer","confirmCreateCustomer","handleQuickVerify","confirmQuickVerify","__async","handleQuickReject","confirmQuickReject","handleQuickApprove","confirmQuickApprove","handleQuickScheduleSurvey","confirmQuickScheduleSurvey","formatStatusText","status","word","getStatusBadge","statusConfig","Clock","CheckCircle","Calendar","ClipboardCheck","UserCheck","Home","XCircle","config","Icon","jsx","formatCurrency","amount","formatDate","dateString","LoadingSpinner","jsxs","AlertCircle","BackButton","tabs","FileText","Settings","User","Phone","Mail","Package","tab","MapPin","e","Fragment","ConfirmationModal"],"mappings":"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"}