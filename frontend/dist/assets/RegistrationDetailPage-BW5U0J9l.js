var N=(x,y,r)=>new Promise((u,j)=>{var w=m=>{try{n(r.next(m))}catch(v){j(v)}},a=m=>{try{n(r.throw(m))}catch(v){j(v)}},n=m=>m.done?u(m.value):Promise.resolve(m.value).then(w,a);n((r=r.apply(x,y)).next())});import{j as e,C as f}from"./notifications-DovgEgck.js";import{e as Ae,u as Qe,r as o}from"./react-vendor-BQ7pSkNi.js";import{a as Pe,b as te,u as re}from"./react-query-B7OIdD7u.js";import{r as b}from"./registrationService-C820pf1k.js";import{u as Ie,L as Le,B as ie,p as Be}from"./customers-CrLrHLij.js";import{a as Me,U,p as le,m as de,C as i,r as ne,g as p,ao as Q,aQ as P,b as g,F as W,t as Ve,q as Fe,aP as Y,N as Oe,z as d}from"./ui-vendor-DNUUwVb4.js";import"./charts-CREYXqqm.js";import"./socket-BFcXWKeu.js";import"./forms-Dmkgx8TD.js";const Xe=()=>{var ae;const{id:x}=Ae(),y=Qe(),r=Pe(),{user:u}=Ie(),[j,w]=o.useState("details"),[a,n]=o.useState(""),[m,v]=o.useState(""),[k,I]=o.useState(""),[_,L]=o.useState(""),[z,B]=o.useState(""),[ce,M]=o.useState(!1),[oe,V]=o.useState(!1),[me,F]=o.useState(!1),[S,C]=o.useState(""),[xe,O]=o.useState(!1),[ue,E]=o.useState(!1),[D,q]=o.useState(new Date().toISOString().split("T")[0]),{data:H,isLoading:he,error:pe}=te(["registration",x],()=>b.getById(x),{enabled:!!x,staleTime:3e4}),{data:K}=te("packages",Be.getAll,{refetchOnWindowFocus:!1}),s=H==null?void 0:H.data,l=(ae=K==null?void 0:K.data)==null?void 0:ae.find(t=>t.id===(s==null?void 0:s.package_id)),R=(u==null?void 0:u.role)==="admin",T=(u==null?void 0:u.role)==="supervisor",$=(u==null?void 0:u.role)==="customer_service",G=R||T||$,ge=R||T||$,je=R||T||$,ve=R||T||$;o.useEffect(()=>{s&&["verified","survey_scheduled","survey_completed"].includes(s.status)&&w("actions")},[s]);const J=re(({id:t,data:c})=>b.updateStatus(t,c),{onSuccess:()=>{d.success("Status berhasil diupdate"),r.invalidateQueries(["registration",x]),r.invalidateQueries("registrations"),n(""),v(""),I(""),L(""),B("")},onError:t=>{var c,h;d.error(((h=(c=t.response)==null?void 0:c.data)==null?void 0:h.message)||"Gagal update status")}}),A=re(t=>b.createCustomer(t),{onSuccess:t=>{d.success("Customer dan ticket instalasi berhasil dibuat!"),r.invalidateQueries(["registration",x]),r.invalidateQueries("registrations"),r.invalidateQueries("customers"),r.invalidateQueries("tickets")},onError:t=>{var c,h;console.error("❌ CREATE CUSTOMER ERROR:",t),d.error(((h=(c=t.response)==null?void 0:c.data)==null?void 0:h.message)||"Gagal membuat customer")}}),be=()=>{if(!s)return;let t={status:a,notes:z};if(a==="rejected"){if(!m.trim()){d.error("Alasan penolakan wajib diisi");return}t.rejection_reason=m}if(a==="survey_scheduled"){if(!k){d.error("Tanggal survey wajib diisi");return}t.survey_scheduled_date=k}if(a==="survey_completed"){if(!_.trim()){d.error("Hasil survey wajib diisi");return}t.survey_notes=_,t.survey_result="feasible"}J.mutate({id:s.id,data:t})},X=()=>{M(!0)},Ne=()=>{A.mutate(s.id),M(!1)},fe=()=>{V(!0)},ye=()=>N(void 0,null,function*(){try{yield b.updateStatus(s.id,{status:"verified",notes:"Quick verified via detail page"}),d.success(`✅ Registration ${s.registration_number} verified`),r.invalidateQueries(["registration",x]),r.invalidateQueries("registrations"),V(!1)}catch(t){d.error("❌ Failed to verify registration"),console.error("Quick verify error:",t)}}),we=()=>{C(""),F(!0)},ke=()=>N(void 0,null,function*(){if(!S.trim()){d.error("⚠️ Alasan reject wajib diisi");return}try{yield b.updateStatus(s.id,{status:"rejected",rejection_reason:S,notes:S}),d.success(`✅ Registration ${s.registration_number} rejected`),r.invalidateQueries(["registration",x]),r.invalidateQueries("registrations"),F(!1),C("")}catch(t){d.error("❌ Failed to reject registration"),console.error("Quick reject error:",t)}}),_e=()=>{O(!0)},Se=()=>N(void 0,null,function*(){try{yield b.updateStatus(s.id,{status:"approved",notes:"Quick approved via detail page"}),d.success(`✅ Registration ${s.registration_number} approved`),r.invalidateQueries(["registration",x]),r.invalidateQueries("registrations"),O(!1)}catch(t){d.error("❌ Failed to approve registration"),console.error("Quick approve error:",t)}}),Ce=()=>{q(new Date().toISOString().split("T")[0]),E(!0)},De=()=>N(void 0,null,function*(){if(!D){d.error("Tanggal survey wajib diisi");return}try{yield b.updateStatus(s.id,{status:"survey_scheduled",survey_date:D,notes:`Survey scheduled for ${D}`}),d.success(`✅ Survey scheduled for ${s.registration_number}`),r.invalidateQueries(["registration",x]),r.invalidateQueries("registrations"),E(!1)}catch(t){d.error("❌ Failed to schedule survey"),console.error("Quick schedule survey error:",t)}}),Z=t=>t?t.replace(/_/g," ").split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "):"-",Re=t=>{const c={pending_verification:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Oe},verified:{color:"bg-blue-100 text-blue-800 border-blue-300",icon:i},survey_scheduled:{color:"bg-indigo-100 text-indigo-800 border-indigo-300",icon:p},survey_completed:{color:"bg-purple-100 text-purple-800 border-purple-300",icon:Y},approved:{color:"bg-green-100 text-green-800 border-green-300",icon:Q},customer_created:{color:"bg-emerald-100 text-emerald-800 border-emerald-300",icon:P},rejected:{color:"bg-red-100 text-red-800 border-red-300",icon:g}},h=c[t]||c.pending_verification,$e=h.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium border ${h.color}`,children:[e.jsx($e,{className:"h-4 w-4"}),Z(t)]})},ee=t=>t?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t):"-",se=t=>t?new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-";if(he)return e.jsx("div",{className:"flex justify-center items-center min-h-96",children:e.jsx(Le,{})});if(pe||!s)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx(Me,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Registration Not Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Pendaftaran tidak ditemukan"}),e.jsx(ie,{to:"/registrations",label:"Back to Registrations"})]});const Te=[{id:"details",label:"Details",icon:W},{id:"actions",label:"Actions",icon:Ve},{id:"timeline",label:"Timeline",icon:p}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ie,{to:"/registrations",label:"Back to Registrations"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[s.registration_number," - ",s.full_name]}),e.jsx("p",{className:"text-gray-600",children:"Pendaftaran Customer Baru"})]})]}),e.jsx("div",{children:Re(s.status)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"h-8 w-8 text-blue-600 bg-blue-100 rounded-lg p-2 mr-3"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 truncate",children:s.full_name}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(le,{className:"h-3 w-3"}),s.phone]})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"h-8 w-8 text-green-600 bg-green-100 rounded-lg p-2 mr-3"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Email"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:s.email}),s.whatsapp_verified&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(i,{className:"h-3 w-3"}),"WhatsApp Verified"]})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{className:"h-8 w-8 text-purple-600 bg-purple-100 rounded-lg p-2 mr-3"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Package"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 truncate",children:(l==null?void 0:l.name)||"Loading..."}),e.jsx("p",{className:"text-xs text-gray-500",children:l?ee(l.price)+"/bln":"-"})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-8 w-8 text-orange-600 bg-orange-100 rounded-lg p-2 mr-3"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Created"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:se(s.created_at)}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]})})})]}),!["customer_created","rejected","cancelled"].includes(s.status)&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quick Actions:"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[G&&s.status==="pending_verification"&&e.jsxs("button",{onClick:fe,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[e.jsx(Q,{className:"h-4 w-4"}),"Quick Verify"]}),je&&s.status==="verified"&&e.jsxs("button",{onClick:_e,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[e.jsx(i,{className:"h-4 w-4"}),"Quick Approve"]}),G&&s.status==="verified"&&e.jsxs("button",{onClick:Ce,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[e.jsx(p,{className:"h-4 w-4"}),"Schedule Survey"]}),ve&&s.status==="approved"&&!s.customer_id&&e.jsxs("button",{onClick:X,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[e.jsx(P,{className:"h-4 w-4"}),"Create Customer"]}),ge&&!["customer_created","rejected","cancelled"].includes(s.status)&&e.jsxs("button",{onClick:we,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[e.jsx(g,{className:"h-4 w-4"}),"Quick Reject"]})]})]})}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:Te.map(t=>{const c=t.icon;return e.jsxs("button",{onClick:()=>w(t.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${j===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),t.label]},t.id)})})}),e.jsxs("div",{className:"card-body",children:[j==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Pribadi"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(U,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Nama Lengkap"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.full_name})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(de,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.email})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(le,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.phone}),s.whatsapp_verified&&e.jsx(i,{className:"h-4 w-4 text-green-500",title:"Verified"})]})]})]}),s.id_card_number&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(W,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Nomor KTP"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.id_card_number})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alamat"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fe,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Alamat Lengkap"}),e.jsx("p",{className:"text-gray-900",children:s.address})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pl-8",children:[s.rt&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"RT"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.rt})]}),s.rw&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"RW"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.rw})]}),s.kelurahan&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Kelurahan"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.kelurahan})]}),s.kecamatan&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Kecamatan"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.kecamatan})]}),s.city&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Kota"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.city})]}),s.postal_code&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Kode Pos"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.postal_code})]})]}),s.address_notes&&e.jsxs("div",{className:"pl-8 pt-2 border-t",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Catatan Alamat"}),e.jsx("p",{className:"text-sm text-gray-700 italic",children:s.address_notes})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Paket"}),l?e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(ne,{className:"h-10 w-10 text-blue-600 bg-white rounded-lg p-2 shadow-sm"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-semibold text-gray-900",children:l.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.description}),e.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Kecepatan"}),e.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[l.speed_mbps," Mbps"]})]}),e.jsx("div",{className:"h-8 w-px bg-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Harga Bulanan"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:ee(l.price)})]}),e.jsx("div",{className:"h-8 w-px bg-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tipe"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:l.type})]})]})]})]})}),s.preferred_installation_date&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 flex items-start gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Preferensi Instalasi"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[se(s.preferred_installation_date),s.preferred_time_slot&&e.jsxs("span",{className:"ml-2 text-gray-600",children:["(",s.preferred_time_slot==="morning"?"Pagi":s.preferred_time_slot==="afternoon"?"Siang":"Sore",")"]})]})]})]}),s.notes&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Catatan Customer"}),e.jsxs("p",{className:"text-gray-900 italic",children:['"',s.notes,'"']})]})]}):e.jsx("p",{className:"text-gray-500 text-sm",children:"Paket tidak ditemukan"})]}),(s.survey_scheduled_date||s.survey_notes)&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Survey"}),e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 border border-indigo-200",children:[s.survey_scheduled_date&&e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx(p,{className:"h-5 w-5 text-indigo-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tanggal Survey"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(s.survey_scheduled_date).toLocaleString("id-ID")})]})]}),s.survey_notes&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(W,{className:"h-5 w-5 text-indigo-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Hasil Survey"}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:s.survey_notes})]})]})]})]})]}),j==="actions"&&e.jsxs("div",{className:"space-y-6",children:[s.status==="approved"&&!s.customer_id&&e.jsxs("div",{children:[e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded mb-6",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"🎉 Registration Approved!"}),e.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"Pendaftaran sudah disetujui. Klik tombol di bawah untuk membuat data customer dan ticket instalasi."})]}),e.jsxs("button",{onClick:X,disabled:A.isLoading,className:"w-full px-6 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors inline-flex items-center justify-center gap-2 text-lg font-medium",children:[e.jsx(P,{className:"h-6 w-6"}),A.isLoading?"Creating Customer...":"Buat Customer & Ticket Instalasi"]})]}),s.customer_id&&e.jsxs("div",{children:[e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded mb-6",children:[e.jsx("p",{className:"font-medium text-green-900",children:"✅ Customer Sudah Dibuat!"}),e.jsx("p",{className:"text-sm text-green-800 mt-1",children:"Customer dan installation ticket sudah dibuat."})]}),e.jsxs("button",{onClick:()=>y(`/customers/${s.customer_id}`),className:"w-full btn btn-primary py-4 text-lg",children:[e.jsx(U,{className:"h-6 w-6 mr-2"}),"Lihat Customer Detail"]})]}),s.status==="rejected"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Registration ",Z(s.status)]}),e.jsx("p",{className:"text-gray-500",children:"Tidak ada tindakan yang tersedia"}),s.rejection_reason&&e.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4 max-w-2xl mx-auto",children:[e.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Alasan:"}),e.jsxs("p",{className:"text-red-800",children:['"',s.rejection_reason,'"']})]})]}),!["approved","customer_created","rejected"].includes(s.status)&&e.jsxs("div",{children:[s.status==="pending_verification"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"⏳ Pending Verification"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Pendaftaran menunggu verifikasi data. Pilih tindakan di bawah ini."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="verified"?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"verified",checked:a==="verified",onChange:()=>n("verified"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:`h-5 w-5 mr-3 ${a==="verified"?"text-blue-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="verified"?"text-blue-600":"text-gray-900"}`,children:"Verifikasi Data"}),e.jsx("div",{className:"text-gray-500",children:"Data sudah diperiksa dan valid"})]})]})}),a==="verified"&&e.jsx("div",{className:"flex-shrink-0 text-blue-600",children:e.jsx(i,{className:"h-5 w-5"})})]}),e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"rejected",checked:a==="rejected",onChange:()=>n("rejected"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:`h-5 w-5 mr-3 ${a==="rejected"?"text-red-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="rejected"?"text-red-600":"text-gray-900"}`,children:"Tolak Pendaftaran"}),e.jsx("div",{className:"text-gray-500",children:"Data tidak valid atau tidak memenuhi syarat"})]})]})}),a==="rejected"&&e.jsx("div",{className:"flex-shrink-0 text-red-600",children:e.jsx(i,{className:"h-5 w-5"})})]})]})]}),s.status==="verified"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"✅ Data Verified"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Data sudah diverifikasi. Pilih langkah selanjutnya."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="approved"?"border-green-500 text-green-600 bg-green-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"approved",checked:a==="approved",onChange:()=>n("approved"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:`h-5 w-5 mr-3 ${a==="approved"?"text-green-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="approved"?"text-green-600":"text-gray-900"}`,children:"Approve Langsung"}),e.jsx("div",{className:"text-gray-500",children:"Fast track: Skip survey"})]})]})}),a==="approved"&&e.jsx("div",{className:"flex-shrink-0 text-green-600",children:e.jsx(i,{className:"h-5 w-5"})})]}),e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="survey_scheduled"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"survey_scheduled",checked:a==="survey_scheduled",onChange:()=>n("survey_scheduled"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:`h-5 w-5 mr-3 ${a==="survey_scheduled"?"text-indigo-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="survey_scheduled"?"text-indigo-600":"text-gray-900"}`,children:"Schedule Survey"}),e.jsx("div",{className:"text-gray-500",children:"Perlu survey lokasi & coverage"})]})]})}),a==="survey_scheduled"&&e.jsx("div",{className:"flex-shrink-0 text-indigo-600",children:e.jsx(i,{className:"h-5 w-5"})})]}),e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"rejected",checked:a==="rejected",onChange:()=>n("rejected"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:`h-5 w-5 mr-3 ${a==="rejected"?"text-red-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject Pendaftaran"}),e.jsx("div",{className:"text-gray-500",children:"Tidak ada coverage atau tidak layak"})]})]})}),a==="rejected"&&e.jsx("div",{className:"flex-shrink-0 text-red-600",children:e.jsx(i,{className:"h-5 w-5"})})]})]})]}),s.status==="survey_scheduled"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-4 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"📅 Survey Scheduled"}),e.jsxs("p",{className:"text-sm text-indigo-700 mt-1",children:["Survey telah dijadwalkan pada ",new Date(s.survey_scheduled_date).toLocaleString("id-ID"),". Setelah survey dilakukan, update status di bawah ini."]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="survey_completed"?"border-purple-500 text-purple-600 bg-purple-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"survey_completed",checked:a==="survey_completed",onChange:()=>n("survey_completed"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:`h-5 w-5 mr-3 ${a==="survey_completed"?"text-purple-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="survey_completed"?"text-purple-600":"text-gray-900"}`,children:"Survey Completed"}),e.jsx("div",{className:"text-gray-500",children:"Lokasi feasible untuk instalasi"})]})]})}),a==="survey_completed"&&e.jsx("div",{className:"flex-shrink-0 text-purple-600",children:e.jsx(i,{className:"h-5 w-5"})})]}),e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"rejected",checked:a==="rejected",onChange:()=>n("rejected"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:`h-5 w-5 mr-3 ${a==="rejected"?"text-red-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject - Tidak Feasible"}),e.jsx("div",{className:"text-gray-500",children:"Lokasi tidak memungkinkan"})]})]})}),a==="rejected"&&e.jsx("div",{className:"flex-shrink-0 text-red-600",children:e.jsx(i,{className:"h-5 w-5"})})]})]})]}),s.status==="survey_completed"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"✅ Survey Completed"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Survey sudah selesai. Pilih tindakan selanjutnya di bawah ini."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="approved"?"border-green-500 text-green-600 bg-green-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"approved",checked:a==="approved",onChange:()=>n("approved"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:`h-5 w-5 mr-3 ${a==="approved"?"text-green-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="approved"?"text-green-600":"text-gray-900"}`,children:"Approve Pendaftaran"}),e.jsx("div",{className:"text-gray-500",children:"Lokasi feasible, siap create customer"})]})]})}),a==="approved"&&e.jsx("div",{className:"flex-shrink-0 text-green-600",children:e.jsx(i,{className:"h-5 w-5"})})]}),e.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${a==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[e.jsx("input",{type:"radio",name:"action",value:"rejected",checked:a==="rejected",onChange:()=>n("rejected"),className:"sr-only"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:`h-5 w-5 mr-3 ${a==="rejected"?"text-red-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:`font-medium ${a==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject - Tidak Feasible"}),e.jsx("div",{className:"text-gray-500",children:"Lokasi tidak layak untuk instalasi"})]})]})}),a==="rejected"&&e.jsx("div",{className:"flex-shrink-0 text-red-600",children:e.jsx(i,{className:"h-5 w-5"})})]})]})]}),a&&e.jsxs("div",{className:"space-y-6 mt-6",children:[a==="rejected"&&e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Alasan Penolakan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:m,onChange:t=>v(t.target.value),rows:6,className:"form-input",placeholder:"Jelaskan alasan penolakan dengan detail..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contoh: Lokasi tidak ada coverage ODP, jarak terlalu jauh, atau data tidak valid"})]}),a==="survey_scheduled"&&e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Tanggal & Waktu Survey ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"datetime-local",value:k,onChange:t=>I(t.target.value),className:"form-input"})]}),a==="survey_completed"&&e.jsxs("div",{children:[e.jsxs("label",{className:"form-label",children:["Hasil Survey ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:_,onChange:t=>L(t.target.value),rows:8,className:"form-input",placeholder:"Jelaskan hasil survey dengan detail..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Informasi: Lokasi ODP, jarak ke customer, panjang kabel, hambatan, dan kesimpulan feasibility"})]}),(a==="verified"||a==="approved"||a==="survey_scheduled")&&e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Catatan (Opsional)"}),e.jsx("textarea",{value:z,onChange:t=>B(t.target.value),rows:3,className:"form-input",placeholder:"Tambahkan catatan jika diperlukan..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{n(""),v(""),I(""),L(""),B("")},className:"btn-secondary",children:"Batal"}),e.jsx("button",{onClick:be,disabled:J.isLoading||a==="rejected"&&!m||a==="survey_scheduled"&&!k||a==="survey_completed"&&!_,className:"btn-primary",children:J.isLoading?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block animate-spin mr-2",children:"⏳"}),"Processing..."]}):"Konfirmasi"})]})]})]})]}),j==="timeline"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-6",children:"Approval Timeline"}),e.jsxs("div",{className:"border-l-4 border-gray-200 pl-6 space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-green-500 border-4 border-white shadow"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(i,{className:"h-4 w-4 text-green-600"}),"Pendaftaran Dibuat"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(s.created_at).toLocaleString("id-ID")})]})]}),s.verified_at&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-blue-500 border-4 border-white shadow"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-blue-600"}),"Data Diverifikasi"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(s.verified_at).toLocaleString("id-ID")}),s.verification_notes&&e.jsx("div",{className:"mt-2 bg-blue-50 rounded p-3 border-l-2 border-blue-400",children:e.jsxs("p",{className:"text-sm text-blue-900 italic",children:['"',s.verification_notes,'"']})})]})]}),s.survey_scheduled_date&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-indigo-500 border-4 border-white shadow"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-indigo-600"}),"Survey Dijadwalkan"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Scheduled for: ",new Date(s.survey_scheduled_date).toLocaleString("id-ID")]})]})]}),s.survey_completed_date&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-purple-500 border-4 border-white shadow"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-purple-600"}),"Survey Selesai"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(s.survey_completed_date).toLocaleString("id-ID")}),s.survey_notes&&e.jsxs("div",{className:"mt-2 bg-purple-50 rounded p-3 border-l-2 border-purple-400",children:[e.jsx("p",{className:"text-sm font-medium text-purple-900 mb-1",children:"Hasil Survey:"}),e.jsxs("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:['"',s.survey_notes,'"']})]})]})]}),s.approved_at&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-green-500 border-4 border-white shadow"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(i,{className:"h-4 w-4 text-green-600"}),"Pendaftaran Disetujui"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(s.approved_at).toLocaleString("id-ID")}),s.approval_notes&&e.jsx("div",{className:"mt-2 bg-green-50 rounded p-3 border-l-2 border-green-400",children:e.jsxs("p",{className:"text-sm text-green-900 italic",children:['"',s.approval_notes,'"']})})]})]}),s.rejection_reason&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-red-500 border-4 border-white shadow"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4 text-red-600"}),"Pendaftaran Ditolak"]}),e.jsxs("div",{className:"mt-2 bg-red-50 rounded p-3 border-l-2 border-red-400",children:[e.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Alasan:"}),e.jsxs("p",{className:"text-sm text-red-800",children:['"',s.rejection_reason,'"']})]})]})]}),s.customer_id&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-purple-500 border-4 border-white shadow"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-purple-600"}),"Customer Created"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Customer ID: ",s.customer_id]}),e.jsx("button",{onClick:()=>y(`/customers/${s.customer_id}`),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"→ View Customer Detail"})]})]})]})]})]})]}),e.jsx(f,{isOpen:ce,onClose:()=>M(!1),onConfirm:Ne,title:"🏠 Buat Customer & Ticket Instalasi",message:s?`Apakah Anda yakin ingin membuat customer dan ticket instalasi untuk "${s.full_name}"?`:"",confirmText:"Ya, Buat Customer",cancelText:"Batal",type:"success",isLoading:A.isLoading,children:s&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:[e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Nama:"}),e.jsx("span",{className:"font-medium text-gray-900",children:s.full_name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"No. HP:"}),e.jsx("span",{className:"font-medium text-gray-900",children:s.phone||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Paket:"}),e.jsx("span",{className:"font-medium text-gray-900",children:(l==null?void 0:l.name)||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Harga:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["Rp ",new Intl.NumberFormat("id-ID").format((l==null?void 0:l.price)||0),"/bulan"]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["✅ Customer baru akan dibuat di sistem",e.jsx("br",{}),"🎫 Ticket instalasi akan otomatis dibuatkan",e.jsx("br",{}),"📧 Notifikasi akan dikirim ke teknisi",e.jsx("br",{}),"🔗 Status registrasi akan di-update"]})})]})}),e.jsx(f,{isOpen:oe,onClose:()=>V(!1),onConfirm:ye,title:"✅ Verifikasi Data Registrasi",message:s?`Verifikasi data pendaftaran dari "${s.full_name}"?`:"",confirmText:"Ya, Verifikasi",cancelText:"Batal",type:"info",children:s&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["✅ Status akan berubah menjadi ",e.jsx("span",{className:"font-semibold text-blue-900",children:'"Verified"'}),e.jsx("br",{}),"📋 Data sudah diperiksa dan valid",e.jsx("br",{}),"⏭️ Registrasi siap untuk diproses lebih lanjut"]})})}),e.jsx(f,{isOpen:xe,onClose:()=>O(!1),onConfirm:Se,title:"✅ Approve Registrasi",message:s?`Setujui pendaftaran dari "${s.full_name}"?`:"",confirmText:"Ya, Approve",cancelText:"Batal",type:"success",children:s&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["✅ Status akan berubah menjadi ",e.jsx("span",{className:"font-semibold text-green-900",children:'"Approved"'}),e.jsx("br",{}),"🎉 Pendaftaran disetujui",e.jsx("br",{}),"⏭️ Siap untuk dibuat customer & ticket instalasi"]})})}),e.jsx(f,{isOpen:ue,onClose:()=>E(!1),onConfirm:De,title:"📅 Jadwalkan Survey",message:s?`Jadwalkan survey untuk "${s.full_name}"`:"",confirmText:"Ya, Jadwalkan",cancelText:"Batal",type:"warning",children:s&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Survey *"}),e.jsx("input",{type:"date",value:D,onChange:t=>q(t.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),e.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["📅 Status akan berubah menjadi ",e.jsx("span",{className:"font-semibold",children:'"Survey Scheduled"'})]})]})}),e.jsx(f,{isOpen:me,onClose:()=>{F(!1),C("")},onConfirm:ke,title:"❌ Reject Registrasi",message:s?`Tolak pendaftaran dari "${s.full_name}"?`:"",confirmText:"Ya, Reject",cancelText:"Batal",type:"danger",children:s&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alasan Reject *"}),e.jsx("textarea",{value:S,onChange:t=>C(t.target.value),rows:3,placeholder:"Tuliskan alasan reject...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none"}),e.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["❌ Status akan berubah menjadi ",e.jsx("span",{className:"font-semibold",children:'"Rejected"'})]})]})})]})};export{Xe as default};
//# sourceMappingURL=RegistrationDetailPage-BW5U0J9l.js.map
