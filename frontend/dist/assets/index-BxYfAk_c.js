var q8=Object.defineProperty;var K8=(e,t,r)=>t in e?q8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Lv=(e,t,r)=>K8(e,typeof t!="symbol"?t+"":t,r);function G8(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Q8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ms(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var NA={exports:{}},Yx={},kA={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0=Symbol.for("react.element"),X8=Symbol.for("react.portal"),Y8=Symbol.for("react.fragment"),J8=Symbol.for("react.strict_mode"),Z8=Symbol.for("react.profiler"),eL=Symbol.for("react.provider"),tL=Symbol.for("react.context"),rL=Symbol.for("react.forward_ref"),aL=Symbol.for("react.suspense"),nL=Symbol.for("react.memo"),sL=Symbol.for("react.lazy"),a_=Symbol.iterator;function iL(e){return e===null||typeof e!="object"?null:(e=a_&&e[a_]||e["@@iterator"],typeof e=="function"?e:null)}var _A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SA=Object.assign,CA={};function gd(e,t,r){this.props=e,this.context=t,this.refs=CA,this.updater=r||_A}gd.prototype.isReactComponent={};gd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function EA(){}EA.prototype=gd.prototype;function Mw(e,t,r){this.props=e,this.context=t,this.refs=CA,this.updater=r||_A}var Lw=Mw.prototype=new EA;Lw.constructor=Mw;SA(Lw,gd.prototype);Lw.isPureReactComponent=!0;var n_=Array.isArray,TA=Object.prototype.hasOwnProperty,$w={current:null},AA={key:!0,ref:!0,__self:!0,__source:!0};function PA(e,t,r){var a,s={},i=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)TA.call(t,a)&&!AA.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)s[a]===void 0&&(s[a]=o[a]);return{$$typeof:z0,type:e,key:i,ref:l,props:s,_owner:$w.current}}function lL(e,t){return{$$typeof:z0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bw(e){return typeof e=="object"&&e!==null&&e.$$typeof===z0}function oL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var s_=/\/+/g;function $v(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oL(""+e.key):t.toString(36)}function Am(e,t,r,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case z0:case X8:l=!0}}if(l)return l=e,s=s(l),e=a===""?"."+$v(l,0):a,n_(s)?(r="",e!=null&&(r=e.replace(s_,"$&/")+"/"),Am(s,t,r,"",function(u){return u})):s!=null&&(Bw(s)&&(s=lL(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(s_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=a===""?".":a+":",n_(e))for(var o=0;o<e.length;o++){i=e[o];var c=a+$v(i,o);l+=Am(i,t,r,c,s)}else if(c=iL(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=a+$v(i,o++),l+=Am(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ph(e,t,r){if(e==null)return e;var a=[],s=0;return Am(e,a,"","",function(i){return t.call(r,i,s++)}),a}function cL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},Pm={transition:null},uL={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Pm,ReactCurrentOwner:$w};function OA(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Ph,forEach:function(e,t,r){Ph(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ph(e,function(){t++}),t},toArray:function(e){return Ph(e,function(t){return t})||[]},only:function(e){if(!Bw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=gd;bt.Fragment=Y8;bt.Profiler=Z8;bt.PureComponent=Mw;bt.StrictMode=J8;bt.Suspense=aL;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uL;bt.act=OA;bt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=SA({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$w.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)TA.call(t,c)&&!AA.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];a.children=o}return{$$typeof:z0,type:e.type,key:s,ref:i,props:a,_owner:l}};bt.createContext=function(e){return e={$$typeof:tL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eL,_context:e},e.Consumer=e};bt.createElement=PA;bt.createFactory=function(e){var t=PA.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:rL,render:e}};bt.isValidElement=Bw;bt.lazy=function(e){return{$$typeof:sL,_payload:{_status:-1,_result:e},_init:cL}};bt.memo=function(e,t){return{$$typeof:nL,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=Pm.transition;Pm.transition={};try{e()}finally{Pm.transition=t}};bt.unstable_act=OA;bt.useCallback=function(e,t){return xn.current.useCallback(e,t)};bt.useContext=function(e){return xn.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};bt.useEffect=function(e,t){return xn.current.useEffect(e,t)};bt.useId=function(){return xn.current.useId()};bt.useImperativeHandle=function(e,t,r){return xn.current.useImperativeHandle(e,t,r)};bt.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return xn.current.useMemo(e,t)};bt.useReducer=function(e,t,r){return xn.current.useReducer(e,t,r)};bt.useRef=function(e){return xn.current.useRef(e)};bt.useState=function(e){return xn.current.useState(e)};bt.useSyncExternalStore=function(e,t,r){return xn.current.useSyncExternalStore(e,t,r)};bt.useTransition=function(){return xn.current.useTransition()};bt.version="18.3.1";kA.exports=bt;var w=kA.exports;const vt=Ms(w),DA=G8({__proto__:null,default:vt},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dL=w,fL=Symbol.for("react.element"),hL=Symbol.for("react.fragment"),mL=Object.prototype.hasOwnProperty,pL=dL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xL={key:!0,ref:!0,__self:!0,__source:!0};function FA(e,t,r){var a,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)mL.call(t,a)&&!xL.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:fL,type:e,key:i,ref:l,props:s,_owner:pL.current}}Yx.Fragment=hL;Yx.jsx=FA;Yx.jsxs=FA;NA.exports=Yx;var n=NA.exports,lb={},IA={exports:{}},as={},RA={exports:{}},MA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,B){var te=P.length;P.push(B);e:for(;0<te;){var H=te-1>>>1,F=P[H];if(0<s(F,B))P[H]=B,P[te]=F,te=H;else break e}}function r(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var B=P[0],te=P.pop();if(te!==B){P[0]=te;e:for(var H=0,F=P.length,O=F>>>1;H<O;){var M=2*(H+1)-1,I=P[M],ne=M+1,oe=P[ne];if(0>s(I,te))ne<F&&0>s(oe,I)?(P[H]=oe,P[ne]=te,H=ne):(P[H]=I,P[M]=te,H=M);else if(ne<F&&0>s(oe,te))P[H]=oe,P[ne]=te,H=ne;else break e}}return B}function s(P,B){var te=P.sortIndex-B.sortIndex;return te!==0?te:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var B=r(u);B!==null;){if(B.callback===null)a(u);else if(B.startTime<=P)a(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function j(P){if(x=!1,v(P),!p)if(r(c)!==null)p=!0,q(N);else{var B=r(u);B!==null&&R(j,B.startTime-P)}}function N(P,B){p=!1,x&&(x=!1,y(S),S=-1),m=!0;var te=h;try{for(v(B),f=r(c);f!==null&&(!(f.expirationTime>B)||P&&!E());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var F=H(f.expirationTime<=B);B=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&a(c),v(B)}else a(c);f=r(c)}if(f!==null)var O=!0;else{var M=r(u);M!==null&&R(j,M.startTime-B),O=!1}return O}finally{f=null,h=te,m=!1}}var k=!1,_=null,S=-1,T=5,C=-1;function E(){return!(e.unstable_now()-C<T)}function A(){if(_!==null){var P=e.unstable_now();C=P;var B=!0;try{B=_(!0,P)}finally{B?U():(k=!1,_=null)}}else k=!1}var U;if(typeof b=="function")U=function(){b(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ae=V.port2;V.port1.onmessage=A,U=function(){ae.postMessage(null)}}else U=function(){g(A,0)};function q(P){_=P,k||(k=!0,U())}function R(P,B){S=g(function(){P(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,q(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var te=h;h=B;try{return P()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var te=h;h=P;try{return B()}finally{h=te}},e.unstable_scheduleCallback=function(P,B,te){var H=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?H+te:H):te=H,P){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=te+F,P={id:d++,callback:B,priorityLevel:P,startTime:te,expirationTime:F,sortIndex:-1},te>H?(P.sortIndex=te,t(u,P),r(c)===null&&P===r(u)&&(x?(y(S),S=-1):x=!0,R(j,te-H))):(P.sortIndex=F,t(c,P),p||m||(p=!0,q(N))),P},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(P){var B=h;return function(){var te=h;h=B;try{return P.apply(this,arguments)}finally{h=te}}}})(MA);RA.exports=MA;var gL=RA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vL=w,Jn=gL;function Ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LA=new Set,qf={};function Qc(e,t){Gu(e,t),Gu(e+"Capture",t)}function Gu(e,t){for(qf[e]=t,e=0;e<t.length;e++)LA.add(t[e])}var vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ob=Object.prototype.hasOwnProperty,yL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i_={},l_={};function bL(e){return ob.call(l_,e)?!0:ob.call(i_,e)?!1:yL.test(e)?l_[e]=!0:(i_[e]=!0,!1)}function wL(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jL(e,t,r,a){if(t===null||typeof t>"u"||wL(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gn(e,t,r,a,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Da={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Da[e]=new gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Da[t]=new gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Da[e]=new gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Da[e]=new gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Da[e]=new gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Da[e]=new gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Da[e]=new gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Da[e]=new gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Da[e]=new gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uw=/[\-:]([a-z])/g;function zw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uw,zw);Da[t]=new gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uw,zw);Da[t]=new gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uw,zw);Da[t]=new gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Da[e]=new gn(e,1,!1,e.toLowerCase(),null,!1,!1)});Da.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Da[e]=new gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ww(e,t,r,a){var s=Da.hasOwnProperty(t)?Da[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jL(t,r,s,a)&&(r=null),a||s===null?bL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var El=vL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oh=Symbol.for("react.element"),xu=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),Vw=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),$A=Symbol.for("react.provider"),BA=Symbol.for("react.context"),Hw=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),db=Symbol.for("react.suspense_list"),qw=Symbol.for("react.memo"),Wl=Symbol.for("react.lazy"),UA=Symbol.for("react.offscreen"),o_=Symbol.iterator;function Hd(e){return e===null||typeof e!="object"?null:(e=o_&&e[o_]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,Bv;function ff(e){if(Bv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bv=t&&t[1]||""}return`
`+Bv+e}var Uv=!1;function zv(e,t){if(!e||Uv)return"";Uv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=a.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Uv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ff(e):""}function NL(e){switch(e.tag){case 5:return ff(e.type);case 16:return ff("Lazy");case 13:return ff("Suspense");case 19:return ff("SuspenseList");case 0:case 2:case 15:return e=zv(e.type,!1),e;case 11:return e=zv(e.type.render,!1),e;case 1:return e=zv(e.type,!0),e;default:return""}}function fb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gu:return"Fragment";case xu:return"Portal";case cb:return"Profiler";case Vw:return"StrictMode";case ub:return"Suspense";case db:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BA:return(e.displayName||"Context")+".Consumer";case $A:return(e._context.displayName||"Context")+".Provider";case Hw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qw:return t=e.displayName||null,t!==null?t:fb(e.type)||"Memo";case Wl:t=e._payload,e=e._init;try{return fb(e(t))}catch{}}return null}function kL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fb(t);case 8:return t===Vw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _L(e){var t=zA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dh(e){e._valueTracker||(e._valueTracker=_L(e))}function WA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=zA(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function lp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hb(e,t){var r=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function c_(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=wo(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VA(e,t){t=t.checked,t!=null&&Ww(e,"checked",t,!1)}function mb(e,t){VA(e,t);var r=wo(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pb(e,t.type,r):t.hasOwnProperty("defaultValue")&&pb(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function u_(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pb(e,t,r){(t!=="number"||lp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hf=Array.isArray;function Ou(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+wo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function d_(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ae(92));if(hf(r)){if(1<r.length)throw Error(Ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wo(r)}}function HA(e,t){var r=wo(t.value),a=wo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function f_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fh,KA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fh=Fh||document.createElement("div"),Fh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SL=["Webkit","ms","Moz","O"];Object.keys(jf).forEach(function(e){SL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jf[t]=jf[e]})});function GA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jf.hasOwnProperty(e)&&jf[e]?(""+t).trim():t+"px"}function QA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=GA(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var CL=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(e,t){if(t){if(CL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ae(62))}}function yb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bb=null;function Kw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wb=null,Du=null,Fu=null;function h_(e){if(e=H0(e)){if(typeof wb!="function")throw Error(Ae(280));var t=e.stateNode;t&&(t=rg(t),wb(e.stateNode,e.type,t))}}function XA(e){Du?Fu?Fu.push(e):Fu=[e]:Du=e}function YA(){if(Du){var e=Du,t=Fu;if(Fu=Du=null,h_(e),t)for(e=0;e<t.length;e++)h_(t[e])}}function JA(e,t){return e(t)}function ZA(){}var Wv=!1;function eP(e,t,r){if(Wv)return e(t,r);Wv=!0;try{return JA(e,t,r)}finally{Wv=!1,(Du!==null||Fu!==null)&&(ZA(),YA())}}function Gf(e,t){var r=e.stateNode;if(r===null)return null;var a=rg(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ae(231,t,typeof r));return r}var jb=!1;if(vl)try{var qd={};Object.defineProperty(qd,"passive",{get:function(){jb=!0}}),window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{jb=!1}function EL(e,t,r,a,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Nf=!1,op=null,cp=!1,Nb=null,TL={onError:function(e){Nf=!0,op=e}};function AL(e,t,r,a,s,i,l,o,c){Nf=!1,op=null,EL.apply(TL,arguments)}function PL(e,t,r,a,s,i,l,o,c){if(AL.apply(this,arguments),Nf){if(Nf){var u=op;Nf=!1,op=null}else throw Error(Ae(198));cp||(cp=!0,Nb=u)}}function Xc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m_(e){if(Xc(e)!==e)throw Error(Ae(188))}function OL(e){var t=e.alternate;if(!t){if(t=Xc(e),t===null)throw Error(Ae(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return m_(s),e;if(i===a)return m_(s),t;i=i.sibling}throw Error(Ae(188))}if(r.return!==a.return)r=s,a=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,a=i;break}if(o===a){l=!0,a=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,a=s;break}if(o===a){l=!0,a=i,r=s;break}o=o.sibling}if(!l)throw Error(Ae(189))}}if(r.alternate!==a)throw Error(Ae(190))}if(r.tag!==3)throw Error(Ae(188));return r.stateNode.current===r?e:t}function rP(e){return e=OL(e),e!==null?aP(e):null}function aP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aP(e);if(t!==null)return t;e=e.sibling}return null}var nP=Jn.unstable_scheduleCallback,p_=Jn.unstable_cancelCallback,DL=Jn.unstable_shouldYield,FL=Jn.unstable_requestPaint,$r=Jn.unstable_now,IL=Jn.unstable_getCurrentPriorityLevel,Gw=Jn.unstable_ImmediatePriority,sP=Jn.unstable_UserBlockingPriority,up=Jn.unstable_NormalPriority,RL=Jn.unstable_LowPriority,iP=Jn.unstable_IdlePriority,Jx=null,Fi=null;function ML(e){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Jx,e,void 0,(e.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:BL,LL=Math.log,$L=Math.LN2;function BL(e){return e>>>=0,e===0?32:31-(LL(e)/$L|0)|0}var Ih=64,Rh=4194304;function mf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dp(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?a=mf(o):(i&=l,i!==0&&(a=mf(i)))}else l=r&~s,l!==0?a=mf(l):i!==0&&(a=mf(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-oi(t),s=1<<r,a|=e[r],t&=~s;return a}function UL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zL(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-oi(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&a)&&(s[l]=UL(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function kb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lP(){var e=Ih;return Ih<<=1,!(Ih&4194240)&&(Ih=64),e}function Vv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function W0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oi(t),e[t]=r}function WL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-oi(r),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~i}}function Qw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-oi(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var Ut=0;function oP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cP,Xw,uP,dP,fP,_b=!1,Mh=[],so=null,io=null,lo=null,Qf=new Map,Xf=new Map,Gl=[],VL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x_(e,t){switch(e){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Qf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xf.delete(t.pointerId)}}function Kd(e,t,r,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=H0(t),t!==null&&Xw(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function HL(e,t,r,a,s){switch(t){case"focusin":return so=Kd(so,e,t,r,a,s),!0;case"dragenter":return io=Kd(io,e,t,r,a,s),!0;case"mouseover":return lo=Kd(lo,e,t,r,a,s),!0;case"pointerover":var i=s.pointerId;return Qf.set(i,Kd(Qf.get(i)||null,e,t,r,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Xf.set(i,Kd(Xf.get(i)||null,e,t,r,a,s)),!0}return!1}function hP(e){var t=ac(e.target);if(t!==null){var r=Xc(t);if(r!==null){if(t=r.tag,t===13){if(t=tP(r),t!==null){e.blockedOn=t,fP(e.priority,function(){uP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Om(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);bb=a,r.target.dispatchEvent(a),bb=null}else return t=H0(r),t!==null&&Xw(t),e.blockedOn=r,!1;t.shift()}return!0}function g_(e,t,r){Om(e)&&r.delete(t)}function qL(){_b=!1,so!==null&&Om(so)&&(so=null),io!==null&&Om(io)&&(io=null),lo!==null&&Om(lo)&&(lo=null),Qf.forEach(g_),Xf.forEach(g_)}function Gd(e,t){e.blockedOn===t&&(e.blockedOn=null,_b||(_b=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,qL)))}function Yf(e){function t(s){return Gd(s,e)}if(0<Mh.length){Gd(Mh[0],e);for(var r=1;r<Mh.length;r++){var a=Mh[r];a.blockedOn===e&&(a.blockedOn=null)}}for(so!==null&&Gd(so,e),io!==null&&Gd(io,e),lo!==null&&Gd(lo,e),Qf.forEach(t),Xf.forEach(t),r=0;r<Gl.length;r++)a=Gl[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Gl.length&&(r=Gl[0],r.blockedOn===null);)hP(r),r.blockedOn===null&&Gl.shift()}var Iu=El.ReactCurrentBatchConfig,fp=!0;function KL(e,t,r,a){var s=Ut,i=Iu.transition;Iu.transition=null;try{Ut=1,Yw(e,t,r,a)}finally{Ut=s,Iu.transition=i}}function GL(e,t,r,a){var s=Ut,i=Iu.transition;Iu.transition=null;try{Ut=4,Yw(e,t,r,a)}finally{Ut=s,Iu.transition=i}}function Yw(e,t,r,a){if(fp){var s=Sb(e,t,r,a);if(s===null)ey(e,t,a,hp,r),x_(e,a);else if(HL(s,e,t,r,a))a.stopPropagation();else if(x_(e,a),t&4&&-1<VL.indexOf(e)){for(;s!==null;){var i=H0(s);if(i!==null&&cP(i),i=Sb(e,t,r,a),i===null&&ey(e,t,a,hp,r),i===s)break;s=i}s!==null&&a.stopPropagation()}else ey(e,t,a,null,r)}}var hp=null;function Sb(e,t,r,a){if(hp=null,e=Kw(a),e=ac(e),e!==null)if(t=Xc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hp=e,null}function mP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IL()){case Gw:return 1;case sP:return 4;case up:case RL:return 16;case iP:return 536870912;default:return 16}default:return 16}}var Zl=null,Jw=null,Dm=null;function pP(){if(Dm)return Dm;var e,t=Jw,r=t.length,a,s="value"in Zl?Zl.value:Zl.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(a=1;a<=l&&t[r-a]===s[i-a];a++);return Dm=s.slice(e,1<a?1-a:void 0)}function Fm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lh(){return!0}function v_(){return!1}function ns(e){function t(r,a,s,i,l){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lh:v_,this.isPropagationStopped=v_,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lh)},persist:function(){},isPersistent:Lh}),t}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zw=ns(vd),V0=_r({},vd,{view:0,detail:0}),QL=ns(V0),Hv,qv,Qd,Zx=_r({},V0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ej,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qd&&(Qd&&e.type==="mousemove"?(Hv=e.screenX-Qd.screenX,qv=e.screenY-Qd.screenY):qv=Hv=0,Qd=e),Hv)},movementY:function(e){return"movementY"in e?e.movementY:qv}}),y_=ns(Zx),XL=_r({},Zx,{dataTransfer:0}),YL=ns(XL),JL=_r({},V0,{relatedTarget:0}),Kv=ns(JL),ZL=_r({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),e9=ns(ZL),t9=_r({},vd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r9=ns(t9),a9=_r({},vd,{data:0}),b_=ns(a9),n9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i9[e])?!!t[e]:!1}function ej(){return l9}var o9=_r({},V0,{key:function(e){if(e.key){var t=n9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ej,charCode:function(e){return e.type==="keypress"?Fm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c9=ns(o9),u9=_r({},Zx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=ns(u9),d9=_r({},V0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ej}),f9=ns(d9),h9=_r({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),m9=ns(h9),p9=_r({},Zx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x9=ns(p9),g9=[9,13,27,32],tj=vl&&"CompositionEvent"in window,kf=null;vl&&"documentMode"in document&&(kf=document.documentMode);var v9=vl&&"TextEvent"in window&&!kf,xP=vl&&(!tj||kf&&8<kf&&11>=kf),j_=" ",N_=!1;function gP(e,t){switch(e){case"keyup":return g9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vu=!1;function y9(e,t){switch(e){case"compositionend":return vP(t);case"keypress":return t.which!==32?null:(N_=!0,j_);case"textInput":return e=t.data,e===j_&&N_?null:e;default:return null}}function b9(e,t){if(vu)return e==="compositionend"||!tj&&gP(e,t)?(e=pP(),Dm=Jw=Zl=null,vu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xP&&t.locale!=="ko"?null:t.data;default:return null}}var w9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w9[e.type]:t==="textarea"}function yP(e,t,r,a){XA(a),t=mp(t,"onChange"),0<t.length&&(r=new Zw("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var _f=null,Jf=null;function j9(e){AP(e,0)}function eg(e){var t=wu(e);if(WA(t))return e}function N9(e,t){if(e==="change")return t}var bP=!1;if(vl){var Gv;if(vl){var Qv="oninput"in document;if(!Qv){var __=document.createElement("div");__.setAttribute("oninput","return;"),Qv=typeof __.oninput=="function"}Gv=Qv}else Gv=!1;bP=Gv&&(!document.documentMode||9<document.documentMode)}function S_(){_f&&(_f.detachEvent("onpropertychange",wP),Jf=_f=null)}function wP(e){if(e.propertyName==="value"&&eg(Jf)){var t=[];yP(t,Jf,e,Kw(e)),eP(j9,t)}}function k9(e,t,r){e==="focusin"?(S_(),_f=t,Jf=r,_f.attachEvent("onpropertychange",wP)):e==="focusout"&&S_()}function _9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eg(Jf)}function S9(e,t){if(e==="click")return eg(t)}function C9(e,t){if(e==="input"||e==="change")return eg(t)}function E9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mi=typeof Object.is=="function"?Object.is:E9;function Zf(e,t){if(mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!ob.call(t,s)||!mi(e[s],t[s]))return!1}return!0}function C_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E_(e,t){var r=C_(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=C_(r)}}function jP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NP(){for(var e=window,t=lp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lp(e.document)}return t}function rj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T9(e){var t=NP(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jP(r.ownerDocument.documentElement,r)){if(a!==null&&rj(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=E_(r,i);var l=E_(r,a);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var A9=vl&&"documentMode"in document&&11>=document.documentMode,yu=null,Cb=null,Sf=null,Eb=!1;function T_(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Eb||yu==null||yu!==lp(a)||(a=yu,"selectionStart"in a&&rj(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Sf&&Zf(Sf,a)||(Sf=a,a=mp(Cb,"onSelect"),0<a.length&&(t=new Zw("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=yu)))}function $h(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bu={animationend:$h("Animation","AnimationEnd"),animationiteration:$h("Animation","AnimationIteration"),animationstart:$h("Animation","AnimationStart"),transitionend:$h("Transition","TransitionEnd")},Xv={},kP={};vl&&(kP=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function tg(e){if(Xv[e])return Xv[e];if(!bu[e])return e;var t=bu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kP)return Xv[e]=t[r];return e}var _P=tg("animationend"),SP=tg("animationiteration"),CP=tg("animationstart"),EP=tg("transitionend"),TP=new Map,A_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(e,t){TP.set(e,t),Qc(t,[e])}for(var Yv=0;Yv<A_.length;Yv++){var Jv=A_[Yv],P9=Jv.toLowerCase(),O9=Jv[0].toUpperCase()+Jv.slice(1);Io(P9,"on"+O9)}Io(_P,"onAnimationEnd");Io(SP,"onAnimationIteration");Io(CP,"onAnimationStart");Io("dblclick","onDoubleClick");Io("focusin","onFocus");Io("focusout","onBlur");Io(EP,"onTransitionEnd");Gu("onMouseEnter",["mouseout","mouseover"]);Gu("onMouseLeave",["mouseout","mouseover"]);Gu("onPointerEnter",["pointerout","pointerover"]);Gu("onPointerLeave",["pointerout","pointerover"]);Qc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D9=new Set("cancel close invalid load scroll toggle".split(" ").concat(pf));function P_(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,PL(a,t,void 0,e),e.currentTarget=null}function AP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;P_(s,o,u),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;P_(s,o,u),i=c}}}if(cp)throw e=Nb,cp=!1,Nb=null,e}function er(e,t){var r=t[Db];r===void 0&&(r=t[Db]=new Set);var a=e+"__bubble";r.has(a)||(PP(t,e,2,!1),r.add(a))}function Zv(e,t,r){var a=0;t&&(a|=4),PP(r,e,a,t)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function e0(e){if(!e[Bh]){e[Bh]=!0,LA.forEach(function(r){r!=="selectionchange"&&(D9.has(r)||Zv(r,!1,e),Zv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bh]||(t[Bh]=!0,Zv("selectionchange",!1,t))}}function PP(e,t,r,a){switch(mP(t)){case 1:var s=KL;break;case 4:s=GL;break;default:s=Yw}r=s.bind(null,t,r,e),s=void 0,!jb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ey(e,t,r,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=ac(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}eP(function(){var u=i,d=Kw(r),f=[];e:{var h=TP.get(e);if(h!==void 0){var m=Zw,p=e;switch(e){case"keypress":if(Fm(r)===0)break e;case"keydown":case"keyup":m=c9;break;case"focusin":p="focus",m=Kv;break;case"focusout":p="blur",m=Kv;break;case"beforeblur":case"afterblur":m=Kv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f9;break;case _P:case SP:case CP:m=e9;break;case EP:m=m9;break;case"scroll":m=QL;break;case"wheel":m=x9;break;case"copy":case"cut":case"paste":m=r9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=w_}var x=(t&4)!==0,g=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var b=u,v;b!==null;){v=b;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,y!==null&&(j=Gf(b,y),j!=null&&x.push(t0(b,j,v)))),g)break;b=b.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==bb&&(p=r.relatedTarget||r.fromElement)&&(ac(p)||p[yl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?ac(p):null,p!==null&&(g=Xc(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=y_,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=w_,j="onPointerLeave",y="onPointerEnter",b="pointer"),g=m==null?h:wu(m),v=p==null?h:wu(p),h=new x(j,b+"leave",m,r,d),h.target=g,h.relatedTarget=v,j=null,ac(d)===u&&(x=new x(y,b+"enter",p,r,d),x.target=v,x.relatedTarget=g,j=x),g=j,m&&p)t:{for(x=m,y=p,b=0,v=x;v;v=lu(v))b++;for(v=0,j=y;j;j=lu(j))v++;for(;0<b-v;)x=lu(x),b--;for(;0<v-b;)y=lu(y),v--;for(;b--;){if(x===y||y!==null&&x===y.alternate)break t;x=lu(x),y=lu(y)}x=null}else x=null;m!==null&&O_(f,h,m,x,!1),p!==null&&g!==null&&O_(f,g,p,x,!0)}}e:{if(h=u?wu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=N9;else if(k_(h))if(bP)N=C9;else{N=_9;var k=k9}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=S9);if(N&&(N=N(e,u))){yP(f,N,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&pb(h,"number",h.value)}switch(k=u?wu(u):window,e){case"focusin":(k_(k)||k.contentEditable==="true")&&(yu=k,Cb=u,Sf=null);break;case"focusout":Sf=Cb=yu=null;break;case"mousedown":Eb=!0;break;case"contextmenu":case"mouseup":case"dragend":Eb=!1,T_(f,r,d);break;case"selectionchange":if(A9)break;case"keydown":case"keyup":T_(f,r,d)}var _;if(tj)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else vu?gP(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(xP&&r.locale!=="ko"&&(vu||S!=="onCompositionStart"?S==="onCompositionEnd"&&vu&&(_=pP()):(Zl=d,Jw="value"in Zl?Zl.value:Zl.textContent,vu=!0)),k=mp(u,S),0<k.length&&(S=new b_(S,e,null,r,d),f.push({event:S,listeners:k}),_?S.data=_:(_=vP(r),_!==null&&(S.data=_)))),(_=v9?y9(e,r):b9(e,r))&&(u=mp(u,"onBeforeInput"),0<u.length&&(d=new b_("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}AP(f,t)})}function t0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mp(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gf(e,r),i!=null&&a.unshift(t0(e,i,s)),i=Gf(e,t),i!=null&&a.push(t0(e,i,s))),e=e.return}return a}function lu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O_(e,t,r,a,s){for(var i=t._reactName,l=[];r!==null&&r!==a;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&u!==null&&(o=u,s?(c=Gf(r,i),c!=null&&l.unshift(t0(r,c,o))):s||(c=Gf(r,i),c!=null&&l.push(t0(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var F9=/\r\n?/g,I9=/\u0000|\uFFFD/g;function D_(e){return(typeof e=="string"?e:""+e).replace(F9,`
`).replace(I9,"")}function Uh(e,t,r){if(t=D_(t),D_(e)!==t&&r)throw Error(Ae(425))}function pp(){}var Tb=null,Ab=null;function Pb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ob=typeof setTimeout=="function"?setTimeout:void 0,R9=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,M9=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(e){return F_.resolve(null).then(e).catch(L9)}:Ob;function L9(e){setTimeout(function(){throw e})}function ty(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),Yf(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);Yf(t)}function oo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function I_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yd=Math.random().toString(36).slice(2),Si="__reactFiber$"+yd,r0="__reactProps$"+yd,yl="__reactContainer$"+yd,Db="__reactEvents$"+yd,$9="__reactListeners$"+yd,B9="__reactHandles$"+yd;function ac(e){var t=e[Si];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yl]||r[Si]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=I_(e);e!==null;){if(r=e[Si])return r;e=I_(e)}return t}e=r,r=e.parentNode}return null}function H0(e){return e=e[Si]||e[yl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ae(33))}function rg(e){return e[r0]||null}var Fb=[],ju=-1;function Ro(e){return{current:e}}function ar(e){0>ju||(e.current=Fb[ju],Fb[ju]=null,ju--)}function Yt(e,t){ju++,Fb[ju]=e.current,e.current=t}var jo={},Ja=Ro(jo),Cn=Ro(!1),Ac=jo;function Qu(e,t){var r=e.type.contextTypes;if(!r)return jo;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function En(e){return e=e.childContextTypes,e!=null}function xp(){ar(Cn),ar(Ja)}function R_(e,t,r){if(Ja.current!==jo)throw Error(Ae(168));Yt(Ja,t),Yt(Cn,r)}function OP(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(Ae(108,kL(e)||"Unknown",s));return _r({},r,a)}function gp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jo,Ac=Ja.current,Yt(Ja,e),Yt(Cn,Cn.current),!0}function M_(e,t,r){var a=e.stateNode;if(!a)throw Error(Ae(169));r?(e=OP(e,t,Ac),a.__reactInternalMemoizedMergedChildContext=e,ar(Cn),ar(Ja),Yt(Ja,e)):ar(Cn),Yt(Cn,r)}var Ji=null,ag=!1,ry=!1;function DP(e){Ji===null?Ji=[e]:Ji.push(e)}function U9(e){ag=!0,DP(e)}function Mo(){if(!ry&&Ji!==null){ry=!0;var e=0,t=Ut;try{var r=Ji;for(Ut=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Ji=null,ag=!1}catch(s){throw Ji!==null&&(Ji=Ji.slice(e+1)),nP(Gw,Mo),s}finally{Ut=t,ry=!1}}return null}var Nu=[],ku=0,vp=null,yp=0,ys=[],bs=0,Pc=null,tl=1,rl="";function Go(e,t){Nu[ku++]=yp,Nu[ku++]=vp,vp=e,yp=t}function FP(e,t,r){ys[bs++]=tl,ys[bs++]=rl,ys[bs++]=Pc,Pc=e;var a=tl;e=rl;var s=32-oi(a)-1;a&=~(1<<s),r+=1;var i=32-oi(t)+s;if(30<i){var l=s-s%5;i=(a&(1<<l)-1).toString(32),a>>=l,s-=l,tl=1<<32-oi(t)+s|r<<s|a,rl=i+e}else tl=1<<i|r<<s|a,rl=e}function aj(e){e.return!==null&&(Go(e,1),FP(e,1,0))}function nj(e){for(;e===vp;)vp=Nu[--ku],Nu[ku]=null,yp=Nu[--ku],Nu[ku]=null;for(;e===Pc;)Pc=ys[--bs],ys[bs]=null,rl=ys[--bs],ys[bs]=null,tl=ys[--bs],ys[bs]=null}var Xn=null,Qn=null,dr=!1,Js=null;function IP(e,t){var r=_s(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function L_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xn=e,Qn=oo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xn=e,Qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pc!==null?{id:tl,overflow:rl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_s(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xn=e,Qn=null,!0):!1;default:return!1}}function Ib(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rb(e){if(dr){var t=Qn;if(t){var r=t;if(!L_(e,t)){if(Ib(e))throw Error(Ae(418));t=oo(r.nextSibling);var a=Xn;t&&L_(e,t)?IP(a,r):(e.flags=e.flags&-4097|2,dr=!1,Xn=e)}}else{if(Ib(e))throw Error(Ae(418));e.flags=e.flags&-4097|2,dr=!1,Xn=e}}}function $_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xn=e}function zh(e){if(e!==Xn)return!1;if(!dr)return $_(e),dr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pb(e.type,e.memoizedProps)),t&&(t=Qn)){if(Ib(e))throw RP(),Error(Ae(418));for(;t;)IP(e,t),t=oo(t.nextSibling)}if($_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qn=oo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qn=null}}else Qn=Xn?oo(e.stateNode.nextSibling):null;return!0}function RP(){for(var e=Qn;e;)e=oo(e.nextSibling)}function Xu(){Qn=Xn=null,dr=!1}function sj(e){Js===null?Js=[e]:Js.push(e)}var z9=El.ReactCurrentBatchConfig;function Xd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ae(309));var a=r.stateNode}if(!a)throw Error(Ae(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ae(284));if(!r._owner)throw Error(Ae(290,e))}return e}function Wh(e,t){throw e=Object.prototype.toString.call(t),Error(Ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function B_(e){var t=e._init;return t(e._payload)}function MP(e){function t(y,b){if(e){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function a(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=ho(y,b),y.index=0,y.sibling=null,y}function i(y,b,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,v,j){return b===null||b.tag!==6?(b=cy(v,y.mode,j),b.return=y,b):(b=s(b,v),b.return=y,b)}function c(y,b,v,j){var N=v.type;return N===gu?d(y,b,v.props.children,j,v.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wl&&B_(N)===b.type)?(j=s(b,v.props),j.ref=Xd(y,b,v),j.return=y,j):(j=Um(v.type,v.key,v.props,null,y.mode,j),j.ref=Xd(y,b,v),j.return=y,j)}function u(y,b,v,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=uy(v,y.mode,j),b.return=y,b):(b=s(b,v.children||[]),b.return=y,b)}function d(y,b,v,j,N){return b===null||b.tag!==7?(b=xc(v,y.mode,j,N),b.return=y,b):(b=s(b,v),b.return=y,b)}function f(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=cy(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oh:return v=Um(b.type,b.key,b.props,null,y.mode,v),v.ref=Xd(y,null,b),v.return=y,v;case xu:return b=uy(b,y.mode,v),b.return=y,b;case Wl:var j=b._init;return f(y,j(b._payload),v)}if(hf(b)||Hd(b))return b=xc(b,y.mode,v,null),b.return=y,b;Wh(y,b)}return null}function h(y,b,v,j){var N=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:o(y,b,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Oh:return v.key===N?c(y,b,v,j):null;case xu:return v.key===N?u(y,b,v,j):null;case Wl:return N=v._init,h(y,b,N(v._payload),j)}if(hf(v)||Hd(v))return N!==null?null:d(y,b,v,j,null);Wh(y,v)}return null}function m(y,b,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(v)||null,o(b,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Oh:return y=y.get(j.key===null?v:j.key)||null,c(b,y,j,N);case xu:return y=y.get(j.key===null?v:j.key)||null,u(b,y,j,N);case Wl:var k=j._init;return m(y,b,v,k(j._payload),N)}if(hf(j)||Hd(j))return y=y.get(v)||null,d(b,y,j,N,null);Wh(b,j)}return null}function p(y,b,v,j){for(var N=null,k=null,_=b,S=b=0,T=null;_!==null&&S<v.length;S++){_.index>S?(T=_,_=null):T=_.sibling;var C=h(y,_,v[S],j);if(C===null){_===null&&(_=T);break}e&&_&&C.alternate===null&&t(y,_),b=i(C,b,S),k===null?N=C:k.sibling=C,k=C,_=T}if(S===v.length)return r(y,_),dr&&Go(y,S),N;if(_===null){for(;S<v.length;S++)_=f(y,v[S],j),_!==null&&(b=i(_,b,S),k===null?N=_:k.sibling=_,k=_);return dr&&Go(y,S),N}for(_=a(y,_);S<v.length;S++)T=m(_,y,S,v[S],j),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?S:T.key),b=i(T,b,S),k===null?N=T:k.sibling=T,k=T);return e&&_.forEach(function(E){return t(y,E)}),dr&&Go(y,S),N}function x(y,b,v,j){var N=Hd(v);if(typeof N!="function")throw Error(Ae(150));if(v=N.call(v),v==null)throw Error(Ae(151));for(var k=N=null,_=b,S=b=0,T=null,C=v.next();_!==null&&!C.done;S++,C=v.next()){_.index>S?(T=_,_=null):T=_.sibling;var E=h(y,_,C.value,j);if(E===null){_===null&&(_=T);break}e&&_&&E.alternate===null&&t(y,_),b=i(E,b,S),k===null?N=E:k.sibling=E,k=E,_=T}if(C.done)return r(y,_),dr&&Go(y,S),N;if(_===null){for(;!C.done;S++,C=v.next())C=f(y,C.value,j),C!==null&&(b=i(C,b,S),k===null?N=C:k.sibling=C,k=C);return dr&&Go(y,S),N}for(_=a(y,_);!C.done;S++,C=v.next())C=m(_,y,S,C.value,j),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?S:C.key),b=i(C,b,S),k===null?N=C:k.sibling=C,k=C);return e&&_.forEach(function(A){return t(y,A)}),dr&&Go(y,S),N}function g(y,b,v,j){if(typeof v=="object"&&v!==null&&v.type===gu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Oh:e:{for(var N=v.key,k=b;k!==null;){if(k.key===N){if(N=v.type,N===gu){if(k.tag===7){r(y,k.sibling),b=s(k,v.props.children),b.return=y,y=b;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wl&&B_(N)===k.type){r(y,k.sibling),b=s(k,v.props),b.ref=Xd(y,k,v),b.return=y,y=b;break e}r(y,k);break}else t(y,k);k=k.sibling}v.type===gu?(b=xc(v.props.children,y.mode,j,v.key),b.return=y,y=b):(j=Um(v.type,v.key,v.props,null,y.mode,j),j.ref=Xd(y,b,v),j.return=y,y=j)}return l(y);case xu:e:{for(k=v.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(y,b.sibling),b=s(b,v.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=uy(v,y.mode,j),b.return=y,y=b}return l(y);case Wl:return k=v._init,g(y,b,k(v._payload),j)}if(hf(v))return p(y,b,v,j);if(Hd(v))return x(y,b,v,j);Wh(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(y,b.sibling),b=s(b,v),b.return=y,y=b):(r(y,b),b=cy(v,y.mode,j),b.return=y,y=b),l(y)):r(y,b)}return g}var Yu=MP(!0),LP=MP(!1),bp=Ro(null),wp=null,_u=null,ij=null;function lj(){ij=_u=wp=null}function oj(e){var t=bp.current;ar(bp),e._currentValue=t}function Mb(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ru(e,t){wp=e,ij=_u=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_n=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(ij!==e)if(e={context:e,memoizedValue:t,next:null},_u===null){if(wp===null)throw Error(Ae(308));_u=e,wp.dependencies={lanes:0,firstContext:e}}else _u=_u.next=e;return t}var nc=null;function cj(e){nc===null?nc=[e]:nc.push(e)}function $P(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,cj(t)):(r.next=s.next,s.next=r),t.interleaved=r,bl(e,a)}function bl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vl=!1;function uj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ul(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Tt&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,bl(e,r)}return s=a.interleaved,s===null?(t.next=t,cj(a)):(t.next=s.next,s.next=t),a.interleaved=t,bl(e,r)}function Im(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Qw(e,r)}}function U_(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jp(e,t,r,a){var s=e.updateQueue;Vl=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;l=0,d=u=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((a&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,x=o;switch(h=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=_r({},f,h);break e;case 2:Vl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,l|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Dc|=l,e.lanes=l,e.memoizedState=f}}function z_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(Ae(191,s));s.call(a)}}}var q0={},Ii=Ro(q0),a0=Ro(q0),n0=Ro(q0);function sc(e){if(e===q0)throw Error(Ae(174));return e}function dj(e,t){switch(Yt(n0,t),Yt(a0,e),Yt(Ii,q0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gb(t,e)}ar(Ii),Yt(Ii,t)}function Ju(){ar(Ii),ar(a0),ar(n0)}function UP(e){sc(n0.current);var t=sc(Ii.current),r=gb(t,e.type);t!==r&&(Yt(a0,e),Yt(Ii,r))}function fj(e){a0.current===e&&(ar(Ii),ar(a0))}var yr=Ro(0);function Np(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ay=[];function hj(){for(var e=0;e<ay.length;e++)ay[e]._workInProgressVersionPrimary=null;ay.length=0}var Rm=El.ReactCurrentDispatcher,ny=El.ReactCurrentBatchConfig,Oc=0,Nr=null,ea=null,ma=null,kp=!1,Cf=!1,s0=0,W9=0;function La(){throw Error(Ae(321))}function mj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mi(e[r],t[r]))return!1;return!0}function pj(e,t,r,a,s,i){if(Oc=i,Nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rm.current=e===null||e.memoizedState===null?K9:G9,e=r(a,s),Cf){i=0;do{if(Cf=!1,s0=0,25<=i)throw Error(Ae(301));i+=1,ma=ea=null,t.updateQueue=null,Rm.current=Q9,e=r(a,s)}while(Cf)}if(Rm.current=_p,t=ea!==null&&ea.next!==null,Oc=0,ma=ea=Nr=null,kp=!1,t)throw Error(Ae(300));return e}function xj(){var e=s0!==0;return s0=0,e}function ki(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ma===null?Nr.memoizedState=ma=e:ma=ma.next=e,ma}function Ds(){if(ea===null){var e=Nr.alternate;e=e!==null?e.memoizedState:null}else e=ea.next;var t=ma===null?Nr.memoizedState:ma.next;if(t!==null)ma=t,ea=e;else{if(e===null)throw Error(Ae(310));ea=e,e={memoizedState:ea.memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},ma===null?Nr.memoizedState=ma=e:ma=ma.next=e}return ma}function i0(e,t){return typeof t=="function"?t(e):t}function sy(e){var t=Ds(),r=t.queue;if(r===null)throw Error(Ae(311));r.lastRenderedReducer=e;var a=ea,s=a.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}a.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,a=a.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((Oc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,l=a):c=c.next=f,Nr.lanes|=d,Dc|=d}u=u.next}while(u!==null&&u!==i);c===null?l=a:c.next=o,mi(a,t.memoizedState)||(_n=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Nr.lanes|=i,Dc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function iy(e){var t=Ds(),r=t.queue;if(r===null)throw Error(Ae(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);mi(i,t.memoizedState)||(_n=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function zP(){}function WP(e,t){var r=Nr,a=Ds(),s=t(),i=!mi(a.memoizedState,s);if(i&&(a.memoizedState=s,_n=!0),a=a.queue,gj(qP.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||ma!==null&&ma.memoizedState.tag&1){if(r.flags|=2048,l0(9,HP.bind(null,r,a,s,t),void 0,null),ba===null)throw Error(Ae(349));Oc&30||VP(r,t,s)}return s}function VP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function HP(e,t,r,a){t.value=r,t.getSnapshot=a,KP(t)&&GP(e)}function qP(e,t,r){return r(function(){KP(t)&&GP(e)})}function KP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mi(e,r)}catch{return!0}}function GP(e){var t=bl(e,1);t!==null&&ci(t,e,1,-1)}function W_(e){var t=ki();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:e},t.queue=e,e=e.dispatch=q9.bind(null,Nr,e),[t.memoizedState,e]}function l0(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function QP(){return Ds().memoizedState}function Mm(e,t,r,a){var s=ki();Nr.flags|=e,s.memoizedState=l0(1|t,r,void 0,a===void 0?null:a)}function ng(e,t,r,a){var s=Ds();a=a===void 0?null:a;var i=void 0;if(ea!==null){var l=ea.memoizedState;if(i=l.destroy,a!==null&&mj(a,l.deps)){s.memoizedState=l0(t,r,i,a);return}}Nr.flags|=e,s.memoizedState=l0(1|t,r,i,a)}function V_(e,t){return Mm(8390656,8,e,t)}function gj(e,t){return ng(2048,8,e,t)}function XP(e,t){return ng(4,2,e,t)}function YP(e,t){return ng(4,4,e,t)}function JP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZP(e,t,r){return r=r!=null?r.concat([e]):null,ng(4,4,JP.bind(null,t,e),r)}function vj(){}function e3(e,t){var r=Ds();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&mj(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function t3(e,t){var r=Ds();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&mj(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function r3(e,t,r){return Oc&21?(mi(r,t)||(r=lP(),Nr.lanes|=r,Dc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_n=!0),e.memoizedState=r)}function V9(e,t){var r=Ut;Ut=r!==0&&4>r?r:4,e(!0);var a=ny.transition;ny.transition={};try{e(!1),t()}finally{Ut=r,ny.transition=a}}function a3(){return Ds().memoizedState}function H9(e,t,r){var a=fo(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},n3(e))s3(t,r);else if(r=$P(e,t,r,a),r!==null){var s=hn();ci(r,e,a,s),i3(r,t,a)}}function q9(e,t,r){var a=fo(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(n3(e))s3(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,mi(o,l)){var c=t.interleaved;c===null?(s.next=s,cj(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=$P(e,t,s,a),r!==null&&(s=hn(),ci(r,e,a,s),i3(r,t,a))}}function n3(e){var t=e.alternate;return e===Nr||t!==null&&t===Nr}function s3(e,t){Cf=kp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i3(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Qw(e,r)}}var _p={readContext:Os,useCallback:La,useContext:La,useEffect:La,useImperativeHandle:La,useInsertionEffect:La,useLayoutEffect:La,useMemo:La,useReducer:La,useRef:La,useState:La,useDebugValue:La,useDeferredValue:La,useTransition:La,useMutableSource:La,useSyncExternalStore:La,useId:La,unstable_isNewReconciler:!1},K9={readContext:Os,useCallback:function(e,t){return ki().memoizedState=[e,t===void 0?null:t],e},useContext:Os,useEffect:V_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Mm(4194308,4,JP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mm(4,2,e,t)},useMemo:function(e,t){var r=ki();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=ki();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=H9.bind(null,Nr,e),[a.memoizedState,e]},useRef:function(e){var t=ki();return e={current:e},t.memoizedState=e},useState:W_,useDebugValue:vj,useDeferredValue:function(e){return ki().memoizedState=e},useTransition:function(){var e=W_(!1),t=e[0];return e=V9.bind(null,e[1]),ki().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=Nr,s=ki();if(dr){if(r===void 0)throw Error(Ae(407));r=r()}else{if(r=t(),ba===null)throw Error(Ae(349));Oc&30||VP(a,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,V_(qP.bind(null,a,i,e),[e]),a.flags|=2048,l0(9,HP.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=ki(),t=ba.identifierPrefix;if(dr){var r=rl,a=tl;r=(a&~(1<<32-oi(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=s0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=W9++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},G9={readContext:Os,useCallback:e3,useContext:Os,useEffect:gj,useImperativeHandle:ZP,useInsertionEffect:XP,useLayoutEffect:YP,useMemo:t3,useReducer:sy,useRef:QP,useState:function(){return sy(i0)},useDebugValue:vj,useDeferredValue:function(e){var t=Ds();return r3(t,ea.memoizedState,e)},useTransition:function(){var e=sy(i0)[0],t=Ds().memoizedState;return[e,t]},useMutableSource:zP,useSyncExternalStore:WP,useId:a3,unstable_isNewReconciler:!1},Q9={readContext:Os,useCallback:e3,useContext:Os,useEffect:gj,useImperativeHandle:ZP,useInsertionEffect:XP,useLayoutEffect:YP,useMemo:t3,useReducer:iy,useRef:QP,useState:function(){return iy(i0)},useDebugValue:vj,useDeferredValue:function(e){var t=Ds();return ea===null?t.memoizedState=e:r3(t,ea.memoizedState,e)},useTransition:function(){var e=iy(i0)[0],t=Ds().memoizedState;return[e,t]},useMutableSource:zP,useSyncExternalStore:WP,useId:a3,unstable_isNewReconciler:!1};function Gs(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Lb(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:_r({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sg={isMounted:function(e){return(e=e._reactInternals)?Xc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=hn(),s=fo(e),i=ul(a,s);i.payload=t,r!=null&&(i.callback=r),t=co(e,i,s),t!==null&&(ci(t,e,s,a),Im(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=hn(),s=fo(e),i=ul(a,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=co(e,i,s),t!==null&&(ci(t,e,s,a),Im(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hn(),a=fo(e),s=ul(r,a);s.tag=2,t!=null&&(s.callback=t),t=co(e,s,a),t!==null&&(ci(t,e,a,r),Im(t,e,a))}};function H_(e,t,r,a,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!Zf(r,a)||!Zf(s,i):!0}function l3(e,t,r){var a=!1,s=jo,i=t.contextType;return typeof i=="object"&&i!==null?i=Os(i):(s=En(t)?Ac:Ja.current,a=t.contextTypes,i=(a=a!=null)?Qu(e,s):jo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sg,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function q_(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&sg.enqueueReplaceState(t,t.state,null)}function $b(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},uj(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Os(i):(i=En(t)?Ac:Ja.current,s.context=Qu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Lb(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sg.enqueueReplaceState(s,s.state,null),jp(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zu(e,t){try{var r="",a=t;do r+=NL(a),a=a.return;while(a);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ly(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var X9=typeof WeakMap=="function"?WeakMap:Map;function o3(e,t,r){r=ul(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Cp||(Cp=!0,Xb=a),Bb(e,t)},r}function c3(e,t,r){r=ul(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){Bb(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Bb(e,t),typeof a!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function K_(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new X9;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=u7.bind(null,e,t,r),t.then(e,e))}function G_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Q_(e,t,r,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ul(-1,1),t.tag=2,co(r,t,1))),r.lanes|=1),e)}var Y9=El.ReactCurrentOwner,_n=!1;function ln(e,t,r,a){t.child=e===null?LP(t,null,r,a):Yu(t,e.child,r,a)}function X_(e,t,r,a,s){r=r.render;var i=t.ref;return Ru(t,s),a=pj(e,t,r,a,i,s),r=xj(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wl(e,t,s)):(dr&&r&&aj(t),t.flags|=1,ln(e,t,a,s),t.child)}function Y_(e,t,r,a,s){if(e===null){var i=r.type;return typeof i=="function"&&!Sj(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,u3(e,t,i,a,s)):(e=Um(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Zf,r(l,a)&&e.ref===t.ref)return wl(e,t,s)}return t.flags|=1,e=ho(i,a),e.ref=t.ref,e.return=t,t.child=e}function u3(e,t,r,a,s){if(e!==null){var i=e.memoizedProps;if(Zf(i,a)&&e.ref===t.ref)if(_n=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(_n=!0);else return t.lanes=e.lanes,wl(e,t,s)}return Ub(e,t,r,a,s)}function d3(e,t,r){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(Cu,Ln),Ln|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(Cu,Ln),Ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,Yt(Cu,Ln),Ln|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,Yt(Cu,Ln),Ln|=a;return ln(e,t,s,r),t.child}function f3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ub(e,t,r,a,s){var i=En(r)?Ac:Ja.current;return i=Qu(t,i),Ru(t,s),r=pj(e,t,r,a,i,s),a=xj(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wl(e,t,s)):(dr&&a&&aj(t),t.flags|=1,ln(e,t,r,s),t.child)}function J_(e,t,r,a,s){if(En(r)){var i=!0;gp(t)}else i=!1;if(Ru(t,s),t.stateNode===null)Lm(e,t),l3(t,r,a),$b(t,r,a,s),a=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=Os(u):(u=En(r)?Ac:Ja.current,u=Qu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==u)&&q_(t,l,a,u),Vl=!1;var h=t.memoizedState;l.state=h,jp(t,a,l,s),c=t.memoizedState,o!==a||h!==c||Cn.current||Vl?(typeof d=="function"&&(Lb(t,r,d,a),c=t.memoizedState),(o=Vl||H_(t,r,o,a,h,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=u,a=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,BP(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Gs(t.type,o),l.props=u,f=t.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Os(c):(c=En(r)?Ac:Ja.current,c=Qu(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||h!==c)&&q_(t,l,a,c),Vl=!1,h=t.memoizedState,l.state=h,jp(t,a,l,s);var p=t.memoizedState;o!==f||h!==p||Cn.current||Vl?(typeof m=="function"&&(Lb(t,r,m,a),p=t.memoizedState),(u=Vl||H_(t,r,u,a,h,p,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,p,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),l.props=a,l.state=p,l.context=c,a=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return zb(e,t,r,a,i,s)}function zb(e,t,r,a,s,i){f3(e,t);var l=(t.flags&128)!==0;if(!a&&!l)return s&&M_(t,r,!1),wl(e,t,i);a=t.stateNode,Y9.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&l?(t.child=Yu(t,e.child,null,i),t.child=Yu(t,null,o,i)):ln(e,t,o,i),t.memoizedState=a.state,s&&M_(t,r,!0),t.child}function h3(e){var t=e.stateNode;t.pendingContext?R_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&R_(e,t.context,!1),dj(e,t.containerInfo)}function Z_(e,t,r,a,s){return Xu(),sj(s),t.flags|=256,ln(e,t,r,a),t.child}var Wb={dehydrated:null,treeContext:null,retryLane:0};function Vb(e){return{baseLanes:e,cachePool:null,transitions:null}}function m3(e,t,r){var a=t.pendingProps,s=yr.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Yt(yr,s&1),e===null)return Rb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=og(l,a,0,null),e=xc(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Vb(r),t.memoizedState=Wb,e):yj(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return J9(e,t,l,a,o,s,r);if(i){i=a.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=ho(s,c),a.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=ho(o,i):(i=xc(i,l,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=e.child.memoizedState,l=l===null?Vb(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Wb,a}return i=e.child,e=i.sibling,a=ho(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function yj(e,t){return t=og({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vh(e,t,r,a){return a!==null&&sj(a),Yu(t,e.child,null,r),e=yj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function J9(e,t,r,a,s,i,l){if(r)return t.flags&256?(t.flags&=-257,a=ly(Error(Ae(422))),Vh(e,t,l,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=og({mode:"visible",children:a.children},s,0,null),i=xc(i,s,l,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Yu(t,e.child,null,l),t.child.memoizedState=Vb(l),t.memoizedState=Wb,i);if(!(t.mode&1))return Vh(e,t,l,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(Ae(419)),a=ly(i,a,void 0),Vh(e,t,l,a)}if(o=(l&e.childLanes)!==0,_n||o){if(a=ba,a!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bl(e,s),ci(a,e,s,-1))}return _j(),a=ly(Error(Ae(421))),Vh(e,t,l,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=d7.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qn=oo(s.nextSibling),Xn=t,dr=!0,Js=null,e!==null&&(ys[bs++]=tl,ys[bs++]=rl,ys[bs++]=Pc,tl=e.id,rl=e.overflow,Pc=t),t=yj(t,a.children),t.flags|=4096,t)}function eS(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Mb(e.return,t,r)}function oy(e,t,r,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=s)}function p3(e,t,r){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(ln(e,t,a.children,r),a=yr.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eS(e,r,t);else if(e.tag===19)eS(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Yt(yr,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Np(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),oy(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Np(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}oy(t,!0,r,null,i);break;case"together":oy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ae(153));if(t.child!==null){for(e=t.child,r=ho(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ho(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Z9(e,t,r){switch(t.tag){case 3:h3(t),Xu();break;case 5:UP(t);break;case 1:En(t.type)&&gp(t);break;case 4:dj(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Yt(bp,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Yt(yr,yr.current&1),t.flags|=128,null):r&t.child.childLanes?m3(e,t,r):(Yt(yr,yr.current&1),e=wl(e,t,r),e!==null?e.sibling:null);Yt(yr,yr.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return p3(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Yt(yr,yr.current),a)break;return null;case 22:case 23:return t.lanes=0,d3(e,t,r)}return wl(e,t,r)}var x3,Hb,g3,v3;x3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hb=function(){};g3=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,sc(Ii.current);var i=null;switch(r){case"input":s=hb(e,s),a=hb(e,a),i=[];break;case"select":s=_r({},s,{value:void 0}),a=_r({},a,{value:void 0}),i=[];break;case"textarea":s=xb(e,s),a=xb(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=pp)}vb(r,a);var l;r=null;for(u in s)if(!a.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in a){var c=a[u];if(o=s!=null?s[u]:void 0,a.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&er("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};v3=function(e,t,r,a){r!==a&&(t.flags|=4)};function Yd(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function $a(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function e7(e,t,r){var a=t.pendingProps;switch(nj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:return En(t.type)&&xp(),$a(t),null;case 3:return a=t.stateNode,Ju(),ar(Cn),ar(Ja),hj(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Js!==null&&(Zb(Js),Js=null))),Hb(e,t),$a(t),null;case 5:fj(t);var s=sc(n0.current);if(r=t.type,e!==null&&t.stateNode!=null)g3(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(Ae(166));return $a(t),null}if(e=sc(Ii.current),zh(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[Si]=t,a[r0]=i,e=(t.mode&1)!==0,r){case"dialog":er("cancel",a),er("close",a);break;case"iframe":case"object":case"embed":er("load",a);break;case"video":case"audio":for(s=0;s<pf.length;s++)er(pf[s],a);break;case"source":er("error",a);break;case"img":case"image":case"link":er("error",a),er("load",a);break;case"details":er("toggle",a);break;case"input":c_(a,i),er("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},er("invalid",a);break;case"textarea":d_(a,i),er("invalid",a)}vb(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&Uh(a.textContent,o,e),s=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Uh(a.textContent,o,e),s=["children",""+o]):qf.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&er("scroll",a)}switch(r){case"input":Dh(a),u_(a,i,!0);break;case"textarea":Dh(a),f_(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=pp)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),r==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[Si]=t,e[r0]=a,x3(e,t,!1,!1),t.stateNode=e;e:{switch(l=yb(r,a),r){case"dialog":er("cancel",e),er("close",e),s=a;break;case"iframe":case"object":case"embed":er("load",e),s=a;break;case"video":case"audio":for(s=0;s<pf.length;s++)er(pf[s],e);s=a;break;case"source":er("error",e),s=a;break;case"img":case"image":case"link":er("error",e),er("load",e),s=a;break;case"details":er("toggle",e),s=a;break;case"input":c_(e,a),s=hb(e,a),er("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=_r({},a,{value:void 0}),er("invalid",e);break;case"textarea":d_(e,a),s=xb(e,a),er("invalid",e);break;default:s=a}vb(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?QA(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&KA(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Kf(e,c):typeof c=="number"&&Kf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&er("scroll",e):c!=null&&Ww(e,i,c,l))}switch(r){case"input":Dh(e),u_(e,a,!1);break;case"textarea":Dh(e),f_(e);break;case"option":a.value!=null&&e.setAttribute("value",""+wo(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Ou(e,!!a.multiple,i,!1):a.defaultValue!=null&&Ou(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pp)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&t.stateNode!=null)v3(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(Ae(166));if(r=sc(n0.current),sc(Ii.current),zh(t)){if(a=t.stateNode,r=t.memoizedProps,a[Si]=t,(i=a.nodeValue!==r)&&(e=Xn,e!==null))switch(e.tag){case 3:Uh(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uh(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Si]=t,t.stateNode=a}return $a(t),null;case 13:if(ar(yr),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dr&&Qn!==null&&t.mode&1&&!(t.flags&128))RP(),Xu(),t.flags|=98560,i=!1;else if(i=zh(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Ae(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ae(317));i[Si]=t}else Xu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$a(t),i=!1}else Js!==null&&(Zb(Js),Js=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||yr.current&1?aa===0&&(aa=3):_j())),t.updateQueue!==null&&(t.flags|=4),$a(t),null);case 4:return Ju(),Hb(e,t),e===null&&e0(t.stateNode.containerInfo),$a(t),null;case 10:return oj(t.type._context),$a(t),null;case 17:return En(t.type)&&xp(),$a(t),null;case 19:if(ar(yr),i=t.memoizedState,i===null)return $a(t),null;if(a=(t.flags&128)!==0,l=i.rendering,l===null)if(a)Yd(i,!1);else{if(aa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Np(e),l!==null){for(t.flags|=128,Yd(i,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yt(yr,yr.current&1|2),t.child}e=e.sibling}i.tail!==null&&$r()>ed&&(t.flags|=128,a=!0,Yd(i,!1),t.lanes=4194304)}else{if(!a)if(e=Np(l),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!dr)return $a(t),null}else 2*$r()-i.renderingStartTime>ed&&r!==1073741824&&(t.flags|=128,a=!0,Yd(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$r(),t.sibling=null,r=yr.current,Yt(yr,a?r&1|2:r&1),t):($a(t),null);case 22:case 23:return kj(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Ln&1073741824&&($a(t),t.subtreeFlags&6&&(t.flags|=8192)):$a(t),null;case 24:return null;case 25:return null}throw Error(Ae(156,t.tag))}function t7(e,t){switch(nj(t),t.tag){case 1:return En(t.type)&&xp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ju(),ar(Cn),ar(Ja),hj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fj(t),null;case 13:if(ar(yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ae(340));Xu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ar(yr),null;case 4:return Ju(),null;case 10:return oj(t.type._context),null;case 22:case 23:return kj(),null;case 24:return null;default:return null}}var Hh=!1,Va=!1,r7=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Su(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Ar(e,t,a)}else r.current=null}function qb(e,t,r){try{r()}catch(a){Ar(e,t,a)}}var tS=!1;function a7(e,t){if(Tb=fp,e=NP(),rj(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(o=l+s),f!==i||a!==0&&f.nodeType!==3||(c=l+a),f.nodeType===3&&(l+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(o=l),h===i&&++d===a&&(c=l),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ab={focusedElem:e,selectionRange:r},fp=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,g=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Gs(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(j){Ar(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return p=tS,tS=!1,p}function Ef(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&qb(t,r,i)}s=s.next}while(s!==a)}}function ig(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Kb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function y3(e){var t=e.alternate;t!==null&&(e.alternate=null,y3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Si],delete t[r0],delete t[Db],delete t[$9],delete t[B9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b3(e){return e.tag===5||e.tag===3||e.tag===4}function rS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gb(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pp));else if(a!==4&&(e=e.child,e!==null))for(Gb(e,t,r),e=e.sibling;e!==null;)Gb(e,t,r),e=e.sibling}function Qb(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Qb(e,t,r),e=e.sibling;e!==null;)Qb(e,t,r),e=e.sibling}var Sa=null,Xs=!1;function Ul(e,t,r){for(r=r.child;r!==null;)w3(e,t,r),r=r.sibling}function w3(e,t,r){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Jx,r)}catch{}switch(r.tag){case 5:Va||Su(r,t);case 6:var a=Sa,s=Xs;Sa=null,Ul(e,t,r),Sa=a,Xs=s,Sa!==null&&(Xs?(e=Sa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Sa.removeChild(r.stateNode));break;case 18:Sa!==null&&(Xs?(e=Sa,r=r.stateNode,e.nodeType===8?ty(e.parentNode,r):e.nodeType===1&&ty(e,r),Yf(e)):ty(Sa,r.stateNode));break;case 4:a=Sa,s=Xs,Sa=r.stateNode.containerInfo,Xs=!0,Ul(e,t,r),Sa=a,Xs=s;break;case 0:case 11:case 14:case 15:if(!Va&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&qb(r,t,l),s=s.next}while(s!==a)}Ul(e,t,r);break;case 1:if(!Va&&(Su(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){Ar(r,t,o)}Ul(e,t,r);break;case 21:Ul(e,t,r);break;case 22:r.mode&1?(Va=(a=Va)||r.memoizedState!==null,Ul(e,t,r),Va=a):Ul(e,t,r);break;default:Ul(e,t,r)}}function aS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new r7),t.forEach(function(a){var s=f7.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function Hs(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Sa=o.stateNode,Xs=!1;break e;case 3:Sa=o.stateNode.containerInfo,Xs=!0;break e;case 4:Sa=o.stateNode.containerInfo,Xs=!0;break e}o=o.return}if(Sa===null)throw Error(Ae(160));w3(i,l,s),Sa=null,Xs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ar(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j3(t,e),t=t.sibling}function j3(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hs(t,e),yi(e),a&4){try{Ef(3,e,e.return),ig(3,e)}catch(x){Ar(e,e.return,x)}try{Ef(5,e,e.return)}catch(x){Ar(e,e.return,x)}}break;case 1:Hs(t,e),yi(e),a&512&&r!==null&&Su(r,r.return);break;case 5:if(Hs(t,e),yi(e),a&512&&r!==null&&Su(r,r.return),e.flags&32){var s=e.stateNode;try{Kf(s,"")}catch(x){Ar(e,e.return,x)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&VA(s,i),yb(o,l);var u=yb(o,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];d==="style"?QA(s,f):d==="dangerouslySetInnerHTML"?KA(s,f):d==="children"?Kf(s,f):Ww(s,d,f,u)}switch(o){case"input":mb(s,i);break;case"textarea":HA(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ou(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ou(s,!!i.multiple,i.defaultValue,!0):Ou(s,!!i.multiple,i.multiple?[]:"",!1))}s[r0]=i}catch(x){Ar(e,e.return,x)}}break;case 6:if(Hs(t,e),yi(e),a&4){if(e.stateNode===null)throw Error(Ae(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ar(e,e.return,x)}}break;case 3:if(Hs(t,e),yi(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Yf(t.containerInfo)}catch(x){Ar(e,e.return,x)}break;case 4:Hs(t,e),yi(e);break;case 13:Hs(t,e),yi(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jj=$r())),a&4&&aS(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Va=(u=Va)||d,Hs(t,e),Va=u):Hs(t,e),yi(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(qe=e,d=e.child;d!==null;){for(f=qe=d;qe!==null;){switch(h=qe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ef(4,h,h.return);break;case 1:Su(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){a=h,r=h.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Ar(a,r,x)}}break;case 5:Su(h,h.return);break;case 22:if(h.memoizedState!==null){sS(f);continue}}m!==null?(m.return=h,qe=m):sS(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=GA("display",l))}catch(x){Ar(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ar(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hs(t,e),yi(e),a&4&&aS(e);break;case 21:break;default:Hs(t,e),yi(e)}}function yi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(b3(r)){var a=r;break e}r=r.return}throw Error(Ae(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Kf(s,""),a.flags&=-33);var i=rS(e);Qb(e,i,s);break;case 3:case 4:var l=a.stateNode.containerInfo,o=rS(e);Gb(e,o,l);break;default:throw Error(Ae(161))}}catch(c){Ar(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n7(e,t,r){qe=e,N3(e)}function N3(e,t,r){for(var a=(e.mode&1)!==0;qe!==null;){var s=qe,i=s.child;if(s.tag===22&&a){var l=s.memoizedState!==null||Hh;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Va;o=Hh;var u=Va;if(Hh=l,(Va=c)&&!u)for(qe=s;qe!==null;)l=qe,c=l.child,l.tag===22&&l.memoizedState!==null?iS(s):c!==null?(c.return=l,qe=c):iS(s);for(;i!==null;)qe=i,N3(i),i=i.sibling;qe=s,Hh=o,Va=u}nS(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,qe=i):nS(e)}}function nS(e){for(;qe!==null;){var t=qe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Va||ig(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Va)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Gs(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&z_(t,i,a);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}z_(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}Va||t.flags&512&&Kb(t)}catch(h){Ar(t,t.return,h)}}if(t===e){qe=null;break}if(r=t.sibling,r!==null){r.return=t.return,qe=r;break}qe=t.return}}function sS(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,qe=r;break}qe=t.return}}function iS(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ig(4,t)}catch(c){Ar(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(c){Ar(t,s,c)}}var i=t.return;try{Kb(t)}catch(c){Ar(t,i,c)}break;case 5:var l=t.return;try{Kb(t)}catch(c){Ar(t,l,c)}}}catch(c){Ar(t,t.return,c)}if(t===e){qe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,qe=o;break}qe=t.return}}var s7=Math.ceil,Sp=El.ReactCurrentDispatcher,bj=El.ReactCurrentOwner,Cs=El.ReactCurrentBatchConfig,Tt=0,ba=null,Qr=null,Oa=0,Ln=0,Cu=Ro(0),aa=0,o0=null,Dc=0,lg=0,wj=0,Tf=null,Nn=null,jj=0,ed=1/0,Yi=null,Cp=!1,Xb=null,uo=null,qh=!1,eo=null,Ep=0,Af=0,Yb=null,$m=-1,Bm=0;function hn(){return Tt&6?$r():$m!==-1?$m:$m=$r()}function fo(e){return e.mode&1?Tt&2&&Oa!==0?Oa&-Oa:z9.transition!==null?(Bm===0&&(Bm=lP()),Bm):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:mP(e.type)),e):1}function ci(e,t,r,a){if(50<Af)throw Af=0,Yb=null,Error(Ae(185));W0(e,r,a),(!(Tt&2)||e!==ba)&&(e===ba&&(!(Tt&2)&&(lg|=r),aa===4&&Ql(e,Oa)),Tn(e,a),r===1&&Tt===0&&!(t.mode&1)&&(ed=$r()+500,ag&&Mo()))}function Tn(e,t){var r=e.callbackNode;zL(e,t);var a=dp(e,e===ba?Oa:0);if(a===0)r!==null&&p_(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&p_(r),t===1)e.tag===0?U9(lS.bind(null,e)):DP(lS.bind(null,e)),M9(function(){!(Tt&6)&&Mo()}),r=null;else{switch(oP(a)){case 1:r=Gw;break;case 4:r=sP;break;case 16:r=up;break;case 536870912:r=iP;break;default:r=up}r=P3(r,k3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function k3(e,t){if($m=-1,Bm=0,Tt&6)throw Error(Ae(327));var r=e.callbackNode;if(Mu()&&e.callbackNode!==r)return null;var a=dp(e,e===ba?Oa:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Tp(e,a);else{t=a;var s=Tt;Tt|=2;var i=S3();(ba!==e||Oa!==t)&&(Yi=null,ed=$r()+500,pc(e,t));do try{o7();break}catch(o){_3(e,o)}while(!0);lj(),Sp.current=i,Tt=s,Qr!==null?t=0:(ba=null,Oa=0,t=aa)}if(t!==0){if(t===2&&(s=kb(e),s!==0&&(a=s,t=Jb(e,s))),t===1)throw r=o0,pc(e,0),Ql(e,a),Tn(e,$r()),r;if(t===6)Ql(e,a);else{if(s=e.current.alternate,!(a&30)&&!i7(s)&&(t=Tp(e,a),t===2&&(i=kb(e),i!==0&&(a=i,t=Jb(e,i))),t===1))throw r=o0,pc(e,0),Ql(e,a),Tn(e,$r()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(Ae(345));case 2:Qo(e,Nn,Yi);break;case 3:if(Ql(e,a),(a&130023424)===a&&(t=jj+500-$r(),10<t)){if(dp(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){hn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ob(Qo.bind(null,e,Nn,Yi),t);break}Qo(e,Nn,Yi);break;case 4:if(Ql(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var l=31-oi(a);i=1<<l,l=t[l],l>s&&(s=l),a&=~i}if(a=s,a=$r()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*s7(a/1960))-a,10<a){e.timeoutHandle=Ob(Qo.bind(null,e,Nn,Yi),a);break}Qo(e,Nn,Yi);break;case 5:Qo(e,Nn,Yi);break;default:throw Error(Ae(329))}}}return Tn(e,$r()),e.callbackNode===r?k3.bind(null,e):null}function Jb(e,t){var r=Tf;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),e=Tp(e,t),e!==2&&(t=Nn,Nn=r,t!==null&&Zb(t)),e}function Zb(e){Nn===null?Nn=e:Nn.push.apply(Nn,e)}function i7(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],i=s.getSnapshot;s=s.value;try{if(!mi(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ql(e,t){for(t&=~wj,t&=~lg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-oi(t),a=1<<r;e[r]=-1,t&=~a}}function lS(e){if(Tt&6)throw Error(Ae(327));Mu();var t=dp(e,0);if(!(t&1))return Tn(e,$r()),null;var r=Tp(e,t);if(e.tag!==0&&r===2){var a=kb(e);a!==0&&(t=a,r=Jb(e,a))}if(r===1)throw r=o0,pc(e,0),Ql(e,t),Tn(e,$r()),r;if(r===6)throw Error(Ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qo(e,Nn,Yi),Tn(e,$r()),null}function Nj(e,t){var r=Tt;Tt|=1;try{return e(t)}finally{Tt=r,Tt===0&&(ed=$r()+500,ag&&Mo())}}function Fc(e){eo!==null&&eo.tag===0&&!(Tt&6)&&Mu();var t=Tt;Tt|=1;var r=Cs.transition,a=Ut;try{if(Cs.transition=null,Ut=1,e)return e()}finally{Ut=a,Cs.transition=r,Tt=t,!(Tt&6)&&Mo()}}function kj(){Ln=Cu.current,ar(Cu)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,R9(r)),Qr!==null)for(r=Qr.return;r!==null;){var a=r;switch(nj(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&xp();break;case 3:Ju(),ar(Cn),ar(Ja),hj();break;case 5:fj(a);break;case 4:Ju();break;case 13:ar(yr);break;case 19:ar(yr);break;case 10:oj(a.type._context);break;case 22:case 23:kj()}r=r.return}if(ba=e,Qr=e=ho(e.current,null),Oa=Ln=t,aa=0,o0=null,wj=lg=Dc=0,Nn=Tf=null,nc!==null){for(t=0;t<nc.length;t++)if(r=nc[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,a.next=l}r.pending=a}nc=null}return e}function _3(e,t){do{var r=Qr;try{if(lj(),Rm.current=_p,kp){for(var a=Nr.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}kp=!1}if(Oc=0,ma=ea=Nr=null,Cf=!1,s0=0,bj.current=null,r===null||r.return===null){aa=1,o0=t,Qr=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Oa,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=G_(l);if(m!==null){m.flags&=-257,Q_(m,l,o,i,t),m.mode&1&&K_(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){K_(i,u,t),_j();break e}c=Error(Ae(426))}}else if(dr&&o.mode&1){var g=G_(l);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Q_(g,l,o,i,t),sj(Zu(c,o));break e}}i=c=Zu(c,o),aa!==4&&(aa=2),Tf===null?Tf=[i]:Tf.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=o3(i,c,t);U_(i,y);break e;case 1:o=c;var b=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(uo===null||!uo.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=c3(i,o,t);U_(i,j);break e}}i=i.return}while(i!==null)}E3(r)}catch(N){t=N,Qr===r&&r!==null&&(Qr=r=r.return);continue}break}while(!0)}function S3(){var e=Sp.current;return Sp.current=_p,e===null?_p:e}function _j(){(aa===0||aa===3||aa===2)&&(aa=4),ba===null||!(Dc&268435455)&&!(lg&268435455)||Ql(ba,Oa)}function Tp(e,t){var r=Tt;Tt|=2;var a=S3();(ba!==e||Oa!==t)&&(Yi=null,pc(e,t));do try{l7();break}catch(s){_3(e,s)}while(!0);if(lj(),Tt=r,Sp.current=a,Qr!==null)throw Error(Ae(261));return ba=null,Oa=0,aa}function l7(){for(;Qr!==null;)C3(Qr)}function o7(){for(;Qr!==null&&!DL();)C3(Qr)}function C3(e){var t=A3(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?E3(e):Qr=t,bj.current=null}function E3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=t7(r,t),r!==null){r.flags&=32767,Qr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{aa=6,Qr=null;return}}else if(r=e7(r,t,Ln),r!==null){Qr=r;return}if(t=t.sibling,t!==null){Qr=t;return}Qr=t=e}while(t!==null);aa===0&&(aa=5)}function Qo(e,t,r){var a=Ut,s=Cs.transition;try{Cs.transition=null,Ut=1,c7(e,t,r,a)}finally{Cs.transition=s,Ut=a}return null}function c7(e,t,r,a){do Mu();while(eo!==null);if(Tt&6)throw Error(Ae(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ae(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(WL(e,i),e===ba&&(Qr=ba=null,Oa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qh||(qh=!0,P3(up,function(){return Mu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Cs.transition,Cs.transition=null;var l=Ut;Ut=1;var o=Tt;Tt|=4,bj.current=null,a7(e,r),j3(r,e),T9(Ab),fp=!!Tb,Ab=Tb=null,e.current=r,n7(r),FL(),Tt=o,Ut=l,Cs.transition=i}else e.current=r;if(qh&&(qh=!1,eo=e,Ep=s),i=e.pendingLanes,i===0&&(uo=null),ML(r.stateNode),Tn(e,$r()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(Cp)throw Cp=!1,e=Xb,Xb=null,e;return Ep&1&&e.tag!==0&&Mu(),i=e.pendingLanes,i&1?e===Yb?Af++:(Af=0,Yb=e):Af=0,Mo(),null}function Mu(){if(eo!==null){var e=oP(Ep),t=Cs.transition,r=Ut;try{if(Cs.transition=null,Ut=16>e?16:e,eo===null)var a=!1;else{if(e=eo,eo=null,Ep=0,Tt&6)throw Error(Ae(331));var s=Tt;for(Tt|=4,qe=e.current;qe!==null;){var i=qe,l=i.child;if(qe.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(qe=u;qe!==null;){var d=qe;switch(d.tag){case 0:case 11:case 15:Ef(8,d,i)}var f=d.child;if(f!==null)f.return=d,qe=f;else for(;qe!==null;){d=qe;var h=d.sibling,m=d.return;if(y3(d),d===u){qe=null;break}if(h!==null){h.return=m,qe=h;break}qe=m}}}var p=i.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(x!==null)}}qe=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,qe=l;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ef(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,qe=y;break e}qe=i.return}}var b=e.current;for(qe=b;qe!==null;){l=qe;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,qe=v;else e:for(l=b;qe!==null;){if(o=qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ig(9,o)}}catch(N){Ar(o,o.return,N)}if(o===l){qe=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,qe=j;break e}qe=o.return}}if(Tt=s,Mo(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(Jx,e)}catch{}a=!0}return a}finally{Ut=r,Cs.transition=t}}return!1}function oS(e,t,r){t=Zu(r,t),t=o3(e,t,1),e=co(e,t,1),t=hn(),e!==null&&(W0(e,1,t),Tn(e,t))}function Ar(e,t,r){if(e.tag===3)oS(e,e,r);else for(;t!==null;){if(t.tag===3){oS(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(uo===null||!uo.has(a))){e=Zu(r,e),e=c3(t,e,1),t=co(t,e,1),e=hn(),t!==null&&(W0(t,1,e),Tn(t,e));break}}t=t.return}}function u7(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=hn(),e.pingedLanes|=e.suspendedLanes&r,ba===e&&(Oa&r)===r&&(aa===4||aa===3&&(Oa&130023424)===Oa&&500>$r()-jj?pc(e,0):wj|=r),Tn(e,t)}function T3(e,t){t===0&&(e.mode&1?(t=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):t=1);var r=hn();e=bl(e,t),e!==null&&(W0(e,t,r),Tn(e,r))}function d7(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),T3(e,r)}function f7(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Ae(314))}a!==null&&a.delete(t),T3(e,r)}var A3;A3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cn.current)_n=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _n=!1,Z9(e,t,r);_n=!!(e.flags&131072)}else _n=!1,dr&&t.flags&1048576&&FP(t,yp,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Lm(e,t),e=t.pendingProps;var s=Qu(t,Ja.current);Ru(t,r),s=pj(null,t,a,e,s,r);var i=xj();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,En(a)?(i=!0,gp(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uj(t),s.updater=sg,t.stateNode=s,s._reactInternals=t,$b(t,a,e,r),t=zb(null,t,a,!0,i,r)):(t.tag=0,dr&&i&&aj(t),ln(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Lm(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=m7(a),e=Gs(a,e),s){case 0:t=Ub(null,t,a,e,r);break e;case 1:t=J_(null,t,a,e,r);break e;case 11:t=X_(null,t,a,e,r);break e;case 14:t=Y_(null,t,a,Gs(a.type,e),r);break e}throw Error(Ae(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Gs(a,s),Ub(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Gs(a,s),J_(e,t,a,s,r);case 3:e:{if(h3(t),e===null)throw Error(Ae(387));a=t.pendingProps,i=t.memoizedState,s=i.element,BP(e,t),jp(t,a,null,r);var l=t.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Zu(Error(Ae(423)),t),t=Z_(e,t,a,r,s);break e}else if(a!==s){s=Zu(Error(Ae(424)),t),t=Z_(e,t,a,r,s);break e}else for(Qn=oo(t.stateNode.containerInfo.firstChild),Xn=t,dr=!0,Js=null,r=LP(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xu(),a===s){t=wl(e,t,r);break e}ln(e,t,a,r)}t=t.child}return t;case 5:return UP(t),e===null&&Rb(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,Pb(a,s)?l=null:i!==null&&Pb(a,i)&&(t.flags|=32),f3(e,t),ln(e,t,l,r),t.child;case 6:return e===null&&Rb(t),null;case 13:return m3(e,t,r);case 4:return dj(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Yu(t,null,a,r):ln(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Gs(a,s),X_(e,t,a,s,r);case 7:return ln(e,t,t.pendingProps,r),t.child;case 8:return ln(e,t,t.pendingProps.children,r),t.child;case 12:return ln(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,Yt(bp,a._currentValue),a._currentValue=l,i!==null)if(mi(i.value,l)){if(i.children===s.children&&!Cn.current){t=wl(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=ul(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Mb(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Ae(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Mb(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ln(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Ru(t,r),s=Os(s),a=a(s),t.flags|=1,ln(e,t,a,r),t.child;case 14:return a=t.type,s=Gs(a,t.pendingProps),s=Gs(a.type,s),Y_(e,t,a,s,r);case 15:return u3(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Gs(a,s),Lm(e,t),t.tag=1,En(a)?(e=!0,gp(t)):e=!1,Ru(t,r),l3(t,a,s),$b(t,a,s,r),zb(null,t,a,!0,e,r);case 19:return p3(e,t,r);case 22:return d3(e,t,r)}throw Error(Ae(156,t.tag))};function P3(e,t){return nP(e,t)}function h7(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(e,t,r,a){return new h7(e,t,r,a)}function Sj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m7(e){if(typeof e=="function")return Sj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hw)return 11;if(e===qw)return 14}return 2}function ho(e,t){var r=e.alternate;return r===null?(r=_s(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Um(e,t,r,a,s,i){var l=2;if(a=e,typeof e=="function")Sj(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case gu:return xc(r.children,s,i,t);case Vw:l=8,s|=8;break;case cb:return e=_s(12,r,t,s|2),e.elementType=cb,e.lanes=i,e;case ub:return e=_s(13,r,t,s),e.elementType=ub,e.lanes=i,e;case db:return e=_s(19,r,t,s),e.elementType=db,e.lanes=i,e;case UA:return og(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $A:l=10;break e;case BA:l=9;break e;case Hw:l=11;break e;case qw:l=14;break e;case Wl:l=16,a=null;break e}throw Error(Ae(130,e==null?e:typeof e,""))}return t=_s(l,r,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function xc(e,t,r,a){return e=_s(7,e,a,t),e.lanes=r,e}function og(e,t,r,a){return e=_s(22,e,a,t),e.elementType=UA,e.lanes=r,e.stateNode={isHidden:!1},e}function cy(e,t,r){return e=_s(6,e,null,t),e.lanes=r,e}function uy(e,t,r){return t=_s(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p7(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vv(0),this.expirationTimes=Vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vv(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cj(e,t,r,a,s,i,l,o,c){return e=new p7(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_s(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uj(i),e}function x7(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xu,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function O3(e){if(!e)return jo;e=e._reactInternals;e:{if(Xc(e)!==e||e.tag!==1)throw Error(Ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(En(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ae(171))}if(e.tag===1){var r=e.type;if(En(r))return OP(e,r,t)}return t}function D3(e,t,r,a,s,i,l,o,c){return e=Cj(r,a,!0,e,s,i,l,o,c),e.context=O3(null),r=e.current,a=hn(),s=fo(r),i=ul(a,s),i.callback=t??null,co(r,i,s),e.current.lanes=s,W0(e,s,a),Tn(e,a),e}function cg(e,t,r,a){var s=t.current,i=hn(),l=fo(s);return r=O3(r),t.context===null?t.context=r:t.pendingContext=r,t=ul(i,l),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=co(s,t,l),e!==null&&(ci(e,s,l,i),Im(e,s,l)),l}function Ap(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ej(e,t){cS(e,t),(e=e.alternate)&&cS(e,t)}function g7(){return null}var F3=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tj(e){this._internalRoot=e}ug.prototype.render=Tj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ae(409));cg(e,t,null,null)};ug.prototype.unmount=Tj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fc(function(){cg(null,e,null,null)}),t[yl]=null}};function ug(e){this._internalRoot=e}ug.prototype.unstable_scheduleHydration=function(e){if(e){var t=dP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gl.length&&t!==0&&t<Gl[r].priority;r++);Gl.splice(r,0,e),r===0&&hP(e)}};function Aj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uS(){}function v7(e,t,r,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var u=Ap(l);i.call(u)}}var l=D3(t,a,e,0,null,!1,!1,"",uS);return e._reactRootContainer=l,e[yl]=l.current,e0(e.nodeType===8?e.parentNode:e),Fc(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var o=a;a=function(){var u=Ap(c);o.call(u)}}var c=Cj(e,0,!1,null,null,!1,!1,"",uS);return e._reactRootContainer=c,e[yl]=c.current,e0(e.nodeType===8?e.parentNode:e),Fc(function(){cg(t,c,r,a)}),c}function fg(e,t,r,a,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=Ap(l);o.call(c)}}cg(t,l,e,s)}else l=v7(r,t,e,s,a);return Ap(l)}cP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mf(t.pendingLanes);r!==0&&(Qw(t,r|1),Tn(t,$r()),!(Tt&6)&&(ed=$r()+500,Mo()))}break;case 13:Fc(function(){var a=bl(e,1);if(a!==null){var s=hn();ci(a,e,1,s)}}),Ej(e,1)}};Xw=function(e){if(e.tag===13){var t=bl(e,134217728);if(t!==null){var r=hn();ci(t,e,134217728,r)}Ej(e,134217728)}};uP=function(e){if(e.tag===13){var t=fo(e),r=bl(e,t);if(r!==null){var a=hn();ci(r,e,t,a)}Ej(e,t)}};dP=function(){return Ut};fP=function(e,t){var r=Ut;try{return Ut=e,t()}finally{Ut=r}};wb=function(e,t,r){switch(t){case"input":if(mb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=rg(a);if(!s)throw Error(Ae(90));WA(a),mb(a,s)}}}break;case"textarea":HA(e,r);break;case"select":t=r.value,t!=null&&Ou(e,!!r.multiple,t,!1)}};JA=Nj;ZA=Fc;var y7={usingClientEntryPoint:!1,Events:[H0,wu,rg,XA,YA,Nj]},Jd={findFiberByHostInstance:ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b7={bundleType:Jd.bundleType,version:Jd.version,rendererPackageName:Jd.rendererPackageName,rendererConfig:Jd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:El.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rP(e),e===null?null:e.stateNode},findFiberByHostInstance:Jd.findFiberByHostInstance||g7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Jx=Kh.inject(b7),Fi=Kh}catch{}}as.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y7;as.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aj(t))throw Error(Ae(200));return x7(e,t,null,r)};as.createRoot=function(e,t){if(!Aj(e))throw Error(Ae(299));var r=!1,a="",s=F3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cj(e,1,!1,null,null,r,!1,a,s),e[yl]=t.current,e0(e.nodeType===8?e.parentNode:e),new Tj(t)};as.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ae(188)):(e=Object.keys(e).join(","),Error(Ae(268,e)));return e=rP(t),e=e===null?null:e.stateNode,e};as.flushSync=function(e){return Fc(e)};as.hydrate=function(e,t,r){if(!dg(t))throw Error(Ae(200));return fg(null,e,t,!0,r)};as.hydrateRoot=function(e,t,r){if(!Aj(e))throw Error(Ae(405));var a=r!=null&&r.hydratedSources||null,s=!1,i="",l=F3;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=D3(t,null,e,1,r??null,s,!1,i,l),e[yl]=t.current,e0(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ug(t)};as.render=function(e,t,r){if(!dg(t))throw Error(Ae(200));return fg(null,e,t,!1,r)};as.unmountComponentAtNode=function(e){if(!dg(e))throw Error(Ae(40));return e._reactRootContainer?(Fc(function(){fg(null,null,e,!1,function(){e._reactRootContainer=null,e[yl]=null})}),!0):!1};as.unstable_batchedUpdates=Nj;as.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!dg(r))throw Error(Ae(200));if(e==null||e._reactInternals===void 0)throw Error(Ae(38));return fg(e,t,r,!1,a)};as.version="18.3.1-next-f1338f8080-20240426";function I3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I3)}catch(e){console.error(e)}}I3(),IA.exports=as;var hg=IA.exports;const w7=Ms(hg);var dS=hg;lb.createRoot=dS.createRoot,lb.hydrateRoot=dS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c0.apply(this,arguments)}var to;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(to||(to={}));const fS="popstate";function j7(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:l,hash:o}=a.location;return e1("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Pp(s)}return k7(t,r,null,e)}function kr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N7(){return Math.random().toString(36).substr(2,8)}function hS(e,t){return{usr:e.state,key:e.key,idx:t}}function e1(e,t,r,a){return r===void 0&&(r=null),c0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bd(t):t,{state:r,key:t&&t.key||a||N7()})}function Pp(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function bd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function k7(e,t,r,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,l=s.history,o=to.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(c0({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){o=to.Pop;let g=d(),y=g==null?null:g-u;u=g,c&&c({action:o,location:x.location,delta:y})}function h(g,y){o=to.Push;let b=e1(x.location,g,y);u=d()+1;let v=hS(b,u),j=x.createHref(b);try{l.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}i&&c&&c({action:o,location:x.location,delta:1})}function m(g,y){o=to.Replace;let b=e1(x.location,g,y);u=d();let v=hS(b,u),j=x.createHref(b);l.replaceState(v,"",j),i&&c&&c({action:o,location:x.location,delta:0})}function p(g){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof g=="string"?g:Pp(g);return b=b.replace(/ $/,"%20"),kr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let x={get action(){return o},get location(){return e(s,l)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fS,f),c=g,()=>{s.removeEventListener(fS,f),c=null}},createHref(g){return t(s,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(g){return l.go(g)}};return x}var mS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mS||(mS={}));function _7(e,t,r){return r===void 0&&(r="/"),S7(e,t,r)}function S7(e,t,r,a){let s=typeof t=="string"?bd(t):t,i=td(s.pathname||"/",r);if(i==null)return null;let l=M3(e);C7(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=L7(i);o=R7(l[c],u)}return o}function M3(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(kr(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=mo([a,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(kr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),M3(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:F7(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of L3(i.path))s(i,l,c)}),t}function L3(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let l=L3(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function C7(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:I7(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const E7=/^:[\w-]+$/,T7=3,A7=2,P7=1,O7=10,D7=-2,pS=e=>e==="*";function F7(e,t){let r=e.split("/"),a=r.length;return r.some(pS)&&(a+=D7),t&&(a+=A7),r.filter(s=>!pS(s)).reduce((s,i)=>s+(E7.test(i)?T7:i===""?P7:O7),a)}function I7(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function R7(e,t,r){let{routesMeta:a}=e,s={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],u=o===a.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=t1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:mo([i,f.pathname]),pathnameBase:z7(mo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=mo([i,f.pathnameBase]))}return l}function t1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=M7(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:a.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=o[f]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function M7(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),R3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function L7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return R3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function td(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function $7(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?bd(e):e;return{pathname:r?r.startsWith("/")?r:B7(r,t):t,search:W7(a),hash:V7(s)}}function B7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function dy(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Pj(e,t){let r=U7(e);return t?r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Oj(e,t,r,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=bd(e):(s=c0({},e),kr(!s.pathname||!s.pathname.includes("?"),dy("?","pathname","search",s)),kr(!s.pathname||!s.pathname.includes("#"),dy("#","pathname","hash",s)),kr(!s.search||!s.search.includes("#"),dy("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=r;else{let f=t.length-1;if(!a&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=$7(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const mo=e=>e.join("/").replace(/\/\/+/g,"/"),z7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $3=["post","put","patch","delete"];new Set($3);const q7=["get",...$3];new Set(q7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u0.apply(this,arguments)}const mg=w.createContext(null),B3=w.createContext(null),Tl=w.createContext(null),pg=w.createContext(null),Wi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),U3=w.createContext(null);function K7(e,t){let{relative:r}=t===void 0?{}:t;wd()||kr(!1);let{basename:a,navigator:s}=w.useContext(Tl),{hash:i,pathname:l,search:o}=xg(e,{relative:r}),c=l;return a!=="/"&&(c=l==="/"?a:mo([a,l])),s.createHref({pathname:c,search:o,hash:i})}function wd(){return w.useContext(pg)!=null}function Yc(){return wd()||kr(!1),w.useContext(pg).location}function z3(e){w.useContext(Tl).static||w.useLayoutEffect(e)}function Vi(){let{isDataRoute:e}=w.useContext(Wi);return e?o$():G7()}function G7(){wd()||kr(!1);let e=w.useContext(mg),{basename:t,future:r,navigator:a}=w.useContext(Tl),{matches:s}=w.useContext(Wi),{pathname:i}=Yc(),l=JSON.stringify(Pj(s,r.v7_relativeSplatPath)),o=w.useRef(!1);return z3(()=>{o.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){a.go(u);return}let f=Oj(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:mo([t,f.pathname])),(d.replace?a.replace:a.push)(f,d.state,d)},[t,a,l,i,e])}const Q7=w.createContext(null);function X7(e){let t=w.useContext(Wi).outlet;return t&&w.createElement(Q7.Provider,{value:e},t)}function K0(){let{matches:e}=w.useContext(Wi),t=e[e.length-1];return t?t.params:{}}function xg(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=w.useContext(Tl),{matches:s}=w.useContext(Wi),{pathname:i}=Yc(),l=JSON.stringify(Pj(s,a.v7_relativeSplatPath));return w.useMemo(()=>Oj(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function Y7(e,t){return J7(e,t)}function J7(e,t,r,a){wd()||kr(!1);let{navigator:s}=w.useContext(Tl),{matches:i}=w.useContext(Wi),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Yc(),d;if(t){var f;let g=typeof t=="string"?bd(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||kr(!1),d=g}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=_7(e,{pathname:m}),x=a$(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:mo([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:mo([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,a);return t&&x?w.createElement(pg.Provider,{value:{location:u0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:to.Pop}},x):x}function Z7(){let e=l$(),t=H7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,null)}const e$=w.createElement(Z7,null);class t$ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Wi.Provider,{value:this.props.routeContext},w.createElement(U3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r$(e){let{routeContext:t,match:r,children:a}=e,s=w.useContext(mg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Wi.Provider,{value:t},a)}function a$(e,t,r,a){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||kr(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,h)=>{let m,p=!1,x=null,g=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||e$,c&&(u<0&&h===0?(c$("route-fallback"),p=!0,g=null):u===h&&(p=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,h+1)),b=()=>{let v;return m?v=x:p?v=g:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(r$,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(t$,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var W3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(W3||{}),V3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(V3||{});function n$(e){let t=w.useContext(mg);return t||kr(!1),t}function s$(e){let t=w.useContext(B3);return t||kr(!1),t}function i$(e){let t=w.useContext(Wi);return t||kr(!1),t}function H3(e){let t=i$(),r=t.matches[t.matches.length-1];return r.route.id||kr(!1),r.route.id}function l$(){var e;let t=w.useContext(U3),r=s$(),a=H3();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function o$(){let{router:e}=n$(W3.UseNavigateStable),t=H3(V3.UseNavigateStable),r=w.useRef(!1);return z3(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,u0({fromRouteId:t},i)))},[e,t])}const xS={};function c$(e,t,r){xS[e]||(xS[e]=!0)}function u$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gh(e){let{to:t,replace:r,state:a,relative:s}=e;wd()||kr(!1);let{future:i,static:l}=w.useContext(Tl),{matches:o}=w.useContext(Wi),{pathname:c}=Yc(),u=Vi(),d=Oj(t,Pj(o,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:a,relative:s}),[u,f,s,r,a]),null}function d$(e){return X7(e.context)}function Et(e){kr(!1)}function f$(e){let{basename:t="/",children:r=null,location:a,navigationType:s=to.Pop,navigator:i,static:l=!1,future:o}=e;wd()&&kr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:l,future:u0({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=bd(a));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=a,x=w.useMemo(()=>{let g=td(d,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:p},navigationType:s}},[c,d,f,h,m,p,s]);return x==null?null:w.createElement(Tl.Provider,{value:u},w.createElement(pg.Provider,{children:r,value:x}))}function h$(e){let{children:t,location:r}=e;return Y7(r1(t),r)}new Promise(()=>{});function r1(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(a,s)=>{if(!w.isValidElement(a))return;let i=[...t,s];if(a.type===w.Fragment){r.push.apply(r,r1(a.props.children,i));return}a.type!==Et&&kr(!1),!a.props.index||!a.props.children||kr(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=r1(a.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Op.apply(this,arguments)}function q3(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function m$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p$(e,t){return e.button===0&&(!t||t==="_self")&&!m$(e)}const x$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v$="6";try{window.__reactRouterVersion=v$}catch{}const y$=w.createContext({isTransitioning:!1}),b$="startTransition",gS=DA[b$];function w$(e){let{basename:t,children:r,future:a,window:s}=e,i=w.useRef();i.current==null&&(i.current=j7({window:s,v5Compat:!0}));let l=i.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},d=w.useCallback(f=>{u&&gS?gS(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>l.listen(d),[l,d]),w.useEffect(()=>u$(a),[a]),w.createElement(f$,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:a})}const j$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,No=w.forwardRef(function(t,r){let{onClick:a,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=q3(t,x$),{basename:m}=w.useContext(Tl),p,x=!1;if(typeof u=="string"&&N$.test(u)&&(p=u,j$))try{let v=new URL(window.location.href),j=u.startsWith("//")?new URL(v.protocol+u):new URL(u),N=td(j.pathname,m);j.origin===v.origin&&N!=null?u=N+j.search+j.hash:x=!0}catch{}let g=K7(u,{relative:s}),y=_$(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(v){a&&a(v),v.defaultPrevented||y(v)}return w.createElement("a",Op({},h,{href:p||g,onClick:x||i?a:b,ref:r,target:c}))}),vS=w.forwardRef(function(t,r){let{"aria-current":a="page",caseSensitive:s=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:u,children:d}=t,f=q3(t,g$),h=xg(c,{relative:f.relative}),m=Yc(),p=w.useContext(B3),{navigator:x,basename:g}=w.useContext(Tl),y=p!=null&&S$(h)&&u===!0,b=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,v=m.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(v=v.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&g&&(j=td(j,g)||j);const N=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=v===b||!l&&v.startsWith(b)&&v.charAt(N)==="/",_=j!=null&&(j===b||!l&&j.startsWith(b)&&j.charAt(b.length)==="/"),S={isActive:k,isPending:_,isTransitioning:y},T=k?a:void 0,C;typeof i=="function"?C=i(S):C=[i,k?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(S):o;return w.createElement(No,Op({},f,{"aria-current":T,className:C,ref:r,style:E,to:c,viewTransition:u}),typeof d=="function"?d(S):d)});var a1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(a1||(a1={}));var yS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yS||(yS={}));function k$(e){let t=w.useContext(mg);return t||kr(!1),t}function _$(e,t){let{target:r,replace:a,state:s,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=Vi(),u=Yc(),d=xg(e,{relative:l});return w.useCallback(f=>{if(p$(f,r)){f.preventDefault();let h=a!==void 0?a:Pp(u)===Pp(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,d,a,s,r,e,i,l,o])}function S$(e,t){t===void 0&&(t={});let r=w.useContext(y$);r==null&&kr(!1);let{basename:a}=k$(a1.useViewTransitionState),s=xg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=td(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=td(r.nextLocation.pathname,a)||r.nextLocation.pathname;return t1(s.pathname,l)!=null||t1(s.pathname,i)!=null}function n1(e,t){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},n1(e,t)}function jd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n1(e,t)}var Nd=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(a){var s=this,i=a||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(l){return l!==i}),s.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gt.apply(null,arguments)}var Dp=typeof window>"u";function Ca(){}function C$(e,t){return typeof e=="function"?e(t):e}function s1(e){return typeof e=="number"&&e>=0&&e!==1/0}function Fp(e){return Array.isArray(e)?e:[e]}function K3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zm(e,t,r){return G0(e)?typeof t=="function"?gt({},r,{queryKey:e,queryFn:t}):gt({},t,{queryKey:e}):e}function E$(e,t,r){return G0(e)?typeof t=="function"?gt({},r,{mutationKey:e,mutationFn:t}):gt({},t,{mutationKey:e}):typeof e=="function"?gt({},t,{mutationFn:e}):gt({},e)}function Hl(e,t,r){return G0(e)?[gt({},t,{queryKey:e}),r]:[e||{},t]}function T$(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var r=e??!t;return r?"active":"inactive"}function bS(e,t){var r=e.active,a=e.exact,s=e.fetching,i=e.inactive,l=e.predicate,o=e.queryKey,c=e.stale;if(G0(o)){if(a){if(t.queryHash!==Dj(o,t.options))return!1}else if(!Ip(t.queryKey,o))return!1}var u=T$(r,i);if(u==="none")return!1;if(u!=="all"){var d=t.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof s=="boolean"&&t.isFetching()!==s||l&&!l(t))}function wS(e,t){var r=e.exact,a=e.fetching,s=e.predicate,i=e.mutationKey;if(G0(i)){if(!t.options.mutationKey)return!1;if(r){if(ic(t.options.mutationKey)!==ic(i))return!1}else if(!Ip(t.options.mutationKey,i))return!1}return!(typeof a=="boolean"&&t.state.status==="loading"!==a||s&&!s(t))}function Dj(e,t){var r=(t==null?void 0:t.queryKeyHashFn)||ic;return r(e)}function ic(e){var t=Fp(e);return A$(t)}function A$(e){return JSON.stringify(e,function(t,r){return i1(r)?Object.keys(r).sort().reduce(function(a,s){return a[s]=r[s],a},{}):r})}function Ip(e,t){return G3(Fp(e),Fp(t))}function G3(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(r){return!G3(e[r],t[r])}):!1}function Rp(e,t){if(e===t)return e;var r=Array.isArray(e)&&Array.isArray(t);if(r||i1(e)&&i1(t)){for(var a=r?e.length:Object.keys(e).length,s=r?t:Object.keys(t),i=s.length,l=r?[]:{},o=0,c=0;c<i;c++){var u=r?c:s[c];l[u]=Rp(e[u],t[u]),l[u]===e[u]&&o++}return a===i&&o===a?e:l}return t}function P$(e,t){if(e&&!t||t&&!e)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function i1(e){if(!jS(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var r=t.prototype;return!(!jS(r)||!r.hasOwnProperty("isPrototypeOf"))}function jS(e){return Object.prototype.toString.call(e)==="[object Object]"}function G0(e){return typeof e=="string"||Array.isArray(e)}function O$(e){return new Promise(function(t){setTimeout(t,e)})}function NS(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function Q3(){if(typeof AbortController=="function")return new AbortController}var D$=function(e){jd(t,e);function t(){var a;return a=e.call(this)||this,a.setup=function(s){var i;if(!Dp&&((i=window)!=null&&i.addEventListener)){var l=function(){return s()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},a}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},r.setEventListener=function(s){var i,l=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(o){typeof o=="boolean"?l.setFocused(o):l.onFocus()})},r.setFocused=function(s){this.focused=s,s&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(s){s()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(Nd),Pf=new D$,F$=function(e){jd(t,e);function t(){var a;return a=e.call(this)||this,a.setup=function(s){var i;if(!Dp&&((i=window)!=null&&i.addEventListener)){var l=function(){return s()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},a}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},r.setEventListener=function(s){var i,l=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(o){typeof o=="boolean"?l.setOnline(o):l.onOnline()})},r.setOnline=function(s){this.online=s,s&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(s){s()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(Nd),Wm=new F$;function I$(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Mp(e){return typeof(e==null?void 0:e.cancel)=="function"}var X3=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Vm(e){return e instanceof X3}var Y3=function(t){var r=this,a=!1,s,i,l,o;this.abort=t.abort,this.cancel=function(h){return s==null?void 0:s(h)},this.cancelRetry=function(){a=!0},this.continueRetry=function(){a=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,m){l=h,o=m});var c=function(m){r.isResolved||(r.isResolved=!0,t.onSuccess==null||t.onSuccess(m),i==null||i(),l(m))},u=function(m){r.isResolved||(r.isResolved=!0,t.onError==null||t.onError(m),i==null||i(),o(m))},d=function(){return new Promise(function(m){i=m,r.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,r.isPaused=!1,t.onContinue==null||t.onContinue()})},f=function h(){if(!r.isResolved){var m;try{m=t.fn()}catch(p){m=Promise.reject(p)}s=function(x){if(!r.isResolved&&(u(new X3(x)),r.abort==null||r.abort(),Mp(m)))try{m.cancel()}catch{}},r.isTransportCancelable=Mp(m),Promise.resolve(m).then(c).catch(function(p){var x,g;if(!r.isResolved){var y=(x=t.retry)!=null?x:3,b=(g=t.retryDelay)!=null?g:I$,v=typeof b=="function"?b(r.failureCount,p):b,j=y===!0||typeof y=="number"&&r.failureCount<y||typeof y=="function"&&y(r.failureCount,p);if(a||!j){u(p);return}r.failureCount++,t.onFail==null||t.onFail(r.failureCount,p),O$(v).then(function(){if(!Pf.isFocused()||!Wm.isOnline())return d()}).then(function(){a?u(p):h()})}})}};f()},R$=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var t=e.prototype;return t.batch=function(a){var s;this.transactions++;try{s=a()}finally{this.transactions--,this.transactions||this.flush()}return s},t.schedule=function(a){var s=this;this.transactions?this.queue.push(a):NS(function(){s.notifyFn(a)})},t.batchCalls=function(a){var s=this;return function(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];s.schedule(function(){a.apply(void 0,l)})}},t.flush=function(){var a=this,s=this.queue;this.queue=[],s.length&&NS(function(){a.batchNotifyFn(function(){s.forEach(function(i){a.notifyFn(i)})})})},t.setNotifyFunction=function(a){this.notifyFn=a},t.setBatchNotifyFunction=function(a){this.batchNotifyFn=a},e}(),ur=new R$,J3=console;function Lp(){return J3}function M$(e){J3=e}var L$=function(){function e(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(a){var s;this.options=gt({},this.defaultOptions,a),this.meta=a==null?void 0:a.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},t.setDefaultOptions=function(a){this.defaultOptions=a},t.scheduleGc=function(){var a=this;this.clearGcTimeout(),s1(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){a.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(a,s){var i,l,o=this.state.data,c=C$(a,o);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,o,c)?c=o:this.options.structuralSharing!==!1&&(c=Rp(o,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),c},t.setState=function(a,s){this.dispatch({type:"setState",state:a,setStateOptions:s})},t.cancel=function(a){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(a),i?i.then(Ca).catch(Ca):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(a){return a.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(a){return a.getCurrentResult().isStale})},t.isStaleByTime=function(a){return a===void 0&&(a=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!K3(this.state.dataUpdatedAt,a)},t.onFocus=function(){var a,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(a=this.retryer)==null||a.continue()},t.onOnline=function(){var a,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(a=this.retryer)==null||a.continue()},t.addObserver=function(a){this.observers.indexOf(a)===-1&&(this.observers.push(a),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:a}))},t.removeObserver=function(a){this.observers.indexOf(a)!==-1&&(this.observers=this.observers.filter(function(s){return s!==a}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:a}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(a,s){var i=this,l,o,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(a&&this.setOptions(a),!this.options.queryFn){var d=this.observers.find(function(b){return b.options.queryFn});d&&this.setOptions(d.options)}var f=Fp(this.queryKey),h=Q3(),m={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(h)return i.abortSignalConsumed=!0,h.signal}});var p=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},x={fetchOptions:s,options:this.options,queryKey:f,state:this.state,fetchFn:p,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var g;(g=this.options.behavior)==null||g.onFetch(x)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=x.fetchOptions)==null?void 0:o.meta)){var y;this.dispatch({type:"fetch",meta:(y=x.fetchOptions)==null?void 0:y.meta})}return this.retryer=new Y3({fn:x.fetchFn,abort:h==null||(c=h.abort)==null?void 0:c.bind(h),onSuccess:function(v){i.setData(v),i.cache.config.onSuccess==null||i.cache.config.onSuccess(v,i),i.cacheTime===0&&i.optionalRemove()},onError:function(v){Vm(v)&&v.silent||i.dispatch({type:"error",error:v}),Vm(v)||(i.cache.config.onError==null||i.cache.config.onError(v,i),Lp().error(v)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(a){var s=this;this.state=this.reducer(this.state,a),ur.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(a)}),s.cache.notify({query:s,type:"queryUpdated",action:a})})},t.getDefaultState=function(a){var s=typeof a.initialData=="function"?a.initialData():a.initialData,i=typeof a.initialData<"u",l=i?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0,o=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:o?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},t.reducer=function(a,s){var i,l;switch(s.type){case"failed":return gt({},a,{fetchFailureCount:a.fetchFailureCount+1});case"pause":return gt({},a,{isPaused:!0});case"continue":return gt({},a,{isPaused:!1});case"fetch":return gt({},a,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!a.dataUpdatedAt&&{error:null,status:"loading"});case"success":return gt({},a,{data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:(l=s.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=s.error;return Vm(o)&&o.revert&&this.revertState?gt({},this.revertState):gt({},a,{error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return gt({},a,{isInvalidated:!0});case"setState":return gt({},a,s.state);default:return a}},e}(),$$=function(e){jd(t,e);function t(a){var s;return s=e.call(this)||this,s.config=a||{},s.queries=[],s.queriesMap={},s}var r=t.prototype;return r.build=function(s,i,l){var o,c=i.queryKey,u=(o=i.queryHash)!=null?o:Dj(c,i),d=this.get(u);return d||(d=new L$({cache:this,queryKey:c,queryHash:u,options:s.defaultQueryOptions(i),state:l,defaultOptions:s.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},r.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},r.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(l){return l!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},r.clear=function(){var s=this;ur.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},r.get=function(s){return this.queriesMap[s]},r.getAll=function(){return this.queries},r.find=function(s,i){var l=Hl(s,i),o=l[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(c){return bS(o,c)})},r.findAll=function(s,i){var l=Hl(s,i),o=l[0];return Object.keys(o).length>0?this.queries.filter(function(c){return bS(o,c)}):this.queries},r.notify=function(s){var i=this;ur.batch(function(){i.listeners.forEach(function(l){l(s)})})},r.onFocus=function(){var s=this;ur.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},r.onOnline=function(){var s=this;ur.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},t}(Nd),B$=function(){function e(r){this.options=gt({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||Z3(),this.meta=r.meta}var t=e.prototype;return t.setState=function(a){this.dispatch({type:"setState",state:a})},t.addObserver=function(a){this.observers.indexOf(a)===-1&&this.observers.push(a)},t.removeObserver=function(a){this.observers=this.observers.filter(function(s){return s!==a})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Ca).catch(Ca)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var a=this,s,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){a.mutationCache.config.onMutate==null||a.mutationCache.config.onMutate(a.state.variables,a)}).then(function(){return a.options.onMutate==null?void 0:a.options.onMutate(a.state.variables)}).then(function(o){o!==a.state.context&&a.dispatch({type:"loading",context:o,variables:a.state.variables})})),l.then(function(){return a.executeMutation()}).then(function(o){s=o,a.mutationCache.config.onSuccess==null||a.mutationCache.config.onSuccess(s,a.state.variables,a.state.context,a)}).then(function(){return a.options.onSuccess==null?void 0:a.options.onSuccess(s,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(s,null,a.state.variables,a.state.context)}).then(function(){return a.dispatch({type:"success",data:s}),s}).catch(function(o){return a.mutationCache.config.onError==null||a.mutationCache.config.onError(o,a.state.variables,a.state.context,a),Lp().error(o),Promise.resolve().then(function(){return a.options.onError==null?void 0:a.options.onError(o,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(void 0,o,a.state.variables,a.state.context)}).then(function(){throw a.dispatch({type:"error",error:o}),o})})},t.executeMutation=function(){var a=this,s;return this.retryer=new Y3({fn:function(){return a.options.mutationFn?a.options.mutationFn(a.state.variables):Promise.reject("No mutationFn found")},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(a){var s=this;this.state=U$(this.state,a),ur.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(a)}),s.mutationCache.notify(s)})},e}();function Z3(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function U$(e,t){switch(t.type){case"failed":return gt({},e,{failureCount:e.failureCount+1});case"pause":return gt({},e,{isPaused:!0});case"continue":return gt({},e,{isPaused:!1});case"loading":return gt({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return gt({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return gt({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return gt({},e,t.state);default:return e}}var z$=function(e){jd(t,e);function t(a){var s;return s=e.call(this)||this,s.config=a||{},s.mutations=[],s.mutationId=0,s}var r=t.prototype;return r.build=function(s,i,l){var o=new B$({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(o),o},r.add=function(s){this.mutations.push(s),this.notify(s)},r.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},r.clear=function(){var s=this;ur.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},r.getAll=function(){return this.mutations},r.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return wS(s,i)})},r.findAll=function(s){return this.mutations.filter(function(i){return wS(s,i)})},r.notify=function(s){var i=this;ur.batch(function(){i.listeners.forEach(function(l){l(s)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return ur.batch(function(){return s.reduce(function(i,l){return i.then(function(){return l.continue().catch(Ca)})},Promise.resolve())})},t}(Nd);function W$(){return{onFetch:function(t){t.fetchFn=function(){var r,a,s,i,l,o,c=(r=t.fetchOptions)==null||(a=r.meta)==null?void 0:a.refetchPage,u=(s=t.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,d=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",m=((l=t.state.data)==null?void 0:l.pages)||[],p=((o=t.state.data)==null?void 0:o.pageParams)||[],x=Q3(),g=x==null?void 0:x.signal,y=p,b=!1,v=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},j=function(V,ae,q,R){return y=R?[ae].concat(y):[].concat(y,[ae]),R?[q].concat(V):[].concat(V,[q])},N=function(V,ae,q,R){if(b)return Promise.reject("Cancelled");if(typeof q>"u"&&!ae&&V.length)return Promise.resolve(V);var P={queryKey:t.queryKey,signal:g,pageParam:q,meta:t.meta},B=v(P),te=Promise.resolve(B).then(function(F){return j(V,q,F,R)});if(Mp(B)){var H=te;H.cancel=B.cancel}return te},k;if(!m.length)k=N([]);else if(f){var _=typeof d<"u",S=_?d:kS(t.options,m);k=N(m,_,S)}else if(h){var T=typeof d<"u",C=T?d:V$(t.options,m);k=N(m,T,C,!0)}else(function(){y=[];var U=typeof t.options.getNextPageParam>"u",V=c&&m[0]?c(m[0],0,m):!0;k=V?N([],U,p[0]):Promise.resolve(j([],p[0],m[0]));for(var ae=function(P){k=k.then(function(B){var te=c&&m[P]?c(m[P],P,m):!0;if(te){var H=U?p[P]:kS(t.options,B);return N(B,U,H)}return Promise.resolve(j(B,p[P],m[P]))})},q=1;q<m.length;q++)ae(q)})();var E=k.then(function(U){return{pages:U,pageParams:y}}),A=E;return A.cancel=function(){b=!0,x==null||x.abort(),Mp(k)&&k.cancel()},E}}}}function kS(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function V$(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var H$=function(){function e(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new $$,this.mutationCache=r.mutationCache||new z$,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var a=this;this.unsubscribeFocus=Pf.subscribe(function(){Pf.isFocused()&&Wm.isOnline()&&(a.mutationCache.onFocus(),a.queryCache.onFocus())}),this.unsubscribeOnline=Wm.subscribe(function(){Pf.isFocused()&&Wm.isOnline()&&(a.mutationCache.onOnline(),a.queryCache.onOnline())})},t.unmount=function(){var a,s;(a=this.unsubscribeFocus)==null||a.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},t.isFetching=function(a,s){var i=Hl(a,s),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},t.isMutating=function(a){return this.mutationCache.findAll(gt({},a,{fetching:!0})).length},t.getQueryData=function(a,s){var i;return(i=this.queryCache.find(a,s))==null?void 0:i.state.data},t.getQueriesData=function(a){return this.getQueryCache().findAll(a).map(function(s){var i=s.queryKey,l=s.state,o=l.data;return[i,o]})},t.setQueryData=function(a,s,i){var l=zm(a),o=this.defaultQueryOptions(l);return this.queryCache.build(this,o).setData(s,i)},t.setQueriesData=function(a,s,i){var l=this;return ur.batch(function(){return l.getQueryCache().findAll(a).map(function(o){var c=o.queryKey;return[c,l.setQueryData(c,s,i)]})})},t.getQueryState=function(a,s){var i;return(i=this.queryCache.find(a,s))==null?void 0:i.state},t.removeQueries=function(a,s){var i=Hl(a,s),l=i[0],o=this.queryCache;ur.batch(function(){o.findAll(l).forEach(function(c){o.remove(c)})})},t.resetQueries=function(a,s,i){var l=this,o=Hl(a,s,i),c=o[0],u=o[1],d=this.queryCache,f=gt({},c,{active:!0});return ur.batch(function(){return d.findAll(c).forEach(function(h){h.reset()}),l.refetchQueries(f,u)})},t.cancelQueries=function(a,s,i){var l=this,o=Hl(a,s,i),c=o[0],u=o[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=ur.batch(function(){return l.queryCache.findAll(c).map(function(h){return h.cancel(d)})});return Promise.all(f).then(Ca).catch(Ca)},t.invalidateQueries=function(a,s,i){var l,o,c,u=this,d=Hl(a,s,i),f=d[0],h=d[1],m=gt({},f,{active:(l=(o=f.refetchActive)!=null?o:f.active)!=null?l:!0,inactive:(c=f.refetchInactive)!=null?c:!1});return ur.batch(function(){return u.queryCache.findAll(f).forEach(function(p){p.invalidate()}),u.refetchQueries(m,h)})},t.refetchQueries=function(a,s,i){var l=this,o=Hl(a,s,i),c=o[0],u=o[1],d=ur.batch(function(){return l.queryCache.findAll(c).map(function(h){return h.fetch(void 0,gt({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),f=Promise.all(d).then(Ca);return u!=null&&u.throwOnError||(f=f.catch(Ca)),f},t.fetchQuery=function(a,s,i){var l=zm(a,s,i),o=this.defaultQueryOptions(l);typeof o.retry>"u"&&(o.retry=!1);var c=this.queryCache.build(this,o);return c.isStaleByTime(o.staleTime)?c.fetch(o):Promise.resolve(c.state.data)},t.prefetchQuery=function(a,s,i){return this.fetchQuery(a,s,i).then(Ca).catch(Ca)},t.fetchInfiniteQuery=function(a,s,i){var l=zm(a,s,i);return l.behavior=W$(),this.fetchQuery(l)},t.prefetchInfiniteQuery=function(a,s,i){return this.fetchInfiniteQuery(a,s,i).then(Ca).catch(Ca)},t.cancelMutations=function(){var a=this,s=ur.batch(function(){return a.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(Ca).catch(Ca)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(a){return this.mutationCache.build(this,a).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(a){this.defaultOptions=a},t.setQueryDefaults=function(a,s){var i=this.queryDefaults.find(function(l){return ic(a)===ic(l.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:a,defaultOptions:s})},t.getQueryDefaults=function(a){var s;return a?(s=this.queryDefaults.find(function(i){return Ip(a,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},t.setMutationDefaults=function(a,s){var i=this.mutationDefaults.find(function(l){return ic(a)===ic(l.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:a,defaultOptions:s})},t.getMutationDefaults=function(a){var s;return a?(s=this.mutationDefaults.find(function(i){return Ip(a,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},t.defaultQueryOptions=function(a){if(a!=null&&a._defaulted)return a;var s=gt({},this.defaultOptions.queries,this.getQueryDefaults(a==null?void 0:a.queryKey),a,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=Dj(s.queryKey,s)),s},t.defaultQueryObserverOptions=function(a){return this.defaultQueryOptions(a)},t.defaultMutationOptions=function(a){return a!=null&&a._defaulted?a:gt({},this.defaultOptions.mutations,this.getMutationDefaults(a==null?void 0:a.mutationKey),a,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),q$=function(e){jd(t,e);function t(a,s){var i;return i=e.call(this)||this,i.client=a,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var r=t.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),_S(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return l1(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return l1(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(s,i){var l=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=l.queryKey),this.updateQuery();var c=this.hasListeners();c&&SS(this.currentQuery,o,this.options,l)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==o||this.options.enabled!==l.enabled||this.options.staleTime!==l.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==o||this.options.enabled!==l.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),l=this.client.getQueryCache().build(this.client,i);return this.createResult(l,i)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(s,i){var l=this,o={},c=function(d){l.trackedProps.includes(d)||l.trackedProps.push(d)};return Object.keys(s).forEach(function(u){Object.defineProperty(o,u,{configurable:!1,enumerable:!0,get:function(){return c(u),s[u]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),o},r.getNextResult=function(s){var i=this;return new Promise(function(l,o){var c=i.subscribe(function(u){u.isFetching||(c(),u.isError&&(s!=null&&s.throwOnError)?o(u.error):l(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(s){return this.fetch(gt({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},r.fetchOptimistic=function(s){var i=this,l=this.client.defaultQueryObserverOptions(s),o=this.client.getQueryCache().build(this.client,l);return o.fetch().then(function(){return i.createResult(o,l)})},r.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},r.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(Ca)),i},r.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(Dp||this.currentResult.isStale||!s1(this.options.staleTime))){var i=K3(this.currentResult.dataUpdatedAt,this.options.staleTime),l=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},l)}},r.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},r.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(Dp||this.options.enabled===!1||!s1(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Pf.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(s,i){var l=this.currentQuery,o=this.options,c=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,f=s!==l,h=f?s.state:this.currentQueryInitialState,m=f?this.currentResult:this.previousQueryResult,p=s.state,x=p.dataUpdatedAt,g=p.error,y=p.errorUpdatedAt,b=p.isFetching,v=p.status,j=!1,N=!1,k;if(i.optimisticResults){var _=this.hasListeners(),S=!_&&_S(s,i),T=_&&SS(s,l,i,o);(S||T)&&(b=!0,x||(v="loading"))}if(i.keepPreviousData&&!p.dataUpdateCount&&(m!=null&&m.isSuccess)&&v!=="error")k=m.data,x=m.dataUpdatedAt,v=m.status,j=!0;else if(i.select&&typeof p.data<"u")if(c&&p.data===(u==null?void 0:u.data)&&i.select===this.selectFn)k=this.selectResult;else try{this.selectFn=i.select,k=i.select(p.data),i.structuralSharing!==!1&&(k=Rp(c==null?void 0:c.data,k)),this.selectResult=k,this.selectError=null}catch(A){Lp().error(A),this.selectError=A}else k=p.data;if(typeof i.placeholderData<"u"&&typeof k>"u"&&(v==="loading"||v==="idle")){var C;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData))C=c.data;else if(C=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof C<"u")try{C=i.select(C),i.structuralSharing!==!1&&(C=Rp(c==null?void 0:c.data,C)),this.selectError=null}catch(A){Lp().error(A),this.selectError=A}typeof C<"u"&&(v="success",k=C,N=!0)}this.selectError&&(g=this.selectError,k=this.selectResult,y=Date.now(),v="error");var E={status:v,isLoading:v==="loading",isSuccess:v==="success",isError:v==="error",isIdle:v==="idle",data:k,dataUpdatedAt:x,error:g,errorUpdatedAt:y,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&v!=="loading",isLoadingError:v==="error"&&p.dataUpdatedAt===0,isPlaceholderData:N,isPreviousData:j,isRefetchError:v==="error"&&p.dataUpdatedAt!==0,isStale:Fj(s,i),refetch:this.refetch,remove:this.remove};return E},r.shouldNotifyListeners=function(s,i){if(!i)return!0;var l=this.options,o=l.notifyOnChangeProps,c=l.notifyOnChangePropsExclusions;if(!o&&!c||o==="tracked"&&!this.trackedProps.length)return!0;var u=o==="tracked"?this.trackedProps:o;return Object.keys(s).some(function(d){var f=d,h=s[f]!==i[f],m=u==null?void 0:u.some(function(x){return x===d}),p=c==null?void 0:c.some(function(x){return x===d});return h&&!p&&(!u||m)})},r.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!P$(this.currentResult,i)){var l={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(l.listeners=!0),this.notify(gt({},l,s))}},r.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},r.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!Vm(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},r.notify=function(s){var i=this;ur.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(l){l(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},t}(Nd);function K$(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _S(e,t){return K$(e,t)||e.state.dataUpdatedAt>0&&l1(e,t,t.refetchOnMount)}function l1(e,t,r){if(t.enabled!==!1){var a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&Fj(e,t)}return!1}function SS(e,t,r,a){return r.enabled!==!1&&(e!==t||a.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&Fj(e,r)}function Fj(e,t){return e.isStaleByTime(t.staleTime)}var G$=function(e){jd(t,e);function t(a,s){var i;return i=e.call(this)||this,i.client=a,i.setOptions(s),i.bindMethods(),i.updateResult(),i}var r=t.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(s){this.options=this.client.defaultMutationOptions(s)},r.onUnsubscribe=function(){if(!this.listeners.length){var s;(s=this.currentMutation)==null||s.removeObserver(this)}},r.onMutationUpdate=function(s){this.updateResult();var i={listeners:!0};s.type==="success"?i.onSuccess=!0:s.type==="error"&&(i.onError=!0),this.notify(i)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(s,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,gt({},this.options,{variables:typeof s<"u"?s:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var s=this.currentMutation?this.currentMutation.state:Z3(),i=gt({},s,{isLoading:s.status==="loading",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},r.notify=function(s){var i=this;ur.batch(function(){i.mutateOptions&&(s.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):s.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),s.listeners&&i.listeners.forEach(function(l){l(i.currentResult)})})},t}(Nd),Q$=w7.unstable_batchedUpdates;ur.setBatchNotifyFunction(Q$);var X$=console;M$(X$);var CS=vt.createContext(void 0),e5=vt.createContext(!1);function t5(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=CS),window.ReactQueryClientContext):CS}var qt=function(){var t=vt.useContext(t5(vt.useContext(e5)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Y$=function(t){var r=t.client,a=t.contextSharing,s=a===void 0?!1:a,i=t.children;vt.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var l=t5(s);return vt.createElement(e5.Provider,{value:s},vt.createElement(l.Provider,{value:r},i))};function J$(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var Z$=vt.createContext(J$()),eB=function(){return vt.useContext(Z$)};function r5(e,t,r){return typeof t=="function"?t.apply(void 0,r):typeof t=="boolean"?t:!!e}function jt(e,t,r){var a=vt.useRef(!1),s=vt.useState(0),i=s[1],l=E$(e,t,r),o=qt(),c=vt.useRef();c.current?c.current.setOptions(l):c.current=new G$(o,l);var u=c.current.getCurrentResult();vt.useEffect(function(){a.current=!0;var f=c.current.subscribe(ur.batchCalls(function(){a.current&&i(function(h){return h+1})}));return function(){a.current=!1,f()}},[]);var d=vt.useCallback(function(f,h){c.current.mutate(f,h).catch(Ca)},[]);if(u.error&&r5(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return gt({},u,{mutate:d,mutateAsync:u.mutate})}function tB(e,t){var r=vt.useRef(!1),a=vt.useState(0),s=a[1],i=qt(),l=eB(),o=i.defaultQueryObserverOptions(e);o.optimisticResults=!0,o.onError&&(o.onError=ur.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=ur.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=ur.batchCalls(o.onSettled)),o.suspense&&(typeof o.staleTime!="number"&&(o.staleTime=1e3),o.cacheTime===0&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(l.isReset()||(o.retryOnMount=!1));var c=vt.useState(function(){return new t(i,o)}),u=c[0],d=u.getOptimisticResult(o);if(vt.useEffect(function(){r.current=!0,l.clearReset();var f=u.subscribe(ur.batchCalls(function(){r.current&&s(function(h){return h+1})}));return u.updateResult(),function(){r.current=!1,f()}},[l,u]),vt.useEffect(function(){u.setOptions(o,{listeners:!1})},[o,u]),o.suspense&&d.isLoading)throw u.fetchOptimistic(o).then(function(f){var h=f.data;o.onSuccess==null||o.onSuccess(h),o.onSettled==null||o.onSettled(h,null)}).catch(function(f){l.clearReset(),o.onError==null||o.onError(f),o.onSettled==null||o.onSettled(void 0,f)});if(d.isError&&!l.isReset()&&!d.isFetching&&r5(o.suspense,o.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return o.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,o)),d}function Be(e,t,r){var a=zm(e,t,r);return tB(a,q$)}var a5={exports:{}};a5.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var rB=a5.exports;let aB={data:""},nB=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||aB},sB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,iB=/\/\*[^]*?\*\/|  +/g,ES=/\n+/g,Xl=(e,t)=>{let r="",a="",s="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":a+=i[1]=="f"?Xl(l,i):i+"{"+Xl(l,i[1]=="k"?"":t)+"}":typeof l=="object"?a+=Xl(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Xl.p?Xl.p(i,l):i+":"+l+";")}return r+(t&&s?t+"{"+s+"}":s)+a},Qi={},n5=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+n5(e[r]);return t}return e},lB=(e,t,r,a,s)=>{let i=n5(e),l=Qi[i]||(Qi[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Qi[l]){let c=i!==e?e:(u=>{let d,f,h=[{}];for(;d=sB.exec(u.replace(iB,""));)d[4]?h.shift():d[3]?(f=d[3].replace(ES," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(ES," ").trim();return h[0]})(e);Qi[l]=Xl(s?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&Qi.g?Qi.g:null;return r&&(Qi.g=Qi[l]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Qi[l],t,a,o),l},oB=(e,t,r)=>e.reduce((a,s,i)=>{let l=t[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Xl(o,""):o===!1?"":o}return a+s+(l??"")},"");function gg(e){let t=this||{},r=e.call?e(t.p):e;return lB(r.unshift?r.raw?oB(r,[].slice.call(arguments,1),t.p):r.reduce((a,s)=>Object.assign(a,s&&s.call?s(t.p):s),{}):r,nB(t.target),t.g,t.o,t.k)}let s5,o1,c1;gg.bind({g:1});let jl=gg.bind({k:1});function cB(e,t,r,a){Xl.p=t,s5=e,o1=r,c1=a}function Lo(e,t){let r=this||{};return function(){let a=arguments;function s(i,l){let o=Object.assign({},i),c=o.className||s.className;r.p=Object.assign({theme:o1&&o1()},o),r.o=/ *go\d+/.test(c),o.className=gg.apply(r,a)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),c1&&u[0]&&c1(o),s5(u,o)}return s}}var uB=e=>typeof e=="function",$p=(e,t)=>uB(e)?e(t):e,dB=(()=>{let e=0;return()=>(++e).toString()})(),i5=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),fB=20,Ij="default",l5=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:a}=t;return l5(e,{type:e.toasts.find(l=>l.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},Hm=[],o5={toasts:[],pausedAt:void 0,settings:{toastLimit:fB}},Ti={},c5=(e,t=Ij)=>{Ti[t]=l5(Ti[t]||o5,e),Hm.forEach(([r,a])=>{r===t&&a(Ti[t])})},u5=e=>Object.keys(Ti).forEach(t=>c5(e,t)),hB=e=>Object.keys(Ti).find(t=>Ti[t].toasts.some(r=>r.id===e)),vg=(e=Ij)=>t=>{c5(t,e)},mB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pB=(e={},t=Ij)=>{let[r,a]=w.useState(Ti[t]||o5),s=w.useRef(Ti[t]);w.useEffect(()=>(s.current!==Ti[t]&&a(Ti[t]),Hm.push([t,a]),()=>{let l=Hm.findIndex(([o])=>o===t);l>-1&&Hm.splice(l,1)}),[t]);let i=r.toasts.map(l=>{var o,c,u;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((o=e[l.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||mB[l.type],style:{...e.style,...(u=e[l.type])==null?void 0:u.style,...l.style}}});return{...r,toasts:i}},xB=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||dB()}),Q0=e=>(t,r)=>{let a=xB(t,e,r);return vg(a.toasterId||hB(a.id))({type:2,toast:a}),a.id},yt=(e,t)=>Q0("blank")(e,t);yt.error=Q0("error");yt.success=Q0("success");yt.loading=Q0("loading");yt.custom=Q0("custom");yt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?vg(t)(r):u5(r)};yt.dismissAll=e=>yt.dismiss(void 0,e);yt.remove=(e,t)=>{let r={type:4,toastId:e};t?vg(t)(r):u5(r)};yt.removeAll=e=>yt.remove(void 0,e);yt.promise=(e,t,r)=>{let a=yt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?$p(t.success,s):void 0;return i?yt.success(i,{id:a,...r,...r==null?void 0:r.success}):yt.dismiss(a),s}).catch(s=>{let i=t.error?$p(t.error,s):void 0;i?yt.error(i,{id:a,...r,...r==null?void 0:r.error}):yt.dismiss(a)}),e};var gB=1e3,vB=(e,t="default")=>{let{toasts:r,pausedAt:a}=pB(e,t),s=w.useRef(new Map).current,i=w.useCallback((f,h=gB)=>{if(s.has(f))return;let m=setTimeout(()=>{s.delete(f),l({type:4,toastId:f})},h);s.set(f,m)},[]);w.useEffect(()=>{if(a)return;let f=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(p<0){m.visible&&yt.dismiss(m.id);return}return setTimeout(()=>yt.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,a,t]);let l=w.useCallback(vg(t),[t]),o=w.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=w.useCallback((f,h)=>{l({type:1,toast:{id:f,height:h}})},[l]),u=w.useCallback(()=>{a&&l({type:6,time:Date.now()})},[a,l]),d=w.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:x}=h||{},g=r.filter(v=>(v.position||x)===(f.position||x)&&v.height),y=g.findIndex(v=>v.id===f.id),b=g.filter((v,j)=>j<y&&v.visible).length;return g.filter(v=>v.visible).slice(...m?[b+1]:[0,b]).reduce((v,j)=>v+(j.height||0)+p,0)},[r]);return w.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},yB=jl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bB=jl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wB=jl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jB=Lo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,NB=jl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kB=Lo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${NB} 1s linear infinite;
`,_B=jl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SB=jl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CB=Lo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_B} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,EB=Lo("div")`
  position: absolute;
`,TB=Lo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,AB=jl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PB=Lo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${AB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OB=({toast:e})=>{let{icon:t,type:r,iconTheme:a}=e;return t!==void 0?typeof t=="string"?w.createElement(PB,null,t):t:r==="blank"?null:w.createElement(TB,null,w.createElement(kB,{...a}),r!=="loading"&&w.createElement(EB,null,r==="error"?w.createElement(jB,{...a}):w.createElement(CB,{...a})))},DB=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,FB=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,IB="0%{opacity:0;} 100%{opacity:1;}",RB="0%{opacity:1;} 100%{opacity:0;}",MB=Lo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LB=Lo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$B=(e,t)=>{let r=e.includes("top")?1:-1,[a,s]=i5()?[IB,RB]:[DB(r),FB(r)];return{animation:t?`${jl(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${jl(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BB=w.memo(({toast:e,position:t,style:r,children:a})=>{let s=e.height?$B(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(OB,{toast:e}),l=w.createElement(LB,{...e.ariaProps},$p(e.message,e));return w.createElement(MB,{className:e.className,style:{...s,...r,...e.style}},typeof a=="function"?a({icon:i,message:l}):w.createElement(w.Fragment,null,i,l))});cB(w.createElement);var UB=({id:e,className:t,style:r,onHeightUpdate:a,children:s})=>{let i=w.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;a(e,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return w.createElement("div",{ref:i,className:t,style:r},s)},zB=(e,t)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:i5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...a,...s}},WB=gg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qh=16,VB=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:a,children:s,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:u}=vB(r,i);return w.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Qh,left:Qh,right:Qh,bottom:Qh,pointerEvents:"none",...l},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:a,defaultPosition:t}),m=zB(f,h);return w.createElement(UB,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?WB:"",style:m},d.type==="custom"?$p(d.message,d):s?s(d):w.createElement(BB,{toast:d,position:f}))}))},ee=yt;function d5(e,t){return function(){return e.apply(t,arguments)}}const{toString:HB}=Object.prototype,{getPrototypeOf:Rj}=Object,{iterator:yg,toStringTag:f5}=Symbol,bg=(e=>t=>{const r=HB.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),pi=e=>(e=e.toLowerCase(),t=>bg(t)===e),wg=e=>t=>typeof t===e,{isArray:kd}=Array,rd=wg("undefined");function X0(e){return e!==null&&!rd(e)&&e.constructor!==null&&!rd(e.constructor)&&An(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const h5=pi("ArrayBuffer");function qB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&h5(e.buffer),t}const KB=wg("string"),An=wg("function"),m5=wg("number"),Y0=e=>e!==null&&typeof e=="object",GB=e=>e===!0||e===!1,qm=e=>{if(bg(e)!=="object")return!1;const t=Rj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(f5 in e)&&!(yg in e)},QB=e=>{if(!Y0(e)||X0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XB=pi("Date"),YB=pi("File"),JB=pi("Blob"),ZB=pi("FileList"),eU=e=>Y0(e)&&An(e.pipe),tU=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||An(e.append)&&((t=bg(e))==="formdata"||t==="object"&&An(e.toString)&&e.toString()==="[object FormData]"))},rU=pi("URLSearchParams"),[aU,nU,sU,iU]=["ReadableStream","Request","Response","Headers"].map(pi),lU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),kd(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(X0(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(a=0;a<l;a++)o=i[a],t.call(null,e[o],o,e)}}function p5(e,t){if(X0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,s;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x5=e=>!rd(e)&&e!==lc;function u1(){const{caseless:e,skipUndefined:t}=x5(this)&&this||{},r={},a=(s,i)=>{const l=e&&p5(r,i)||i;qm(r[l])&&qm(s)?r[l]=u1(r[l],s):qm(s)?r[l]=u1({},s):kd(s)?r[l]=s.slice():(!t||!rd(s))&&(r[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&J0(arguments[s],a);return r}const oU=(e,t,r,{allOwnKeys:a}={})=>(J0(t,(s,i)=>{r&&An(s)?e[i]=d5(s,r):e[i]=s},{allOwnKeys:a}),e),cU=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uU=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},dU=(e,t,r,a)=>{let s,i,l;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!a||a(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&Rj(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},fU=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},hU=e=>{if(!e)return null;if(kd(e))return e;let t=e.length;if(!m5(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},mU=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Rj(Uint8Array)),pU=(e,t)=>{const a=(e&&e[yg]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},xU=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},gU=pi("HTMLFormElement"),vU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),TS=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),yU=pi("RegExp"),g5=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};J0(r,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(a[i]=l||s)}),Object.defineProperties(e,a)},bU=e=>{g5(e,(t,r)=>{if(An(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(An(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wU=(e,t)=>{const r={},a=s=>{s.forEach(i=>{r[i]=!0})};return kd(e)?a(e):a(String(e).split(t)),r},jU=()=>{},NU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function kU(e){return!!(e&&An(e.append)&&e[f5]==="FormData"&&e[yg])}const _U=e=>{const t=new Array(10),r=(a,s)=>{if(Y0(a)){if(t.indexOf(a)>=0)return;if(X0(a))return a;if(!("toJSON"in a)){t[s]=a;const i=kd(a)?[]:{};return J0(a,(l,o)=>{const c=r(l,s+1);!rd(c)&&(i[o]=c)}),t[s]=void 0,i}}return a};return r(e,0)},SU=pi("AsyncFunction"),CU=e=>e&&(Y0(e)||An(e))&&An(e.then)&&An(e.catch),v5=((e,t)=>e?setImmediate:t?((r,a)=>(lc.addEventListener("message",({source:s,data:i})=>{s===lc&&i===r&&a.length&&a.shift()()},!1),s=>{a.push(s),lc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",An(lc.postMessage)),EU=typeof queueMicrotask<"u"?queueMicrotask.bind(lc):typeof process<"u"&&process.nextTick||v5,TU=e=>e!=null&&An(e[yg]),ve={isArray:kd,isArrayBuffer:h5,isBuffer:X0,isFormData:tU,isArrayBufferView:qB,isString:KB,isNumber:m5,isBoolean:GB,isObject:Y0,isPlainObject:qm,isEmptyObject:QB,isReadableStream:aU,isRequest:nU,isResponse:sU,isHeaders:iU,isUndefined:rd,isDate:XB,isFile:YB,isBlob:JB,isRegExp:yU,isFunction:An,isStream:eU,isURLSearchParams:rU,isTypedArray:mU,isFileList:ZB,forEach:J0,merge:u1,extend:oU,trim:lU,stripBOM:cU,inherits:uU,toFlatObject:dU,kindOf:bg,kindOfTest:pi,endsWith:fU,toArray:hU,forEachEntry:pU,matchAll:xU,isHTMLForm:gU,hasOwnProperty:TS,hasOwnProp:TS,reduceDescriptors:g5,freezeMethods:bU,toObjectSet:wU,toCamelCase:vU,noop:jU,toFiniteNumber:NU,findKey:p5,global:lc,isContextDefined:x5,isSpecCompliantForm:kU,toJSONObject:_U,isAsyncFn:SU,isThenable:CU,setImmediate:v5,asap:EU,isIterable:TU};function ft(e,t,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}ve.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const y5=ft.prototype,b5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{b5[e]={value:e}});Object.defineProperties(ft,b5);Object.defineProperty(y5,"isAxiosError",{value:!0});ft.from=(e,t,r,a,s,i)=>{const l=Object.create(y5);ve.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ft.call(l,o,c,r,a,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const AU=null;function d1(e){return ve.isPlainObject(e)||ve.isArray(e)}function w5(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function AS(e,t,r){return e?e.concat(t).map(function(s,i){return s=w5(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function PU(e){return ve.isArray(e)&&!e.some(d1)}const OU=ve.toFlatObject(ve,{},null,function(t){return/^is[A-Z]/.test(t)});function jg(e,t,r){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!ve.isUndefined(g[x])});const a=r.metaTokens,s=r.visitor||d,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(ve.isDate(p))return p.toISOString();if(ve.isBoolean(p))return p.toString();if(!c&&ve.isBlob(p))throw new ft("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(p)||ve.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,g){let y=p;if(p&&!g&&typeof p=="object"){if(ve.endsWith(x,"{}"))x=a?x:x.slice(0,-2),p=JSON.stringify(p);else if(ve.isArray(p)&&PU(p)||(ve.isFileList(p)||ve.endsWith(x,"[]"))&&(y=ve.toArray(p)))return x=w5(x),y.forEach(function(v,j){!(ve.isUndefined(v)||v===null)&&t.append(l===!0?AS([x],j,i):l===null?x:x+"[]",u(v))}),!1}return d1(p)?!0:(t.append(AS(g,x,i),u(p)),!1)}const f=[],h=Object.assign(OU,{defaultVisitor:d,convertValue:u,isVisitable:d1});function m(p,x){if(!ve.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),ve.forEach(p,function(y,b){(!(ve.isUndefined(y)||y===null)&&s.call(t,y,ve.isString(b)?b.trim():b,x,h))===!0&&m(y,x?x.concat(b):[b])}),f.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return m(e),t}function PS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Mj(e,t){this._pairs=[],e&&jg(e,this,t)}const j5=Mj.prototype;j5.append=function(t,r){this._pairs.push([t,r])};j5.toString=function(t){const r=t?function(a){return t.call(this,a,PS)}:PS;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function DU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function N5(e,t,r){if(!t)return e;const a=r&&r.encode||DU;ve.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=ve.isURLSearchParams(t)?t.toString():new Mj(t,r).toString(a),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class OS{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(a){a!==null&&t(a)})}}const k5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FU=typeof URLSearchParams<"u"?URLSearchParams:Mj,IU=typeof FormData<"u"?FormData:null,RU=typeof Blob<"u"?Blob:null,MU={isBrowser:!0,classes:{URLSearchParams:FU,FormData:IU,Blob:RU},protocols:["http","https","file","blob","url","data"]},Lj=typeof window<"u"&&typeof document<"u",f1=typeof navigator=="object"&&navigator||void 0,LU=Lj&&(!f1||["ReactNative","NativeScript","NS"].indexOf(f1.product)<0),$U=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BU=Lj&&window.location.href||"http://localhost",UU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lj,hasStandardBrowserEnv:LU,hasStandardBrowserWebWorkerEnv:$U,navigator:f1,origin:BU},Symbol.toStringTag,{value:"Module"})),Ka={...UU,...MU};function zU(e,t){return jg(e,new Ka.classes.URLSearchParams,{visitor:function(r,a,s,i){return Ka.isNode&&ve.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function WU(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VU(e){const t={},r=Object.keys(e);let a;const s=r.length;let i;for(a=0;a<s;a++)i=r[a],t[i]=e[i];return t}function _5(e){function t(r,a,s,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&ve.isArray(s)?s.length:l,c?(ve.hasOwnProp(s,l)?s[l]=[s[l],a]:s[l]=a,!o):((!s[l]||!ve.isObject(s[l]))&&(s[l]=[]),t(r,a,s[l],i)&&ve.isArray(s[l])&&(s[l]=VU(s[l])),!o)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(a,s)=>{t(WU(a),s,r,0)}),r}return null}function HU(e,t,r){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Z0={transitional:k5,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",s=a.indexOf("application/json")>-1,i=ve.isObject(t);if(i&&ve.isHTMLForm(t)&&(t=new FormData(t)),ve.isFormData(t))return s?JSON.stringify(_5(t)):t;if(ve.isArrayBuffer(t)||ve.isBuffer(t)||ve.isStream(t)||ve.isFile(t)||ve.isBlob(t)||ve.isReadableStream(t))return t;if(ve.isArrayBufferView(t))return t.buffer;if(ve.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return zU(t,this.formSerializer).toString();if((o=ve.isFileList(t))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return jg(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),HU(t)):t}],transformResponse:[function(t){const r=this.transitional||Z0.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ve.isResponse(t)||ve.isReadableStream(t))return t;if(t&&ve.isString(t)&&(a&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ft.from(o,ft.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ka.classes.FormData,Blob:Ka.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{Z0.headers[e]={}});const qU=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KU=e=>{const t={};let r,a,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),a=l.substring(s+1).trim(),!(!r||t[r]&&qU[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},DS=Symbol("internals");function Zd(e){return e&&String(e).trim().toLowerCase()}function Km(e){return e===!1||e==null?e:ve.isArray(e)?e.map(Km):String(e)}function GU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const QU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fy(e,t,r,a,s){if(ve.isFunction(a))return a.call(this,t,r);if(s&&(t=r),!!ve.isString(t)){if(ve.isString(a))return t.indexOf(a)!==-1;if(ve.isRegExp(a))return a.test(t)}}function XU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function YU(e,t){const r=ve.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(s,i,l){return this[a].call(this,t,s,i,l)},configurable:!0})})}let Pn=class{constructor(t){t&&this.set(t)}set(t,r,a){const s=this;function i(o,c,u){const d=Zd(c);if(!d)throw new Error("header name must be a non-empty string");const f=ve.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Km(o))}const l=(o,c)=>ve.forEach(o,(u,d)=>i(u,d,c));if(ve.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(ve.isString(t)&&(t=t.trim())&&!QU(t))l(KU(t),r);else if(ve.isObject(t)&&ve.isIterable(t)){let o={},c,u;for(const d of t){if(!ve.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?ve.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,r)}else t!=null&&i(r,t,a);return this}get(t,r){if(t=Zd(t),t){const a=ve.findKey(this,t);if(a){const s=this[a];if(!r)return s;if(r===!0)return GU(s);if(ve.isFunction(r))return r.call(this,s,a);if(ve.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zd(t),t){const a=ve.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||fy(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let s=!1;function i(l){if(l=Zd(l),l){const o=ve.findKey(a,l);o&&(!r||fy(a,a[o],o,r))&&(delete a[o],s=!0)}}return ve.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let a=r.length,s=!1;for(;a--;){const i=r[a];(!t||fy(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,a={};return ve.forEach(this,(s,i)=>{const l=ve.findKey(a,i);if(l){r[l]=Km(s),delete r[i];return}const o=t?XU(i):String(i).trim();o!==i&&delete r[i],r[o]=Km(s),a[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ve.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=t&&ve.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[DS]=this[DS]={accessors:{}}).accessors,s=this.prototype;function i(l){const o=Zd(l);a[o]||(YU(s,l),a[o]=!0)}return ve.isArray(t)?t.forEach(i):i(t),this}};Pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Pn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ve.freezeMethods(Pn);function hy(e,t){const r=this||Z0,a=t||r,s=Pn.from(a.headers);let i=a.data;return ve.forEach(e,function(o){i=o.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function S5(e){return!!(e&&e.__CANCEL__)}function _d(e,t,r){ft.call(this,e??"canceled",ft.ERR_CANCELED,t,r),this.name="CanceledError"}ve.inherits(_d,ft,{__CANCEL__:!0});function C5(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new ft("Request failed with status code "+r.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function JU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ZU(e,t){e=e||10;const r=new Array(e),a=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=a[i];l||(l=u),r[s]=c,a[s]=u;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-l<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function ez(e,t){let r=0,a=1e3/t,s,i;const l=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=a?l(u,d):(s=u,i||(i=setTimeout(()=>{i=null,l(s)},a-f)))},()=>s&&l(s)]}const Bp=(e,t,r=3)=>{let a=0;const s=ZU(50,250);return ez(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-a,u=s(c),d=l<=o;a=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-l)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},FS=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},IS=e=>(...t)=>ve.asap(()=>e(...t)),tz=Ka.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ka.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ka.origin),Ka.navigator&&/(msie|trident)/i.test(Ka.navigator.userAgent)):()=>!0,rz=Ka.hasStandardBrowserEnv?{write(e,t,r,a,s,i){const l=[e+"="+encodeURIComponent(t)];ve.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ve.isString(a)&&l.push("path="+a),ve.isString(s)&&l.push("domain="+s),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function az(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nz(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function E5(e,t,r){let a=!az(t);return e&&(a||r==!1)?nz(e,t):t}const RS=e=>e instanceof Pn?{...e}:e;function Ic(e,t){t=t||{};const r={};function a(u,d,f,h){return ve.isPlainObject(u)&&ve.isPlainObject(d)?ve.merge.call({caseless:h},u,d):ve.isPlainObject(d)?ve.merge({},d):ve.isArray(d)?d.slice():d}function s(u,d,f,h){if(ve.isUndefined(d)){if(!ve.isUndefined(u))return a(void 0,u,f,h)}else return a(u,d,f,h)}function i(u,d){if(!ve.isUndefined(d))return a(void 0,d)}function l(u,d){if(ve.isUndefined(d)){if(!ve.isUndefined(u))return a(void 0,u)}else return a(void 0,d)}function o(u,d,f){if(f in t)return a(u,d);if(f in e)return a(void 0,u)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,d,f)=>s(RS(u),RS(d),f,!0)};return ve.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);ve.isUndefined(h)&&f!==o||(r[d]=h)}),r}const T5=e=>{const t=Ic({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Pn.from(l),t.url=N5(E5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ve.isFormData(r)){if(Ka.hasStandardBrowserEnv||Ka.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ve.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&l.set(d,f)})}}if(Ka.hasStandardBrowserEnv&&(a&&ve.isFunction(a)&&(a=a(t)),a||a!==!1&&tz(t.url))){const c=s&&i&&rz.read(i);c&&l.set(s,c)}return t},sz=typeof XMLHttpRequest<"u",iz=sz&&function(e){return new Promise(function(r,a){const s=T5(e);let i=s.data;const l=Pn.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,m,p;function x(){m&&m(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function y(){if(!g)return;const v=Pn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:v,config:e,request:g};C5(function(_){r(_),x()},function(_){a(_),x()},N),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(a(new ft("Request aborted",ft.ECONNABORTED,e,g)),g=null)},g.onerror=function(j){const N=j&&j.message?j.message:"Network Error",k=new ft(N,ft.ERR_NETWORK,e,g);k.event=j||null,a(k),g=null},g.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||k5;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),a(new ft(j,N.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,e,g)),g=null},i===void 0&&l.setContentType(null),"setRequestHeader"in g&&ve.forEach(l.toJSON(),function(j,N){g.setRequestHeader(N,j)}),ve.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),o&&o!=="json"&&(g.responseType=s.responseType),u&&([h,p]=Bp(u,!0),g.addEventListener("progress",h)),c&&g.upload&&([f,m]=Bp(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=v=>{g&&(a(!v||v.type?new _d(null,e,g):v),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=JU(s.url);if(b&&Ka.protocols.indexOf(b)===-1){a(new ft("Unsupported protocol "+b+":",ft.ERR_BAD_REQUEST,e));return}g.send(i||null)})},lz=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,s;const i=function(u){if(!s){s=!0,o();const d=u instanceof Error?u:this.reason;a.abort(d instanceof ft?d:new _d(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new ft(`timeout ${t} of ms exceeded`,ft.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>ve.asap(o),c}},oz=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,s;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},cz=async function*(e,t){for await(const r of uz(e))yield*oz(r,t)},uz=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},MS=(e,t,r,a)=>{const s=cz(e,t);let i=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){o(),c.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},LS=64*1024,{isFunction:Xh}=ve,dz=(({Request:e,Response:t})=>({Request:e,Response:t}))(ve.global),{ReadableStream:$S,TextEncoder:BS}=ve.global,US=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fz=e=>{e=ve.merge.call({skipUndefined:!0},dz,e);const{fetch:t,Request:r,Response:a}=e,s=t?Xh(t):typeof fetch=="function",i=Xh(r),l=Xh(a);if(!s)return!1;const o=s&&Xh($S),c=s&&(typeof BS=="function"?(p=>x=>p.encode(x))(new BS):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&o&&US(()=>{let p=!1;const x=new r(Ka.origin,{body:new $S,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=l&&o&&US(()=>ve.isReadableStream(new a("").body)),f={stream:d&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(x,g)=>{let y=x&&x[p];if(y)return y.call(x);throw new ft(`Response type '${p}' is not supported`,ft.ERR_NOT_SUPPORT,g)})});const h=async p=>{if(p==null)return 0;if(ve.isBlob(p))return p.size;if(ve.isSpecCompliantForm(p))return(await new r(Ka.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(p)||ve.isArrayBuffer(p))return p.byteLength;if(ve.isURLSearchParams(p)&&(p=p+""),ve.isString(p))return(await c(p)).byteLength},m=async(p,x)=>{const g=ve.toFiniteNumber(p.getContentLength());return g??h(x)};return async p=>{let{url:x,method:g,data:y,signal:b,cancelToken:v,timeout:j,onDownloadProgress:N,onUploadProgress:k,responseType:_,headers:S,withCredentials:T="same-origin",fetchOptions:C}=T5(p),E=t||fetch;_=_?(_+"").toLowerCase():"text";let A=lz([b,v&&v.toAbortSignal()],j),U=null;const V=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let ae;try{if(k&&u&&g!=="get"&&g!=="head"&&(ae=await m(S,y))!==0){let H=new r(x,{method:"POST",body:y,duplex:"half"}),F;if(ve.isFormData(y)&&(F=H.headers.get("content-type"))&&S.setContentType(F),H.body){const[O,M]=FS(ae,Bp(IS(k)));y=MS(H.body,LS,O,M)}}ve.isString(T)||(T=T?"include":"omit");const q=i&&"credentials"in r.prototype,R={...C,signal:A,method:g.toUpperCase(),headers:S.normalize().toJSON(),body:y,duplex:"half",credentials:q?T:void 0};U=i&&new r(x,R);let P=await(i?E(U,C):E(x,R));const B=d&&(_==="stream"||_==="response");if(d&&(N||B&&V)){const H={};["status","statusText","headers"].forEach(I=>{H[I]=P[I]});const F=ve.toFiniteNumber(P.headers.get("content-length")),[O,M]=N&&FS(F,Bp(IS(N),!0))||[];P=new a(MS(P.body,LS,O,()=>{M&&M(),V&&V()}),H)}_=_||"text";let te=await f[ve.findKey(f,_)||"text"](P,p);return!B&&V&&V(),await new Promise((H,F)=>{C5(H,F,{data:te,headers:Pn.from(P.headers),status:P.status,statusText:P.statusText,config:p,request:U})})}catch(q){throw V&&V(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,p,U),{cause:q.cause||q}):ft.from(q,q&&q.code,p,U)}}},hz=new Map,A5=e=>{let t=e?e.env:{};const{fetch:r,Request:a,Response:s}=t,i=[a,s,r];let l=i.length,o=l,c,u,d=hz;for(;o--;)c=i[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:fz(t)),d=u;return u};A5();const h1={http:AU,xhr:iz,fetch:{get:A5}};ve.forEach(h1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zS=e=>`- ${e}`,mz=e=>ve.isFunction(e)||e===null||e===!1,P5={getAdapter:(e,t)=>{e=ve.isArray(e)?e:[e];const{length:r}=e;let a,s;const i={};for(let l=0;l<r;l++){a=e[l];let o;if(s=a,!mz(a)&&(s=h1[(o=String(a)).toLowerCase()],s===void 0))throw new ft(`Unknown adapter '${o}'`);if(s&&(ve.isFunction(s)||(s=s.get(t))))break;i[o||"#"+l]=s}if(!s){const l=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(zS).join(`
`):" "+zS(l[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:h1};function my(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _d(null,e)}function WS(e){return my(e),e.headers=Pn.from(e.headers),e.data=hy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),P5.getAdapter(e.adapter||Z0.adapter,e)(e).then(function(a){return my(e),a.data=hy.call(e,e.transformResponse,a),a.headers=Pn.from(a.headers),a},function(a){return S5(a)||(my(e),a&&a.response&&(a.response.data=hy.call(e,e.transformResponse,a.response),a.response.headers=Pn.from(a.response.headers))),Promise.reject(a)})}const O5="1.12.2",Ng={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ng[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const VS={};Ng.transitional=function(t,r,a){function s(i,l){return"[Axios v"+O5+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(t===!1)throw new ft(s(l," has been removed"+(r?" in "+r:"")),ft.ERR_DEPRECATED);return r&&!VS[l]&&(VS[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,o):!0}};Ng.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function pz(e,t,r){if(typeof e!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new ft("option "+i+" must be "+c,ft.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ft("Unknown option "+i,ft.ERR_BAD_OPTION)}}const Gm={assertOptions:pz,validators:Ng},bi=Gm.validators;let gc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new OS,response:new OS}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ic(this.defaults,r);const{transitional:a,paramsSerializer:s,headers:i}=r;a!==void 0&&Gm.assertOptions(a,{silentJSONParsing:bi.transitional(bi.boolean),forcedJSONParsing:bi.transitional(bi.boolean),clarifyTimeoutError:bi.transitional(bi.boolean)},!1),s!=null&&(ve.isFunction(s)?r.paramsSerializer={serialize:s}:Gm.assertOptions(s,{encode:bi.function,serialize:bi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Gm.assertOptions(r,{baseUrl:bi.spelling("baseURL"),withXsrfToken:bi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&ve.merge(i.common,i[r.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Pn.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!c){const p=[WS.bind(this),void 0];for(p.unshift(...o),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=o.length;let m=r;for(;f<h;){const p=o[f++],x=o[f++];try{m=p(m)}catch(g){x.call(this,g);break}}try{d=WS.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ic(this.defaults,t);const r=E5(t.baseURL,t.url,t.allowAbsoluteUrls);return N5(r,t.params,t.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(t){gc.prototype[t]=function(r,a){return this.request(Ic(a||{},{method:t,url:r,data:(a||{}).data}))}});ve.forEach(["post","put","patch"],function(t){function r(a){return function(i,l,o){return this.request(Ic(o||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}gc.prototype[t]=r(),gc.prototype[t+"Form"]=r(!0)});let xz=class D5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(s);return l.cancel=function(){a.unsubscribe(i)},l},t(function(i,l,o){a.reason||(a.reason=new _d(i,l,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new D5(function(s){t=s}),cancel:t}}};function gz(e){return function(r){return e.apply(null,r)}}function vz(e){return ve.isObject(e)&&e.isAxiosError===!0}const m1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(m1).forEach(([e,t])=>{m1[t]=e});function F5(e){const t=new gc(e),r=d5(gc.prototype.request,t);return ve.extend(r,gc.prototype,t,{allOwnKeys:!0}),ve.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return F5(Ic(e,s))},r}const Ur=F5(Z0);Ur.Axios=gc;Ur.CanceledError=_d;Ur.CancelToken=xz;Ur.isCancel=S5;Ur.VERSION=O5;Ur.toFormData=jg;Ur.AxiosError=ft;Ur.Cancel=Ur.CanceledError;Ur.all=function(t){return Promise.all(t)};Ur.spread=gz;Ur.isAxiosError=vz;Ur.mergeConfig=Ic;Ur.AxiosHeaders=Pn;Ur.formToJSON=e=>_5(ve.isHTMLForm(e)?new FormData(e):e);Ur.getAdapter=P5.getAdapter;Ur.HttpStatusCode=m1;Ur.default=Ur;const{Axios:bwe,AxiosError:wwe,CanceledError:jwe,isCancel:Nwe,CancelToken:kwe,VERSION:_we,all:Swe,Cancel:Cwe,isAxiosError:Ewe,spread:Twe,toFormData:Awe,AxiosHeaders:Pwe,HttpStatusCode:Owe,formToJSON:Dwe,getAdapter:Fwe,mergeConfig:Iwe}=Ur,yz="https://portal.aglis.biz.id/api",me=Ur.create({baseURL:yz,timeout:3e4,headers:{"Content-Type":"application/json"}});me.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.method==="get"&&(e.headers["Cache-Control"]="no-cache, no-store, must-revalidate",e.headers.Pragma="no-cache",e.headers.Expires="0"),e},e=>Promise.reject(e));me.interceptors.response.use(e=>e.data,e=>{var r,a,s,i,l,o,c;const t=((a=(r=e.response)==null?void 0:r.data)==null?void 0:a.message)||"An error occurred";return e.code==="ECONNABORTED"?(console.warn("⏱️ API Timeout:",(s=e.config)==null?void 0:s.url),ee.error("Request timeout. Server might be slow, please try again."),Promise.reject(e)):e.code==="ERR_NETWORK"?(console.error("🌐 Network Error:",e.message),ee.error("Network error. Please check your connection."),Promise.reject(e)):(((i=e.response)==null?void 0:i.status)===401?["/register","/track","/login"].some(f=>window.location.pathname.startsWith(f))||(localStorage.removeItem("token"),window.location.href="/login",ee.error("Session expired. Please login again.")):((l=e.response)==null?void 0:l.status)===403?ee.error("Access denied. Insufficient permissions."):((o=e.response)==null?void 0:o.status)===404?ee.error("Resource not found."):((c=e.response)==null?void 0:c.status)>=500?ee.error("Server error. Please try again later."):ee.error(t),Promise.reject(e))});const Of={login:async e=>await me.post("/auth/login",e),register:async e=>await me.post("/auth/register",e),getProfile:async()=>await me.get("/auth/me"),updateProfile:async e=>await me.put("/auth/profile",e),changePassword:async e=>await me.put("/auth/change-password",e),logout:()=>{localStorage.removeItem("token")}},I5=w.createContext({}),tn=()=>{const e=w.useContext(I5);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},bz=({children:e})=>{const[t,r]=w.useState(null),[a,s]=w.useState(!0);w.useEffect(()=>{(async()=>{if(localStorage.getItem("token"))try{const f=await Of.getProfile();r(f.data.user)}catch(f){console.error("Auth initialization error:",f),localStorage.removeItem("token")}s(!1)})()},[]);const c={user:t,loading:a,login:async u=>{var d,f;try{const h=await Of.login(u),{user:m,token:p}=h.data;return localStorage.setItem("token",p),r(m),{success:!0,user:m}}catch(h){return{success:!1,error:((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||"Login failed"}}},logout:()=>{localStorage.removeItem("token"),r(null)},updateUser:u=>{r(u)},isAuthenticated:!!t,isAdmin:(t==null?void 0:t.role)==="admin",isSupervisor:(t==null?void 0:t.role)==="supervisor",isTechnician:(t==null?void 0:t.role)==="technician",isCustomerService:(t==null?void 0:t.role)==="customer_service"};return n.jsx(I5.Provider,{value:c,children:e})},Li=Object.create(null);Li.open="0";Li.close="1";Li.ping="2";Li.pong="3";Li.message="4";Li.upgrade="5";Li.noop="6";const Qm=Object.create(null);Object.keys(Li).forEach(e=>{Qm[Li[e]]=e});const p1={type:"error",data:"parser error"},R5=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",M5=typeof ArrayBuffer=="function",L5=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,$j=({type:e,data:t},r,a)=>R5&&t instanceof Blob?r?a(t):HS(t,a):M5&&(t instanceof ArrayBuffer||L5(t))?r?a(t):HS(new Blob([t]),a):a(Li[e]+(t||"")),HS=(e,t)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];t("b"+(a||""))},r.readAsDataURL(e)};function qS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let py;function wz(e,t){if(R5&&e.data instanceof Blob)return e.data.arrayBuffer().then(qS).then(t);if(M5&&(e.data instanceof ArrayBuffer||L5(e.data)))return t(qS(e.data));$j(e,!1,r=>{py||(py=new TextEncoder),t(py.encode(r))})}const KS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<KS.length;e++)xf[KS.charCodeAt(e)]=e;const jz=e=>{let t=e.length*.75,r=e.length,a,s=0,i,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(a=0;a<r;a+=4)i=xf[e.charCodeAt(a)],l=xf[e.charCodeAt(a+1)],o=xf[e.charCodeAt(a+2)],c=xf[e.charCodeAt(a+3)],d[s++]=i<<2|l>>4,d[s++]=(l&15)<<4|o>>2,d[s++]=(o&3)<<6|c&63;return u},Nz=typeof ArrayBuffer=="function",Bj=(e,t)=>{if(typeof e!="string")return{type:"message",data:$5(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:kz(e.substring(1),t)}:Qm[r]?e.length>1?{type:Qm[r],data:e.substring(1)}:{type:Qm[r]}:p1},kz=(e,t)=>{if(Nz){const r=jz(e);return $5(r,t)}else return{base64:!0,data:e}},$5=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},B5="",_z=(e,t)=>{const r=e.length,a=new Array(r);let s=0;e.forEach((i,l)=>{$j(i,!1,o=>{a[l]=o,++s===r&&t(a.join(B5))})})},Sz=(e,t)=>{const r=e.split(B5),a=[];for(let s=0;s<r.length;s++){const i=Bj(r[s],t);if(a.push(i),i.type==="error")break}return a};function Cz(){return new TransformStream({transform(e,t){wz(e,r=>{const a=r.length;let s;if(a<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,a);else if(a<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let xy;function Yh(e){return e.reduce((t,r)=>t+r.length,0)}function Jh(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let a=0;for(let s=0;s<t;s++)r[s]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}function Ez(e,t){xy||(xy=new TextDecoder);const r=[];let a=0,s=-1,i=!1;return new TransformStream({transform(l,o){for(r.push(l);;){if(a===0){if(Yh(r)<1)break;const c=Jh(r,1);i=(c[0]&128)===128,s=c[0]&127,s<126?a=3:s===126?a=1:a=2}else if(a===1){if(Yh(r)<2)break;const c=Jh(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),a=3}else if(a===2){if(Yh(r)<8)break;const c=Jh(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){o.enqueue(p1);break}s=d*Math.pow(2,32)+u.getUint32(4),a=3}else{if(Yh(r)<s)break;const c=Jh(r,s);o.enqueue(Bj(i?c:xy.decode(c),t)),a=0}if(s===0||s>e){o.enqueue(p1);break}}}})}const U5=4;function Xr(e){if(e)return Tz(e)}function Tz(e){for(var t in Xr.prototype)e[t]=Xr.prototype[t];return e}Xr.prototype.on=Xr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Xr.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Xr.prototype.off=Xr.prototype.removeListener=Xr.prototype.removeAllListeners=Xr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,s=0;s<r.length;s++)if(a=r[s],a===t||a.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Xr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,s=r.length;a<s;++a)r[a].apply(this,t)}return this};Xr.prototype.emitReserved=Xr.prototype.emit;Xr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Xr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const kg=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),ws=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Az="arraybuffer";function z5(e,...t){return t.reduce((r,a)=>(e.hasOwnProperty(a)&&(r[a]=e[a]),r),{})}const Pz=ws.setTimeout,Oz=ws.clearTimeout;function _g(e,t){t.useNativeTimers?(e.setTimeoutFn=Pz.bind(ws),e.clearTimeoutFn=Oz.bind(ws)):(e.setTimeoutFn=ws.setTimeout.bind(ws),e.clearTimeoutFn=ws.clearTimeout.bind(ws))}const Dz=1.33;function Fz(e){return typeof e=="string"?Iz(e):Math.ceil((e.byteLength||e.size)*Dz)}function Iz(e){let t=0,r=0;for(let a=0,s=e.length;a<s;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}function W5(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Rz(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Mz(e){let t={},r=e.split("&");for(let a=0,s=r.length;a<s;a++){let i=r[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Lz extends Error{constructor(t,r,a){super(t),this.description=r,this.context=a,this.type="TransportError"}}class Uj extends Xr{constructor(t){super(),this.writable=!1,_g(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,a){return super.emitReserved("error",new Lz(t,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Bj(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Rz(t);return r.length?"?"+r:""}}class $z extends Uj{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};Sz(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,_z(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=W5()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let V5=!1;try{V5=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Bz=V5;function Uz(){}class zz extends $z{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,r){const a=this.request({method:"POST",data:t});a.on("success",r),a.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=t}}class Ri extends Xr{constructor(t,r,a){super(),this.createRequest=t,_g(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const r=z5(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&a.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var s;a.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Ri.requestsCount++,Ri.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Uz,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ri.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ri.requestsCount=0;Ri.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",GS);else if(typeof addEventListener=="function"){const e="onpagehide"in ws?"pagehide":"unload";addEventListener(e,GS,!1)}}function GS(){for(let e in Ri.requests)Ri.requests.hasOwnProperty(e)&&Ri.requests[e].abort()}const Wz=function(){const e=H5({xdomain:!1});return e&&e.responseType!==null}();class Vz extends zz{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Wz&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ri(H5,this.uri(),t)}}function H5(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Bz))return new XMLHttpRequest}catch{}if(!t)try{return new ws[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const q5=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Hz extends Uj{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,a=q5?{}:z5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,a)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],s=r===t.length-1;$j(a,this.supportsBinary,i=>{try{this.doWrite(a,i)}catch{}s&&kg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=W5()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const gy=ws.WebSocket||ws.MozWebSocket;class qz extends Hz{createSocket(t,r,a){return q5?new gy(t,r,a):r?new gy(t,r):new gy(t)}doWrite(t,r){this.ws.send(r)}}class Kz extends Uj{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Ez(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(r).getReader(),s=Cz();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{a.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],s=r===t.length-1;this._writer.write(a).then(()=>{s&&kg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Gz={websocket:qz,webtransport:Kz,polling:Vz},Qz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Xz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function x1(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");r!=-1&&a!=-1&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let s=Qz.exec(e||""),i={},l=14;for(;l--;)i[Xz[l]]=s[l]||"";return r!=-1&&a!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Yz(i,i.path),i.queryKey=Jz(i,i.query),i}function Yz(e,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function Jz(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,s,i){s&&(r[s]=i)}),r}const g1=typeof addEventListener=="function"&&typeof removeEventListener=="function",Xm=[];g1&&addEventListener("offline",()=>{Xm.forEach(e=>e())},!1);class po extends Xr{constructor(t,r){if(super(),this.binaryType=Az,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const a=x1(t);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=x1(r.host).host);_g(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const s=a.prototype.name;this.transports.push(s),this._transportsByName[s]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Mz(this.opts.query)),g1&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Xm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=U5,r.transport=t,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&po.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",po.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const s=this.writeBuffer[a].data;if(s&&(r+=Fz(s)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,kg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,a){return this._sendPacket("message",t,r,a),this}send(t,r,a){return this._sendPacket("message",t,r,a),this}_sendPacket(t,r,a,s){if(typeof r=="function"&&(s=r,r=void 0),typeof a=="function"&&(s=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const i={type:t,data:r,options:a};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(po.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),g1&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Xm.indexOf(this._offlineEventListener);a!==-1&&Xm.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}po.protocol=U5;class Zz extends po{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),a=!1;po.priorWebsocketSuccess=!1;const s=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!a)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;po.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function i(){a||(a=!0,d(),r.close(),r=null)}const l=f=>{const h=new Error("probe error: "+f);h.transport=r.name,i(),this.emitReserved("upgradeError",h)};function o(){l("transport closed")}function c(){l("socket closed")}function u(f){r&&f.name!==r.name&&i()}const d=()=>{r.removeListener("open",s),r.removeListener("error",l),r.removeListener("close",o),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",l),r.once("close",o),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&r.push(t[a]);return r}}let eW=class extends Zz{constructor(t,r={}){const a=typeof t=="object"?t:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(s=>Gz[s]).filter(s=>!!s)),super(t,a)}};function tW(e,t="",r){let a=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),a=x1(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+t,a.href=a.protocol+"://"+i+(r&&r.port===a.port?"":":"+a.port),a}const rW=typeof ArrayBuffer=="function",aW=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,K5=Object.prototype.toString,nW=typeof Blob=="function"||typeof Blob<"u"&&K5.call(Blob)==="[object BlobConstructor]",sW=typeof File=="function"||typeof File<"u"&&K5.call(File)==="[object FileConstructor]";function zj(e){return rW&&(e instanceof ArrayBuffer||aW(e))||nW&&e instanceof Blob||sW&&e instanceof File}function Ym(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,a=e.length;r<a;r++)if(Ym(e[r]))return!0;return!1}if(zj(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ym(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ym(e[r]))return!0;return!1}function iW(e){const t=[],r=e.data,a=e;return a.data=v1(r,t),a.attachments=t.length,{packet:a,buffers:t}}function v1(e,t){if(!e)return e;if(zj(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=v1(e[a],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=v1(e[a],t));return r}return e}function lW(e,t){return e.data=y1(e.data,t),delete e.attachments,e}function y1(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=y1(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=y1(e[r],t));return e}const oW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cW=5;var Nt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Nt||(Nt={}));class uW{constructor(t){this.replacer=t}encode(t){return(t.type===Nt.EVENT||t.type===Nt.ACK)&&Ym(t)?this.encodeAsBinary({type:t.type===Nt.EVENT?Nt.BINARY_EVENT:Nt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Nt.BINARY_EVENT||t.type===Nt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=iW(t),a=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(a),s}}function QS(e){return Object.prototype.toString.call(e)==="[object Object]"}class Wj extends Xr{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const a=r.type===Nt.BINARY_EVENT;a||r.type===Nt.BINARY_ACK?(r.type=a?Nt.EVENT:Nt.ACK,this.reconstructor=new dW(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(zj(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const a={type:Number(t.charAt(0))};if(Nt[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Nt.BINARY_EVENT||a.type===Nt.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const l=t.substring(i,r);if(l!=Number(l)||t.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(l)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););a.nsp=t.substring(i,r)}else a.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const l=t.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===t.length)break}a.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(Wj.isPayloadValid(a.type,i))a.data=i;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Nt.CONNECT:return QS(r);case Nt.DISCONNECT:return r===void 0;case Nt.CONNECT_ERROR:return typeof r=="string"||QS(r);case Nt.EVENT:case Nt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&oW.indexOf(r[0])===-1);case Nt.ACK:case Nt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dW{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=lW(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const fW=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Wj,Encoder:uW,get PacketType(){return Nt},protocol:cW},Symbol.toStringTag,{value:"Module"}));function Ys(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const hW=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class G5 extends Xr{constructor(t,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ys(t,"open",this.onopen.bind(this)),Ys(t,"packet",this.onpacket.bind(this)),Ys(t,"error",this.onerror.bind(this)),Ys(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var a,s,i;if(hW.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:Nt.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),l.id=d}const o=(s=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,r){var a;const s=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},s),l=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...r){return new Promise((a,s)=>{const i=(l,o)=>l?s(l):a(o);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>a!==this._queue[0]?void 0:(s!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Nt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nt.EVENT:case Nt.BINARY_EVENT:this.onevent(t);break;case Nt.ACK:case Nt.BINARY_ACK:this.onack(t);break;case Nt.DISCONNECT:this.ondisconnect();break;case Nt.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let a=!1;return function(...s){a||(a=!0,r.packet({type:Nt.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,t.data)}}}function Sd(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Sd.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Sd.prototype.reset=function(){this.attempts=0};Sd.prototype.setMin=function(e){this.ms=e};Sd.prototype.setMax=function(e){this.max=e};Sd.prototype.setJitter=function(e){this.jitter=e};class b1 extends Xr{constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,_g(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Sd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||fW;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new eW(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const s=Ys(r,"open",function(){a.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},l=Ys(r,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ys(t,"ping",this.onping.bind(this)),Ys(t,"data",this.ondata.bind(this)),Ys(t,"error",this.onerror.bind(this)),Ys(t,"close",this.onclose.bind(this)),Ys(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){kg(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new G5(this,t,r),this.nsps[t]=a),a}_destroy(t){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let a=0;a<r.length;a++)this.engine.write(r[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ef={};function Jm(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=tW(e,t.path||"/socket.io"),a=r.source,s=r.id,i=r.path,l=ef[s]&&i in ef[s].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let c;return o?c=new b1(a,t):(ef[s]||(ef[s]=new b1(a,t)),c=ef[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Jm,{Manager:b1,Socket:G5,io:Jm,connect:Jm});class mW{constructor(){this.socket=null,this.isConnected=!1,this.listeners=new Map}connect(t){this.socket&&this.disconnect();const a="https://portal.aglis.biz.id/api".replace("/api","");return console.log(`🔗 Socket.IO: Connecting to ${a}`),this.socket=Jm(a,{autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,timeout:2e4,transports:["polling","websocket"],path:"/socket.io/"}),this.setupEventListeners(),this.socket.on("connect",()=>{console.log("🔗 Socket connected:",this.socket.id),this.isConnected=!0,t&&this.authenticate(t)}),this.socket.on("disconnect",s=>{console.log("🔌 Socket disconnected:",s),this.isConnected=!1}),this.socket.on("connect_error",s=>{console.error("🚫 Socket connection error:",s),this.isConnected=!1}),this.socket}authenticate(t){this.socket&&this.isConnected&&(this.socket.emit("authenticate",{userId:t.id,role:t.role,username:t.username}),console.log("🔐 User authenticated:",t.username))}setupEventListeners(){this.socket&&(this.socket.on("notification",t=>{console.log("🔔 New notification:",t),this.emit("notification",t)}),this.socket.on("ticket_updated",t=>{console.log("🎫 Ticket updated:",t),this.emit("ticket_updated",t),window.dispatchEvent(new CustomEvent("ticket-updated",{detail:t}))}),this.socket.on("ticket_created",t=>{console.log("🎫 Ticket created:",t),this.emit("ticket_created",t),window.dispatchEvent(new CustomEvent("ticket-created",{detail:t}))}),this.socket.on("ticket_assigned",t=>{console.log("🎫 Ticket assigned:",t),this.emit("ticket_assigned",t),window.dispatchEvent(new CustomEvent("ticket-assigned",{detail:t}))}),this.socket.on("ticket_completed",t=>{console.log("🎫 Ticket completed:",t),this.emit("ticket_completed",t),window.dispatchEvent(new CustomEvent("ticket-completed",{detail:t}))}),this.socket.on("technician_status_changed",t=>{console.log("👷 Technician status changed:",t),this.emit("technician_status_changed",t)}),this.socket.on("system_alert",t=>{console.log("⚠️ System alert:",t),this.emit("system_alert",t)}))}joinRoom(t){this.socket&&this.isConnected&&(this.socket.emit("join_room",t),console.log(`🏠 Joined room: ${t}`))}leaveRoom(t){this.socket&&this.isConnected&&(this.socket.emit("leave_room",t),console.log(`🚪 Left room: ${t}`))}emitTicketUpdate(t){this.socket&&this.isConnected&&this.socket.emit("ticket_update",t)}emitTechnicianStatusUpdate(t){this.socket&&this.isConnected&&this.socket.emit("technician_status_update",t)}emitSystemAlert(t){this.socket&&this.isConnected&&this.socket.emit("system_alert",t)}on(t,r){this.socket&&this.socket.on(t,r)}off(t,r){this.socket&&this.socket.off(t,r)}emit(t,r){this.listeners.has(t)&&this.listeners.get(t).forEach(a=>{try{a(r)}catch(s){console.error(`Error in ${t} listener:`,s)}})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,console.log("🔌 Socket disconnected"))}getConnectionStatus(){var t;return{isConnected:this.isConnected,socketId:((t=this.socket)==null?void 0:t.id)||null}}reconnect(t){return this.disconnect(),this.connect(t)}}const Ge=new mW,kn={getNotifications:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.type&&t.append("type",e.type),e.is_read!==void 0&&t.append("is_read",e.is_read),e.priority&&t.append("priority",e.priority),e.include_archived&&t.append("include_archived",e.include_archived);const r=t.toString(),a=`/notifications${r?`?${r}`:""}`;return me.get(a)},getNotification:async e=>me.get(`/notifications/${e}`),markAsRead:async e=>me.patch(`/notifications/${e}/read`),markAllAsRead:async()=>me.patch("/notifications/read-all"),archive:async e=>me.patch(`/notifications/${e}/archive`),delete:async e=>me.delete(`/notifications/${e}`),getSettings:async()=>me.get("/notifications/settings/preferences"),updateSettings:async e=>me.put("/notifications/settings/preferences",e),cleanupExpired:async()=>me.delete("/notifications/cleanup/expired"),create:async e=>me.post("/notifications",e)},pW=w.createContext(),xW=({children:e})=>{const{user:t}=tn(),r=qt(),a=w.useRef(!1),s=w.useRef(new Set),[i,l]=w.useState([]),[o,c]=w.useState(0),[u,d]=w.useState(!1),[f,h]=w.useState({email_notifications:!0,push_notifications:!0,sound_notifications:!0,notification_types:{ticket_assigned:!0,ticket_updated:!0,ticket_completed:!0,system_alert:!0,technician_status:!0,new_ticket:!0}}),{data:m,isLoading:p,refetch:x}=Be(["notifications",{page:1,limit:50,is_read:!1}],()=>kn.getNotifications({page:1,limit:50,is_read:!1}),{enabled:!!t,refetchInterval:3e4,onSuccess:R=>{var P;(P=R==null?void 0:R.data)!=null&&P.notifications&&(l(R.data.notifications),c(R.data.unreadCount||0))}}),{data:g}=Be(["notification-settings"],kn.getSettings,{enabled:!!t,onSuccess:R=>{var P;(P=R==null?void 0:R.data)!=null&&P.settings&&h(R.data.settings)}}),y=w.useCallback(R=>{const P=`${R.id||R.type}-${R.timestamp||Date.now()}`;if(s.current.has(P)){console.log("⚠️ Duplicate notification ignored:",P);return}s.current.add(P),setTimeout(()=>{s.current.delete(P)},1e4),console.log("🔔 Received notification:",R),l(B=>[R,...B]),c(B=>B+1),f.push_notifications&&N(R.type)&&k(R),f.sound_notifications&&N(R.type)&&_(),r.invalidateQueries(["notifications"])},[f,r]),b=w.useCallback(R=>{console.log("🎫 Ticket updated:",R),r.invalidateQueries(["tickets"]),r.invalidateQueries(["ticket",R.ticketId]),(R.assignedTo===(t==null?void 0:t.id)||R.updatedBy===(t==null?void 0:t.id))&&ee.success(`Ticket #${R.ticketId} updated`)},[r,t]),v=w.useCallback(R=>{console.log("👷 Technician status changed:",R),r.invalidateQueries(["technicians"]),r.invalidateQueries(["technician-stats"]),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="supervisor")&&ee.info(`Technician status updated: ${R.status}`)},[r,t]),j=w.useCallback(R=>{console.log("⚠️ System alert:",R);const P={duration:R.priority==="urgent"?1e4:5e3,style:{background:R.priority==="urgent"?"#ef4444":"#f59e0b",color:"white"}};ee(R.message,P)},[]),N=R=>{var P;return((P=f.notification_types)==null?void 0:P[R])!==!1},k=R=>{const P={duration:5e3,style:{background:R.priority==="high"?"#ef4444":"#3b82f6",color:"white"}};ee(R.message,P)},_=()=>{try{const R=new(window.AudioContext||window.webkitAudioContext),P=R.createOscillator(),B=R.createGain();P.connect(B),B.connect(R.destination),P.frequency.value=800,P.type="sine",B.gain.setValueAtTime(.3,R.currentTime),B.gain.exponentialRampToValueAtTime(.01,R.currentTime+.5),P.start(R.currentTime),P.stop(R.currentTime+.5)}catch(R){console.warn("Could not play notification sound:",R)}};w.useEffect(()=>{if(!t)return;console.log("🔗 Initializing Socket.IO connection..."),Ge.connect(t);const P=setInterval(()=>{const B=Ge.getConnectionStatus();d(B.isConnected)},1e3);return()=>{clearInterval(P)}},[t]),w.useEffect(()=>{if(!(!u||a.current))return console.log("📡 Setting up socket event listeners..."),a.current=!0,Ge.on("notification",y),Ge.on("ticket_updated",b),Ge.on("technician_status_changed",v),Ge.on("system_alert",j),()=>{console.log("🔌 Cleaning up socket event listeners..."),a.current=!1,Ge.off("notification",y),Ge.off("ticket_updated",b),Ge.off("technician_status_changed",v),Ge.off("system_alert",j)}},[u,y,b,v,j]),w.useEffect(()=>()=>{console.log("🛑 Disconnecting socket on unmount..."),Ge.disconnect()},[]);const q={notifications:i,unreadCount:o,isSocketConnected:u,settings:f,isLoading:p,markAsRead:async R=>{try{await kn.markAsRead(R),l(P=>P.map(B=>B.id===R?{...B,is_read:!0,read_at:new Date().toISOString()}:B)),c(P=>Math.max(0,P-1)),r.invalidateQueries(["notifications"])}catch(P){console.error("Error marking notification as read:",P),ee.error("Failed to mark notification as read")}},markAllAsRead:async()=>{try{await kn.markAllAsRead(),l(R=>R.map(P=>({...P,is_read:!0,read_at:new Date().toISOString()}))),c(0),r.invalidateQueries(["notifications"]),ee.success("All notifications marked as read")}catch(R){console.error("Error marking all notifications as read:",R),ee.error("Failed to mark all notifications as read")}},archiveNotification:async R=>{try{await kn.archiveNotification(R),l(P=>P.filter(B=>B.id!==R)),r.invalidateQueries(["notifications"]),ee.success("Notification archived")}catch(P){console.error("Error archiving notification:",P),ee.error("Failed to archive notification")}},updateSettings:async R=>{try{await kn.updateSettings(R),h(P=>({...P,...R})),r.invalidateQueries(["notification-settings"]),ee.success("Notification settings updated")}catch(P){console.error("Error updating notification settings:",P),ee.error("Failed to update notification settings")}},refetchNotifications:x,joinRoom:R=>{u&&Ge.joinRoom(R)},leaveRoom:R=>{u&&Ge.leaveRoom(R)},emitTicketUpdate:R=>{u&&Ge.emitTicketUpdate(R)},emitTechnicianStatusUpdate:R=>{u&&Ge.emitTechnicianStatusUpdate(R)},reconnect:()=>Ge.reconnect(t),disconnect:()=>Ge.disconnect()};return n.jsx(pW.Provider,{value:q,children:e})},Up={getAllPermissions:async()=>await me.get("/permissions/all"),getRolePermissions:async e=>await me.get(`/permissions/role/${e}`),getPermissionMatrix:async()=>await me.get("/permissions/matrix"),updateRolePermissions:async(e,t)=>await me.put(`/permissions/role/${e}`,{permissions:t}),getMyPermissions:async()=>await me.get("/permissions/me")},gW=w.createContext(),vW=({children:e})=>{const{user:t}=tn(),[r,a]=w.useState([]),{data:s,isLoading:i}=Be(["permissions",t==null?void 0:t.role],()=>Up.getMyPermissions(),{enabled:!!t,onSuccess:h=>{var x;const m=((x=h.data)==null?void 0:x.permissions)||[],p=Array.isArray(m)?m.map(g=>typeof g=="string"?g:g.name):[];a(p)},onError:h=>{console.error("Failed to load permissions:",h),a([])}}),l=h=>(t==null?void 0:t.role)==="admin"?!0:r.includes(h),o=(...h)=>(t==null?void 0:t.role)==="admin"?!0:h.some(m=>r.includes(m)),f={permissions:r,isLoading:i,hasPermission:l,hasAnyPermission:o,hasAllPermissions:(...h)=>(t==null?void 0:t.role)==="admin"?!0:h.every(m=>r.includes(m)),can:(h,m)=>{const p=`${h}.${m}`;return l(p)},canAccessPage:h=>{const p={dashboard:["dashboard.view"],analytics:["analytics.view"],tickets:["tickets.view"],customers:["customers.view"],registrations:["registrations.view"],technicians:["technicians.view"],inventory:["inventory.view"],users:["users.view"],permissions:["permissions.view"]}[h];return p?o(...p):!0}};return n.jsx(gW.Provider,{value:f,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(e,t)=>{const r=w.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>w.createElement("svg",{ref:d,...yW,width:s,height:s,stroke:a,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bW(e)}`,o].join(" "),...u},[...t.map(([f,h])=>w.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Te("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=Te("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Te("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=Te("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Te("Cable",[["path",{d:"M4 9a2 2 0 0 1-2-2V5h6v2a2 2 0 0 1-2 2Z",key:"1s6oa5"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M7 5V3",key:"1t1388"}],["path",{d:"M19 15V6.5a3.5 3.5 0 0 0-7 0v11a3.5 3.5 0 0 1-7 0V9",key:"1ytv72"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M22 19h-6v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2Z",key:"sdz6o8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=Te("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Te("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=Te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Te("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Te("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=Te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=Te("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=Te("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Te("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=Te("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=Te("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Te("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=Te("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Te("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Te("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=Te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Te("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=Te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Te("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Te("Router",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Te("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=Te("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=Te("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Te("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=Te("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Te("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=Te("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=Te("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=Te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Te("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Te("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),zW=({isOpen:e,onClose:t,collapsed:r})=>{var m,p,x,g;const{user:a}=tn(),s=Yc(),[i,l]=w.useState(!1),[o,c]=w.useState(!1),[u,d]=w.useState(null),h=[{name:"Dashboard",href:"/dashboard",icon:TW,roles:["admin","supervisor","technician","customer_service"]},{name:"Analytics",href:"/analytics",icon:zp,roles:["admin","supervisor"]},{name:"Tickets",href:"/tickets",icon:nl,roles:["admin","supervisor","technician","customer_service"]},{name:"Customers",href:"/customers",icon:Zn,roles:["admin","supervisor","customer_service"]},{name:"Registrations",href:"/registrations",icon:dl,roles:["admin","supervisor","customer_service"]},{name:"Reg Analytics",href:"/registration-analytics",icon:zp,roles:["admin","supervisor"]},{name:"Technicians",href:"/technicians",icon:qp,roles:["admin","supervisor"]},{name:"Inventory",href:"/inventory-stock",icon:Jt,roles:["admin","supervisor","technician"]},{name:"Master Data",icon:CW,roles:["admin","supervisor"],hasSubmenu:!0,submenu:[{name:"Service Types",href:"/master-data/service-types"},{name:"Service Categories",href:"/master-data/service-categories"},{name:"Paket Langganan",href:"/master-data/packages"},{name:"Price List",href:"/master-data/price-list"},{name:"Equipment",href:"/master-data/equipment"},{name:"ODP",href:"/master-data/odp"}]},{name:"Notifications",icon:Ai,roles:["admin","supervisor"],hasSubmenu:!0,submenu:[{name:"Templates",href:"/notifications/templates"},{name:"Analytics",href:"/notifications/analytics"},{name:"Settings",href:"/notifications/settings"}]},{name:"Users",href:"/users",icon:Vn,roles:["admin","supervisor"]},{name:"Permissions",href:"/permissions",icon:On,roles:["admin"]}].filter(y=>y.roles.includes(a==null?void 0:a.role));return n.jsxs(n.Fragment,{children:[e&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden",onClick:t}),n.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-30 bg-white shadow-lg transform transition-all duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${e?"translate-x-0":"-translate-x-full"}
        ${r?"lg:w-20":"lg:w-64"}
        w-64
      `,children:[n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-8 w-auto"})}),!r&&n.jsx("div",{className:"ml-3 transition-opacity duration-300",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900 whitespace-nowrap",children:"AGLIS"})})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-md text-gray-500 hover:text-gray-600 hover:bg-gray-100 lg:hidden",children:n.jsx(hr,{className:"h-5 w-5"})})]}),n.jsx("nav",{className:"mt-6 px-3",children:n.jsx("div",{className:"space-y-1",children:h.map(y=>{var j;const b=y.icon;if(y.hasSubmenu){const N=(j=y.submenu)==null?void 0:j.some(T=>s.pathname.startsWith(T.href)),k=y.name==="Master Data"?i:o,_=y.name==="Master Data"?l:c,S=k||N;return n.jsxs("div",{className:"relative group/submenu",children:[n.jsxs("button",{onClick:()=>!r&&_(!k),onMouseEnter:()=>d(y.name),onMouseLeave:()=>d(null),className:`
                        w-full group flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors
                        ${N?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                        ${r?"justify-center":""}
                      `,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(b,{className:`
                          h-5 w-5 flex-shrink-0
                          ${r?"":"mr-3"}
                          ${N?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}
                        `}),!r&&y.name]}),!r&&(S?n.jsx(Y5,{className:"h-4 w-4"}):n.jsx(vn,{className:"h-4 w-4"}))]}),r&&u===y.name&&n.jsxs("div",{className:"absolute left-full ml-2 top-0 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap z-50 shadow-lg",children:[y.name,n.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"})]}),S&&!r&&n.jsx("div",{className:"ml-8 mt-1 space-y-1",children:y.submenu.map(T=>{const C=s.pathname===T.href;return n.jsx(vS,{to:T.href,className:`
                                block px-3 py-2 text-sm rounded-lg transition-colors
                                ${C?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                              `,onClick:t,children:T.name},T.name)})})]},y.name)}const v=s.pathname.startsWith(y.href);return n.jsxs("div",{className:"relative group/item",children:[n.jsxs(vS,{to:y.href,onMouseEnter:()=>d(y.name),onMouseLeave:()=>d(null),className:`
                      group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors
                      ${v?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                      ${r?"justify-center":""}
                    `,onClick:t,children:[n.jsx(b,{className:`
                      h-5 w-5 flex-shrink-0
                      ${r?"":"mr-3"}
                      ${v?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}
                    `}),!r&&y.name]}),r&&u===y.name&&n.jsxs("div",{className:"absolute left-full ml-2 top-0 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap z-50 shadow-lg",children:[y.name,n.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"})]})]},y.name)})})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:n.jsxs("div",{className:`flex items-center ${r?"justify-center":""}`,children:[n.jsxs("div",{className:"flex-shrink-0 relative group",children:[n.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer",children:n.jsx("span",{className:"text-white font-medium text-sm",children:(p=(m=a==null?void 0:a.full_name)==null?void 0:m.charAt(0))==null?void 0:p.toUpperCase()})}),r&&n.jsxs("div",{className:"hidden group-hover:block absolute left-full ml-2 bottom-0 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap z-50 shadow-lg min-w-max",children:[n.jsx("p",{className:"font-medium",children:a==null?void 0:a.full_name}),n.jsx("p",{className:"text-xs text-gray-300 capitalize",children:(x=a==null?void 0:a.role)==null?void 0:x.replace("_"," ")}),n.jsx("div",{className:"absolute left-0 bottom-3 -translate-x-1 w-2 h-2 bg-gray-900 rotate-45"})]})]}),!r&&n.jsxs("div",{className:"ml-3 overflow-hidden",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a==null?void 0:a.full_name}),n.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:(g=a==null?void 0:a.role)==null?void 0:g.replace("_"," ")})]})]})})]})]})},WW=(e={})=>{const t=qt(),[r,a]=w.useState(0),{data:s,isLoading:i,error:l,refetch:o}=Be(["notifications",e],()=>kn.getNotifications(e),{refetchOnWindowFocus:!1,staleTime:3e4,select:h=>h.data});w.useEffect(()=>{(s==null?void 0:s.unreadCount)!==void 0&&a(s.unreadCount)},[s==null?void 0:s.unreadCount]),w.useEffect(()=>{Ge.isConnected||Ge.connect();const h=p=>{console.log("🔔 [useNotifications] New notification received:",p),t.setQueryData(["notifications",e],x=>x&&{...x,notifications:[p,...x.notifications||[]],unreadCount:(x.unreadCount||0)+1}),a(x=>x+1),(p.priority==="high"||p.priority==="urgent")&&yt(p.title,{icon:"🔔",duration:5e3})},m=p=>{console.log("🔄 [useNotifications] Notification update received:",p),o()};return Ge.on("notification",h),Ge.on("notification_updated",m),()=>{Ge.off("notification",h),Ge.off("notification_updated",m)}},[t,e,o]);const c=jt(h=>kn.markAsRead(h),{onSuccess:(h,m)=>{t.setQueryData(["notifications",e],p=>p&&{...p,notifications:(p.notifications||[]).map(x=>x.id===m?{...x,is_read:!0,read_at:new Date().toISOString()}:x),unreadCount:Math.max(0,(p.unreadCount||0)-1)}),a(p=>Math.max(0,p-1))},onError:h=>{console.error("Failed to mark notification as read:",h),yt.error("Gagal menandai notifikasi sebagai dibaca")}}),u=jt(()=>kn.markAllAsRead(),{onSuccess:()=>{t.setQueryData(["notifications",e],h=>h&&{...h,notifications:(h.notifications||[]).map(m=>({...m,is_read:!0,read_at:new Date().toISOString()})),unreadCount:0}),a(0),yt.success("Semua notifikasi ditandai sebagai dibaca")},onError:h=>{console.error("Failed to mark all notifications as read:",h),yt.error("Gagal menandai semua notifikasi sebagai dibaca")}}),d=jt(h=>kn.archive(h),{onSuccess:(h,m)=>{t.setQueryData(["notifications",e],p=>p&&{...p,notifications:(p.notifications||[]).filter(x=>x.id!==m),unreadCount:Math.max(0,(p.unreadCount||0)-1)}),a(p=>Math.max(0,p-1)),yt.success("Notifikasi diarsipkan")},onError:h=>{console.error("Failed to archive notification:",h),yt.error("Gagal mengarsipkan notifikasi")}}),f=jt(h=>kn.delete(h),{onSuccess:(h,m)=>{t.setQueryData(["notifications",e],p=>p&&{...p,notifications:(p.notifications||[]).filter(x=>x.id!==m),unreadCount:Math.max(0,(p.unreadCount||0)-1)}),a(p=>Math.max(0,p-1)),yt.success("Notifikasi dihapus")},onError:h=>{console.error("Failed to delete notification:",h),yt.error("Gagal menghapus notifikasi")}});return{notifications:(s==null?void 0:s.notifications)||[],pagination:s==null?void 0:s.pagination,unreadCount:r,isLoading:i,error:l,refetch:o,markAsRead:c.mutate,markAllAsRead:u.mutate,archive:d.mutate,delete:f.mutate,isMarkingAsRead:c.isLoading,isMarkingAllAsRead:u.isLoading,isArchiving:d.isLoading,isDeleting:f.isLoading}},VW=()=>{const e=qt(),{data:t,isLoading:r,error:a}=Be(["notification-settings"],()=>kn.getSettings(),{select:i=>{var l;return(l=i.data)==null?void 0:l.settings}}),s=jt(i=>kn.updateSettings(i),{onSuccess:i=>{e.setQueryData(["notification-settings"],{data:{settings:i.data.settings}}),yt.success("Pengaturan notifikasi berhasil diperbarui")},onError:i=>{console.error("Failed to update notification settings:",i),yt.error("Gagal memperbarui pengaturan notifikasi")}});return{settings:t,isLoading:r,error:a,updateSettings:s.mutate,isUpdating:s.isLoading}},HW=()=>{const[e,t]=w.useState(0),{data:r}=Be(["notifications","unread-count"],()=>kn.getNotifications({limit:1,is_read:!1}),{refetchInterval:3e4,select:a=>{var s;return((s=a.data)==null?void 0:s.unreadCount)||0}});return w.useEffect(()=>{r!==void 0&&t(r)},[r]),w.useEffect(()=>{Ge.isConnected||Ge.connect();const a=()=>{t(i=>i+1)},s=()=>{t(r||0)};return Ge.on("notification",a),Ge.on("notification_updated",s),()=>{Ge.off("notification",a),Ge.off("notification_updated",s)}},[r]),e};function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function xi(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Qa(e){xi(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||j1(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var qW={};function KW(){return qW}function r4(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ap(e,t){xi(2,arguments);var r=Qa(e),a=Qa(t),s=r.getTime()-a.getTime();return s<0?-1:s>0?1:s}function GW(e,t){xi(2,arguments);var r=Qa(e),a=Qa(t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function QW(e,t){return xi(2,arguments),Qa(e).getTime()-Qa(t).getTime()}var XW={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},YW="trunc";function JW(e){return XW[YW]}function ZW(e){xi(1,arguments);var t=Qa(e);return t.setHours(23,59,59,999),t}function eV(e){xi(1,arguments);var t=Qa(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function tV(e){xi(1,arguments);var t=Qa(e);return ZW(t).getTime()===eV(t).getTime()}function rV(e,t){xi(2,arguments);var r=Qa(e),a=Qa(t),s=ap(r,a),i=Math.abs(GW(r,a)),l;if(i<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);var o=ap(r,a)===-s;tV(Qa(e))&&i===1&&ap(e,a)===1&&(o=!1),l=s*(i-Number(o))}return l===0?0:l}function aV(e,t,r){xi(2,arguments);var a=QW(e,t)/1e3;return JW()(a)}var nV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sV=function(t,r,a){var s,i=nV[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+s:s+" ago":s};function $u(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,a=e.formats[r]||e.formats[e.defaultWidth];return a}}var iV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cV={date:$u({formats:iV,defaultWidth:"full"}),time:$u({formats:lV,defaultWidth:"full"}),dateTime:$u({formats:oV,defaultWidth:"full"})},uV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dV=function(t,r,a,s){return uV[t]};function Ci(e){return function(t,r){var a=r!=null&&r.context?String(r.context):"standalone",s;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{var o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var fV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vV=function(t,r){var a=Number(t),s=a%100;if(s>20||s<10)switch(s%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},yV={ordinalNumber:vV,era:Ci({values:fV,defaultWidth:"wide"}),quarter:Ci({values:hV,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ci({values:mV,defaultWidth:"wide"}),day:Ci({values:pV,defaultWidth:"wide"}),dayPeriod:Ci({values:xV,defaultWidth:"wide",formattingValues:gV,defaultFormattingWidth:"wide"})};function Ei(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var l=i[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?wV(o,function(f){return f.test(l)}):bV(o,function(f){return f.test(l)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(l.length);return{value:u,rest:d}}}function bV(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function wV(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function nO(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var s=a[0],i=t.match(e.parsePattern);if(!i)return null;var l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;var o=t.slice(s.length);return{value:l,rest:o}}}var jV=/^(\d+)(th|st|nd|rd)?/i,NV=/\d+/i,kV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_V={any:[/^b/i,/^(a|c)/i]},SV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CV={any:[/1/i,/2/i,/3/i,/4/i]},EV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FV={ordinalNumber:nO({matchPattern:jV,parsePattern:NV,valueCallback:function(t){return parseInt(t,10)}}),era:Ei({matchPatterns:kV,defaultMatchWidth:"wide",parsePatterns:_V,defaultParseWidth:"any"}),quarter:Ei({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:CV,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ei({matchPatterns:EV,defaultMatchWidth:"wide",parsePatterns:TV,defaultParseWidth:"any"}),day:Ei({matchPatterns:AV,defaultMatchWidth:"wide",parsePatterns:PV,defaultParseWidth:"any"}),dayPeriod:Ei({matchPatterns:OV,defaultMatchWidth:"any",parsePatterns:DV,defaultParseWidth:"any"})},IV={code:"en-US",formatDistance:sV,formatLong:cV,formatRelative:dV,localize:yV,match:FV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sO(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function RV(e){return sO({},e)}var a4=1440,MV=2520,vy=43200,LV=86400;function $V(e,t,r){var a,s;xi(2,arguments);var i=KW(),l=(a=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:i.locale)!==null&&a!==void 0?a:IV;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=ap(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var c=sO(RV(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,d;o>0?(u=Qa(t),d=Qa(e)):(u=Qa(e),d=Qa(t));var f=aV(d,u),h=(r4(d)-r4(u))/1e3,m=Math.round((f-h)/60),p;if(m<2)return r!=null&&r.includeSeconds?f<5?l.formatDistance("lessThanXSeconds",5,c):f<10?l.formatDistance("lessThanXSeconds",10,c):f<20?l.formatDistance("lessThanXSeconds",20,c):f<40?l.formatDistance("halfAMinute",0,c):f<60?l.formatDistance("lessThanXMinutes",1,c):l.formatDistance("xMinutes",1,c):m===0?l.formatDistance("lessThanXMinutes",1,c):l.formatDistance("xMinutes",m,c);if(m<45)return l.formatDistance("xMinutes",m,c);if(m<90)return l.formatDistance("aboutXHours",1,c);if(m<a4){var x=Math.round(m/60);return l.formatDistance("aboutXHours",x,c)}else{if(m<MV)return l.formatDistance("xDays",1,c);if(m<vy){var g=Math.round(m/a4);return l.formatDistance("xDays",g,c)}else if(m<LV)return p=Math.round(m/vy),l.formatDistance("aboutXMonths",p,c)}if(p=rV(d,u),p<12){var y=Math.round(m/vy);return l.formatDistance("xMonths",y,c)}else{var b=p%12,v=Math.floor(p/12);return b<3?l.formatDistance("aboutXYears",v,c):b<9?l.formatDistance("overXYears",v,c):l.formatDistance("almostXYears",v+1,c)}}function iO(e,t){return xi(1,arguments),$V(e,Date.now(),t)}var BV={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},UV=function(t,r,a){var s,i=BV[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"dalam waktu "+s:s+" yang lalu":s},zV={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},WV={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},VV={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HV={date:$u({formats:zV,defaultWidth:"full"}),time:$u({formats:WV,defaultWidth:"full"}),dateTime:$u({formats:VV,defaultWidth:"full"})},qV={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},KV=function(t,r,a,s){return qV[t]},GV={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},QV={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},XV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},YV={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},JV={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},ZV={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},eH=function(t,r){var a=Number(t);return"ke-"+a},tH={ordinalNumber:eH,era:Ci({values:GV,defaultWidth:"wide"}),quarter:Ci({values:QV,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ci({values:XV,defaultWidth:"wide"}),day:Ci({values:YV,defaultWidth:"wide"}),dayPeriod:Ci({values:JV,defaultWidth:"wide",formattingValues:ZV,defaultFormattingWidth:"wide"})},rH=/^ke-(\d+)?/i,aH=/\d+/i,nH={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},sH={any:[/^s/i,/^(m|e)/i]},iH={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},lH={any:[/1/i,/2/i,/3/i,/4/i]},oH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},cH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},uH={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},dH={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},fH={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},hH={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},mH={ordinalNumber:nO({matchPattern:rH,parsePattern:aH,valueCallback:function(t){return parseInt(t,10)}}),era:Ei({matchPatterns:nH,defaultMatchWidth:"wide",parsePatterns:sH,defaultParseWidth:"any"}),quarter:Ei({matchPatterns:iH,defaultMatchWidth:"wide",parsePatterns:lH,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ei({matchPatterns:oH,defaultMatchWidth:"wide",parsePatterns:cH,defaultParseWidth:"any"}),day:Ei({matchPatterns:uH,defaultMatchWidth:"wide",parsePatterns:dH,defaultParseWidth:"any"}),dayPeriod:Ei({matchPatterns:fH,defaultMatchWidth:"any",parsePatterns:hH,defaultParseWidth:"any"})},lO={code:"id",formatDistance:UV,formatLong:HV,formatRelative:KV,localize:tH,match:mH,options:{weekStartsOn:1,firstWeekContainsDate:1}};const pH=({isOpen:e,onClose:t})=>{const[r,a]=w.useState("all"),[s,i]=w.useState(new Set),[l,o]=w.useState(!1),[c,u]=w.useState({type:"",priority:"",is_read:void 0}),{notifications:d,pagination:f,unreadCount:h,isLoading:m,markAsRead:p,markAllAsRead:x,archive:g,delete:y,isMarkingAllAsRead:b}=WW({type:c.type||void 0,priority:c.priority||void 0,is_read:c.is_read});w.useEffect(()=>{const E=A=>{A.key==="Escape"&&t()};if(e)return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[e,t]);const v=d.filter(E=>{switch(r){case"unread":return!E.is_read;case"archived":return E.is_archived;case"high":return E.priority==="high"||E.priority==="urgent";default:return!E.is_archived}}),j=E=>{switch(E){case"urgent":return n.jsx(Es,{className:"h-4 w-4 text-red-500"});case"high":return n.jsx($t,{className:"h-4 w-4 text-orange-500"});case"normal":return n.jsx(f0,{className:"h-4 w-4 text-blue-500"});case"low":return n.jsx(Ke,{className:"h-4 w-4 text-green-500"});default:return n.jsx(f0,{className:"h-4 w-4 text-gray-500"})}},N=E=>{switch(E){case"ticket_assigned":case"ticket_updated":case"ticket_completed":return n.jsx(Ke,{className:"h-5 w-5 text-blue-600"});case"system_alert":return n.jsx(Es,{className:"h-5 w-5 text-red-600"});case"technician_status":return n.jsx(Lu,{className:"h-5 w-5 text-yellow-600"});case"new_ticket":return n.jsx(Ai,{className:"h-5 w-5 text-green-600"});default:return n.jsx(Ai,{className:"h-5 w-5 text-gray-600"})}},k=E=>({ticket_assigned:"Tiket Ditugaskan",ticket_updated:"Tiket Diperbarui",ticket_completed:"Tiket Selesai",system_alert:"Peringatan Sistem",technician_status:"Status Teknisi",new_ticket:"Tiket Baru"})[E]||E,_=E=>{const A=new Set(s);A.has(E)?A.delete(E):A.add(E),i(A)},S=()=>{s.size===v.length?i(new Set):i(new Set(v.map(E=>E.id)))},T=E=>{s.forEach(A=>{switch(E){case"mark-read":p(A);break;case"archive":g(A);break;case"delete":y(A);break}}),i(new Set)},C=[{id:"all",label:"Semua",count:d.length},{id:"unread",label:"Belum Dibaca",count:h},{id:"high",label:"Prioritas Tinggi",count:d.filter(E=>E.priority==="high"||E.priority==="urgent").length},{id:"archived",label:"Diarsipkan",count:d.filter(E=>E.is_archived).length}];return e?n.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),n.jsxs("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl transform transition-transform",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ai,{className:"h-6 w-6 text-blue-600"}),h>0&&n.jsx("span",{className:"absolute -top-2 -right-2 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:h>99?"99+":h})]}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Notifikasi"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>o(!l),className:`p-2 rounded-lg transition-colors ${l?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,children:n.jsx(J5,{className:"h-4 w-4"})}),n.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(hr,{className:"h-4 w-4"})})]})]}),l&&n.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("select",{value:c.type,onChange:E=>u(A=>({...A,type:E.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Semua Tipe"}),n.jsx("option",{value:"ticket_assigned",children:"Tiket Ditugaskan"}),n.jsx("option",{value:"ticket_updated",children:"Tiket Diperbarui"}),n.jsx("option",{value:"ticket_completed",children:"Tiket Selesai"}),n.jsx("option",{value:"system_alert",children:"Peringatan Sistem"}),n.jsx("option",{value:"technician_status",children:"Status Teknisi"}),n.jsx("option",{value:"new_ticket",children:"Tiket Baru"})]}),n.jsxs("select",{value:c.priority,onChange:E=>u(A=>({...A,priority:E.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Semua Prioritas"}),n.jsx("option",{value:"urgent",children:"Urgent"}),n.jsx("option",{value:"high",children:"Tinggi"}),n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"low",children:"Rendah"})]}),n.jsxs("select",{value:c.is_read===void 0?"":c.is_read.toString(),onChange:E=>u(A=>({...A,is_read:E.target.value===""?void 0:E.target.value==="true"})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Semua Status"}),n.jsx("option",{value:"false",children:"Belum Dibaca"}),n.jsx("option",{value:"true",children:"Sudah Dibaca"})]}),n.jsx("button",{onClick:()=>u({type:"",priority:"",is_read:void 0}),className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Reset"})]})}),n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:S,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:s.size===v.length?"Batal Pilih":"Pilih Semua"}),s.size>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>T("mark-read"),className:"text-sm text-green-600 hover:text-green-800 font-medium",children:"Tandai Dibaca"}),n.jsx("button",{onClick:()=>T("archive"),className:"text-sm text-orange-600 hover:text-orange-800 font-medium",children:"Arsipkan"}),n.jsx("button",{onClick:()=>T("delete"),className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Hapus"})]})]}),h>0&&n.jsxs("button",{onClick:x,disabled:b,className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[n.jsx(SW,{className:"h-4 w-4"}),n.jsx("span",{children:"Tandai Semua Dibaca"})]})]})}),n.jsx("div",{className:"flex border-b border-gray-200",children:C.map(E=>n.jsxs("button",{onClick:()=>a(E.id),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${r===E.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[E.label,E.count>0&&n.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${r===E.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:E.count})]},E.id))}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:m?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):v.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[n.jsx(Ai,{className:"h-12 w-12 mb-4 opacity-50"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"Tidak ada notifikasi"}),n.jsx("p",{className:"text-sm text-center",children:r==="unread"?"Semua notifikasi sudah dibaca":"Belum ada notifikasi yang tersedia"})]}):n.jsx("div",{className:"divide-y divide-gray-200",children:v.map(E=>n.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${E.is_read?"":"bg-blue-50"}`,onClick:()=>{E.is_read||p(E.id)},children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:s.has(E.id),onChange:A=>{A.stopPropagation(),_(E.id)},className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[N(E.type),n.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:k(E.type)}),j(E.priority)]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:iO(new Date(E.created_at),{addSuffix:!0,locale:lO})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[!E.is_read&&n.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full"}),n.jsx("button",{onClick:A=>{A.stopPropagation(),g(E.id)},className:"p-1 text-gray-400 hover:text-orange-600 transition-colors",title:"Arsipkan",children:n.jsx(wW,{className:"h-4 w-4"})}),n.jsx("button",{onClick:A=>{A.stopPropagation(),y(E.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Hapus",children:n.jsx(sa,{className:"h-4 w-4"})})]})]})]}),n.jsx("h3",{className:`mt-2 text-sm font-medium ${E.is_read?"text-gray-700":"text-gray-900"}`,children:E.title}),n.jsx("p",{className:`mt-1 text-sm ${E.is_read?"text-gray-500":"text-gray-700"}`,children:E.message}),E.data&&n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:n.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(E.data,null,2)})})]})]})},E.id))})}),f&&n.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Menampilkan ",v.length," dari ",f.total," notifikasi"]}),f.hasNext&&n.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Lihat Lebih Banyak"})]})})]})]}):null},xH=({className:e=""})=>{const[t,r]=w.useState(!1),a=HW();return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>r(!0),className:`relative p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors ${e}`,title:"Notifikasi",children:[n.jsx(Ai,{className:"h-5 w-5"}),a>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium animate-pulse",children:a>99?"99+":a}),a>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full animate-ping opacity-75"})]}),n.jsx(pH,{isOpen:t,onClose:()=>r(!1)})]})},gH=({isOpen:e,onClose:t})=>{const{settings:r,updateSettings:a,isUpdating:s}=VW(),[i,l]=w.useState({email_notifications:!0,push_notifications:!0,sound_notifications:!0,notification_types:{ticket_assigned:!0,ticket_updated:!0,ticket_completed:!0,system_alert:!0,technician_status:!0,new_ticket:!0},quiet_hours_start:"",quiet_hours_end:""});vt.useEffect(()=>{r&&l({email_notifications:r.email_notifications??!0,push_notifications:r.push_notifications??!0,sound_notifications:r.sound_notifications??!0,notification_types:r.notification_types||{ticket_assigned:!0,ticket_updated:!0,ticket_completed:!0,system_alert:!0,technician_status:!0,new_ticket:!0},quiet_hours_start:r.quiet_hours_start||"",quiet_hours_end:r.quiet_hours_end||""})},[r]);const o=f=>{f.preventDefault(),a(i)},c=(f,h)=>{l(m=>({...m,notification_types:{...m.notification_types,[f]:h}}))},u=()=>{i.quiet_hours_start&&i.quiet_hours_end?l(f=>({...f,quiet_hours_start:"",quiet_hours_end:""})):l(f=>({...f,quiet_hours_start:"22:00",quiet_hours_end:"07:00"}))},d={ticket_assigned:"Tiket Ditugaskan",ticket_updated:"Tiket Diperbarui",ticket_completed:"Tiket Selesai",system_alert:"Peringatan Sistem",technician_status:"Status Teknisi",new_ticket:"Tiket Baru"};return e?n.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),n.jsxs("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl transform transition-transform",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(al,{className:"h-6 w-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pengaturan Notifikasi"})]}),n.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(hr,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Ai,{className:"h-5 w-5 mr-2 text-blue-600"}),"Pengaturan Umum"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(na,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifikasi"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Terima notifikasi via email"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.email_notifications,onChange:f=>l(h=>({...h,email_notifications:f.target.checked})),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ai,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifikasi"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Terima notifikasi push di browser"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.push_notifications,onChange:f=>l(h=>({...h,push_notifications:f.target.checked})),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(UW,{className:"h-5 w-5 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Suara Notifikasi"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Mainkan suara saat ada notifikasi"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.sound_notifications,onChange:f=>l(h=>({...h,sound_notifications:f.target.checked})),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(mn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Tipe Notifikasi"]}),n.jsx("div",{className:"space-y-3",children:Object.entries(d).map(([f,h])=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsx("span",{className:"font-medium text-gray-900",children:h}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.notification_types[f],onChange:m=>c(f,m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},f))})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(tO,{className:"h-5 w-5 mr-2 text-blue-600"}),"Jam Tenang"]}),n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Nonaktifkan Notifikasi"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Jangan tampilkan notifikasi pada jam tertentu"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!!(i.quiet_hours_start&&i.quiet_hours_end),onChange:u,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.quiet_hours_start&&i.quiet_hours_end&&n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dari"}),n.jsx("input",{type:"time",value:i.quiet_hours_start,onChange:f=>l(h=>({...h,quiet_hours_start:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sampai"}),n.jsx("input",{type:"time",value:i.quiet_hours_end,onChange:f=>l(h=>({...h,quiet_hours_end:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Batal"}),n.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:s?"Menyimpan...":"Simpan"})]})]})})]})]}):null},n4={createSample:async()=>me.post("/test-notifications/create-sample"),clearAll:async()=>me.delete("/test-notifications/clear-all")},vH=({isOpen:e,onClose:t})=>{const[r,a]=w.useState(!1),[s,i]=w.useState(!1),l=async()=>{try{a(!0);const c=await n4.createSample();yt.success(`Created ${c.data.notifications.length} sample notifications`)}catch(c){console.error("Failed to create sample notifications:",c),yt.error("Failed to create sample notifications")}finally{a(!1)}},o=async()=>{try{i(!0),await n4.clearAll(),yt.success("All notifications cleared")}catch(c){console.error("Failed to clear notifications:",c),yt.error("Failed to clear notifications")}finally{i(!1)}};return e?n.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),n.jsxs("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-xl shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(al,{className:"h-6 w-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Test Notifications"})]}),n.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:"×"})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("p",{className:"text-gray-600 mb-6",children:"Gunakan panel ini untuk membuat notifikasi sample untuk testing Notification Center."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:l,disabled:r,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(w1,{className:"h-5 w-5"}),n.jsx("span",{children:r?"Creating...":"Create Sample Notifications"})]}),n.jsxs("button",{onClick:o,disabled:s,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(sa,{className:"h-5 w-5"}),n.jsx("span",{children:s?"Clearing...":"Clear All Notifications"})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Sample notifications include:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Ticket assigned notification"}),n.jsx("li",{children:"• Ticket status update"}),n.jsx("li",{children:"• System alert (urgent priority)"}),n.jsx("li",{children:"• Technician status update"}),n.jsx("li",{children:"• New ticket created"}),n.jsx("li",{children:"• Ticket completed"})]})]})]})]})]}):null},yH=({onMenuClick:e})=>{var f,h;const{user:t,logout:r}=tn(),[a,s]=w.useState(!1),[i,l]=w.useState(!1),[o,c]=w.useState(!1),u=w.useRef(null);w.useEffect(()=>{const m=p=>{u.current&&!u.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const d=()=>{r(),s(!1)};return n.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:hidden transition-colors",children:n.jsx(AW,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-9 w-auto"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-semibold text-gray-900 hidden sm:block",children:"AGLIS Management System"}),n.jsx("h1",{className:"text-lg font-semibold text-gray-900 sm:hidden",children:"AGLIS"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx(xH,{}),n.jsxs("div",{className:"relative",ref:u,children:[n.jsxs("button",{onClick:()=>s(!a),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[n.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-sm",children:n.jsx(Ft,{className:"h-4 w-4 text-white"})}),n.jsxs("div",{className:"hidden lg:block text-left min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.full_name}),n.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:(f=t==null?void 0:t.role)==null?void 0:f.replace("_"," ")})]}),n.jsx(Y5,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${a?"rotate-180":""}`})]}),a&&n.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl py-2 z-[9999] border border-gray-200 ring-1 ring-black ring-opacity-5",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.full_name}),n.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:(h=t==null?void 0:t.role)==null?void 0:h.replace("_"," ")})]}),n.jsxs("div",{className:"py-1",children:[n.jsxs(No,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[n.jsx(al,{className:"h-4 w-4 mr-3 text-gray-400"}),"Profile Settings"]}),n.jsxs("button",{onClick:()=>{l(!0),s(!1)},className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(Ai,{className:"h-4 w-4 mr-3 text-gray-400"}),"Notification Settings"]}),(t==null?void 0:t.role)==="admin"&&n.jsxs("button",{onClick:()=>{c(!0),s(!1)},className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx($W,{className:"h-4 w-4 mr-3 text-gray-400"}),"Test Notifications"]}),n.jsxs("button",{onClick:d,className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[n.jsx(JS,{className:"h-4 w-4 mr-3 text-red-500"}),"Sign Out"]})]})]})]}),n.jsx("button",{onClick:d,className:"lg:hidden p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors",title:"Sign Out",children:n.jsx(JS,{className:"h-4 w-4"})})]})]})}),n.jsx(gH,{isOpen:i,onClose:()=>l(!1)}),n.jsx(vH,{isOpen:o,onClose:()=>c(!1)})]})},bH=()=>{const[e,t]=w.useState(!1),[r,a]=w.useState(()=>localStorage.getItem("sidebarCollapsed")==="true");return w.useEffect(()=>{localStorage.setItem("sidebarCollapsed",r)},[r]),n.jsxs("div",{className:"flex h-screen bg-gray-100",children:[n.jsx(zW,{isOpen:e,onClose:()=>t(!1),collapsed:r}),n.jsx("button",{onClick:()=>a(!r),className:`
          hidden lg:flex items-center justify-center
          fixed top-20 z-50
          w-6 h-12 bg-white border border-gray-200 
          rounded-r-lg shadow-md
          text-gray-600 hover:text-blue-600 hover:bg-blue-50
          transition-all duration-300
          group
          ${r?"left-20":"left-64"}
        `,title:r?"Expand Sidebar":"Collapse Sidebar",children:r?n.jsx(vn,{className:"h-4 w-4 group-hover:scale-125 transition-transform"}):n.jsx(ss,{className:"h-4 w-4 group-hover:scale-125 transition-transform"})}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(yH,{onMenuClick:()=>t(!0)}),n.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx(d$,{})})})]})]})};var th=e=>e.type==="checkbox",cc=e=>e instanceof Date,on=e=>e==null;const oO=e=>typeof e=="object";var Jr=e=>!on(e)&&!Array.isArray(e)&&oO(e)&&!cc(e),wH=e=>Jr(e)&&e.target?th(e.target)?e.target.checked:e.target.value:e,jH=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,NH=(e,t)=>e.has(jH(t)),kH=e=>{const t=e.constructor&&e.constructor.prototype;return Jr(t)&&t.hasOwnProperty("isPrototypeOf")},Kj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function da(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Kj&&(e instanceof Blob||a))&&(r||Jr(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!kH(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=da(e[s]));else return e;return t}var Tg=e=>/^\w*$/.test(e),Gr=e=>e===void 0,Gj=e=>Array.isArray(e)?e.filter(Boolean):[],Qj=e=>Gj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(e,t,r)=>{if(!t||!Jr(e))return r;const a=(Tg(t)?[t]:Qj(t)).reduce((s,i)=>on(s)?s:s[i],e);return Gr(a)||a===e?Gr(e[t])?r:e[t]:a},_i=e=>typeof e=="boolean",or=(e,t,r)=>{let a=-1;const s=Tg(t)?[t]:Qj(t),i=s.length,l=i-1;for(;++a<i;){const o=s[a];let c=r;if(a!==l){const u=e[o];c=Jr(u)||Array.isArray(u)?u:isNaN(+s[a+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const s4={BLUR:"blur",FOCUS_OUT:"focusout"},Zs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_H=vt.createContext(null);_H.displayName="HookFormContext";var SH=(e,t,r,a=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const l=i;return t._proxyFormState[l]!==Zs.all&&(t._proxyFormState[l]=!a||Zs.all),e[l]}});return s};const CH=typeof window<"u"?vt.useLayoutEffect:vt.useEffect;var Hn=e=>typeof e=="string",EH=(e,t,r,a,s)=>Hn(e)?(a&&t.watch.add(e),Ze(r,e,s)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),Ze(r,i))):(a&&(t.watchAll=!0),r),N1=e=>on(e)||!oO(e);function Yl(e,t,r=new WeakSet){if(N1(e)||N1(t))return e===t;if(cc(e)&&cc(t))return e.getTime()===t.getTime();const a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of a){const l=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(cc(l)&&cc(o)||Jr(l)&&Jr(o)||Array.isArray(l)&&Array.isArray(o)?!Yl(l,o,r):l!==o)return!1}}return!0}var TH=(e,t,r,a,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:s||!0}}:{},Ff=e=>Array.isArray(e)?e:[e],i4=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function cO(e,t){const r={};for(const a in e)if(e.hasOwnProperty(a)){const s=e[a],i=t[a];if(s&&Jr(s)&&i){const l=cO(s,i);Jr(l)&&(r[a]=l)}else e[a]&&(r[a]=i)}return r}var bn=e=>Jr(e)&&!Object.keys(e).length,Xj=e=>e.type==="file",ei=e=>typeof e=="function",Kp=e=>{if(!Kj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},uO=e=>e.type==="select-multiple",Yj=e=>e.type==="radio",AH=e=>Yj(e)||th(e),yy=e=>Kp(e)&&e.isConnected;function PH(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=Gr(e)?a++:e[t[a++]];return e}function OH(e){for(const t in e)if(e.hasOwnProperty(t)&&!Gr(e[t]))return!1;return!0}function Hr(e,t){const r=Array.isArray(t)?t:Tg(t)?[t]:Qj(t),a=r.length===1?e:PH(e,r),s=r.length-1,i=r[s];return a&&delete a[i],s!==0&&(Jr(a)&&bn(a)||Array.isArray(a)&&OH(a))&&Hr(e,r.slice(0,-1)),e}var DH=e=>{for(const t in e)if(ei(e[t]))return!0;return!1};function dO(e){return Array.isArray(e)||Jr(e)&&!DH(e)}function k1(e,t={}){for(const r in e)dO(e[r])?(t[r]=Array.isArray(e[r])?[]:{},k1(e[r],t[r])):on(e[r])||(t[r]=!0);return t}function mu(e,t,r){r||(r=k1(t));for(const a in e)dO(e[a])?Gr(t)||N1(r[a])?r[a]=k1(e[a],Array.isArray(e[a])?[]:{}):mu(e[a],on(t)?{}:t[a],r[a]):r[a]=!Yl(e[a],t[a]);return r}const l4={value:!1,isValid:!1},o4={value:!0,isValid:!0};var fO=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gr(e[0].attributes.value)?Gr(e[0].value)||e[0].value===""?o4:{value:e[0].value,isValid:!0}:o4:l4}return l4},hO=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>Gr(e)?e:t?e===""?NaN:e&&+e:r&&Hn(e)?new Date(e):a?a(e):e;const c4={isValid:!1,value:null};var mO=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,c4):c4;function u4(e){const t=e.ref;return Xj(t)?t.files:Yj(t)?mO(e.refs).value:uO(t)?[...t.selectedOptions].map(({value:r})=>r):th(t)?fO(e.refs).value:hO(Gr(t.value)?e.ref.value:t.value,e)}var FH=(e,t,r,a)=>{const s={};for(const i of e){const l=Ze(t,i);l&&or(s,i,l._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:a}},Gp=e=>e instanceof RegExp,tf=e=>Gr(e)?e:Gp(e)?e.source:Jr(e)?Gp(e.value)?e.value.source:e.value:e,d4=e=>({isOnSubmit:!e||e===Zs.onSubmit,isOnBlur:e===Zs.onBlur,isOnChange:e===Zs.onChange,isOnAll:e===Zs.all,isOnTouch:e===Zs.onTouched});const f4="AsyncFunction";var IH=e=>!!e&&!!e.validate&&!!(ei(e.validate)&&e.validate.constructor.name===f4||Jr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===f4)),RH=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),h4=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const If=(e,t,r,a)=>{for(const s of r||Object.keys(e)){const i=Ze(e,s);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],s)&&!a)return!0;if(l.ref&&t(l.ref,l.name)&&!a)return!0;if(If(o,t))break}else if(Jr(o)&&If(o,t))break}}};function m4(e,t,r){const a=Ze(e,r);if(a||Tg(r))return{error:a,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),l=Ze(t,i),o=Ze(e,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var MH=(e,t,r,a)=>{r(e);const{name:s,...i}=e;return bn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!a||Zs.all))},LH=(e,t,r)=>!e||!t||e===t||Ff(e).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),$H=(e,t,r,a,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?a.isOnBlur:s.isOnBlur)?!e:(r?a.isOnChange:s.isOnChange)?e:!0,BH=(e,t)=>!Gj(Ze(e,t)).length&&Hr(e,t),UH=(e,t,r)=>{const a=Ff(Ze(e,r));return or(a,"root",t[r]),or(e,r,a),e};function p4(e,t,r="validate"){if(Hn(e)||Array.isArray(e)&&e.every(Hn)||_i(e)&&!e)return{type:r,message:Hn(e)?e:"",ref:t}}var ou=e=>Jr(e)&&!Gp(e)?e:{value:e,message:""},x4=async(e,t,r,a,s,i)=>{const{ref:l,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:x,valueAsNumber:g,mount:y}=e._f,b=Ze(r,x);if(!y||t.has(x))return{};const v=o?o[0]:l,j=A=>{s&&v.reportValidity&&(v.setCustomValidity(_i(A)?"":A||""),v.reportValidity())},N={},k=Yj(l),_=th(l),S=k||_,T=(g||Xj(l))&&Gr(l.value)&&Gr(b)||Kp(l)&&l.value===""||b===""||Array.isArray(b)&&!b.length,C=TH.bind(null,x,a,N),E=(A,U,V,ae=Xi.maxLength,q=Xi.minLength)=>{const R=A?U:V;N[x]={type:A?ae:q,message:R,ref:l,...C(A?ae:q,R)}};if(i?!Array.isArray(b)||!b.length:c&&(!S&&(T||on(b))||_i(b)&&!b||_&&!fO(o).isValid||k&&!mO(o).isValid)){const{value:A,message:U}=Hn(c)?{value:!!c,message:c}:ou(c);if(A&&(N[x]={type:Xi.required,message:U,ref:v,...C(Xi.required,U)},!a))return j(U),N}if(!T&&(!on(f)||!on(h))){let A,U;const V=ou(h),ae=ou(f);if(!on(b)&&!isNaN(b)){const q=l.valueAsNumber||b&&+b;on(V.value)||(A=q>V.value),on(ae.value)||(U=q<ae.value)}else{const q=l.valueAsDate||new Date(b),R=te=>new Date(new Date().toDateString()+" "+te),P=l.type=="time",B=l.type=="week";Hn(V.value)&&b&&(A=P?R(b)>R(V.value):B?b>V.value:q>new Date(V.value)),Hn(ae.value)&&b&&(U=P?R(b)<R(ae.value):B?b<ae.value:q<new Date(ae.value))}if((A||U)&&(E(!!A,V.message,ae.message,Xi.max,Xi.min),!a))return j(N[x].message),N}if((u||d)&&!T&&(Hn(b)||i&&Array.isArray(b))){const A=ou(u),U=ou(d),V=!on(A.value)&&b.length>+A.value,ae=!on(U.value)&&b.length<+U.value;if((V||ae)&&(E(V,A.message,U.message),!a))return j(N[x].message),N}if(m&&!T&&Hn(b)){const{value:A,message:U}=ou(m);if(Gp(A)&&!b.match(A)&&(N[x]={type:Xi.pattern,message:U,ref:l,...C(Xi.pattern,U)},!a))return j(U),N}if(p){if(ei(p)){const A=await p(b,r),U=p4(A,v);if(U&&(N[x]={...U,...C(Xi.validate,U.message)},!a))return j(U.message),N}else if(Jr(p)){let A={};for(const U in p){if(!bn(A)&&!a)break;const V=p4(await p[U](b,r),v,U);V&&(A={...V,...C(U,V.message)},j(V.message),a&&(N[x]=A))}if(!bn(A)&&(N[x]={ref:v,...A},!a))return N}}return j(!0),N};const zH={mode:Zs.onSubmit,reValidateMode:Zs.onChange,shouldFocusError:!0};function WH(e={}){let t={...zH,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ei(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},s=Jr(t.defaultValues)||Jr(t.values)?da(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:da(s),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:i4(),state:i4()},m=t.criteriaMode===Zs.all,p=Z=>ce=>{clearTimeout(u),u=setTimeout(Z,ce)},x=async Z=>{if(!t.disabled&&(d.isValid||f.isValid||Z)){const ce=t.resolver?bn((await _()).errors):await T(a,!0);ce!==r.isValid&&h.state.next({isValid:ce})}},g=(Z,ce)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((Z||Array.from(o.mount)).forEach(de=>{de&&(ce?or(r.validatingFields,de,ce):Hr(r.validatingFields,de))}),h.state.next({validatingFields:r.validatingFields,isValidating:!bn(r.validatingFields)}))},y=(Z,ce=[],de,we,_e=!0,se=!0)=>{if(we&&de&&!t.disabled){if(l.action=!0,se&&Array.isArray(Ze(a,Z))){const le=de(Ze(a,Z),we.argA,we.argB);_e&&or(a,Z,le)}if(se&&Array.isArray(Ze(r.errors,Z))){const le=de(Ze(r.errors,Z),we.argA,we.argB);_e&&or(r.errors,Z,le),BH(r.errors,Z)}if((d.touchedFields||f.touchedFields)&&se&&Array.isArray(Ze(r.touchedFields,Z))){const le=de(Ze(r.touchedFields,Z),we.argA,we.argB);_e&&or(r.touchedFields,Z,le)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=mu(s,i)),h.state.next({name:Z,isDirty:E(Z,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else or(i,Z,ce)},b=(Z,ce)=>{or(r.errors,Z,ce),h.state.next({errors:r.errors})},v=Z=>{r.errors=Z,h.state.next({errors:r.errors,isValid:!1})},j=(Z,ce,de,we)=>{const _e=Ze(a,Z);if(_e){const se=Ze(i,Z,Gr(de)?Ze(s,Z):de);Gr(se)||we&&we.defaultChecked||ce?or(i,Z,ce?se:u4(_e._f)):V(Z,se),l.mount&&x()}},N=(Z,ce,de,we,_e)=>{let se=!1,le=!1;const Fe={name:Z};if(!t.disabled){if(!de||we){(d.isDirty||f.isDirty)&&(le=r.isDirty,r.isDirty=Fe.isDirty=E(),se=le!==Fe.isDirty);const ze=Yl(Ze(s,Z),ce);le=!!Ze(r.dirtyFields,Z),ze?Hr(r.dirtyFields,Z):or(r.dirtyFields,Z,!0),Fe.dirtyFields=r.dirtyFields,se=se||(d.dirtyFields||f.dirtyFields)&&le!==!ze}if(de){const ze=Ze(r.touchedFields,Z);ze||(or(r.touchedFields,Z,de),Fe.touchedFields=r.touchedFields,se=se||(d.touchedFields||f.touchedFields)&&ze!==de)}se&&_e&&h.state.next(Fe)}return se?Fe:{}},k=(Z,ce,de,we)=>{const _e=Ze(r.errors,Z),se=(d.isValid||f.isValid)&&_i(ce)&&r.isValid!==ce;if(t.delayError&&de?(c=p(()=>b(Z,de)),c(t.delayError)):(clearTimeout(u),c=null,de?or(r.errors,Z,de):Hr(r.errors,Z)),(de?!Yl(_e,de):_e)||!bn(we)||se){const le={...we,...se&&_i(ce)?{isValid:ce}:{},errors:r.errors,name:Z};r={...r,...le},h.state.next(le)}},_=async Z=>{g(Z,!0);const ce=await t.resolver(i,t.context,FH(Z||o.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return g(Z),ce},S=async Z=>{const{errors:ce}=await _(Z);if(Z)for(const de of Z){const we=Ze(ce,de);we?or(r.errors,de,we):Hr(r.errors,de)}else r.errors=ce;return ce},T=async(Z,ce,de={valid:!0})=>{for(const we in Z){const _e=Z[we];if(_e){const{_f:se,...le}=_e;if(se){const Fe=o.array.has(se.name),ze=_e._f&&IH(_e._f);ze&&d.validatingFields&&g([se.name],!0);const Xe=await x4(_e,o.disabled,i,m,t.shouldUseNativeValidation&&!ce,Fe);if(ze&&d.validatingFields&&g([se.name]),Xe[se.name]&&(de.valid=!1,ce))break;!ce&&(Ze(Xe,se.name)?Fe?UH(r.errors,Xe,se.name):or(r.errors,se.name,Xe[se.name]):Hr(r.errors,se.name))}!bn(le)&&await T(le,ce,de)}}return de.valid},C=()=>{for(const Z of o.unMount){const ce=Ze(a,Z);ce&&(ce._f.refs?ce._f.refs.every(de=>!yy(de)):!yy(ce._f.ref))&&oe(Z)}o.unMount=new Set},E=(Z,ce)=>!t.disabled&&(Z&&ce&&or(i,Z,ce),!Yl(te(),s)),A=(Z,ce,de)=>EH(Z,o,{...l.mount?i:Gr(ce)?s:Hn(Z)?{[Z]:ce}:ce},de,ce),U=Z=>Gj(Ze(l.mount?i:s,Z,t.shouldUnregister?Ze(s,Z,[]):[])),V=(Z,ce,de={})=>{const we=Ze(a,Z);let _e=ce;if(we){const se=we._f;se&&(!se.disabled&&or(i,Z,hO(ce,se)),_e=Kp(se.ref)&&on(ce)?"":ce,uO(se.ref)?[...se.ref.options].forEach(le=>le.selected=_e.includes(le.value)):se.refs?th(se.ref)?se.refs.forEach(le=>{(!le.defaultChecked||!le.disabled)&&(Array.isArray(_e)?le.checked=!!_e.find(Fe=>Fe===le.value):le.checked=_e===le.value||!!_e)}):se.refs.forEach(le=>le.checked=le.value===_e):Xj(se.ref)?se.ref.value="":(se.ref.value=_e,se.ref.type||h.state.next({name:Z,values:da(i)})))}(de.shouldDirty||de.shouldTouch)&&N(Z,_e,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&B(Z)},ae=(Z,ce,de)=>{for(const we in ce){if(!ce.hasOwnProperty(we))return;const _e=ce[we],se=Z+"."+we,le=Ze(a,se);(o.array.has(Z)||Jr(_e)||le&&!le._f)&&!cc(_e)?ae(se,_e,de):V(se,_e,de)}},q=(Z,ce,de={})=>{const we=Ze(a,Z),_e=o.array.has(Z),se=da(ce);or(i,Z,se),_e?(h.array.next({name:Z,values:da(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&de.shouldDirty&&h.state.next({name:Z,dirtyFields:mu(s,i),isDirty:E(Z,se)})):we&&!we._f&&!on(se)?ae(Z,se,de):V(Z,se,de),h4(Z,o)&&h.state.next({...r,name:Z}),h.state.next({name:l.mount?Z:void 0,values:da(i)})},R=async Z=>{l.mount=!0;const ce=Z.target;let de=ce.name,we=!0;const _e=Ze(a,de),se=ze=>{we=Number.isNaN(ze)||cc(ze)&&isNaN(ze.getTime())||Yl(ze,Ze(i,de,ze))},le=d4(t.mode),Fe=d4(t.reValidateMode);if(_e){let ze,Xe;const et=ce.type?u4(_e._f):wH(Z),ot=Z.type===s4.BLUR||Z.type===s4.FOCUS_OUT,tt=!RH(_e._f)&&!t.resolver&&!Ze(r.errors,de)&&!_e._f.deps||$H(ot,Ze(r.touchedFields,de),r.isSubmitted,Fe,le),nt=h4(de,o,ot);or(i,de,et),ot?(!ce||!ce.readOnly)&&(_e._f.onBlur&&_e._f.onBlur(Z),c&&c(0)):_e._f.onChange&&_e._f.onChange(Z);const _t=N(de,et,ot),Zt=!bn(_t)||nt;if(!ot&&h.state.next({name:de,type:Z.type,values:da(i)}),tt)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ot&&x():ot||x()),Zt&&h.state.next({name:de,...nt?{}:_t});if(!ot&&nt&&h.state.next({...r}),t.resolver){const{errors:ge}=await _([de]);if(se(et),we){const dt=m4(r.errors,a,de),Cr=m4(ge,a,dt.name||de);ze=Cr.error,de=Cr.name,Xe=bn(ge)}}else g([de],!0),ze=(await x4(_e,o.disabled,i,m,t.shouldUseNativeValidation))[de],g([de]),se(et),we&&(ze?Xe=!1:(d.isValid||f.isValid)&&(Xe=await T(a,!0)));we&&(_e._f.deps&&(!Array.isArray(_e._f.deps)||_e._f.deps.length>0)&&B(_e._f.deps),k(de,Xe,ze,_t))}},P=(Z,ce)=>{if(Ze(r.errors,ce)&&Z.focus)return Z.focus(),1},B=async(Z,ce={})=>{let de,we;const _e=Ff(Z);if(t.resolver){const se=await S(Gr(Z)?Z:_e);de=bn(se),we=Z?!_e.some(le=>Ze(se,le)):de}else Z?(we=(await Promise.all(_e.map(async se=>{const le=Ze(a,se);return await T(le&&le._f?{[se]:le}:le)}))).every(Boolean),!(!we&&!r.isValid)&&x()):we=de=await T(a);return h.state.next({...!Hn(Z)||(d.isValid||f.isValid)&&de!==r.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:de}:{},errors:r.errors}),ce.shouldFocus&&!we&&If(a,P,Z?_e:o.mount),we},te=(Z,ce)=>{let de={...l.mount?i:s};return ce&&(de=cO(ce.dirtyFields?r.dirtyFields:r.touchedFields,de)),Gr(Z)?de:Hn(Z)?Ze(de,Z):Z.map(we=>Ze(de,we))},H=(Z,ce)=>({invalid:!!Ze((ce||r).errors,Z),isDirty:!!Ze((ce||r).dirtyFields,Z),error:Ze((ce||r).errors,Z),isValidating:!!Ze(r.validatingFields,Z),isTouched:!!Ze((ce||r).touchedFields,Z)}),F=Z=>{Z&&Ff(Z).forEach(ce=>Hr(r.errors,ce)),h.state.next({errors:Z?r.errors:{}})},O=(Z,ce,de)=>{const we=(Ze(a,Z,{_f:{}})._f||{}).ref,_e=Ze(r.errors,Z)||{},{ref:se,message:le,type:Fe,...ze}=_e;or(r.errors,Z,{...ze,...ce,ref:we}),h.state.next({name:Z,errors:r.errors,isValid:!1}),de&&de.shouldFocus&&we&&we.focus&&we.focus()},M=(Z,ce)=>ei(Z)?h.state.subscribe({next:de=>"values"in de&&Z(A(void 0,ce),de)}):A(Z,ce,!0),I=Z=>h.state.subscribe({next:ce=>{LH(Z.name,ce.name,Z.exact)&&MH(ce,Z.formState||d,ke,Z.reRenderRoot)&&Z.callback({values:{...i},...r,...ce,defaultValues:s})}}).unsubscribe,ne=Z=>(l.mount=!0,f={...f,...Z.formState},I({...Z,formState:f})),oe=(Z,ce={})=>{for(const de of Z?Ff(Z):o.mount)o.mount.delete(de),o.array.delete(de),ce.keepValue||(Hr(a,de),Hr(i,de)),!ce.keepError&&Hr(r.errors,de),!ce.keepDirty&&Hr(r.dirtyFields,de),!ce.keepTouched&&Hr(r.touchedFields,de),!ce.keepIsValidating&&Hr(r.validatingFields,de),!t.shouldUnregister&&!ce.keepDefaultValue&&Hr(s,de);h.state.next({values:da(i)}),h.state.next({...r,...ce.keepDirty?{isDirty:E()}:{}}),!ce.keepIsValid&&x()},J=({disabled:Z,name:ce})=>{(_i(Z)&&l.mount||Z||o.disabled.has(ce))&&(Z?o.disabled.add(ce):o.disabled.delete(ce))},Y=(Z,ce={})=>{let de=Ze(a,Z);const we=_i(ce.disabled)||_i(t.disabled);return or(a,Z,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:Z}},name:Z,mount:!0,...ce}}),o.mount.add(Z),de?J({disabled:_i(ce.disabled)?ce.disabled:t.disabled,name:Z}):j(Z,!0,ce.value),{...we?{disabled:ce.disabled||t.disabled}:{},...t.progressive?{required:!!ce.required,min:tf(ce.min),max:tf(ce.max),minLength:tf(ce.minLength),maxLength:tf(ce.maxLength),pattern:tf(ce.pattern)}:{},name:Z,onChange:R,onBlur:R,ref:_e=>{if(_e){Y(Z,ce),de=Ze(a,Z);const se=Gr(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,le=AH(se),Fe=de._f.refs||[];if(le?Fe.find(ze=>ze===se):se===de._f.ref)return;or(a,Z,{_f:{...de._f,...le?{refs:[...Fe.filter(yy),se,...Array.isArray(Ze(s,Z))?[{}]:[]],ref:{type:se.type,name:Z}}:{ref:se}}}),j(Z,!1,void 0,se)}else de=Ze(a,Z,{}),de._f&&(de._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!(NH(o.array,Z)&&l.action)&&o.unMount.add(Z)}}},ie=()=>t.shouldFocusError&&If(a,P,o.mount),fe=Z=>{_i(Z)&&(h.state.next({disabled:Z}),If(a,(ce,de)=>{const we=Ze(a,de);we&&(ce.disabled=we._f.disabled||Z,Array.isArray(we._f.refs)&&we._f.refs.forEach(_e=>{_e.disabled=we._f.disabled||Z}))},0,!1))},D=(Z,ce)=>async de=>{let we;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let _e=da(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:le}=await _();r.errors=se,_e=da(le)}else await T(a);if(o.disabled.size)for(const se of o.disabled)Hr(_e,se);if(Hr(r.errors,"root"),bn(r.errors)){h.state.next({errors:{}});try{await Z(_e,de)}catch(se){we=se}}else ce&&await ce({...r.errors},de),ie(),setTimeout(ie);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(r.errors)&&!we,submitCount:r.submitCount+1,errors:r.errors}),we)throw we},ye=(Z,ce={})=>{Ze(a,Z)&&(Gr(ce.defaultValue)?q(Z,da(Ze(s,Z))):(q(Z,ce.defaultValue),or(s,Z,da(ce.defaultValue))),ce.keepTouched||Hr(r.touchedFields,Z),ce.keepDirty||(Hr(r.dirtyFields,Z),r.isDirty=ce.defaultValue?E(Z,da(Ze(s,Z))):E()),ce.keepError||(Hr(r.errors,Z),d.isValid&&x()),h.state.next({...r}))},Ce=(Z,ce={})=>{const de=Z?da(Z):s,we=da(de),_e=bn(Z),se=_e?s:we;if(ce.keepDefaultValues||(s=de),!ce.keepValues){if(ce.keepDirtyValues){const le=new Set([...o.mount,...Object.keys(mu(s,i))]);for(const Fe of Array.from(le))Ze(r.dirtyFields,Fe)?or(se,Fe,Ze(i,Fe)):q(Fe,Ze(se,Fe))}else{if(Kj&&Gr(Z))for(const le of o.mount){const Fe=Ze(a,le);if(Fe&&Fe._f){const ze=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Kp(ze)){const Xe=ze.closest("form");if(Xe){Xe.reset();break}}}}if(ce.keepFieldsRef)for(const le of o.mount)q(le,Ze(se,le));else a={}}i=t.shouldUnregister?ce.keepDefaultValues?da(s):{}:da(se),h.array.next({values:{...se}}),h.state.next({values:{...se}})}o={mount:ce.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,l.watch=!!t.shouldUnregister,h.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:_e?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!Yl(Z,s)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_e?{}:ce.keepDirtyValues?ce.keepDefaultValues&&i?mu(s,i):r.dirtyFields:ce.keepDefaultValues&&Z?mu(s,Z):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Pe=(Z,ce)=>Ce(ei(Z)?Z(i):Z,ce),Me=(Z,ce={})=>{const de=Ze(a,Z),we=de&&de._f;if(we){const _e=we.refs?we.refs[0]:we.ref;_e.focus&&(_e.focus(),ce.shouldSelect&&ei(_e.select)&&_e.select())}},ke=Z=>{r={...r,...Z}},$e={control:{register:Y,unregister:oe,getFieldState:H,handleSubmit:D,setError:O,_subscribe:I,_runSchema:_,_focusError:ie,_getWatch:A,_getDirty:E,_setValid:x,_setFieldArray:y,_setDisabledField:J,_setErrors:v,_getFieldArray:U,_reset:Ce,_resetDefaultValues:()=>ei(t.defaultValues)&&t.defaultValues().then(Z=>{Pe(Z,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:fe,_subjects:h,_proxyFormState:d,get _fields(){return a},get _formValues(){return i},get _state(){return l},set _state(Z){l=Z},get _defaultValues(){return s},get _names(){return o},set _names(Z){o=Z},get _formState(){return r},get _options(){return t},set _options(Z){t={...t,...Z}}},subscribe:ne,trigger:B,register:Y,handleSubmit:D,watch:M,setValue:q,getValues:te,reset:Pe,resetField:ye,clearErrors:F,unregister:oe,setError:O,setFocus:Me,getFieldState:H};return{...$e,formControl:$e}}function es(e={}){const t=vt.useRef(void 0),r=vt.useRef(void 0),[a,s]=vt.useState({isDirty:!1,isValidating:!1,isLoading:ei(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ei(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!ei(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=WH(e);t.current={...o,formState:a}}const i=t.current.control;return i._options=e,CH(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),vt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),vt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),vt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),vt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),vt.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==a.isDirty&&i._subjects.state.next({isDirty:l})}},[i,a.isDirty]),vt.useEffect(()=>{e.values&&!Yl(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),vt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=SH(a,i),t.current}const St=({size:e="md",className:t=""})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};return n.jsx("div",{className:`flex items-center justify-center ${t}`,children:n.jsx("div",{className:`spinner ${r[e]}`})})};var pO={exports:{}},VH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HH=VH,qH=HH;function xO(){}function gO(){}gO.resetWarningCache=xO;var KH=function(){function e(a,s,i,l,o,c){if(c!==qH){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gO,resetWarningCache:xO};return r.PropTypes=r,r};pO.exports=KH();var GH=pO.exports;const yn=Ms(GH);var QH=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_1.apply(this,arguments)}function XH(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function em(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YH(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S1(e,t)}function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},S1(e,t)}var Ag=function(e){YH(t,e);function t(){var a;return a=e.call(this)||this,a.handleExpired=a.handleExpired.bind(em(a)),a.handleErrored=a.handleErrored.bind(em(a)),a.handleChange=a.handleChange.bind(em(a)),a.handleRecaptchaRef=a.handleRecaptchaRef.bind(em(a)),a}var r=t.prototype;return r.getCaptchaFunction=function(s){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[s]:this.props.grecaptcha[s]:null},r.getValue=function(){var s=this.getCaptchaFunction("getResponse");return s&&this._widgetId!==void 0?s(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},r.execute=function(){var s=this.getCaptchaFunction("execute");if(s&&this._widgetId!==void 0)return s(this._widgetId);this._executeRequested=!0},r.executeAsync=function(){var s=this;return new Promise(function(i,l){s.executionResolve=i,s.executionReject=l,s.execute()})},r.reset=function(){var s=this.getCaptchaFunction("reset");s&&this._widgetId!==void 0&&s(this._widgetId)},r.forceReset=function(){var s=this.getCaptchaFunction("reset");s&&s()},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},r.handleChange=function(s){this.props.onChange&&this.props.onChange(s),this.executionResolve&&(this.executionResolve(s),delete this.executionReject,delete this.executionResolve)},r.explicitRender=function(){var s=this.getCaptchaFunction("render");if(s&&this._widgetId===void 0){var i=document.createElement("div");this._widgetId=s(i,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(i)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.handleRecaptchaRef=function(s){this.captcha=s},r.render=function(){var s=this.props;s.sitekey,s.onChange,s.theme,s.type,s.tabindex,s.onExpired,s.onErrored,s.size,s.stoken,s.grecaptcha,s.badge,s.hl,s.isolated;var i=XH(s,QH);return w.createElement("div",_1({},i,{ref:this.handleRecaptchaRef}))},t}(w.Component);Ag.displayName="ReCAPTCHA";Ag.propTypes={sitekey:yn.string.isRequired,onChange:yn.func,grecaptcha:yn.object,theme:yn.oneOf(["dark","light"]),type:yn.oneOf(["image","audio"]),tabindex:yn.number,onExpired:yn.func,onErrored:yn.func,size:yn.oneOf(["compact","normal","invisible"]),stoken:yn.string,hl:yn.string,badge:yn.oneOf(["bottomright","bottomleft","inline"]),isolated:yn.bool};Ag.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var vO={exports:{}},zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=typeof Symbol=="function"&&Symbol.for,Jj=wa?Symbol.for("react.element"):60103,Zj=wa?Symbol.for("react.portal"):60106,Pg=wa?Symbol.for("react.fragment"):60107,Og=wa?Symbol.for("react.strict_mode"):60108,Dg=wa?Symbol.for("react.profiler"):60114,Fg=wa?Symbol.for("react.provider"):60109,Ig=wa?Symbol.for("react.context"):60110,eN=wa?Symbol.for("react.async_mode"):60111,Rg=wa?Symbol.for("react.concurrent_mode"):60111,Mg=wa?Symbol.for("react.forward_ref"):60112,Lg=wa?Symbol.for("react.suspense"):60113,JH=wa?Symbol.for("react.suspense_list"):60120,$g=wa?Symbol.for("react.memo"):60115,Bg=wa?Symbol.for("react.lazy"):60116,ZH=wa?Symbol.for("react.block"):60121,eq=wa?Symbol.for("react.fundamental"):60117,tq=wa?Symbol.for("react.responder"):60118,rq=wa?Symbol.for("react.scope"):60119;function is(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jj:switch(e=e.type,e){case eN:case Rg:case Pg:case Dg:case Og:case Lg:return e;default:switch(e=e&&e.$$typeof,e){case Ig:case Mg:case Bg:case $g:case Fg:return e;default:return t}}case Zj:return t}}}function yO(e){return is(e)===Rg}zt.AsyncMode=eN;zt.ConcurrentMode=Rg;zt.ContextConsumer=Ig;zt.ContextProvider=Fg;zt.Element=Jj;zt.ForwardRef=Mg;zt.Fragment=Pg;zt.Lazy=Bg;zt.Memo=$g;zt.Portal=Zj;zt.Profiler=Dg;zt.StrictMode=Og;zt.Suspense=Lg;zt.isAsyncMode=function(e){return yO(e)||is(e)===eN};zt.isConcurrentMode=yO;zt.isContextConsumer=function(e){return is(e)===Ig};zt.isContextProvider=function(e){return is(e)===Fg};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jj};zt.isForwardRef=function(e){return is(e)===Mg};zt.isFragment=function(e){return is(e)===Pg};zt.isLazy=function(e){return is(e)===Bg};zt.isMemo=function(e){return is(e)===$g};zt.isPortal=function(e){return is(e)===Zj};zt.isProfiler=function(e){return is(e)===Dg};zt.isStrictMode=function(e){return is(e)===Og};zt.isSuspense=function(e){return is(e)===Lg};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Pg||e===Rg||e===Dg||e===Og||e===Lg||e===JH||typeof e=="object"&&e!==null&&(e.$$typeof===Bg||e.$$typeof===$g||e.$$typeof===Fg||e.$$typeof===Ig||e.$$typeof===Mg||e.$$typeof===eq||e.$$typeof===tq||e.$$typeof===rq||e.$$typeof===ZH)};zt.typeOf=is;vO.exports=zt;var bO=vO.exports,tN=bO,aq={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nq={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rN={};rN[tN.ForwardRef]=sq;rN[tN.Memo]=wO;function g4(e){return tN.isMemo(e)?wO:rN[e.$$typeof]||aq}var iq=Object.defineProperty,lq=Object.getOwnPropertyNames,v4=Object.getOwnPropertySymbols,oq=Object.getOwnPropertyDescriptor,cq=Object.getPrototypeOf,y4=Object.prototype;function jO(e,t,r){if(typeof t!="string"){if(y4){var a=cq(t);a&&a!==y4&&jO(e,a,r)}var s=lq(t);v4&&(s=s.concat(v4(t)));for(var i=g4(e),l=g4(t),o=0;o<s.length;++o){var c=s[o];if(!nq[c]&&!(r&&r[c])&&!(l&&l[c])&&!(i&&i[c])){var u=oq(t,c);try{iq(e,c,u)}catch{}}}}return e}var uq=jO;const dq=Ms(uq);function C1(){return C1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},C1.apply(this,arguments)}function fq(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function hq(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var qs={},mq=0;function pq(e,t){return t=t||{},function(a){var s=a.displayName||a.name||"Component",i=function(o){hq(c,o);function c(d,f){var h;return h=o.call(this,d,f)||this,h.state={},h.__scriptURL="",h}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+mq++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(f){var h=this;this.setState(f,function(){return h.props.asyncScriptOnLoad&&h.props.asyncScriptOnLoad(h.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=qs[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var h in f.observers)f.observers[h](f);delete window[t.callbackName]},u.componentDidMount=function(){var f=this,h=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),p=t,x=p.globalName,g=p.callbackName,y=p.scriptId;if(x&&typeof window[x]<"u"&&(qs[h]={loaded:!0,observers:{}}),qs[h]){var b=qs[h];if(b&&(b.loaded||b.errored)){this.asyncScriptLoaderHandleLoad(b);return}b.observers[m]=function(_){return f.asyncScriptLoaderHandleLoad(_)};return}var v={};v[m]=function(_){return f.asyncScriptLoaderHandleLoad(_)},qs[h]={loaded:!1,observers:v};var j=document.createElement("script");j.src=h,j.async=!0;for(var N in t.attributes)j.setAttribute(N,t.attributes[N]);y&&(j.id=y);var k=function(S){if(qs[h]){var T=qs[h],C=T.observers;for(var E in C)S(C[E])&&delete C[E]}};g&&typeof window<"u"&&(window[g]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),j.onload=function(){var _=qs[h];_&&(_.loaded=!0,k(function(S){return g?!1:(S(_),!0)}))},j.onerror=function(){var _=qs[h];_&&(_.errored=!0,k(function(S){return S(_),!0}))},document.body.appendChild(j)},u.componentWillUnmount=function(){var f=this.__scriptURL;if(t.removeOnUnmount===!0)for(var h=document.getElementsByTagName("script"),m=0;m<h.length;m+=1)h[m].src.indexOf(f)>-1&&h[m].parentNode&&h[m].parentNode.removeChild(h[m]);var p=qs[f];p&&(delete p.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete qs[f])},u.render=function(){var f=t.globalName,h=this.props;h.asyncScriptOnLoad;var m=h.forwardedRef,p=fq(h,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(p[f]=typeof window[f]<"u"?window[f]:void 0),p.ref=m,w.createElement(a,p)},c}(w.Component),l=w.forwardRef(function(o,c){return w.createElement(i,C1({},o,{forwardedRef:c}))});return l.displayName="AsyncScriptLoader("+s+")",l.propTypes={asyncScriptOnLoad:yn.func},dq(l,a)}}var E1="onloadcallback",xq="grecaptcha";function T1(){return typeof window<"u"&&window.recaptchaOptions||{}}function gq(){var e=T1(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+E1+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+E1+"&render=explicit"}const NO=pq(gq,{callbackName:E1,globalName:xq,attributes:T1().nonce?{nonce:T1().nonce}:{}})(Ag),vq=()=>{const{login:e}=tn(),[t,r]=w.useState(!1),[a,s]=w.useState(!1),[i,l]=w.useState(null),[o,c]=w.useState(""),[u,d]=w.useState(!1),f=w.useRef(null),{register:h,handleSubmit:m,formState:{errors:p}}=es();w.useEffect(()=>{(async()=>{try{const b=await me.get("/auth/recaptcha-config");b.data&&(d(b.data.enabled),c(b.data.siteKey))}catch(b){console.error("Failed to fetch reCAPTCHA config:",b),d(!1)}})()},[]);const x=y=>{l(y)},g=async y=>{if(u&&!i){ee.error("Please complete the reCAPTCHA verification");return}r(!0);try{const b={...y,recaptchaToken:i},v=await e(b);v.success?ee.success("Login successful!"):(f.current&&(f.current.reset(),l(null)),v.error.includes("locked")?ee.error(v.error,{duration:5e3}):v.error.includes("Too many")?ee.error(v.error,{duration:5e3}):v.error.includes("reCAPTCHA")||v.error.includes("captcha")?ee.error("Security verification failed. Please try again."):ee.error(v.error))}catch{f.current&&(f.current.reset(),l(null)),ee.error("Login failed. Please try again.")}finally{r(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mx-auto flex items-center justify-center",children:n.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-16 w-auto"})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"AGLIS Management System"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m(g),children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"form-label",children:"Username or Email"}),n.jsx("input",{id:"username",type:"text",autoComplete:"username",className:`form-input ${p.username?"border-red-500":""}`,placeholder:"Enter your username or email",...h("username",{required:"Username or email is required"})}),p.username&&n.jsx("p",{className:"form-error",children:p.username.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",type:a?"text":"password",autoComplete:"current-password",className:`form-input pr-10 ${p.password?"border-red-500":""}`,placeholder:"Enter your password",...h("password",{required:"Password is required"})}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!a),children:a?n.jsx(tp,{className:"h-5 w-5 text-gray-400"}):n.jsx(yc,{className:"h-5 w-5 text-gray-400"})})]}),p.password&&n.jsx("p",{className:"form-error",children:p.password.message})]})]}),u&&o&&n.jsx("div",{className:"flex justify-center",children:n.jsx(NO,{ref:f,sitekey:o,onChange:x,onExpired:()=>l(null),onErrored:()=>{l(null),ee.error("reCAPTCHA error. Please refresh the page.")},theme:"light"})}),n.jsxs("div",{children:[n.jsx("button",{type:"submit",disabled:t||u&&!i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:t?n.jsx(St,{size:"sm"}):"Sign In"}),u&&!i&&n.jsx("p",{className:"mt-2 text-sm text-center text-gray-500",children:"Please complete the reCAPTCHA verification above"})]})]})]})})},tc={getDashboardOverview:async(e=30)=>await me.get(`/analytics/dashboard/overview?timeframe=${e}`),getTicketTrends:async(e=30)=>await me.get(`/analytics/dashboard/ticket-trends?days=${e}`),getServiceDistribution:async()=>await me.get("/analytics/dashboard/service-distribution"),getTechnicianPerformance:async()=>await me.get("/analytics/dashboard/technician-performance"),getPriorityAnalysis:async()=>await me.get("/analytics/dashboard/priority-analysis"),getRecentActivities:async(e=10)=>await me.get(`/analytics/dashboard/recent-activities?limit=${e}`)};var aN={},A1={exports:{}};(function(e,t){(function(r,a){a(t)})(Q8,function(r){var a=function(){return a=Object.assign||function(i){for(var l,o=1,c=arguments.length;o<c;o++)for(var u in l=arguments[o])Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u]);return i},a.apply(this,arguments)},s=function(){function i(l,o,c){var u=this;this.endVal=o,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(d){u.startTime||(u.startTime=d);var f=d-u.startTime;u.remaining=u.duration-f,u.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(f,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(f,u.startVal,u.endVal-u.startVal,u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(f/u.duration);var h=u.countDown?u.frameVal<u.endVal:u.frameVal>u.endVal;u.frameVal=h?u.endVal:u.frameVal,u.frameVal=Number(u.frameVal.toFixed(u.options.decimalPlaces)),u.printValue(u.frameVal),f<u.duration?u.rAF=requestAnimationFrame(u.count):u.finalEndVal!==null?u.update(u.finalEndVal):u.options.onCompleteCallback&&u.options.onCompleteCallback()},this.formatNumber=function(d){var f,h,m,p,x=d<0?"-":"";f=Math.abs(d).toFixed(u.options.decimalPlaces);var g=(f+="").split(".");if(h=g[0],m=g.length>1?u.options.decimal+g[1]:"",u.options.useGrouping){p="";for(var y=3,b=0,v=0,j=h.length;v<j;++v)u.options.useIndianSeparators&&v===4&&(y=2,b=1),v!==0&&b%y==0&&(p=u.options.separator+p),b++,p=h[j-v-1]+p;h=p}return u.options.numerals&&u.options.numerals.length&&(h=h.replace(/[0-9]/g,function(N){return u.options.numerals[+N]}),m=m.replace(/[0-9]/g,function(N){return u.options.numerals[+N]})),x+u.options.prefix+h+m+u.options.suffix},this.easeOutExpo=function(d,f,h,m){return h*(1-Math.pow(2,-10*d/m))*1024/1023+f},this.options=a(a({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof l=="string"?document.getElementById(l):l,o=o??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(o),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,l):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return u.handleScroll(u)}),window.onscroll=function(){window.onScrollFns.forEach(function(d){return d()})},this.handleScroll(this)))}return i.prototype.handleScroll=function(l){if(l&&window&&!l.once){var o=window.innerHeight+window.scrollY,c=l.el.getBoundingClientRect(),u=c.top+window.pageYOffset,d=c.top+c.height+window.pageYOffset;d<o&&d>window.scrollY&&l.paused?(l.paused=!1,setTimeout(function(){return l.start()},l.options.scrollSpyDelay),l.options.scrollSpyOnce&&(l.once=!0)):(window.scrollY>d||u>o)&&!l.paused&&l.reset()}},i.prototype.determineDirectionAndSmartEasing=function(){var l=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>l;var o=l-this.startVal;if(Math.abs(o)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=l;var c=this.countDown?1:-1;this.endVal=l+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=l,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},i.prototype.start=function(l){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),l&&(this.options.onCompleteCallback=l),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},i.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},i.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},i.prototype.update=function(l){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(l),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},i.prototype.printValue=function(l){var o;if(this.el){var c=this.formattingFn(l);!((o=this.options.plugin)===null||o===void 0)&&o.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},i.prototype.ensureNumber=function(l){return typeof l=="number"&&!isNaN(l)},i.prototype.validateValue=function(l){var o=Number(l);return this.ensureNumber(o)?o:(this.error="[CountUp] invalid start or end value: ".concat(l),null)},i.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},i.prototype.parse=function(l){var o=function(f){return f.replace(/([.,'  ])/g,"\\$1")},c=o(this.options.separator),u=o(this.options.decimal),d=l.replace(new RegExp(c,"g"),"").replace(new RegExp(u,"g"),".");return parseFloat(d)},i}();r.CountUp=s})})(A1,A1.exports);var yq=A1.exports;Object.defineProperty(aN,"__esModule",{value:!0});var pa=w,bq=yq;function wq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(a){kq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nq(e){var t=jq(e,"string");return typeof t=="symbol"?t:String(t)}function kq(e,t,r){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},P1.apply(this,arguments)}function _q(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kO(e,t){if(e==null)return{};var r=_q(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Sq(e,t){return Cq(e)||wq(e,t)||Eq(e,t)||Tq()}function Cq(e){if(Array.isArray(e))return e}function Eq(e,t){if(e){if(typeof e=="string")return w4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w4(e,t)}}function w4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Tq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Aq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?pa.useLayoutEffect:pa.useEffect;function Qs(e){var t=pa.useRef(e);return Aq(function(){t.current=e}),pa.useCallback(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t.current.apply(void 0,a)},[])}var Pq=function(t,r){var a=r.decimal,s=r.decimals,i=r.duration,l=r.easingFn,o=r.end,c=r.formattingFn,u=r.numerals,d=r.prefix,f=r.separator,h=r.start,m=r.suffix,p=r.useEasing,x=r.useGrouping,g=r.useIndianSeparators,y=r.enableScrollSpy,b=r.scrollSpyDelay,v=r.scrollSpyOnce,j=r.plugin;return new bq.CountUp(t,o,{startVal:h,duration:i,decimal:a,decimalPlaces:s,easingFn:l,formattingFn:c,numerals:u,separator:f,prefix:d,suffix:m,plugin:j,useEasing:p,useIndianSeparators:g,useGrouping:x,enableScrollSpy:y,scrollSpyDelay:b,scrollSpyOnce:v})},Oq=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Dq={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},_O=function(t){var r=Object.fromEntries(Object.entries(t).filter(function(T){var C=Sq(T,2),E=C[1];return E!==void 0})),a=pa.useMemo(function(){return Qp(Qp({},Dq),r)},[t]),s=a.ref,i=a.startOnMount,l=a.enableReinitialize,o=a.delay,c=a.onEnd,u=a.onStart,d=a.onPauseResume,f=a.onReset,h=a.onUpdate,m=kO(a,Oq),p=pa.useRef(),x=pa.useRef(),g=pa.useRef(!1),y=Qs(function(){return Pq(typeof s=="string"?s:s.current,m)}),b=Qs(function(T){var C=p.current;if(C&&!T)return C;var E=y();return p.current=E,E}),v=Qs(function(){var T=function(){return b(!0).start(function(){c==null||c({pauseResume:j,reset:N,start:_,update:k})})};o&&o>0?x.current=setTimeout(T,o*1e3):T(),u==null||u({pauseResume:j,reset:N,update:k})}),j=Qs(function(){b().pauseResume(),d==null||d({reset:N,start:_,update:k})}),N=Qs(function(){b().el&&(x.current&&clearTimeout(x.current),b().reset(),f==null||f({pauseResume:j,start:_,update:k}))}),k=Qs(function(T){b().update(T),h==null||h({pauseResume:j,reset:N,start:_})}),_=Qs(function(){N(),v()}),S=Qs(function(T){i&&(T&&N(),v())});return pa.useEffect(function(){g.current?l&&S(!0):(g.current=!0,S())},[l,g,S,o,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),pa.useEffect(function(){return function(){N()}},[N]),{start:_,pauseResume:j,reset:N,update:k,getCountUp:b}},Fq=["className","redraw","containerProps","children","style"],Iq=function(t){var r=t.className,a=t.redraw,s=t.containerProps,i=t.children,l=t.style,o=kO(t,Fq),c=pa.useRef(null),u=pa.useRef(!1),d=_O(Qp(Qp({},o),{},{ref:c,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),f=d.start,h=d.reset,m=d.update,p=d.pauseResume,x=d.getCountUp,g=Qs(function(){f()}),y=Qs(function(j){t.preserveValue||h(),m(j)}),b=Qs(function(){if(typeof t.children=="function"&&!(c.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}x()});pa.useEffect(function(){b()},[b]),pa.useEffect(function(){u.current&&y(t.end)},[t.end,y]);var v=a&&t;return pa.useEffect(function(){a&&u.current&&g()},[g,a,v]),pa.useEffect(function(){!a&&u.current&&g()},[g,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),pa.useEffect(function(){u.current=!0},[]),typeof i=="function"?i({countUpRef:c,start:f,reset:h,update:m,pauseResume:p,getCountUp:x}):pa.createElement("span",P1({className:r,ref:c,style:l},s),typeof t.start<"u"?x().formattingFn(t.start):"")},Rq=aN.default=Iq;aN.useCountUp=_O;const Ve=({title:e,value:t,previousValue:r,icon:a,color:s="blue",format:i="number",suffix:l="",prefix:o="",onClick:c=null})=>{const d=(g=>{const y={blue:"bg-blue-500 text-blue-600 bg-blue-50",green:"bg-green-500 text-green-600 bg-green-50",yellow:"bg-yellow-500 text-yellow-600 bg-yellow-50",red:"bg-red-500 text-red-600 bg-red-50",purple:"bg-purple-500 text-purple-600 bg-purple-50",indigo:"bg-indigo-500 text-indigo-600 bg-indigo-50",emerald:"bg-emerald-500 text-emerald-600 bg-emerald-50",gray:"bg-gray-500 text-gray-600 bg-gray-50",orange:"bg-orange-500 text-orange-600 bg-orange-50"};return y[g]||y.blue})(s).split(" "),f=d[0];d[1];const h=d[2],p=!r||r===0?null:(t-r)/r*100,x=g=>i==="currency"?g>=1e6?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(g):new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(g):i==="percentage"?`${g.toFixed(1)}%`:i==="decimal"?g.toFixed(1):g.toLocaleString();return n.jsx("div",{className:`${h} rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-all duration-200 ${c?"cursor-pointer hover:scale-105 active:scale-100":""}`,onClick:c,role:c?"button":void 0,tabIndex:c?0:void 0,onKeyDown:c?g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),c())}:void 0,children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),n.jsx("div",{className:"flex items-baseline",children:n.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[o,i==="number"?n.jsx(Rq,{end:t,duration:1.5,separator:",",preserveValue:!0}):x(t),l]})}),p!==null&&n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsxs("span",{className:`text-xs font-medium ${p>=0?"text-green-600":"text-red-600"}`,children:[p>=0?"↗":"↘"," ",Math.abs(p).toFixed(1),"%"]}),n.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"vs last period"})]})]}),n.jsx("div",{className:`${f} p-3 rounded-lg flex-shrink-0`,children:n.jsx(a,{className:"h-6 w-6 text-white"})})]})})},Mq=()=>{var f,h,m,p,x,g;const{user:e}=tn(),t=Vi(),r=qt(),{data:a,isLoading:s}=Be("dashboard-overview",()=>tc.getDashboardOverview(),{refetchInterval:3e4,refetchOnWindowFocus:!0,refetchOnMount:"always",staleTime:0}),{data:i,isLoading:l}=Be("dashboard-activities",()=>tc.getRecentActivities(50),{refetchInterval:15e3,refetchOnWindowFocus:!0,refetchOnMount:"always",staleTime:0});if(w.useEffect(()=>{const y=()=>{r.invalidateQueries("dashboard-overview"),r.invalidateQueries("dashboard-activities"),console.log("📊 Dashboard data refreshed due to ticket update")};return window.addEventListener("ticket-updated",y),window.addEventListener("ticket-created",y),window.addEventListener("ticket-assigned",y),window.addEventListener("ticket-completed",y),()=>{window.removeEventListener("ticket-updated",y),window.removeEventListener("ticket-created",y),window.removeEventListener("ticket-assigned",y),window.removeEventListener("ticket-completed",y)}},[r]),s)return n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})});const o=(a==null?void 0:a.data)||{},c=((f=o.tickets)==null?void 0:f.byStatus)||{},u={total_tickets:((h=o.tickets)==null?void 0:h.total)||0,open_tickets:c.open||0,assigned_tickets:c.assigned||0,in_progress_tickets:c.in_progress||0,on_hold_tickets:c.on_hold||0,completed_tickets:c.completed||0,cancelled_tickets:c.cancelled||0,avg_resolution_time:((m=o.resolution)==null?void 0:m.averageHours)||null,avg_customer_rating:((p=o.satisfaction)==null?void 0:p.averageRating)||null,sla_compliance:((x=o.sla)==null?void 0:x.complianceRate)||null,active_technicians:((g=o.technicians)==null?void 0:g.available)||0,approaching_sla:0,overdue_tickets:0},d=({title:y,description:b,icon:v,color:j="blue",onClick:N})=>n.jsx("button",{onClick:N,className:"card hover:shadow-md transition-shadow text-left w-full h-full",children:n.jsxs("div",{className:"card-body flex items-center h-full",children:[n.jsx("div",{className:`p-2 rounded-lg bg-${j}-100 mr-3 flex-shrink-0`,children:n.jsx(v,{className:`h-5 w-5 text-${j}-600`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:y}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:b})]})]})});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.full_name,"!"]}),n.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your ISP operations today."})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[n.jsx(Ve,{title:"Total",value:u.total_tickets||0,icon:nl,color:"blue"}),n.jsx(Ve,{title:"Open",value:u.open_tickets||0,icon:Vj,color:"blue"}),n.jsx(Ve,{title:"Assigned",value:u.assigned_tickets||0,icon:Zn,color:"indigo"}),n.jsx(Ve,{title:"Progress",value:u.in_progress_tickets||0,icon:Vp,color:"orange"}),n.jsx(Ve,{title:"On Hold",value:u.on_hold_tickets||0,icon:FW,color:"yellow"}),n.jsx(Ve,{title:"Completed",value:u.completed_tickets||0,icon:Ke,color:"green"}),n.jsx(Ve,{title:"Cancelled",value:u.cancelled_tickets||0,icon:kt,color:"red"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"card h-full",children:[n.jsx("div",{className:"card-header",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-full",children:[n.jsx(d,{title:"Create New Ticket",description:"Add a new service request",icon:nl,color:"blue",onClick:()=>t("/tickets")}),n.jsx(d,{title:"Add Customer",description:"Register new customer",icon:Zn,color:"green",onClick:()=>t("/customers")}),n.jsx(d,{title:"Manage Technicians",description:"View and manage technicians",icon:qp,color:"purple",onClick:()=>t("/technicians")}),n.jsx(d,{title:"Check Inventory",description:"View stock levels",icon:Jt,color:"orange",onClick:()=>t("/inventory")})]})})]})}),n.jsx("div",{children:n.jsxs("div",{className:"card h-full flex flex-col",children:[n.jsx("div",{className:"card-header",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Activity"})}),n.jsx("div",{className:"card-body flex-1 overflow-hidden",children:l?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(St,{})}):i!=null&&i.data&&i.data.length>0?n.jsx("div",{className:"space-y-4 overflow-y-auto h-full pr-2",style:{maxHeight:"180px"},children:i.data.map((y,b)=>{let v="",j=nl,N="blue";return y.status==="completed"?(v=`Ticket #${y.ticketNumber} completed`,j=Ke,N="green"):y.status==="assigned"?(v=`Ticket #${y.ticketNumber} assigned to technician`,j=qp,N="purple"):y.status==="in_progress"?(v=`Ticket #${y.ticketNumber} in progress`,j=Kt,N="orange"):y.status==="open"?(v=`New ticket created: ${y.title}`,j=nl,N="blue"):v=`Ticket #${y.ticketNumber} - ${y.title}`,n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:`p-1 bg-${N}-100 rounded-full`,children:n.jsx(j,{className:`h-4 w-4 text-${N}-600`})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-gray-900",children:v}),n.jsx("p",{className:"text-xs text-gray-500",children:y.timestamp&&!isNaN(new Date(y.timestamp).getTime())?iO(new Date(y.timestamp),{addSuffix:!0,locale:lO}):"Baru saja"})]})]},b)})}):n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Tidak ada aktivitas hari ini"})})]})})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="supervisor")&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Performance Overview"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Average Resolution Time"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.avg_resolution_time?`${u.avg_resolution_time.toFixed(1)} hours`:"N/A"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.avg_customer_rating?`${u.avg_customer_rating.toFixed(1)}/5.0`:"N/A"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"SLA Compliance"}),n.jsx("span",{className:`text-sm font-medium ${u.sla_compliance>=90?"text-green-600":"text-yellow-600"}`,children:u.sla_compliance?`${u.sla_compliance.toFixed(1)}%`:"N/A"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Active Technicians"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.active_technicians||0})]})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Alerts"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"space-y-3",children:[u.approaching_sla>0,u.overdue_tickets>0,n.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[n.jsx(Ke,{className:"h-5 w-5 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"All tickets on track"}),n.jsx("p",{className:"text-xs text-green-600",children:"No urgent alerts"})]})]})]})})]})]})]})};function SO(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=SO(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ct(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=SO(e))&&(a&&(a+=" "),a+=t);return a}var Ug={},CO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(CO);var nN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(nN);var sN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;return typeof r=="string"||typeof r=="symbol"?r:Object.is((a=r==null?void 0:r.valueOf)==null?void 0:a.call(r),-0)?"-0":String(r)}e.toKey=t})(sN);var zg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const a=[],s=r.length;if(s===0)return a;let i=0,l="",o="",c=!1;for(r.charCodeAt(0)===46&&(a.push(""),i++);i<s;){const u=r[i];o?u==="\\"&&i+1<s?(i++,l+=r[i]):u===o?o="":l+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,a.push(l),l=""):l+=u:u==="["?(c=!0,l&&(a.push(l),l="")):u==="."?l&&(a.push(l),l=""):l+=u,i++}return l&&a.push(l),a}e.toPath=t})(zg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CO,r=nN,a=sN,s=zg;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return l(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function l(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Ug);var Lq=Ug.get;const Rc=Ms(Lq);var va=e=>e===0?0:e>0?1:-1,Fn=e=>typeof e=="number"&&e!=+e,uc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Je=e=>(typeof e=="number"||e instanceof Number)&&!Fn(e),$i=e=>Je(e)||typeof e=="string",$q=0,m0=e=>{var t=++$q;return"".concat(e||"").concat(t)},Xa=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(t)&&typeof t!="string")return a;var i;if(uc(t)){if(r==null)return a;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Fn(i)&&(i=a),s&&r!=null&&i>r&&(i=r),i},EO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function Wt(e,t,r){return Je(e)&&Je(t)?e+r*(t-e):t}function TO(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Rc(a,t))===r)}var nr=e=>e===null||typeof e>"u",rh=e=>nr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Bq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function iN(e){if(typeof e!="string")return!1;var t=Bq;return t.includes(e)}var Uq=["viewBox","children"],j4=["points","pathLength"],by={svg:Uq,polygon:j4,polyline:j4},lN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{iN(s)&&(a[s]=i=>r[s](r,i))}),a},zq=(e,t,r)=>a=>(e(t,r,a),null),ah=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var i=e[s];iN(s)&&typeof i=="function"&&(a||(a={}),a[s]=zq(i,t,r))}),a},Wq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function AO(e){if(typeof e!="string")return!1;var t=Wq;return t.includes(e)}function Us(e){var t=Object.entries(e).filter(r=>{var[a]=r;return AO(a)});return Object.fromEntries(t)}var N4=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",k4=null,wy=null,PO=e=>{if(e===k4&&Array.isArray(wy))return wy;var t=[];return w.Children.forEach(e,r=>{nr(r)||(bO.isFragment(r)?t=t.concat(PO(r.props.children)):t.push(r))}),wy=t,k4=e,t};function oN(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>N4(s)):a=[N4(t)],PO(e).forEach(s=>{var i=Rc(s,"type.displayName")||Rc(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}var Wg=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Vq=(e,t,r,a)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=a&&(by==null?void 0:by[a]))!==null&&s!==void 0?s:[],l=t.startsWith("data-"),o=typeof e!="function"&&(!!a&&i.includes(t)||AO(t)),c=!!r&&iN(t);return l||o||c},lr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(i=>{var l;Vq((l=a)===null||l===void 0?void 0:l[i],i,t,r)&&(s[i]=a[i])}),s},Hq=["children","width","height","viewBox","className","style","title","desc"];function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},O1.apply(null,arguments)}function qq(e,t){if(e==null)return{};var r,a,s=Kq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kq(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var cN=w.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:i,className:l,style:o,title:c,desc:u}=e,d=qq(e,Hq),f=i||{width:a,height:s,x:0,y:0},h=Ct("recharts-surface",l);return w.createElement("svg",O1({},lr(d,!0,"svg"),{className:h,width:a,height:s,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,c),w.createElement("desc",null,u),r)}),Gq=["children","className"];function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D1.apply(null,arguments)}function Qq(e,t){if(e==null)return{};var r,a,s=Xq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Xq(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Dr=w.forwardRef((e,t)=>{var{children:r,className:a}=e,s=Qq(e,Gq),i=Ct("recharts-layer",a);return w.createElement("g",D1({className:i},lr(s,!0),{ref:t}),r)}),OO=w.createContext(null),Yq=()=>w.useContext(OO);function Xt(e){return function(){return e}}const DO=Math.cos,Xp=Math.sin,gi=Math.sqrt,Yp=Math.PI,Vg=2*Yp,F1=Math.PI,I1=2*F1,Xo=1e-6,Jq=I1-Xo;function FO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Zq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FO;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class eK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FO:Zq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,l){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=a-t,u=s-r,d=l-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Xo)if(!(Math.abs(f*c-u*d)>Xo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=a-l,p=s-o,x=c*c+u*u,g=m*m+p*p,y=Math.sqrt(x),b=Math.sqrt(h),v=i*Math.tan((F1-Math.acos((x+h-g)/(2*y*b)))/2),j=v/b,N=v/y;Math.abs(j-1)>Xo&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,a,s,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(s),c=a*Math.sin(s),u=t+o,d=r+c,f=1^l,h=l?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Xo||Math.abs(this._y1-d)>Xo)&&this._append`L${u},${d}`,a&&(h<0&&(h=h%I1+I1),h>Jq?this._append`A${a},${a},0,1,${f},${t-o},${r-c}A${a},${a},0,1,${f},${this._x1=u},${this._y1=d}`:h>Xo&&this._append`A${a},${a},0,${+(h>=F1)},${f},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function uN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new eK(t)}function dN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IO(e){this._context=e}IO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hg(e){return new IO(e)}function RO(e){return e[0]}function MO(e){return e[1]}function LO(e,t){var r=Xt(!0),a=null,s=Hg,i=null,l=uN(o);e=typeof e=="function"?e:e===void 0?RO:Xt(e),t=typeof t=="function"?t:t===void 0?MO:Xt(t);function o(c){var u,d=(c=dN(c)).length,f,h=!1,m;for(a==null&&(i=s(m=l())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Xt(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Xt(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Xt(!!c),o):r},o.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),o):s},o.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),o):a},o}function tm(e,t,r){var a=null,s=Xt(!0),i=null,l=Hg,o=null,c=uN(u);e=typeof e=="function"?e:e===void 0?RO:Xt(+e),t=typeof t=="function"?t:Xt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MO:Xt(+r);function u(f){var h,m,p,x=(f=dN(f)).length,g,y=!1,b,v=new Array(x),j=new Array(x);for(i==null&&(o=l(b=c())),h=0;h<=x;++h){if(!(h<x&&s(g=f[h],h,f))===y)if(y=!y)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(v[p],j[p]);o.lineEnd(),o.areaEnd()}y&&(v[h]=+e(g,h,f),j[h]=+t(g,h,f),o.point(a?+a(g,h,f):v[h],r?+r(g,h,f):j[h]))}if(b)return o=null,b+""||null}function d(){return LO().defined(s).curve(l).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Xt(+f),a=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Xt(+f),u):e},u.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Xt(+f),u):a},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Xt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Xt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Xt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(a).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Xt(!!f),u):s},u.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),u):l},u.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),u):i},u}class $O{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function tK(e){return new $O(e,!0)}function rK(e){return new $O(e,!1)}const fN={draw(e,t){const r=gi(t/Yp);e.moveTo(r,0),e.arc(0,0,r,0,Vg)}},aK={draw(e,t){const r=gi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},BO=gi(1/3),nK=BO*2,sK={draw(e,t){const r=gi(t/nK),a=r*BO;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},iK={draw(e,t){const r=gi(t),a=-r/2;e.rect(a,a,r,r)}},lK=.8908130915292852,UO=Xp(Yp/10)/Xp(7*Yp/10),oK=Xp(Vg/10)*UO,cK=-DO(Vg/10)*UO,uK={draw(e,t){const r=gi(t*lK),a=oK*r,s=cK*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const l=Vg*i/5,o=DO(l),c=Xp(l);e.lineTo(c*r,-o*r),e.lineTo(o*a-c*s,c*a+o*s)}e.closePath()}},jy=gi(3),dK={draw(e,t){const r=-gi(t/(jy*3));e.moveTo(0,r*2),e.lineTo(-jy*r,-r),e.lineTo(jy*r,-r),e.closePath()}},cs=-.5,us=gi(3)/2,R1=1/gi(12),fK=(R1/2+1)*3,hK={draw(e,t){const r=gi(t/fK),a=r/2,s=r*R1,i=a,l=r*R1+r,o=-i,c=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(cs*a-us*s,us*a+cs*s),e.lineTo(cs*i-us*l,us*i+cs*l),e.lineTo(cs*o-us*c,us*o+cs*c),e.lineTo(cs*a+us*s,cs*s-us*a),e.lineTo(cs*i+us*l,cs*l-us*i),e.lineTo(cs*o+us*c,cs*c-us*o),e.closePath()}};function mK(e,t){let r=null,a=uN(s);e=typeof e=="function"?e:Xt(e||fN),t=typeof t=="function"?t:Xt(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Xt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Xt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Jp(){}function Zp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pK(e){return new zO(e)}function WO(e){this._context=e}WO.prototype={areaStart:Jp,areaEnd:Jp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xK(e){return new WO(e)}function VO(e){this._context=e}VO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gK(e){return new VO(e)}function HO(e){this._context=e}HO.prototype={areaStart:Jp,areaEnd:Jp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vK(e){return new HO(e)}function _4(e){return e<0?-1:1}function S4(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),o=(i*s+l*a)/(a+s);return(_4(i)+_4(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function C4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ny(e,t,r){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,s+o*t,i-o,l-o*r,i,l)}function ex(e){this._context=e}ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ny(this,this._t0,C4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ny(this,C4(this,r=S4(this,e,t)),r);break;default:Ny(this,this._t0,r=S4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qO(e){this._context=new KO(e)}(qO.prototype=Object.create(ex.prototype)).point=function(e,t){ex.prototype.point.call(this,t,e)};function KO(e){this._context=e}KO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function yK(e){return new ex(e)}function bK(e){return new qO(e)}function GO(e){this._context=e}GO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=E4(e),s=E4(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function E4(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function wK(e){return new GO(e)}function qg(e,t){this._context=e,this._t=t}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jK(e){return new qg(e,.5)}function NK(e){return new qg(e,0)}function kK(e){return new qg(e,1)}function nd(e,t){if((l=e.length)>1)for(var r=1,a,s,i=e[t[0]],l,o=i.length;r<l;++r)for(s=i,i=e[t[r]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function M1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _K(e,t){return e[t]}function SK(e){const t=[];return t.key=e,t}function CK(){var e=Xt([]),t=M1,r=nd,a=_K;function s(i){var l=Array.from(e.apply(this,arguments),SK),o,c=l.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(l[o][u]=[0,+a(f,l[o].key,u,i)]).data=f;for(o=0,d=dN(t(l));o<c;++o)l[d[o]].index=o;return r(l,d),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Xt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Xt(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?M1:typeof i=="function"?i:Xt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??nd,s):r},s}function EK(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}nd(e,t)}}function TK(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var l=0,o=0;l<s;++l)o+=e[l][r][1]||0;a[r][1]+=a[r][0]=-o/2}nd(e,t)}}function AK(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,l;a<i;++a){for(var o=0,c=0,u=0;o<l;++o){for(var d=e[t[o]],f=d[a][1]||0,h=d[a-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var x=e[t[p]],g=x[a][1]||0,y=x[a-1][1]||0;m+=g-y}c+=f,u+=m*f}s[a-1][1]+=s[a-1][0]=r,c&&(r-=u/c)}s[a-1][1]+=s[a-1][0]=r,nd(e,t)}}var PK=["type","size","sizeType"];function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},L1.apply(null,arguments)}function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function A4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(a){OK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IK(e,t){if(e==null)return{};var r,a,s=RK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var QO={symbolCircle:fN,symbolCross:aK,symbolDiamond:sK,symbolSquare:iK,symbolStar:uK,symbolTriangle:dK,symbolWye:hK},MK=Math.PI/180,LK=e=>{var t="symbol".concat(rh(e));return QO[t]||fN},$K=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*MK;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BK=(e,t)=>{QO["symbol".concat(rh(e))]=t},hN=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=IK(e,PK),i=A4(A4({},s),{},{type:t,size:r,sizeType:a}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var h=LK(l),m=mK().type(h).size($K(r,a,l));return m()},{className:c,cx:u,cy:d}=i,f=lr(i,!0);return u===+u&&d===+d&&r===+r?w.createElement("path",L1({},f,{className:Ct("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};hN.registerSymbol=BK;function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$1.apply(null,arguments)}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function UK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(a){mN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mN(e,t,r){return(t=zK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ds=32;class pN extends w.PureComponent{renderIcon(t,r){var{inactiveColor:a}=this.props,s=ds/2,i=ds/6,l=ds/3,o=t.inactive?a:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:ds,y2:s,className:"recharts-legend-icon"});if(c==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ds,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ds/8,"h").concat(ds,"v").concat(ds*3/4,"h").concat(-ds,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var u=UK({},t);return delete u.legendIcon,w.cloneElement(t.legendIcon,u)}return w.createElement(hN,{fill:o,cx:s,cy:s,size:ds,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:ds,height:ds},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||s,m=Ct({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?i:d.color,x=h?h(d.value,d,f):d.value;return w.createElement("li",$1({className:m,style:c,key:"legend-item-".concat(f)},ah(this.props,d,f)),w.createElement(cN,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,l)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}render(){var{payload:t,layout:r,align:a}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}mN(pN,"displayName","Legend");mN(pN,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var XO={},YO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=a(l);s.has(o)||s.set(o,l)}return Array.from(s.values())}e.uniqBy=t})(YO);var xN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(xN);var JO={},Kg={},ZO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ZO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO;function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(Kg);var e6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(e6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kg,r=e6;function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(JO);var t6={},r6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ug;function r(a){return function(s){return t.get(s,a)}}e.property=r})(r6);var a6={},ky={},_y={},gN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(gN);var vN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(vN);var yN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(yN);var O4;function VK(){return O4||(O4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN(),r=gN,a=vN,s=yN;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):l(f,h,function p(x,g,y,b,v,j){const N=m(x,g,y,b,v,j);return N!==void 0?!!N:l(x,g,p,j)},new Map)}function l(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,p);case"function":return Object.keys(h).length>0?l(f,{...h},m,p):s.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:s.eq(f,h)}}function o(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let g=0;g<x.length;g++){const y=x[g];if(!a.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!m(f[y],h[y],y,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,g]of h.entries()){const y=f.get(x);if(m(y,g,x,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let g=0;g<h.length;g++){const y=h[g];let b=!1;for(let v=0;v<f.length;v++){if(x.has(v))continue;const j=f[v];let N=!1;if(m(j,y,g,f,h,p)&&(N=!0),N){x.add(v),b=!0;break}}if(!b)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=d}(_y)),_y}var D4;function bN(){return D4||(D4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VK();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r}(ky)),ky}var n6={},wN={},s6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(s6);var jN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(jN);var NN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",g="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",v="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",S="[object BigInt64Array]",T="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=s,e.dataViewTag=x,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=T,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=_,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=a,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=b,e.uint32ArrayTag=v,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=y})(NN);var i6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(i6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s6,r=jN,a=NN,s=vN,i=i6;function l(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(s.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const g=new Array(d.length);m.set(d,g);for(let y=0;y<d.length;y++)g[y]=o(d[y],y,h,m,p);return Object.hasOwn(d,"index")&&(g.index=d.index),Object.hasOwn(d,"input")&&(g.input=d.input),g}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const g=new RegExp(d.source,d.flags);return g.lastIndex=d.lastIndex,g}if(d instanceof Map){const g=new Map;m.set(d,g);for(const[y,b]of d)g.set(y,o(b,y,h,m,p));return g}if(d instanceof Set){const g=new Set;m.set(d,g);for(const y of d)g.add(o(y,void 0,h,m,p));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const g=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,g);for(let y=0;y<d.length;y++)g[y]=o(d[y],y,h,m,p);return g}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const g=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,g),c(g,d,h,m,p),g}if(typeof File<"u"&&d instanceof File){const g=new File([d],d.name,{type:d.type});return m.set(d,g),c(g,d,h,m,p),g}if(d instanceof Blob){const g=new Blob([d],{type:d.type});return m.set(d,g),c(g,d,h,m,p),g}if(d instanceof Error){const g=new d.constructor;return m.set(d,g),g.message=d.message,g.name=d.name,g.stack=d.stack,g.cause=d.cause,c(g,d,h,m,p),g}if(typeof d=="object"&&u(d)){const g=Object.create(Object.getPrototypeOf(d));return m.set(d,g),c(g,d,h,m,p),g}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<x.length;g++){const y=x[g],b=Object.getOwnPropertyDescriptor(d,y);(b==null||b.writable)&&(d[y]=o(f[y],y,h,m,p))}}function u(d){switch(r.getTag(d)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(wN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN;function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(n6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN(),r=n6;function a(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=a})(a6);var l6={},o6={},c6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN,r=NN;function a(s,i){return t.cloneDeepWith(s,(l,o,c,u)=>{const d=i==null?void 0:i(l,o,c,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=a})(c6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c6;function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(o6);var u6={},kN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(kN);var d6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jN;function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(d6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nN,r=kN,a=d6,s=zg;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=s.toPath(o):c=[o],c.length===0)return!1;let u=l;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||a.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(u6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN(),r=sN,a=o6,s=Ug,i=u6;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=a.cloneDeep(c),function(u){const d=s.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=l})(l6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xN,r=r6,a=a6,s=l6;function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?s.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(t6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YO,r=xN,a=JO,s=t6;function i(l,o=r.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),s.iteratee(o)):[]}e.uniqBy=i})(XO);var HK=XO.uniqBy;const F4=Ms(HK);function f6(e,t,r){return t===!0?F4(e,r):typeof t=="function"?F4(e,t):e}var h6={exports:{}},m6={},p6={exports:{}},x6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=w;function qK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KK=typeof Object.is=="function"?Object.is:qK,GK=sd.useState,QK=sd.useEffect,XK=sd.useLayoutEffect,YK=sd.useDebugValue;function JK(e,t){var r=t(),a=GK({inst:{value:r,getSnapshot:t}}),s=a[0].inst,i=a[1];return XK(function(){s.value=r,s.getSnapshot=t,Sy(s)&&i({inst:s})},[e,r,t]),QK(function(){return Sy(s)&&i({inst:s}),e(function(){Sy(s)&&i({inst:s})})},[e]),YK(r),r}function Sy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!KK(e,r)}catch{return!0}}function ZK(e,t){return t()}var eG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZK:JK;x6.useSyncExternalStore=sd.useSyncExternalStore!==void 0?sd.useSyncExternalStore:eG;p6.exports=x6;var tG=p6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=w,rG=tG;function aG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nG=typeof Object.is=="function"?Object.is:aG,sG=rG.useSyncExternalStore,iG=Gg.useRef,lG=Gg.useEffect,oG=Gg.useMemo,cG=Gg.useDebugValue;m6.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var i=iG(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=oG(function(){function c(m){if(!u){if(u=!0,d=m,m=a(m),s!==void 0&&l.hasValue){var p=l.value;if(s(p,m))return f=p}return f=m}if(p=f,nG(d,m))return p;var x=a(m);return s!==void 0&&s(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,a,s]);var o=sG(e,i[0],i[1]);return lG(function(){l.hasValue=!0,l.value=o},[o]),cG(o),o};h6.exports=m6;var uG=h6.exports,_N=w.createContext(null),dG=e=>e,Sr=()=>{var e=w.useContext(_N);return e?e.store.dispatch:dG},np=()=>{},fG=()=>np,hG=(e,t)=>e===t;function Ye(e){var t=w.useContext(_N);return uG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fG,t?t.store.getState:np,t?t.store.getState:np,t?e:np,hG)}function mG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var I4=e=>Array.isArray(e)?e:[e];function gG(e){const t=Array.isArray(e[0])?e[0]:e;return xG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function vG(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var yG=class{constructor(e){this.value=e}deref(){return this.value}},bG=typeof WeakRef<"u"?WeakRef:yG,wG=0,R4=1;function rm(){return{s:wG,v:void 0,o:null,p:null}}function g6(e,t={}){let r=rm();const{resultEqualityCheck:a}=t;let s,i=0;function l(){var f;let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const g=x.get(p);g===void 0?(o=rm(),x.set(p,o)):o=g}else{let x=o.p;x===null&&(o.p=x=new Map);const g=x.get(p);g===void 0?(o=rm(),x.set(p,o)):o=g}}const u=o;let d;if(o.s===R4)d=o.v;else if(d=e.apply(null,arguments),i++,a){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&a(h,d)&&(d=h,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new bG(d):d}return u.s=R4,u.v=d,d}return l.clearCache=()=>{r=rm(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function jG(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let i=0,l=0,o,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),mG(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=g6,argsMemoizeOptions:p=[]}=d,x=I4(h),g=I4(p),y=gG(s),b=f(function(){return i++,u.apply(null,arguments)},...x),v=m(function(){l++;const N=vG(y,arguments);return o=b.apply(null,N),o},...g);return Object.assign(v,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(a,{withTypes:()=>a}),a}var xe=jG(g6),NG=Object.assign((e,t=xe)=>{pG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(i=>e[i]);return t(a,(...i)=>i.reduce((l,o,c)=>(l[r[c]]=o,l),{}))},{withTypes:()=>NG}),v6={},y6={},b6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,i)=>{if(a!==s){const l=t(a),o=t(s);if(l===o&&l===0){if(a<s)return i==="desc"?1:-1;if(a>s)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(b6);var w6={},SN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(SN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SN,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=s})(w6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b6,r=w6,a=zg;function s(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let x=m;for(let g=0;g<p.length&&x!=null;++g)x=x[p[g]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=l.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:a.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const g=t.compareValues(m.criteria[x],p.criteria[x],o[x]);if(g!==0)return g}return 0}).map(m=>m.original)}e.orderBy=s})(y6);var j6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],i=Math.floor(a),l=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?l(d,c+1):s.push(d)}};return l(r,0),s}e.flatten=t})(j6);var CN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kN,r=Kg,a=gN,s=yN;function i(l,o,c){return a.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?s.eq(c[o],l):!1}e.isIterateeCall=i})(CN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y6,r=j6,a=CN;function s(i,...l){const o=l.length;return o>1&&a.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=s})(v6);var kG=v6.sortBy;const Qg=Ms(kG);var N6=e=>e.legend.settings,_G=e=>e.legend.size,SG=e=>e.legend.payload,CG=xe([SG,N6],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?Qg(a,r):a});function EG(){return Ye(CG)}var am=1;function k6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),a=w.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>am||Math.abs(l.left-t.left)>am||Math.abs(l.top-t.top)>am||Math.abs(l.width-t.width)>am)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function _a(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TG=typeof Symbol=="function"&&Symbol.observable||"@@observable",M4=TG,Cy=()=>Math.random().toString(36).substring(7).split("").join("."),AG={INIT:`@@redux/INIT${Cy()}`,REPLACE:`@@redux/REPLACE${Cy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cy()}`},tx=AG;function EN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _6(e,t,r){if(typeof e!="function")throw new Error(_a(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_a(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_a(1));return r(_6)(e,t)}let a=e,s=t,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((g,y)=>{l.set(y,g)}))}function d(){if(c)throw new Error(_a(3));return s}function f(g){if(typeof g!="function")throw new Error(_a(4));if(c)throw new Error(_a(5));let y=!0;u();const b=o++;return l.set(b,g),function(){if(y){if(c)throw new Error(_a(6));y=!1,u(),l.delete(b),i=null}}}function h(g){if(!EN(g))throw new Error(_a(7));if(typeof g.type>"u")throw new Error(_a(8));if(typeof g.type!="string")throw new Error(_a(17));if(c)throw new Error(_a(9));try{c=!0,s=a(s,g)}finally{c=!1}return(i=l).forEach(b=>{b()}),g}function m(g){if(typeof g!="function")throw new Error(_a(10));a=g,h({type:tx.REPLACE})}function p(){const g=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(_a(11));function b(){const j=y;j.next&&j.next(d())}return b(),{unsubscribe:g(b)}},[M4](){return this}}}return h({type:tx.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[M4]:p}}function PG(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:tx.INIT})>"u")throw new Error(_a(12));if(typeof r(void 0,{type:tx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_a(13))})}function S6(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const a=Object.keys(r);let s;try{PG(r)}catch(i){s=i}return function(l={},o){if(s)throw s;let c=!1;const u={};for(let d=0;d<a.length;d++){const f=a[d],h=r[f],m=l[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(_a(14));u[f]=p,c=c||p!==m}return c=c||a.length!==Object.keys(l).length,c?u:l}}function rx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function OG(...e){return t=>(r,a)=>{const s=t(r,a);let i=()=>{throw new Error(_a(15))};const l={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(l));return i=rx(...o)(s.dispatch),{...s,dispatch:i}}}function C6(e){return EN(e)&&"type"in e&&typeof e.type=="string"}var E6=Symbol.for("immer-nothing"),L4=Symbol.for("immer-draftable"),ts=Symbol.for("immer-state");function ti(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var id=Object.getPrototypeOf;function Mc(e){return!!e&&!!e[ts]}function Nl(e){var t;return e?T6(e)||Array.isArray(e)||!!e[L4]||!!((t=e.constructor)!=null&&t[L4])||nh(e)||Yg(e):!1}var DG=Object.prototype.constructor.toString();function T6(e){if(!e||typeof e!="object")return!1;const t=id(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===DG}function ax(e,t){Xg(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Xg(e){const t=e[ts];return t?t.type_:Array.isArray(e)?1:nh(e)?2:Yg(e)?3:0}function B1(e,t){return Xg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function A6(e,t,r){const a=Xg(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function FG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nh(e){return e instanceof Map}function Yg(e){return e instanceof Set}function Yo(e){return e.copy_||e.base_}function U1(e,t){if(nh(e))return new Map(e);if(Yg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=T6(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[ts];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const l=s[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(id(e),a)}else{const a=id(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function TN(e,t=!1){return Jg(e)||Mc(e)||!Nl(e)||(Xg(e)>1&&Object.defineProperties(e,{set:{value:nm},add:{value:nm},clear:{value:nm},delete:{value:nm}}),Object.freeze(e),t&&Object.values(e).forEach(r=>TN(r,!0))),e}function nm(){ti(2)}function Jg(e){return Object.isFrozen(e)}var IG={};function Lc(e){const t=IG[e];return t||ti(0,e),t}var p0;function P6(){return p0}function RG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $4(e,t){t&&(Lc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function z1(e){W1(e),e.drafts_.forEach(MG),e.drafts_=null}function W1(e){e===p0&&(p0=e.parent_)}function B4(e){return p0=RG(p0,e)}function MG(e){const t=e[ts];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function U4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ts].modified_&&(z1(t),ti(4)),Nl(e)&&(e=nx(t,e),t.parent_||sx(t,e)),t.patches_&&Lc("Patches").generateReplacementPatches_(r[ts].base_,e,t.patches_,t.inversePatches_)):e=nx(t,r,[]),z1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==E6?e:void 0}function nx(e,t,r){if(Jg(t))return t;const a=t[ts];if(!a)return ax(t,(s,i)=>z4(e,a,t,s,i,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return sx(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),ax(i,(o,c)=>z4(e,a,s,o,c,r,l)),sx(e,s,!1),r&&e.patches_&&Lc("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function z4(e,t,r,a,s,i,l){if(Mc(s)){const o=i&&t&&t.type_!==3&&!B1(t.assigned_,a)?i.concat(a):void 0,c=nx(e,s,o);if(A6(r,a,c),Mc(c))e.canAutoFreeze_=!1;else return}else l&&r.add(s);if(Nl(s)&&!Jg(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;nx(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(nh(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&sx(e,s)}}function sx(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&TN(t,r)}function LG(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:P6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,i=AN;r&&(s=[a],i=x0);const{revoke:l,proxy:o}=Proxy.revocable(s,i);return a.draft_=o,a.revoke_=l,o}var AN={get(e,t){if(t===ts)return e;const r=Yo(e);if(!B1(r,t))return $G(e,r,t);const a=r[t];return e.finalized_||!Nl(a)?a:a===Ey(e.base_,t)?(Ty(e),e.copy_[t]=H1(a,e)):a},has(e,t){return t in Yo(e)},ownKeys(e){return Reflect.ownKeys(Yo(e))},set(e,t,r){const a=O6(Yo(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=Ey(Yo(e),t),i=s==null?void 0:s[ts];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(FG(r,s)&&(r!==void 0||B1(e.base_,t)))return!0;Ty(e),V1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ey(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ty(e),V1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Yo(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){ti(11)},getPrototypeOf(e){return id(e.base_)},setPrototypeOf(){ti(12)}},x0={};ax(AN,(e,t)=>{x0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});x0.deleteProperty=function(e,t){return x0.set.call(this,e,t,void 0)};x0.set=function(e,t,r){return AN.set.call(this,e[0],t,r,e[0])};function Ey(e,t){const r=e[ts];return(r?Yo(r):e)[t]}function $G(e,t,r){var s;const a=O6(t,r);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function O6(e,t){if(!(t in e))return;let r=id(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=id(r)}}function V1(e){e.modified_||(e.modified_=!0,e.parent_&&V1(e.parent_))}function Ty(e){e.copy_||(e.copy_=U1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var BG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...u){return l.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&ti(6),a!==void 0&&typeof a!="function"&&ti(7);let s;if(Nl(t)){const i=B4(this),l=H1(t,void 0);let o=!0;try{s=r(l),o=!1}finally{o?z1(i):W1(i)}return $4(i,a),U4(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===E6&&(s=void 0),this.autoFreeze_&&TN(s,!0),a){const i=[],l=[];Lc("Patches").generateReplacementPatches_(t,s,i,l),a(i,l)}return s}else ti(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let a,s;return[this.produce(t,r,(l,o)=>{a=l,s=o}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Nl(e)||ti(8),Mc(e)&&(e=fl(e));const t=B4(this),r=H1(e,void 0);return r[ts].isManual_=!0,W1(t),r}finishDraft(e,t){const r=e&&e[ts];(!r||!r.isManual_)&&ti(9);const{scope_:a}=r;return $4(a,t),U4(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=Lc("Patches").applyPatches_;return Mc(e)?a(e,t):this.produce(e,s=>a(s,t))}};function H1(e,t){const r=nh(e)?Lc("MapSet").proxyMap_(e,t):Yg(e)?Lc("MapSet").proxySet_(e,t):LG(e,t);return(t?t.scope_:P6()).drafts_.push(r),r}function fl(e){return Mc(e)||ti(10,e),D6(e)}function D6(e){if(!Nl(e)||Jg(e))return e;const t=e[ts];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=U1(e,t.scope_.immer_.useStrictShallowCopy_)}else r=U1(e,!0);return ax(r,(a,s)=>{A6(r,a,D6(s))}),t&&(t.finalized_=!1),r}var UG=new BG,F6=UG.produce;function I6(e){return({dispatch:r,getState:a})=>s=>i=>typeof i=="function"?i(r,a,e):s(i)}var zG=I6(),WG=I6,VG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rx:rx.apply(null,arguments)};function Fs(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(Yn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>C6(a)&&a.type===e,r}var R6=class gf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gf.prototype)}static get[Symbol.species](){return gf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gf(...t[0].concat(this)):new gf(...t.concat(this))}};function W4(e){return Nl(e)?F6(e,()=>{}):e}function sm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function HG(e){return typeof e=="boolean"}var qG=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let l=new R6;return r&&(HG(r)?l.push(zG):l.push(WG(r.extraArgument))),l},KG="RTK_autoBatch",V4=e=>t=>{setTimeout(t,e)},GG=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:V4(10):e.type==="callback"?e.queueNotification:V4(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},a,{subscribe(d){const f=()=>s&&d(),h=a.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[KG]),i=!s,i&&(l||(l=!0,c(u))),a.dispatch(d)}finally{s=!0}}})},QG=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new R6(e);return a&&s.push(GG(typeof a=="object"?a:void 0)),s};function XG(e){const t=qG(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(EN(r))o=S6(r);else throw new Error(Yn(1));let c;typeof a=="function"?c=a(t):c=t();let u=rx;s&&(u=VG({trace:!1,...typeof s=="object"&&s}));const d=OG(...c),f=QG(d);let h=typeof l=="function"?l(f):f();const m=u(...h);return _6(o,i,m)}function M6(e){const t={},r=[];let a;const s={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Yn(28));if(o in t)throw new Error(Yn(29));return t[o]=l,s},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),s},addMatcher(i,l){return r.push({matcher:i,reducer:l}),s},addDefaultCase(i){return a=i,s}};return e(s),[t,r,a]}function YG(e){return typeof e=="function"}function JG(e,t){let[r,a,s]=M6(t),i;if(YG(e))i=()=>W4(e());else{const o=W4(e);i=()=>o}function l(o=i(),c){let u=[r[c.type],...a.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(Mc(d)){const m=f(d,c);return m===void 0?d:m}else{if(Nl(d))return F6(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return l.getInitialState=i,l}var ZG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eQ=(e=21)=>{let t="",r=e;for(;r--;)t+=ZG[Math.random()*64|0];return t},tQ=Symbol.for("rtk-slice-createasyncthunk");function rQ(e,t){return`${e}/${t}`}function aQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[tQ];return function(s){const{name:i,reducerPath:l=i}=s;if(!i)throw new Error(Yn(11));const o=(typeof s.reducers=="function"?s.reducers(sQ()):s.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,N){const k=typeof j=="string"?j:j.type;if(!k)throw new Error(Yn(12));if(k in u.sliceCaseReducersByType)throw new Error(Yn(13));return u.sliceCaseReducersByType[k]=N,d},addMatcher(j,N){return u.sliceMatchers.push({matcher:j,reducer:N}),d},exposeAction(j,N){return u.actionCreators[j]=N,d},exposeCaseReducer(j,N){return u.sliceCaseReducersByName[j]=N,d}};c.forEach(j=>{const N=o[j],k={reducerName:j,type:rQ(i,j),createNotation:typeof s.reducers=="function"};lQ(N)?cQ(k,N,d,t):iQ(k,N,d)});function f(){const[j={},N=[],k=void 0]=typeof s.extraReducers=="function"?M6(s.extraReducers):[s.extraReducers],_={...j,...u.sliceCaseReducersByType};return JG(s.initialState,S=>{for(let T in _)S.addCase(T,_[T]);for(let T of u.sliceMatchers)S.addMatcher(T.matcher,T.reducer);for(let T of N)S.addMatcher(T.matcher,T.reducer);k&&S.addDefaultCase(k)})}const h=j=>j,m=new Map,p=new WeakMap;let x;function g(j,N){return x||(x=f()),x(j,N)}function y(){return x||(x=f()),x.getInitialState()}function b(j,N=!1){function k(S){let T=S[j];return typeof T>"u"&&N&&(T=sm(p,k,y)),T}function _(S=h){const T=sm(m,N,()=>new WeakMap);return sm(T,S,()=>{const C={};for(const[E,A]of Object.entries(s.selectors??{}))C[E]=nQ(A,S,()=>sm(p,S,y),N);return C})}return{reducerPath:j,getSelectors:_,get selectors(){return _(k)},selectSlice:k}}const v={name:i,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...b(l),injectInto(j,{reducerPath:N,...k}={}){const _=N??l;return j.inject({reducerPath:_,reducer:g},k),{...v,...b(_,!0)}}};return v}}function nQ(e,t,r,a){function s(i,...l){let o=t(i);return typeof o>"u"&&a&&(o=r()),e(o,...l)}return s.unwrapped=e,s}var ls=aQ();function sQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function iQ({type:e,reducerName:t,createNotation:r},a,s){let i,l;if("reducer"in a){if(r&&!oQ(a))throw new Error(Yn(17));i=a.reducer,l=a.prepare}else i=a;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Fs(e,l):Fs(e))}function lQ(e){return e._reducerDefinitionType==="asyncThunk"}function oQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function cQ({type:e,reducerName:t},r,a,s){if(!s)throw new Error(Yn(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:u,options:d}=r,f=s(e,i,d);a.exposeAction(t,f),l&&a.addCase(f.fulfilled,l),o&&a.addCase(f.pending,o),c&&a.addCase(f.rejected,c),u&&a.addMatcher(f.settled,u),a.exposeCaseReducer(t,{fulfilled:l||im,pending:o||im,rejected:c||im,settled:u||im})}function im(){}var uQ="task",L6="listener",$6="completed",PN="cancelled",dQ=`task-${PN}`,fQ=`task-${$6}`,q1=`${L6}-${PN}`,hQ=`${L6}-${$6}`,Zg=class{constructor(e){Lv(this,"name","TaskAbortError");Lv(this,"message");this.code=e,this.message=`${uQ} ${PN} (reason: ${e})`}},ON=(e,t)=>{if(typeof e!="function")throw new TypeError(Yn(32))},ix=()=>{},B6=(e,t=ix)=>(e.catch(t),e),U6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},wc=e=>{if(e.aborted){const{reason:t}=e;throw new Zg(t)}};function z6(e,t){let r=ix;return new Promise((a,s)=>{const i=()=>s(new Zg(e.reason));if(e.aborted){i();return}r=U6(e,i),t.finally(()=>r()).then(a,s)}).finally(()=>{r=ix})}var mQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Zg?"cancelled":"rejected",error:r}}finally{t==null||t()}},lx=e=>t=>B6(z6(e,t).then(r=>(wc(e),r))),W6=e=>{const t=lx(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:Bu}=Object,H4={},ev="listenerMiddleware",pQ=(e,t)=>{const r=a=>U6(e,()=>bc(a,e.reason));return(a,s)=>{ON(a);const i=new AbortController;r(i);const l=mQ(async()=>{wc(e),wc(i.signal);const o=await a({pause:lx(i.signal),delay:W6(i.signal),signal:i.signal});return wc(i.signal),o},()=>bc(i,fQ));return s!=null&&s.autoJoin&&t.push(l.catch(ix)),{result:lx(e)(l),cancel(){bc(i,dQ)}}}},xQ=(e,t)=>{const r=async(a,s)=>{wc(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:a,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&o.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await z6(t,Promise.race(o));return wc(t),c}finally{i()}};return(a,s)=>B6(r(a,s))},V6=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:i}=e;if(t)s=Fs(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(Yn(21));return ON(i),{predicate:s,type:t,effect:i}},H6=Bu(e=>{const{type:t,predicate:r,effect:a}=V6(e);return{id:eQ(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Yn(22))}}},{withTypes:()=>H6}),q4=(e,t)=>{const{type:r,effect:a,predicate:s}=V6(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===a)},K1=e=>{e.pending.forEach(t=>{bc(t,q1)})},gQ=e=>()=>{e.forEach(K1),e.clear()},K4=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},q6=Bu(Fs(`${ev}/add`),{withTypes:()=>q6}),vQ=Fs(`${ev}/removeAll`),K6=Bu(Fs(`${ev}/remove`),{withTypes:()=>K6}),yQ=(...e)=>{console.error(`${ev}/error`,...e)},sh=(e={})=>{const t=new Map,{extra:r,onError:a=yQ}=e;ON(a);const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&K1(d)}),i=d=>{const f=q4(t,d)??H6(d);return s(f)};Bu(i,{withTypes:()=>i});const l=d=>{const f=q4(t,d);return f&&(f.unsubscribe(),d.cancelActive&&K1(f)),!!f};Bu(l,{withTypes:()=>l});const o=async(d,f,h,m)=>{const p=new AbortController,x=xQ(i,p.signal),g=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Bu({},h,{getOriginalState:m,condition:(y,b)=>x(y,b).then(Boolean),take:x,delay:W6(p.signal),pause:lx(p.signal),extra:r,signal:p.signal,fork:pQ(p.signal,g),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,b,v)=>{y!==p&&(bc(y,q1),v.delete(y))})},cancel:()=>{bc(p,q1),d.pending.delete(p)},throwIfCancelled:()=>{wc(p.signal)}})))}catch(y){y instanceof Zg||K4(a,y,{raisedBy:"effect"})}finally{await Promise.all(g),bc(p,hQ),d.pending.delete(p)}},c=gQ(t);return{middleware:d=>f=>h=>{if(!C6(h))return f(h);if(q6.match(h))return i(h.payload);if(vQ.match(h)){c();return}if(K6.match(h))return l(h.payload);let m=d.getState();const p=()=>{if(m===H4)throw new Error(Yn(23));return m};let x;try{if(x=f(h),t.size>0){const g=d.getState(),y=Array.from(t.values());for(const b of y){let v=!1;try{v=b.predicate(h,g,m)}catch(j){v=!1,K4(a,j,{raisedBy:"predicate"})}v&&o(b,h,d,p)}}}finally{m=H4}return x},startListening:i,stopListening:l,clearListeners:c}};function Yn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},G6=ls({name:"chartLayout",initialState:bQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:wQ,setLayout:jQ,setChartSize:NQ,setScale:kQ}=G6.actions,_Q=G6.reducer;function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(a){SQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SQ(e,t,r){return(t=CQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ox=Math.PI/180,TQ=e=>e*180/Math.PI,Yr=(e,t,r,a)=>({x:e+Math.cos(-ox*a)*r,y:t+Math.sin(-ox*a)*r}),Q6=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},AQ=(e,t)=>{var{x:r,y:a}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(a-i)**2)},PQ=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:i}=t,l=AQ({x:r,y:a},{x:s,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-s)/l,c=Math.acos(o);return a>i&&(c=2*Math.PI-c),{radius:l,angle:TQ(c),angleInRadian:c}},OQ=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(a,s);return{startAngle:t-i*360,endAngle:r-i*360}},DQ=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},FQ=(e,t)=>{var{x:r,y:a}=e,{radius:s,angle:i}=PQ({x:r,y:a},t),{innerRadius:l,outerRadius:o}=t;if(s<l||s>o||s===0)return null;var{startAngle:c,endAngle:u}=OQ(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Q4(Q4({},t),{},{radius:s,angle:DQ(d,t)}):null};function X6(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(a){IQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IQ(e,t,r){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vt(e,t,r){return nr(e)||nr(t)?r:$i(t)?Rc(e,t,r):typeof t=="function"?t(e):r}var LQ=(e,t,r,a,s)=>{var i,l=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(va(d-u)!==va(f-d)){var m=[];if(va(f-d)===va(s[1]-s[0])){h=f;var p=d+s[1]-s[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var x=f+s[1]-s[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){({index:l}=r[c]);break}}else{var y=Math.min(u,f),b=Math.max(u,f);if(e>(y+d)/2&&e<=(b+d)/2){({index:l}=r[c]);break}}}else if(t){for(var v=0;v<o;v++)if(v===0&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:l}=t[v]);break}}return l},$Q=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Je(e[i]))return js(js({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Je(e[l]))return js(js({},e),{},{[l]:e[l]+(s||0)})}return e},Hi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Y6=(e,t,r,a)=>{if(a)return e.map(o=>o.coordinate);var s,i,l=e.map(o=>(o.coordinate===t&&(s=!0),o.coordinate===r&&(i=!0),o.coordinate));return s||l.push(t),i||l.push(r),l},J6=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!l)return null;var p=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,x=s==="category"&&l.bandwidth?l.bandwidth()/p:0;if(x=m==="angleAxis"&&i&&i.length>=2?va(i[0]-i[1])*2*x:x,f||h){var g=(f||h||[]).map((y,b)=>{var v=a?a.indexOf(y):y;return{coordinate:l(v)+x,value:y,offset:x,index:b}});return g.filter(y=>!Fn(y.coordinate))}return c&&u?u.map((y,b)=>({coordinate:l(y)+x,value:y,index:b,offset:x})):l.ticks&&d!=null?l.ticks(d).map((y,b)=>({coordinate:l(y)+x,value:y,offset:x,index:b})):l.domain().map((y,b)=>({coordinate:l(y)+x,value:a?a[y]:y,index:b,offset:x}))},Y4=1e-4,BQ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-Y4,i=Math.max(a[0],a[1])+Y4,l=e(t[0]),o=e(t[r-1]);(l<s||l>i||o<s||o>i)&&e.domain([t[0],t[r-1]])}},UQ=(e,t)=>{if(!t||t.length!==2||!Je(t[0])||!Je(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Je(e[0])||e[0]<r)&&(s[0]=r),(!Je(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},zQ=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,i=0,l=0;l<t;++l){var o=Fn(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=s,e[l][r][1]=s+o,s=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},WQ=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,i=0;i<t;++i){var l=Fn(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=s,e[i][r][1]=s+l,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},VQ={sign:zQ,expand:EK,none:nd,silhouette:TK,wiggle:AK,positive:WQ},HQ=(e,t,r)=>{var a=VQ[r],s=CK().keys(t).value((i,l)=>+Vt(i,l,0)).order(M1).offset(a);return s(e)};function Z6(e){return e==null?void 0:String(e)}function cx(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!nr(s[t.dataKey])){var o=TO(r,"value",s[t.dataKey]);if(o)return o.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=Vt(s,nr(l)?t.dataKey:l);return nr(c)?null:t.scale(c)}var J4=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+a:null;var o=Vt(i,t.dataKey,t.scale.domain()[l]);return nr(o)?null:t.scale(o)-s/2+a},qQ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},KQ=e=>{var t=e.flat(2).filter(Je);return[Math.min(...t),Math.max(...t)]},GQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],QQ=(e,t,r)=>{if(e!=null)return GQ(Object.keys(e).reduce((a,s)=>{var i=e[s],{stackedData:l}=i,o=l.reduce((c,u)=>{var d=X6(u,t,r),f=KQ(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},Z4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$c=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=Qg(t,d=>d.coordinate),i=1/0,l=1,o=s.length;l<o;l++){var c=s[l],u=s[l-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function tC(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:i}=e;return js(js({},t),{},{dataKey:r,payload:a,value:s,name:i})}function $o(e,t){if(e)return String(e);if(typeof t=="string")return t}function XQ(e,t,r,a,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return a?FQ({x:e,y:t},a):null}var YQ=(e,t,r,a)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:l}=a;return js(js(js({},a),Yr(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var o=s.coordinate,{angle:c}=a;return js(js(js({},a),Yr(a.cx,a.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},JQ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Al=e=>e.layout.width,Pl=e=>e.layout.height,ZQ=e=>e.layout.scale,eD=e=>e.layout.margin,tv=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),rv=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),tD="data-recharts-item-index",rD="data-recharts-item-data-key",ih=60;function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(a){eX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eX(e,t,r){return(t=tX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tX(e){var t=rX(e,"string");return typeof t=="symbol"?t:t+""}function rX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aX=e=>e.brush.height;function nX(e){var t=rv(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:ih;return r+s}return r},0)}function sX(e){var t=rv(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:ih;return r+s}return r},0)}function iX(e){var t=tv(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function lX(e){var t=tv(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var la=xe([Al,Pl,eD,aX,nX,sX,iX,lX,N6,_G],(e,t,r,a,s,i,l,o,c,u)=>{var d={left:(r.left||0)+s,right:(r.right||0)+i},f={top:(r.top||0)+l,bottom:(r.bottom||0)+o},h=lm(lm({},f),d),m=h.bottom;h.bottom+=a,h=$Q(h,c,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return lm(lm({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),oX=xe(la,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),DN=xe(Al,Pl,(e,t)=>({x:0,y:0,width:e,height:t})),cX=w.createContext(null),rn=()=>w.useContext(cX)!=null,av=e=>e.brush,nv=xe([av,la,eD],(e,t,r)=>({height:e.height,x:Je(e.x)?e.x:t.left,y:Je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Je(e.width)?e.width:t.width})),FN=()=>{var e,t=rn(),r=Ye(oX),a=Ye(nv),s=(e=Ye(av))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},uX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aD=()=>{var e;return(e=Ye(la))!==null&&e!==void 0?e:uX},IN=()=>Ye(Al),RN=()=>Ye(Pl),dX=()=>Ye(e=>e.layout.margin),wt=e=>e.layout.layoutType,lh=()=>Ye(wt),fX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nD=ls({name:"legend",initialState:fX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=fl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:aC,setLegendSettings:hX,addLegendPayload:sD,removeLegendPayload:iD}=nD.actions,mX=nD.reducer,pX=["contextPayload"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},G1.apply(null,arguments)}function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(r),!0).forEach(function(a){MN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function MN(e,t,r){return(t=xX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vX(e,t){if(e==null)return{};var r,a,s=yX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function bX(e){return e.value}function wX(e){var{contextPayload:t}=e,r=vX(e,pX),a=f6(t,e.payloadUniqBy,bX),s=ld(ld({},r),{},{payload:a});return w.isValidElement(e.content)?w.cloneElement(e.content,s):typeof e.content=="function"?w.createElement(e.content,s):w.createElement(pN,s)}function jX(e,t,r,a,s,i){var{layout:l,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?u={left:((a||0)-i.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((s||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ld(ld({},u),d)}function NX(e){var t=Sr();return w.useEffect(()=>{t(hX(e))},[t,e]),null}function kX(e){var t=Sr();return w.useEffect(()=>(t(aC(e)),()=>{t(aC({width:0,height:0}))}),[t,e]),null}function _X(e){var t=EG(),r=Yq(),a=dX(),{width:s,height:i,wrapperStyle:l,portal:o}=e,[c,u]=k6([t]),d=IN(),f=RN();if(d==null||f==null)return null;var h=d-(a.left||0)-(a.right||0),m=_o.getWidthOrHeight(e.layout,i,s,h),p=o?l:ld(ld({position:"absolute",width:(m==null?void 0:m.width)||s||"auto",height:(m==null?void 0:m.height)||i||"auto"},jX(l,e,a,d,f,c)),l),x=o??r;if(x==null)return null;var g=w.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},w.createElement(NX,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(kX,{width:c.width,height:c.height}),w.createElement(wX,G1({},e,m,{margin:a,chartWidth:d,chartHeight:f,contextPayload:t})));return hg.createPortal(g,x)}class _o extends w.PureComponent{static getWidthOrHeight(t,r,a,s){return t==="vertical"&&Je(r)?{height:r}:t==="horizontal"?{width:a||s}:null}render(){return w.createElement(_X,this.props)}}MN(_o,"displayName","Legend");MN(_o,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Q1(){return Q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Q1.apply(null,arguments)}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ay(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(a){SX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TX(e){return Array.isArray(e)&&$i(e[0])&&$i(e[1])?e.join(" ~ "):e}var AX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var N={padding:0,margin:0},k=(o?Qg(i,o):i).map((_,S)=>{if(_.type==="none")return null;var T=_.formatter||l||TX,{value:C,name:E}=_,A=C,U=E;if(T){var V=T(C,E,_,S,i);if(Array.isArray(V))[A,U]=V;else if(V!=null)A=V;else return null}var ae=Ay({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},a);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:ae},$i(U)?w.createElement("span",{className:"recharts-tooltip-item-name"},U):null,$i(U)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},A),w.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},p=Ay({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Ay({margin:0},s),g=!nr(d),y=g?d:"",b=Ct("recharts-default-tooltip",c),v=Ct("recharts-tooltip-label",u);g&&f&&i!==void 0&&i!==null&&(y=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Q1({className:b,style:p},j),w.createElement("p",{className:v,style:x},w.isValidElement(y)?y:"".concat(y)),m())},rf="recharts-tooltip-wrapper",PX={visibility:"hidden"};function OX(e){var{coordinate:t,translateX:r,translateY:a}=e;return Ct(rf,{["".concat(rf,"-right")]:Je(r)&&t&&Je(t.x)&&r>=t.x,["".concat(rf,"-left")]:Je(r)&&t&&Je(t.x)&&r<t.x,["".concat(rf,"-bottom")]:Je(a)&&t&&Je(t.y)&&a>=t.y,["".concat(rf,"-top")]:Je(a)&&t&&Je(t.y)&&a<t.y})}function iC(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&Je(i[a]))return i[a];var d=r[a]-o-(s>0?s:0),f=r[a]+s;if(t[a])return l[a]?d:f;var h=c[a];if(h==null)return 0;if(l[a]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+o,g=h+u;return x>g?Math.max(d,h):Math.max(f,h)}function DX(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function FX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,u,d,f;return l.height>0&&l.width>0&&r?(d=iC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=iC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=DX({translateX:d,translateY:f,useTranslate3d:o})):u=PX,{cssProperties:u,cssClasses:OX({translateX:d,translateY:f,coordinate:r})}}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(a){X1(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function X1(e,t,r){return(t=IX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MX extends w.PureComponent{constructor(){super(...arguments),X1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),X1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:v}=FX({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=y?{}:om(om({transition:c&&t?"transform ".concat(a,"ms ").concat(s):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=om(om({},j),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:g},i)}}var LX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ol={devToolsEnabled:!1,isSsr:LX()},lD=()=>Ye(e=>e.rootProps.accessibilityLayer);function Ia(e){return Number.isFinite(e)}function od(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Y1.apply(null,arguments)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(a){$X(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $X(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uC={curveBasisClosed:xK,curveBasisOpen:gK,curveBasis:pK,curveBumpX:tK,curveBumpY:rK,curveLinearClosed:vK,curveLinear:Hg,curveMonotoneX:yK,curveMonotoneY:bK,curveNatural:wK,curveStep:jK,curveStepAfter:kK,curveStepBefore:NK},cm=e=>Ia(e.x)&&Ia(e.y),af=e=>e.x,nf=e=>e.y,zX=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(rh(e));return(r==="curveMonotone"||r==="curveBump")&&t?uC["".concat(r).concat(t==="vertical"?"Y":"X")]:uC[r]||Hg},WX=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:i=!1}=e,l=zX(t,s),o=i?r.filter(cm):r,c;if(Array.isArray(a)){var u=i?a.filter(f=>cm(f)):a,d=o.map((f,h)=>cC(cC({},f),{},{base:u[h]}));return s==="vertical"?c=tm().y(nf).x1(af).x0(f=>f.base.x):c=tm().x(af).y1(nf).y0(f=>f.base.y),c.defined(cm).curve(l),c(d)}return s==="vertical"&&Je(a)?c=tm().y(nf).x1(af).x0(a):Je(a)?c=tm().x(af).y1(nf).y0(a):c=LO().x(af).y(nf),c.defined(cm).curve(l),c(o)},Uu=e=>{var{className:t,points:r,path:a,pathRef:s}=e;if((!r||!r.length)&&!a)return null;var i=r&&r.length?WX(e):a;return w.createElement("path",Y1({},Us(e),lN(e),{className:Ct("recharts-curve",t),d:i===null?void 0:i,ref:s}))},VX=["x","y","top","left","width","height","className"];function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},J1.apply(null,arguments)}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function HX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(a){qX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qX(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QX(e,t){if(e==null)return{};var r,a,s=XX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function XX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var YX=(e,t,r,a,s,i)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(r),JX=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:i=0,height:l=0,className:o}=e,c=QX(e,VX),u=HX({x:t,y:r,top:a,left:s,width:i,height:l},c);return!Je(t)||!Je(r)||!Je(i)||!Je(l)||!Je(a)||!Je(s)?null:w.createElement("path",J1({},lr(u,!0),{className:Ct("recharts-cross",o),d:YX(t,r,i,l,a,s)}))};function ZX(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function eY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(a){tY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tY(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oa(e,t){var r=eY({},e),a=t,s=Object.keys(t),i=s.reduce((l,o)=>(l[o]===void 0&&a[o]!==void 0&&(l[o]=a[o]),l),r);return i}function nY(){}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(a){sY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=lY(e,"string");return typeof t=="symbol"?t:t+""}function lY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),oD=(e,t,r)=>e.map(a=>"".concat(oY(a)," ").concat(t,"ms ").concat(r)).join(","),cY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),g0=(e,t)=>Object.keys(t).reduce((r,a)=>mC(mC({},r),{},{[a]:e(a,t[a])}),{});function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(a){uY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uY(e,t,r){return(t=dY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ux=(e,t,r)=>e+(t-e)*r,Z1=e=>{var{from:t,to:r}=e;return t!==r},cD=(e,t,r)=>{var a=g0((s,i)=>{if(Z1(i)){var[l,o]=e(i.from,i.to,i.velocity);return Ea(Ea({},i),{},{from:l,velocity:o})}return i},t);return r<1?g0((s,i)=>Z1(i)?Ea(Ea({},i),{},{velocity:ux(i.velocity,a[s].velocity,r),from:ux(i.from,a[s].from,r)}):i,t):cD(e,a,r-1)};function hY(e,t,r,a,s,i){var l,o=a.reduce((h,m)=>Ea(Ea({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>g0((h,m)=>m.from,o),u=()=>!Object.values(o).filter(Z1).length,d=null,f=h=>{l||(l=h);var m=h-l,p=m/r.dt;o=cD(r,o,p),s(Ea(Ea(Ea({},e),t),c())),l=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function mY(e,t,r,a,s,i,l){var o=null,c=s.reduce((f,h)=>Ea(Ea({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/a,m=g0((x,g)=>ux(...g,r(h)),c);if(i(Ea(Ea(Ea({},e),t),m)),h<1)o=l.setTimeout(d);else{var p=g0((x,g)=>ux(...g,r(1)),c);i(Ea(Ea(Ea({},e),t),p))}};return()=>(o=l.setTimeout(d),()=>{o()})}const pY=(e,t,r,a,s,i)=>{var l=cY(e,t);return r.isStepper===!0?hY(e,t,r,l,s,i):mY(e,t,r,a,l,s,i)};var dx=1e-4,uD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],dD=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),xC=(e,t)=>r=>{var a=uD(e,t);return dD(a,r)},xY=(e,t)=>r=>{var a=uD(e,t),s=[...a.map((i,l)=>i*l).slice(1),0];return dD(s,r)},gC=function(){for(var t,r,a,s,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,a,r,s]=[0,0,1,1];break;case"ease":[t,a,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,a,r,s]=[.42,0,1,1];break;case"ease-out":[t,a,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,a,r,s]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,a,r,s]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else l.length===4&&([t,a,r,s]=l);var u=xC(t,r),d=xC(a,s),f=xY(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var x=p>1?1:p,g=x,y=0;y<8;++y){var b=u(g)-x,v=f(g);if(Math.abs(b-x)<dx||v<dx)return d(g);g=h(g-b/v)}return d(g)};return m.isStepper=!1,m},gY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,i=(l,o,c)=>{var u=-(l-o)*r,d=c*a,f=c+(u-d)*s/1e3,h=c*s/1e3+l;return Math.abs(h-o)<dx&&Math.abs(f)<dx?[o,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},vY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gC(e);case"spring":return gY();default:if(e.split("(")[0]==="cubic-bezier")return gC(e)}return typeof e=="function"?e:null};function yY(e){var t,r=()=>null,a=!1,s=null,i=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...u]=o;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,s&&(s(),s=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class bY{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,i=l=>{l-a>=r?t(l):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function wY(){return yY(new bY)}var jY=w.createContext(wY);function NY(e,t){var r=w.useContext(jY);return w.useMemo(()=>t??r(e),[e,t,r])}var kY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vC={t:0},Py={t:1};function Cd(e){var t=oa(e,kY),{isActive:r,canBegin:a,duration:s,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=NY(t.animationId,t.animationManager),[f,h]=w.useState(r?vC:Py),m=w.useRef(null);return w.useEffect(()=>{r||h(Py)},[r]),w.useEffect(()=>{if(!r||!a)return nY;var p=pY(vC,Py,vY(i),s,h,d.getTimeoutController()),x=()=>{m.current=p()};return d.start([c,l,x,s,o]),()=>{d.stop(),m.current&&m.current(),o()}},[r,a,s,i,l,c,o,d]),u(f.t)}function Ed(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(m0(t)),a=w.useRef(e);return a.current!==e&&(r.current=m0(t),a.current=e),r.current}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(a){_Y(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _Y(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=CY(e,"string");return typeof t=="symbol"?t:t+""}function CY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fx.apply(null,arguments)}var wC=(e,t,r,a,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,o=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>i?i:s[f];u="M".concat(e,",").concat(t+l*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+l*d[1])),u+="L ".concat(e+r,",").concat(t+a-l*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+a)),u+="L ".concat(e+o*d[3],",").concat(t+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+a-l*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var m=Math.min(i,s);u="M ".concat(e,",").concat(t+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*m,`
            L `).concat(e+r,",").concat(t+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-o*m,",").concat(t+a,`
            L `).concat(e+o*m,",").concat(t+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+a-l*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return u},EY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fD=e=>{var t=oa(e,EY),r=w.useRef(null),[a,s]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&s(V)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,g=w.useRef(o),y=w.useRef(c),b=w.useRef(i),v=w.useRef(l),j=w.useMemo(()=>({x:i,y:l,width:o,height:c,radius:u}),[i,l,o,c,u]),N=Ed(j,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var k=Ct("recharts-rectangle",d);if(!x)return w.createElement("path",fx({},lr(t,!0),{className:k,d:wC(i,l,o,c,u)}));var _=g.current,S=y.current,T=b.current,C=v.current,E="0px ".concat(a===-1?1:a,"px"),A="".concat(a,"px 0px"),U=oD(["strokeDasharray"],h,typeof f=="string"?f:void 0);return w.createElement(Cd,{animationId:N,key:N,canBegin:a>0,duration:h,easing:f,isActive:x,begin:m},V=>{var ae=Wt(_,o,V),q=Wt(S,c,V),R=Wt(T,i,V),P=Wt(C,l,V);r.current&&(g.current=ae,y.current=q,b.current=R,v.current=P);var B;return p?V>0?B={transition:U,strokeDasharray:A}:B={strokeDasharray:E}:B={strokeDasharray:A},w.createElement("path",fx({},lr(t,!0),{className:k,d:wC(R,P,ae,q,u),ref:r,style:bC(bC({},B),t.style)}))})};function hD(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:i}=e,l=Yr(t,r,a,s),o=Yr(t,r,a,i);return{points:[l,o],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ew.apply(null,arguments)}var TY=(e,t)=>{var r=va(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},um=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,u=o*(l?1:-1)+a,d=Math.asin(o/u)/ox,f=c?s:s+i*d,h=Yr(t,r,u,f),m=Yr(t,r,a,f),p=c?s-i*d:s,x=Yr(t,r,u*Math.cos(d*ox),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},mD=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:i,endAngle:l}=e,o=TY(i,l),c=i+o,u=Yr(t,r,s,i),d=Yr(t,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var h=Yr(t,r,a,i),m=Yr(t,r,a,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},AY=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=va(u-c),{circleTangency:f,lineTangency:h,theta:m}=um({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:x,theta:g}=um({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(c-u):Math.abs(c-u)-m-g;if(y<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):mD({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var{circleTangency:v,lineTangency:j,theta:N}=um({cx:t,cy:r,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:k,lineTangency:_,theta:S}=um({cx:t,cy:r,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),T=o?Math.abs(c-u):Math.abs(c-u)-N-S;if(T<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},PY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pD=e=>{var t=oa(e,PY),{cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<s||u===d)return null;var h=Ct("recharts-sector",f),m=i-s,p=Xa(l,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=AY({cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):x=mD({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),w.createElement("path",ew({},lr(t,!0),{className:h,d:x}))};function OY(e,t,r){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Yr(o,c,u,f),m=Yr(o,c,d,f);a=h.x,s=h.y,i=m.x,l=m.y}else return hD(t);return[{x:a,y:s},{x:i,y:l}]}var xD={},gD={},vD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SN;function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(vD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vD;function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(gD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CN,r=gD;function a(s,i,l){l&&typeof l!="number"&&t.isIterateeCall(s,i,l)&&(i=l=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),l=l===void 0?s<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-s)/(l||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=s,s+=l;return c}e.range=a})(xD);var DY=xD.range;const yD=Ms(DY);function xo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LN(e){let t,r,a;e.length!==2?(t=xo,r=(o,c)=>xo(e(o),c),a=(o,c)=>e(o)-c):(t=e===xo||e===FY?e:IY,r=e,a=e);function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function l(o,c,u=0,d=o.length){const f=s(o,c,u,d-1);return f>u&&a(o[f-1],c)>-a(o[f],c)?f-1:f}return{left:s,center:l,right:i}}function IY(){return 0}function bD(e){return e===null?NaN:+e}function*RY(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const MY=LN(xo),oh=MY.right;LN(bD).center;class jC extends Map{constructor(t,r=BY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(NC(this,t))}has(t){return super.has(NC(this,t))}set(t,r){return super.set(LY(this,t),r)}delete(t){return super.delete($Y(this,t))}}function NC({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function LY({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function $Y({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function BY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UY(e=xo){if(e===xo)return wD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function wD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zY=Math.sqrt(50),WY=Math.sqrt(10),VY=Math.sqrt(2);function hx(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=zY?10:i>=WY?5:i>=VY?2:1;let o,c,u;return s<0?(u=Math.pow(10,-s)/l,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*l,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?hx(e,t,r*2):[o,c,u]}function tw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?hx(t,e,r):hx(e,t,r);if(!(i>=s))return[];const o=i-s+1,c=new Array(o);if(a)if(l<0)for(let u=0;u<o;++u)c[u]=(i-u)/-l;else for(let u=0;u<o;++u)c[u]=(i-u)*l;else if(l<0)for(let u=0;u<o;++u)c[u]=(s+u)/-l;else for(let u=0;u<o;++u)c[u]=(s+u)*l;return c}function rw(e,t,r){return t=+t,e=+e,r=+r,hx(e,t,r)[2]}function aw(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?rw(t,e,r):rw(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function kC(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function _C(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function jD(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?wD:UY(s);a>r;){if(a-r>600){const c=a-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(a,Math.floor(t+(c-u)*f/c+h));jD(e,t,m,p,s)}const i=e[t];let l=r,o=a;for(sf(e,r,t),s(e[a],i)>0&&sf(e,r,a);l<o;){for(sf(e,l,o),++l,--o;s(e[l],i)<0;)++l;for(;s(e[o],i)>0;)--o}s(e[r],i)===0?sf(e,r,o):(++o,sf(e,o,a)),o<=t&&(r=o+1),t<=o&&(a=o-1)}return e}function sf(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function HY(e,t,r){if(e=Float64Array.from(RY(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return _C(e);if(t>=1)return kC(e);var a,s=(a-1)*t,i=Math.floor(s),l=kC(jD(e,i).subarray(0,i+1)),o=_C(e.subarray(i+1));return l+(o-l)*(s-i)}}function qY(e,t,r=bD){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(s-i)}}function KY(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function zs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nw=Symbol("implicit");function $N(){var e=new jC,t=[],r=[],a=nw;function s(i){let l=e.get(i);if(l===void 0){if(a!==nw)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new jC;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return $N(t,r).unknown(a)},zs.apply(s,arguments),s}function BN(){var e=$N().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,l,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<a,p=m?s:a,x=m?a:s;i=(x-p)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),p+=(x-p-i*(h-c))*d,l=i*(1-c),o&&(p=Math.round(p),l=Math.round(l));var g=KY(h).map(function(y){return p+i*y});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([a,s]=h,a=+a,s=+s,f()):[a,s]},e.rangeRound=function(h){return[a,s]=h,a=+a,s=+s,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return BN(t(),[a,s]).round(o).paddingInner(c).paddingOuter(u).align(d)},zs.apply(f(),arguments)}function ND(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ND(t())},e}function GY(){return ND(BN.apply(null,arguments).paddingInner(1))}function UN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function kD(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function ch(){}var v0=.7,mx=1/v0,zu="\\s*([+-]?\\d+)\\s*",y0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QY=/^#([0-9a-f]{3,8})$/,XY=new RegExp(`^rgb\\(${zu},${zu},${zu}\\)$`),YY=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),JY=new RegExp(`^rgba\\(${zu},${zu},${zu},${y0}\\)$`),ZY=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${y0}\\)$`),eJ=new RegExp(`^hsl\\(${y0},${Mi},${Mi}\\)$`),tJ=new RegExp(`^hsla\\(${y0},${Mi},${Mi},${y0}\\)$`),SC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UN(ch,b0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CC,formatHex:CC,formatHex8:rJ,formatHsl:aJ,formatRgb:EC,toString:EC});function CC(){return this.rgb().formatHex()}function rJ(){return this.rgb().formatHex8()}function aJ(){return _D(this).formatHsl()}function EC(){return this.rgb().formatRgb()}function b0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=QY.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?TC(t):r===3?new Sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XY.exec(e))?new Sn(t[1],t[2],t[3],1):(t=YY.exec(e))?new Sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JY.exec(e))?dm(t[1],t[2],t[3],t[4]):(t=ZY.exec(e))?dm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eJ.exec(e))?OC(t[1],t[2]/100,t[3]/100,1):(t=tJ.exec(e))?OC(t[1],t[2]/100,t[3]/100,t[4]):SC.hasOwnProperty(e)?TC(SC[e]):e==="transparent"?new Sn(NaN,NaN,NaN,0):null}function TC(e){return new Sn(e>>16&255,e>>8&255,e&255,1)}function dm(e,t,r,a){return a<=0&&(e=t=r=NaN),new Sn(e,t,r,a)}function nJ(e){return e instanceof ch||(e=b0(e)),e?(e=e.rgb(),new Sn(e.r,e.g,e.b,e.opacity)):new Sn}function sw(e,t,r,a){return arguments.length===1?nJ(e):new Sn(e,t,r,a??1)}function Sn(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}UN(Sn,sw,kD(ch,{brighter(e){return e=e==null?mx:Math.pow(mx,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?v0:Math.pow(v0,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sn(jc(this.r),jc(this.g),jc(this.b),px(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AC,formatHex:AC,formatHex8:sJ,formatRgb:PC,toString:PC}));function AC(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}`}function sJ(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}${dc((isNaN(this.opacity)?1:this.opacity)*255)}`}function PC(){const e=px(this.opacity);return`${e===1?"rgb(":"rgba("}${jc(this.r)}, ${jc(this.g)}, ${jc(this.b)}${e===1?")":`, ${e})`}`}function px(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dc(e){return e=jc(e),(e<16?"0":"")+e.toString(16)}function OC(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ri(e,t,r,a)}function _D(e){if(e instanceof ri)return new ri(e.h,e.s,e.l,e.opacity);if(e instanceof ch||(e=b0(e)),!e)return new ri;if(e instanceof ri)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,o=i-s,c=(i+s)/2;return o?(t===i?l=(r-a)/o+(r<a)*6:r===i?l=(a-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+s:2-i-s,l*=60):o=c>0&&c<1?0:l,new ri(l,o,c,e.opacity)}function iJ(e,t,r,a){return arguments.length===1?_D(e):new ri(e,t,r,a??1)}function ri(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}UN(ri,iJ,kD(ch,{brighter(e){return e=e==null?mx:Math.pow(mx,e),new ri(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?v0:Math.pow(v0,e),new ri(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Sn(Oy(e>=240?e-240:e+120,s,a),Oy(e,s,a),Oy(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new ri(DC(this.h),fm(this.s),fm(this.l),px(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=px(this.opacity);return`${e===1?"hsl(":"hsla("}${DC(this.h)}, ${fm(this.s)*100}%, ${fm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function DC(e){return e=(e||0)%360,e<0?e+360:e}function fm(e){return Math.max(0,Math.min(1,e||0))}function Oy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zN=e=>()=>e;function lJ(e,t){return function(r){return e+r*t}}function oJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function cJ(e){return(e=+e)==1?SD:function(t,r){return r-t?oJ(t,r,e):zN(isNaN(t)?r:t)}}function SD(e,t){var r=t-e;return r?lJ(e,r):zN(isNaN(e)?t:e)}const FC=function e(t){var r=cJ(t);function a(s,i){var l=r((s=sw(s)).r,(i=sw(i)).r),o=r(s.g,i.g),c=r(s.b,i.b),u=SD(s.opacity,i.opacity);return function(d){return s.r=l(d),s.g=o(d),s.b=c(d),s.opacity=u(d),s+""}}return a.gamma=e,a}(1);function uJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function dJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fJ(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)s[l]=Td(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<a;++l)i[l]=s[l](o);return i}}function hJ(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function xx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mJ(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Td(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dy=new RegExp(iw.source,"g");function pJ(e){return function(){return e}}function xJ(e){return function(t){return e(t)+""}}function gJ(e,t){var r=iw.lastIndex=Dy.lastIndex=0,a,s,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(a=iw.exec(e))&&(s=Dy.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(s=s[0])?o[l]?o[l]+=s:o[++l]=s:(o[++l]=null,c.push({i:l,x:xx(a,s)})),r=Dy.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?xJ(c[0].x):pJ(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Td(e,t){var r=typeof t,a;return t==null||r==="boolean"?zN(t):(r==="number"?xx:r==="string"?(a=b0(t))?(t=a,FC):gJ:t instanceof b0?FC:t instanceof Date?hJ:dJ(t)?uJ:Array.isArray(t)?fJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mJ:xx)(e,t)}function WN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vJ(e,t){t===void 0&&(t=e,e=Td);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function yJ(e){return function(){return e}}function gx(e){return+e}var IC=[0,1];function fn(e){return e}function lw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:yJ(isNaN(t)?NaN:.5)}function bJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function wJ(e,t,r){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=lw(s,a),i=r(l,i)):(a=lw(a,s),i=r(i,l)),function(o){return i(a(o))}}function jJ(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=lw(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=oh(e,o,1,a)-1;return i[c](s[c](o))}}function uh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sv(){var e=IC,t=IC,r=Td,a,s,i,l=fn,o,c,u;function d(){var h=Math.min(e.length,t.length);return l!==fn&&(l=bJ(e[0],e[h-1])),o=h>2?jJ:wJ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(a),t,r)))(a(l(h)))}return f.invert=function(h){return l(s((u||(u=o(t,e.map(a),xx)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,gx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=WN,d()},f.clamp=function(h){return arguments.length?(l=h?!0:fn,d()):l!==fn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return a=h,s=m,d()}}function VN(){return sv()(fn,fn)}function NJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function cd(e){return e=vx(Math.abs(e)),e?e[1]:NaN}function kJ(e,t){return function(r,a){for(var s=r.length,i=[],l=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(r.substring(s-=o,s+o)),!((c+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function _J(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var SJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function w0(e){if(!(t=SJ.exec(e)))throw new Error("invalid format: "+e);var t;return new HN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}w0.prototype=HN.prototype;function HN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}HN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CJ(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var CD;function EJ(e,t){var r=vx(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(CD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+vx(e,Math.max(0,t+i-1))[0]}function RC(e,t){var r=vx(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const MC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RC(e*100,t),r:RC,s:EJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LC(e){return e}var $C=Array.prototype.map,BC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function TJ(e){var t=e.grouping===void 0||e.thousands===void 0?LC:kJ($C.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?LC:_J($C.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=w0(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,g=f.zero,y=f.width,b=f.comma,v=f.precision,j=f.trim,N=f.type;N==="n"?(b=!0,N="g"):MC[N]||(v===void 0&&(v=12),j=!0,N="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var k=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=x==="$"?a:/[%p]/.test(N)?l:"",S=MC[N],T=/[defgprs%]/.test(N);v=v===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function C(E){var A=k,U=_,V,ae,q;if(N==="c")U=S(E)+U,E="";else{E=+E;var R=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),v),j&&(E=CJ(E)),R&&+E==0&&p!=="+"&&(R=!1),A=(R?p==="("?p:o:p==="-"||p==="("?"":p)+A,U=(N==="s"?BC[8+CD/3]:"")+U+(R&&p==="("?")":""),T){for(V=-1,ae=E.length;++V<ae;)if(q=E.charCodeAt(V),48>q||q>57){U=(q===46?s+E.slice(V+1):E.slice(V))+U,E=E.slice(0,V);break}}}b&&!g&&(E=t(E,1/0));var P=A.length+E.length+U.length,B=P<y?new Array(y-P+1).join(h):"";switch(b&&g&&(E=t(B+E,B.length?y-U.length:1/0),B=""),m){case"<":E=A+E+U+B;break;case"=":E=A+B+E+U;break;case"^":E=B.slice(0,P=B.length>>1)+A+E+U+B.slice(P);break;default:E=B+A+E+U;break}return i(E)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=w0(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(cd(h)/3)))*3,x=Math.pow(10,-p),g=BC[8+p/3];return function(y){return m(x*y)+g}}return{format:u,formatPrefix:d}}var hm,qN,ED;AJ({thousands:",",grouping:[3],currency:["$",""]});function AJ(e){return hm=TJ(e),qN=hm.format,ED=hm.formatPrefix,hm}function PJ(e){return Math.max(0,-cd(Math.abs(e)))}function OJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cd(t)/3)))*3-cd(Math.abs(e)))}function DJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cd(t)-cd(e))+1}function TD(e,t,r,a){var s=aw(e,t,r),i;switch(a=w0(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=OJ(s,l))&&(a.precision=i),ED(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=DJ(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=PJ(s))&&(a.precision=i-(a.type==="%")*2);break}}return qN(a)}function Bo(e){var t=e.domain;return e.ticks=function(r){var a=t();return tw(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return TD(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,l=a[s],o=a[i],c,u,d=10;for(o<l&&(u=l,l=o,o=u,u=s,s=i,i=u);d-- >0;){if(u=rw(l,o,r),u===c)return a[s]=l,a[i]=o,t(a);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function AD(){var e=VN();return e.copy=function(){return uh(e,AD())},zs.apply(e,arguments),Bo(e)}function PD(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,gx),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return PD(e).unknown(t)},e=arguments.length?Array.from(e,gx):[0,1],Bo(r)}function OD(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],l;return i<s&&(l=r,r=a,a=l,l=s,s=i,i=l),e[r]=t.floor(s),e[a]=t.ceil(i),e}function UC(e){return Math.log(e)}function zC(e){return Math.exp(e)}function FJ(e){return-Math.log(-e)}function IJ(e){return-Math.exp(-e)}function RJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function MJ(e){return e===10?RJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function LJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function WC(e){return(t,r)=>-e(-t,r)}function KN(e){const t=e(UC,zC),r=t.domain;let a=10,s,i;function l(){return s=LJ(a),i=MJ(a),r()[0]<0?(s=WC(s),i=WC(i),e(FJ,IJ)):e(UC,zC),t}return t.base=function(o){return arguments.length?(a=+o,l()):a},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),p,x;const g=o==null?10:+o;let y=[];if(!(a%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<a;++p)if(x=h<0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;y.push(x)}}else for(;h<=m;++h)for(p=a-1;p>=1;--p)if(x=h>0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;y.push(x)}y.length*2<g&&(y=tw(u,d,g))}else y=tw(h,m,Math.min(m-h,g)).map(i);return f?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=w0(c)).precision==null&&(c.trim=!0),c=qN(c)),o===1/0)return c;const u=Math.max(1,a*o/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*a<a-.5&&(f*=a),f<=u?c(d):""}},t.nice=()=>r(OD(r(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function DD(){const e=KN(sv()).domain([1,10]);return e.copy=()=>uh(e,DD()).base(e.base()),zs.apply(e,arguments),e}function VC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function GN(e){var t=1,r=e(VC(t),HC(t));return r.constant=function(a){return arguments.length?e(VC(t=+a),HC(t)):t},Bo(r)}function FD(){var e=GN(sv());return e.copy=function(){return uh(e,FD()).constant(e.constant())},zs.apply(e,arguments)}function qC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $J(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BJ(e){return e<0?-e*e:e*e}function QN(e){var t=e(fn,fn),r=1;function a(){return r===1?e(fn,fn):r===.5?e($J,BJ):e(qC(r),qC(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},Bo(t)}function XN(){var e=QN(sv());return e.copy=function(){return uh(e,XN()).exponent(e.exponent())},zs.apply(e,arguments),e}function UJ(){return XN.apply(null,arguments).exponent(.5)}function KC(e){return Math.sign(e)*e*e}function zJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ID(){var e=VN(),t=[0,1],r=!1,a;function s(i){var l=zJ(e(i));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(i){return e.invert(KC(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,gx)).map(KC)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return ID(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},zs.apply(s,arguments),Bo(s)}function RD(){var e=[],t=[],r=[],a;function s(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=qY(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:t[oh(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(xo),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return RD().domain(e).range(t).unknown(a)},zs.apply(i,arguments)}function MD(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function l(c){return c!=null&&c<=c?s[oh(a,c,0,r)]:i}function o(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,o()):s.slice()},l.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=r?[a[r-1],t]:[a[u-1],a[u]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return a.slice()},l.copy=function(){return MD().domain([e,t]).range(s).unknown(i)},zs.apply(Bo(l),arguments)}function LD(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[oh(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return LD().domain(e).range(t).unknown(r)},zs.apply(s,arguments)}const Fy=new Date,Iy=new Date;function ca(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),o=s.ceil(i);return i-l<o-i?l:o},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,o)=>{const c=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<l);return c},s.filter=i=>ca(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(Fy.setTime(+i),Iy.setTime(+l),e(Fy),e(Iy),Math.floor(r(Fy,Iy))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const yx=ca(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ca(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):yx);yx.range;const il=1e3,Ss=il*60,ll=Ss*60,kl=ll*24,YN=kl*7,GC=kl*30,Ry=kl*365,fc=ca(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*il)},(e,t)=>(t-e)/il,e=>e.getUTCSeconds());fc.range;const JN=ca(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*il)},(e,t)=>{e.setTime(+e+t*Ss)},(e,t)=>(t-e)/Ss,e=>e.getMinutes());JN.range;const ZN=ca(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ss)},(e,t)=>(t-e)/Ss,e=>e.getUTCMinutes());ZN.range;const e2=ca(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*il-e.getMinutes()*Ss)},(e,t)=>{e.setTime(+e+t*ll)},(e,t)=>(t-e)/ll,e=>e.getHours());e2.range;const t2=ca(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ll)},(e,t)=>(t-e)/ll,e=>e.getUTCHours());t2.range;const dh=ca(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ss)/kl,e=>e.getDate()-1);dh.range;const iv=ca(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kl,e=>e.getUTCDate()-1);iv.range;const $D=ca(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kl,e=>Math.floor(e/kl));$D.range;function Jc(e){return ca(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ss)/YN)}const lv=Jc(0),bx=Jc(1),WJ=Jc(2),VJ=Jc(3),ud=Jc(4),HJ=Jc(5),qJ=Jc(6);lv.range;bx.range;WJ.range;VJ.range;ud.range;HJ.range;qJ.range;function Zc(e){return ca(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/YN)}const ov=Zc(0),wx=Zc(1),KJ=Zc(2),GJ=Zc(3),dd=Zc(4),QJ=Zc(5),XJ=Zc(6);ov.range;wx.range;KJ.range;GJ.range;dd.range;QJ.range;XJ.range;const r2=ca(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());r2.range;const a2=ca(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());a2.range;const _l=ca(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_l.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ca(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_l.range;const Sl=ca(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ca(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sl.range;function BD(e,t,r,a,s,i){const l=[[fc,1,il],[fc,5,5*il],[fc,15,15*il],[fc,30,30*il],[i,1,Ss],[i,5,5*Ss],[i,15,15*Ss],[i,30,30*Ss],[s,1,ll],[s,3,3*ll],[s,6,6*ll],[s,12,12*ll],[a,1,kl],[a,2,2*kl],[r,1,YN],[t,1,GC],[t,3,3*GC],[e,1,Ry]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=LN(([,,g])=>g).right(l,h);if(m===l.length)return e.every(aw(u/Ry,d/Ry,f));if(m===0)return yx.every(Math.max(aw(u,d,f),1));const[p,x]=l[h/l[m-1][2]<l[m][2]/h?m-1:m];return p.every(x)}return[o,c]}const[YJ,JJ]=BD(Sl,a2,ov,$D,t2,ZN),[ZJ,eZ]=BD(_l,r2,lv,dh,e2,JN);function My(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ly(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tZ(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,u=of(s),d=cf(s),f=of(i),h=cf(i),m=of(l),p=cf(l),x=of(o),g=cf(o),y=of(c),b=cf(c),v={a:R,A:P,b:B,B:te,c:null,d:eE,e:eE,f:kZ,g:FZ,G:RZ,H:wZ,I:jZ,j:NZ,L:UD,m:_Z,M:SZ,p:H,q:F,Q:aE,s:nE,S:CZ,u:EZ,U:TZ,V:AZ,w:PZ,W:OZ,x:null,X:null,y:DZ,Y:IZ,Z:MZ,"%":rE},j={a:O,A:M,b:I,B:ne,c:null,d:tE,e:tE,f:UZ,g:YZ,G:ZZ,H:LZ,I:$Z,j:BZ,L:WD,m:zZ,M:WZ,p:oe,q:J,Q:aE,s:nE,S:VZ,u:HZ,U:qZ,V:KZ,w:GZ,W:QZ,x:null,X:null,y:XZ,Y:JZ,Z:eee,"%":rE},N={a:C,A:E,b:A,B:U,c:V,d:JC,e:JC,f:gZ,g:YC,G:XC,H:ZC,I:ZC,j:hZ,L:xZ,m:fZ,M:mZ,p:T,q:dZ,Q:yZ,s:bZ,S:pZ,u:iZ,U:lZ,V:oZ,w:sZ,W:cZ,x:ae,X:q,y:YC,Y:XC,Z:uZ,"%":vZ};v.x=k(r,v),v.X=k(a,v),v.c=k(t,v),j.x=k(r,j),j.X=k(a,j),j.c=k(t,j);function k(Y,ie){return function(fe){var D=[],ye=-1,Ce=0,Pe=Y.length,Me,ke,at;for(fe instanceof Date||(fe=new Date(+fe));++ye<Pe;)Y.charCodeAt(ye)===37&&(D.push(Y.slice(Ce,ye)),(ke=QC[Me=Y.charAt(++ye)])!=null?Me=Y.charAt(++ye):ke=Me==="e"?" ":"0",(at=ie[Me])&&(Me=at(fe,ke)),D.push(Me),Ce=ye+1);return D.push(Y.slice(Ce,ye)),D.join("")}}function _(Y,ie){return function(fe){var D=lf(1900,void 0,1),ye=S(D,Y,fe+="",0),Ce,Pe;if(ye!=fe.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(ie&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(Ce=Ly(lf(D.y,0,1)),Pe=Ce.getUTCDay(),Ce=Pe>4||Pe===0?wx.ceil(Ce):wx(Ce),Ce=iv.offset(Ce,(D.V-1)*7),D.y=Ce.getUTCFullYear(),D.m=Ce.getUTCMonth(),D.d=Ce.getUTCDate()+(D.w+6)%7):(Ce=My(lf(D.y,0,1)),Pe=Ce.getDay(),Ce=Pe>4||Pe===0?bx.ceil(Ce):bx(Ce),Ce=dh.offset(Ce,(D.V-1)*7),D.y=Ce.getFullYear(),D.m=Ce.getMonth(),D.d=Ce.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),Pe="Z"in D?Ly(lf(D.y,0,1)).getUTCDay():My(lf(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(Pe+5)%7:D.w+D.U*7-(Pe+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Ly(D)):My(D)}}function S(Y,ie,fe,D){for(var ye=0,Ce=ie.length,Pe=fe.length,Me,ke;ye<Ce;){if(D>=Pe)return-1;if(Me=ie.charCodeAt(ye++),Me===37){if(Me=ie.charAt(ye++),ke=N[Me in QC?ie.charAt(ye++):Me],!ke||(D=ke(Y,fe,D))<0)return-1}else if(Me!=fe.charCodeAt(D++))return-1}return D}function T(Y,ie,fe){var D=u.exec(ie.slice(fe));return D?(Y.p=d.get(D[0].toLowerCase()),fe+D[0].length):-1}function C(Y,ie,fe){var D=m.exec(ie.slice(fe));return D?(Y.w=p.get(D[0].toLowerCase()),fe+D[0].length):-1}function E(Y,ie,fe){var D=f.exec(ie.slice(fe));return D?(Y.w=h.get(D[0].toLowerCase()),fe+D[0].length):-1}function A(Y,ie,fe){var D=y.exec(ie.slice(fe));return D?(Y.m=b.get(D[0].toLowerCase()),fe+D[0].length):-1}function U(Y,ie,fe){var D=x.exec(ie.slice(fe));return D?(Y.m=g.get(D[0].toLowerCase()),fe+D[0].length):-1}function V(Y,ie,fe){return S(Y,t,ie,fe)}function ae(Y,ie,fe){return S(Y,r,ie,fe)}function q(Y,ie,fe){return S(Y,a,ie,fe)}function R(Y){return l[Y.getDay()]}function P(Y){return i[Y.getDay()]}function B(Y){return c[Y.getMonth()]}function te(Y){return o[Y.getMonth()]}function H(Y){return s[+(Y.getHours()>=12)]}function F(Y){return 1+~~(Y.getMonth()/3)}function O(Y){return l[Y.getUTCDay()]}function M(Y){return i[Y.getUTCDay()]}function I(Y){return c[Y.getUTCMonth()]}function ne(Y){return o[Y.getUTCMonth()]}function oe(Y){return s[+(Y.getUTCHours()>=12)]}function J(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ie=k(Y+="",v);return ie.toString=function(){return Y},ie},parse:function(Y){var ie=_(Y+="",!1);return ie.toString=function(){return Y},ie},utcFormat:function(Y){var ie=k(Y+="",j);return ie.toString=function(){return Y},ie},utcParse:function(Y){var ie=_(Y+="",!0);return ie.toString=function(){return Y},ie}}}var QC={"-":"",_:" ",0:"0"},ja=/^\s*\d+/,rZ=/^%/,aZ=/[\\^$*+?|[\]().{}]/g;function It(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function nZ(e){return e.replace(aZ,"\\$&")}function of(e){return new RegExp("^(?:"+e.map(nZ).join("|")+")","i")}function cf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function sZ(e,t,r){var a=ja.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function iZ(e,t,r){var a=ja.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function lZ(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function oZ(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function cZ(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function XC(e,t,r){var a=ja.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function YC(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function uZ(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function dZ(e,t,r){var a=ja.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function fZ(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function JC(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function hZ(e,t,r){var a=ja.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function ZC(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function mZ(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function pZ(e,t,r){var a=ja.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function xZ(e,t,r){var a=ja.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function gZ(e,t,r){var a=ja.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function vZ(e,t,r){var a=rZ.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function yZ(e,t,r){var a=ja.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function bZ(e,t,r){var a=ja.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function eE(e,t){return It(e.getDate(),t,2)}function wZ(e,t){return It(e.getHours(),t,2)}function jZ(e,t){return It(e.getHours()%12||12,t,2)}function NZ(e,t){return It(1+dh.count(_l(e),e),t,3)}function UD(e,t){return It(e.getMilliseconds(),t,3)}function kZ(e,t){return UD(e,t)+"000"}function _Z(e,t){return It(e.getMonth()+1,t,2)}function SZ(e,t){return It(e.getMinutes(),t,2)}function CZ(e,t){return It(e.getSeconds(),t,2)}function EZ(e){var t=e.getDay();return t===0?7:t}function TZ(e,t){return It(lv.count(_l(e)-1,e),t,2)}function zD(e){var t=e.getDay();return t>=4||t===0?ud(e):ud.ceil(e)}function AZ(e,t){return e=zD(e),It(ud.count(_l(e),e)+(_l(e).getDay()===4),t,2)}function PZ(e){return e.getDay()}function OZ(e,t){return It(bx.count(_l(e)-1,e),t,2)}function DZ(e,t){return It(e.getFullYear()%100,t,2)}function FZ(e,t){return e=zD(e),It(e.getFullYear()%100,t,2)}function IZ(e,t){return It(e.getFullYear()%1e4,t,4)}function RZ(e,t){var r=e.getDay();return e=r>=4||r===0?ud(e):ud.ceil(e),It(e.getFullYear()%1e4,t,4)}function MZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+It(t/60|0,"0",2)+It(t%60,"0",2)}function tE(e,t){return It(e.getUTCDate(),t,2)}function LZ(e,t){return It(e.getUTCHours(),t,2)}function $Z(e,t){return It(e.getUTCHours()%12||12,t,2)}function BZ(e,t){return It(1+iv.count(Sl(e),e),t,3)}function WD(e,t){return It(e.getUTCMilliseconds(),t,3)}function UZ(e,t){return WD(e,t)+"000"}function zZ(e,t){return It(e.getUTCMonth()+1,t,2)}function WZ(e,t){return It(e.getUTCMinutes(),t,2)}function VZ(e,t){return It(e.getUTCSeconds(),t,2)}function HZ(e){var t=e.getUTCDay();return t===0?7:t}function qZ(e,t){return It(ov.count(Sl(e)-1,e),t,2)}function VD(e){var t=e.getUTCDay();return t>=4||t===0?dd(e):dd.ceil(e)}function KZ(e,t){return e=VD(e),It(dd.count(Sl(e),e)+(Sl(e).getUTCDay()===4),t,2)}function GZ(e){return e.getUTCDay()}function QZ(e,t){return It(wx.count(Sl(e)-1,e),t,2)}function XZ(e,t){return It(e.getUTCFullYear()%100,t,2)}function YZ(e,t){return e=VD(e),It(e.getUTCFullYear()%100,t,2)}function JZ(e,t){return It(e.getUTCFullYear()%1e4,t,4)}function ZZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dd(e):dd.ceil(e),It(e.getUTCFullYear()%1e4,t,4)}function eee(){return"+0000"}function rE(){return"%"}function aE(e){return+e}function nE(e){return Math.floor(+e/1e3)}var cu,HD,qD;tee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tee(e){return cu=tZ(e),HD=cu.format,cu.parse,qD=cu.utcFormat,cu.utcParse,cu}function ree(e){return new Date(e)}function aee(e){return e instanceof Date?+e:+new Date(+e)}function n2(e,t,r,a,s,i,l,o,c,u){var d=VN(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),b=u("%b %d"),v=u("%B"),j=u("%Y");function N(k){return(c(k)<k?m:o(k)<k?p:l(k)<k?x:i(k)<k?g:a(k)<k?s(k)<k?y:b:r(k)<k?v:j)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,aee)):h().map(ree)},d.ticks=function(k){var _=h();return e(_[0],_[_.length-1],k??10)},d.tickFormat=function(k,_){return _==null?N:u(_)},d.nice=function(k){var _=h();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?h(OD(_,k)):d},d.copy=function(){return uh(d,n2(e,t,r,a,s,i,l,o,c,u))},d}function nee(){return zs.apply(n2(ZJ,eZ,_l,r2,lv,dh,e2,JN,fc,HD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function see(){return zs.apply(n2(YJ,JJ,Sl,a2,ov,iv,t2,ZN,fc,qD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cv(){var e=0,t=1,r,a,s,i,l=fn,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:l(s===0?.5:(f=(i(f)-r)*s,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(l=f,u):l};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,l=f(m,p),u):[l(0),l(1)]}}return u.range=d(Td),u.rangeRound=d(WN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),a=f(t),s=r===a?0:1/(a-r),u}}function Uo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KD(){var e=Bo(cv()(fn));return e.copy=function(){return Uo(e,KD())},Dl.apply(e,arguments)}function GD(){var e=KN(cv()).domain([1,10]);return e.copy=function(){return Uo(e,GD()).base(e.base())},Dl.apply(e,arguments)}function QD(){var e=GN(cv());return e.copy=function(){return Uo(e,QD()).constant(e.constant())},Dl.apply(e,arguments)}function s2(){var e=QN(cv());return e.copy=function(){return Uo(e,s2()).exponent(e.exponent())},Dl.apply(e,arguments)}function iee(){return s2.apply(null,arguments).exponent(.5)}function XD(){var e=[],t=fn;function r(a){if(a!=null&&!isNaN(a=+a))return t((oh(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(xo),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>HY(e,i/a))},r.copy=function(){return XD(t).domain(e)},Dl.apply(r,arguments)}function uv(){var e=0,t=.5,r=1,a=1,s,i,l,o,c,u=fn,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(a*x<a*i?o:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,s=d(e=+e),i=d(t=+t),l=d(r=+r),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),a=i<s?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(g){var y,b,v;return arguments.length?([y,b,v]=g,u=vJ(x,[y,b,v]),m):[u(0),u(.5),u(1)]}}return m.range=p(Td),m.rangeRound=p(WN),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,s=x(e),i=x(t),l=x(r),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),a=i<s?-1:1,m}}function YD(){var e=Bo(uv()(fn));return e.copy=function(){return Uo(e,YD())},Dl.apply(e,arguments)}function JD(){var e=KN(uv()).domain([.1,1,10]);return e.copy=function(){return Uo(e,JD()).base(e.base())},Dl.apply(e,arguments)}function ZD(){var e=GN(uv());return e.copy=function(){return Uo(e,ZD()).constant(e.constant())},Dl.apply(e,arguments)}function i2(){var e=QN(uv());return e.copy=function(){return Uo(e,i2()).exponent(e.exponent())},Dl.apply(e,arguments)}function lee(){return i2.apply(null,arguments).exponent(.5)}const vf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:BN,scaleDiverging:YD,scaleDivergingLog:JD,scaleDivergingPow:i2,scaleDivergingSqrt:lee,scaleDivergingSymlog:ZD,scaleIdentity:PD,scaleImplicit:nw,scaleLinear:AD,scaleLog:DD,scaleOrdinal:$N,scalePoint:GY,scalePow:XN,scaleQuantile:RD,scaleQuantize:MD,scaleRadial:ID,scaleSequential:KD,scaleSequentialLog:GD,scaleSequentialPow:s2,scaleSequentialQuantile:XD,scaleSequentialSqrt:iee,scaleSequentialSymlog:QD,scaleSqrt:UJ,scaleSymlog:FD,scaleThreshold:LD,scaleTime:nee,scaleUtc:see,tickFormat:TD},Symbol.toStringTag,{value:"Module"}));var zo=e=>e.chartData,l2=xe([zo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fh=(e,t,r,a)=>a?l2(e):zo(e);function fd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ia(t)&&Ia(r))return!0}return!1}function sE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function oee(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,i;if(Ia(r))s=r;else if(typeof r=="function")return;if(Ia(a))i=a;else if(typeof a=="function")return;var l=[s,i];if(fd(l))return l}}function cee(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(fd(a))return sE(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,l,o;if(s==="auto")t!=null&&(l=Math.min(...t));else if(Je(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&Z4.test(s)){var c=Z4.exec(s);if(c==null||t==null)l=void 0;else{var u=+c[1];l=t[0]-u}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Je(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&eC.test(i)){var d=eC.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[l,o];if(fd(h))return t==null?h:sE(h,t,r)}}}var Ad=1e9,uee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c2,fr=!0,Is="[DecimalError] ",Nc=Is+"Invalid argument: ",o2=Is+"Exponent out of range: ",Pd=Math.floor,Jo=Math.pow,dee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,fa=1e7,tr=7,eF=9007199254740991,jx=Pd(eF/tr),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*tr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Qe.dividedBy=Qe.div=function(e){return hl(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var t=this,r=t.constructor;return Qt(hl(t,new r(e),0,1),r.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return Zr(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(qn))throw Error(Is+"NaN");if(r.s<1)throw Error(Is+(r.s?"NaN":"-Infinity"));return r.eq(qn)?new a(0):(fr=!1,t=hl(j0(r,i),j0(e,i),i),fr=!0,Qt(t,s))};Qe.minus=Qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aF(t,e):tF(t,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Is+"NaN");return r.s?(fr=!1,t=hl(r,e,0,1).times(e),fr=!0,r.minus(t)):Qt(new a(r),s)};Qe.naturalExponential=Qe.exp=function(){return rF(this)};Qe.naturalLogarithm=Qe.ln=function(){return j0(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tF(t,e):aF(t,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Nc+e);if(t=Zr(s)+1,a=s.d.length-1,r=a*tr+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Qe.squareRoot=Qe.sqrt=function(){var e,t,r,a,s,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Is+"NaN")}for(e=Zr(o),fr=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=Oi(o.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Pd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),r=c.precision,s=l=r+3;;)if(i=a,a=i.plus(hl(o,i,l+2)).times(.5),Oi(i.d).slice(0,l)===(t=Oi(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Qt(i,r+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;l+=4}return fr=!0,Qt(a,r)};Qe.times=Qe.mul=function(e){var t,r,a,s,i,l,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,l=c,c=u,u=l),i=[],l=c+u,a=l;a--;)i.push(0);for(a=u;--a>=0;){for(t=0,s=c+a;s>a;)o=i[s]+m[a]*h[s-a-1]+t,i[s--]=o%fa|0,t=o/fa|0;i[s]=(i[s]+t)%fa|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,fr?Qt(e,f.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Bi(e,0,Ad),t===void 0?t=a.rounding:Bi(t,0,8),Qt(r,e+Zr(r)+1,t))};Qe.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Bc(a,!0):(Bi(e,0,Ad),t===void 0?t=s.rounding:Bi(t,0,8),a=Qt(new s(a),e+1,t),r=Bc(a,!0,e+1)),r};Qe.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Bc(s):(Bi(e,0,Ad),t===void 0?t=i.rounding:Bi(t,0,8),a=Qt(new i(s),e+Zr(s)+1,t),r=Bc(a.abs(),!1,e+Zr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Qe.toInteger=Qe.toint=function(){var e=this,t=e.constructor;return Qt(new t(e),Zr(e)+1,t.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var t,r,a,s,i,l,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(qn);if(o=new c(o),!o.s){if(e.s<1)throw Error(Is+"Infinity");return o}if(o.eq(qn))return o;if(a=c.precision,e.eq(qn))return Qt(o,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=d<0?-d:d)<=eF){for(s=new c(qn),t=Math.ceil(a/tr+4),fr=!1;r%2&&(s=s.times(o),lE(s.d,t)),r=Pd(r/2),r!==0;)o=o.times(o),lE(o.d,t);return fr=!0,e.s<0?new c(qn).div(s):Qt(s,a)}}else if(i<0)throw Error(Is+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,fr=!1,s=e.times(j0(o,a+u)),fr=!0,s=rF(s),s.s=i,s};Qe.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=Zr(s),a=Bc(s,r<=i.toExpNeg||r>=i.toExpPos)):(Bi(e,1,Ad),t===void 0?t=i.rounding:Bi(t,0,8),s=Qt(new i(s),e,t),r=Zr(s),a=Bc(s,e<=r||r<=i.toExpNeg,e)),a};Qe.toSignificantDigits=Qe.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Bi(e,1,Ad),t===void 0?t=a.rounding:Bi(t,0,8)),Qt(new a(r),e,t)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zr(e),r=e.constructor;return Bc(e,t<=r.toExpNeg||t>=r.toExpPos)};function tF(e,t){var r,a,s,i,l,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),fr?Qt(t,f):t;if(c=e.d,u=t.d,l=e.e,s=t.e,c=c.slice(),i=l-s,i){for(i<0?(a=c,i=-i,o=u.length):(a=u,s=l,o=c.length),l=Math.ceil(f/tr),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,a=u,u=c,c=a),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/fa|0,c[i]%=fa;for(r&&(c.unshift(r),++s),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=s,fr?Qt(t,f):t}function Bi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Nc+e)}function Oi(e){var t,r,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",r=tr-a.length,r&&(i+=ql(r)),i+=a;l=e[t],a=l+"",r=tr-a.length,r&&(i+=ql(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var hl=function(){function e(a,s){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*s+l,a[o]=i%fa|0,l=i/fa|0;return l&&a.unshift(l),a}function t(a,s,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=s[o]){c=a[o]>s[o]?1:-1;break}return c}function r(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*fa+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var o,c,u,d,f,h,m,p,x,g,y,b,v,j,N,k,_,S,T=a.constructor,C=a.s==s.s?1:-1,E=a.d,A=s.d;if(!a.s)return new T(a);if(!s.s)throw Error(Is+"Division by zero");for(c=a.e-s.e,_=A.length,N=E.length,m=new T(C),p=m.d=[],u=0;A[u]==(E[u]||0);)++u;if(A[u]>(E[u]||0)&&--c,i==null?b=i=T.precision:l?b=i+(Zr(a)-Zr(s))+1:b=i,b<0)return new T(0);if(b=b/tr+2|0,u=0,_==1)for(d=0,A=A[0],b++;(u<N||d)&&b--;u++)v=d*fa+(E[u]||0),p[u]=v/A|0,d=v%A|0;else{for(d=fa/(A[0]+1)|0,d>1&&(A=e(A,d),E=e(E,d),_=A.length,N=E.length),j=_,x=E.slice(0,_),g=x.length;g<_;)x[g++]=0;S=A.slice(),S.unshift(0),k=A[0],A[1]>=fa/2&&++k;do d=0,o=t(A,x,_,g),o<0?(y=x[0],_!=g&&(y=y*fa+(x[1]||0)),d=y/k|0,d>1?(d>=fa&&(d=fa-1),f=e(A,d),h=f.length,g=x.length,o=t(f,x,h,g),o==1&&(d--,r(f,_<h?S:A,h))):(d==0&&(o=d=1),f=A.slice()),h=f.length,h<g&&f.unshift(0),r(x,f,g),o==-1&&(g=x.length,o=t(A,x,_,g),o<1&&(d++,r(x,_<g?S:A,g))),g=x.length):o===0&&(d++,x=[0]),p[u++]=d,o&&x[0]?x[g++]=E[j]||0:(x=[E[j]],g=1);while((j++<N||x[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,Qt(m,l?i+Zr(m)+1:i)}}();function rF(e,t){var r,a,s,i,l,o,c=0,u=0,d=e.constructor,f=d.precision;if(Zr(e)>16)throw Error(o2+Zr(e));if(!e.s)return new d(qn);for(fr=!1,o=f,l=new d(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(a=Math.log(Jo(2,u))/Math.LN10*2+5|0,o+=a,r=s=i=new d(qn),d.precision=o;;){if(s=Qt(s.times(e),o),r=r.times(++c),l=i.plus(hl(s,r,o)),Oi(l.d).slice(0,o)===Oi(i.d).slice(0,o)){for(;u--;)i=Qt(i.times(i),o);return d.precision=f,t==null?(fr=!0,Qt(i,f)):i}i=l}}function Zr(e){for(var t=e.e*tr,r=e.d[0];r>=10;r/=10)t++;return t}function $y(e,t,r){if(t>e.LN10.sd())throw fr=!0,r&&(e.precision=r),Error(Is+"LN10 precision limit exceeded");return Qt(new e(e.LN10),t)}function ql(e){for(var t="";e--;)t+="0";return t}function j0(e,t){var r,a,s,i,l,o,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,g=x.precision;if(m.s<1)throw Error(Is+(m.s?"NaN":"-Infinity"));if(m.eq(qn))return new x(0);if(t==null?(fr=!1,u=g):u=t,m.eq(10))return t==null&&(fr=!0),$y(x,u);if(u+=h,x.precision=u,r=Oi(p),a=r.charAt(0),i=Zr(m),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)m=m.times(e),r=Oi(m.d),a=r.charAt(0),f++;i=Zr(m),a>1?(m=new x("0."+r),i++):m=new x(a+"."+r.slice(1))}else return c=$y(x,u+2,g).times(i+""),m=j0(new x(a+"."+r.slice(1)),u-h).plus(c),x.precision=g,t==null?(fr=!0,Qt(m,g)):m;for(o=l=m=hl(m.minus(qn),m.plus(qn),u),d=Qt(m.times(m),u),s=3;;){if(l=Qt(l.times(d),u),c=o.plus(hl(l,new x(s),u)),Oi(c.d).slice(0,u)===Oi(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus($y(x,u+2,g).times(i+""))),o=hl(o,new x(f),u),x.precision=g,t==null?(fr=!0,Qt(o,g)):o;o=c,s+=2}}function iE(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Pd(r/tr),e.d=[],a=(r+1)%tr,r<0&&(a+=tr),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=tr;a<s;)e.d.push(+t.slice(a,a+=tr));t=t.slice(a),a=tr-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),fr&&(e.e>jx||e.e<-jx))throw Error(o2+r)}else e.s=0,e.e=0,e.d=[0];return e}function Qt(e,t,r){var a,s,i,l,o,c,u,d,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=tr,s=t,u=f[d=0];else{if(d=Math.ceil((a+1)/tr),i=f.length,d>=i)return e;for(u=i=f[d],l=1;i>=10;i/=10)l++;a%=tr,s=a-tr+l}if(r!==void 0&&(i=Jo(10,l-s-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(a>0?s>0?u/Jo(10,l-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Zr(e),f.length=1,t=t-i-1,f[0]=Jo(10,(tr-t%tr)%tr),e.e=Pd(-t/tr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=d,i=1,d--):(f.length=d+1,i=Jo(10,tr-a),f[d]=s>0?(u/Jo(10,l-s)%Jo(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==fa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=fa)break;f[d--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(fr&&(e.e>jx||e.e<-jx))throw Error(o2+Zr(e));return e}function aF(e,t){var r,a,s,i,l,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),fr?Qt(t,m):t;if(c=e.d,f=t.d,a=t.e,u=e.e,c=c.slice(),l=u-a,l){for(d=l<0,d?(r=c,l=-l,o=f.length):(r=f,a=u,o=c.length),s=Math.max(Math.ceil(m/tr),o)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=c.length,o=f.length,d=s<o,d&&(o=s),s=0;s<o;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}l=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,s=f.length-o;s>0;--s)c[o++]=0;for(s=f.length;s>l;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=fa-1;--c[i],c[s]+=fa}c[s]-=f[s]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,fr?Qt(t,m):t):new h(0)}function Bc(e,t,r){var a,s=Zr(e),i=Oi(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+ql(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ql(-s-1)+i,r&&(a=r-l)>0&&(i+=ql(a))):s>=l?(i+=ql(s+1-l),r&&(a=r-s-1)>0&&(i=i+"."+ql(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(i+="."),i+=ql(a))),e.s<0?"-"+i:i}function lE(e,t){if(e.length>t)return e.length=t,!0}function nF(e){var t,r,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Nc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return iE(l,i.toString())}else if(typeof i!="string")throw Error(Nc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,dee.test(i))iE(l,i);else throw Error(Nc+i)}if(s.prototype=Qe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=nF,s.config=s.set=fee,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function fee(e){if(!e||typeof e!="object")throw Error(Is+"Object expected");var t,r,a,s=["precision",1,Ad,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Pd(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Nc+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Nc+r+": "+a);return this}var c2=nF(uee);qn=new c2(1);const Lt=c2;var hee=e=>e,sF={},iF=e=>e===sF,oE=e=>function t(){return arguments.length===0||arguments.length===1&&iF(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},lF=(e,t)=>e===1?t:oE(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var i=a.filter(l=>l!==sF).length;return i>=e?t(...a):lF(e-i,oE(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var u=a.map(d=>iF(d)?o.shift():d);return t(...u,...o)}))}),dv=e=>lF(e.length,e),ow=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},mee=dv((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),pee=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return hee;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},cw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),oF=e=>{var t=null,r=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return t&&s.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=s,r=e(...s)),r}};function cF(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function uF(e,t,r){for(var a=new Lt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}dv((e,t,r)=>{var a=+e,s=+t;return a+r*(s-a)});dv((e,t,r)=>{var a=t-+e;return a=a||1/0,(r-e)/a});dv((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var dF=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},fF=(e,t,r)=>{if(e.lte(0))return new Lt(0);var a=cF(e.toNumber()),s=new Lt(10).pow(a),i=e.div(s),l=a!==1?.05:.1,o=new Lt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(s);return t?new Lt(c.toNumber()):new Lt(Math.ceil(c.toNumber()))},xee=(e,t,r)=>{var a=new Lt(1),s=new Lt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Lt(10).pow(cF(e)-1),s=new Lt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Lt(Math.floor(e)))}else e===0?s=new Lt(Math.floor((t-1)/2)):r||(s=new Lt(Math.floor(e)));var l=Math.floor((t-1)/2),o=pee(mee(c=>s.add(new Lt(c-l).mul(a)).toNumber()),ow);return o(0,t)},hF=function(t,r,a,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var l=fF(new Lt(r).sub(t).div(a-1),s,i),o;t<=0&&r>=0?o=new Lt(0):(o=new Lt(t).add(r).div(2),o=o.sub(new Lt(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),u=Math.ceil(new Lt(r).sub(o).div(l).toNumber()),d=c+u+1;return d>a?hF(t,r,a,s,i+1):(d<a&&(u=r>0?u+(a-d):u,c=r>0?c:c+(a-d)),{step:l,tickMin:o.sub(new Lt(c).mul(l)),tickMax:o.add(new Lt(u).mul(l))})};function gee(e){var[t,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,o]=dF([t,r]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...ow(0,a-1).map(()=>1/0)]:[...ow(0,a-1).map(()=>-1/0),o];return t>r?cw(c):c}if(l===o)return xee(l,a,s);var{step:u,tickMin:d,tickMax:f}=hF(l,o,i,s,0),h=uF(d,f.add(new Lt(.1).mul(u)),u);return t>r?cw(h):h}function vee(e,t){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=dF([r,a]);if(i===-1/0||l===1/0)return[r,a];if(i===l)return[i];var o=Math.max(t,2),c=fF(new Lt(l).sub(i).div(o-1),s,0),u=[...uF(new Lt(i),new Lt(l),c),l];return s===!1&&(u=u.map(d=>Math.round(d))),r>a?cw(u):u}var yee=oF(gee),bee=oF(vee),mF=e=>e.rootProps.maxBarSize,wee=e=>e.rootProps.barGap,pF=e=>e.rootProps.barCategoryGap,jee=e=>e.rootProps.barSize,hh=e=>e.rootProps.stackOffset,u2=e=>e.options.chartName,d2=e=>e.rootProps.syncId,xF=e=>e.rootProps.syncMethod,f2=e=>e.options.eventEmitter,Zi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$n={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Nee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zi.angleAxisId,includeHidden:!1,name:void 0,reversed:Zi.reversed,scale:Zi.scale,tick:Zi.tick,tickCount:void 0,ticks:void 0,type:Zi.type,unit:void 0},kee={allowDataOverflow:$n.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$n.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$n.scale,tick:$n.tick,tickCount:$n.tickCount,ticks:void 0,type:$n.type,unit:void 0},_ee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zi.scale,tick:Zi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},See={allowDataOverflow:$n.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$n.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$n.scale,tick:$n.tick,tickCount:$n.tickCount,ticks:void 0,type:"category",unit:void 0},h2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_ee:Nee,m2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?See:kee,hv=e=>e.polarOptions,p2=xe([Al,Pl,la],Q6),gF=xe([hv,p2],(e,t)=>{if(e!=null)return Xa(e.innerRadius,t,0)}),vF=xe([hv,p2],(e,t)=>{if(e!=null)return Xa(e.outerRadius,t,t*.8)}),Cee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},yF=xe([hv],Cee);xe([h2,yF],fv);var bF=xe([p2,gF,vF],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});xe([m2,bF],fv);var wF=xe([wt,hv,gF,vF,Al,Pl],(e,t,r,a,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:l,cy:o,startAngle:c,endAngle:u}=t;return{cx:Xa(l,s,s/2),cy:Xa(o,i,i/2),innerRadius:r,outerRadius:a,startAngle:c,endAngle:u,clockWise:!1}}}),mr=(e,t)=>t,mh=(e,t,r)=>r;function mv(e){return e==null?void 0:e.id}var ua=e=>{var t=wt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Od=e=>e.tooltip.settings.axisId,Na=e=>{var t=ua(e),r=Od(e);return ph(e,t,r)},jF=xe([Na],e=>e==null?void 0:e.dataKey);function NF(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,l=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:a;if(!(u==null||u.length===0)){var d=mv(o);u.forEach((f,h)=>{var m=i==null||s?h:String(Vt(f,i,null)),p=Vt(f,o.dataKey,0),x;l.has(m)?x=l.get(m):x={},Object.assign(x,{[d]:p}),l.set(m,x)})}}),Array.from(l.values())}function pv(e){return e.stackId!=null&&e.dataKey!=null}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(a){Eee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Eee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uw=[0,"auto"],Rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kF=(e,t)=>e.cartesianAxis.xAxis[t],Fl=(e,t)=>{var r=kF(e,t);return r??Rn},Mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:uw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ih},_F=(e,t)=>e.cartesianAxis.yAxis[t],Il=(e,t)=>{var r=_F(e,t);return r??Mn},Pee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},x2=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Pee},zr=(e,t,r)=>{switch(t){case"xAxis":return Fl(e,r);case"yAxis":return Il(e,r);case"zAxis":return x2(e,r);case"angleAxis":return h2(e,r);case"radiusAxis":return m2(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Oee=(e,t,r)=>{switch(t){case"xAxis":return Fl(e,r);case"yAxis":return Il(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ph=(e,t,r)=>{switch(t){case"xAxis":return Fl(e,r);case"yAxis":return Il(e,r);case"angleAxis":return h2(e,r);case"radiusAxis":return m2(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},SF=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function g2(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var xh=e=>e.graphicalItems.cartesianItems,Dee=xe([mr,mh],g2),v2=(e,t,r)=>e.filter(r).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),gh=xe([xh,zr,Dee],v2),CF=xe([gh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pv)),EF=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),TF=xe([gh],EF),y2=e=>e.map(t=>t.data).filter(Boolean).flat(1),Fee=xe([gh],y2),b2=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},w2=xe([Fee,fh],b2),j2=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Vt(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:Vt(s,a)}))):e.map(a=>({value:a})),xv=xe([w2,zr,gh],j2);function AF(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function eu(e){return e.filter(t=>$i(t)||t instanceof Date).map(Number).filter(t=>Fn(t)===!1)}function Iee(e,t,r){return!r||typeof t!="number"||Fn(t)?[]:r.length?eu(r.flatMap(a=>{var s=Vt(e,a.dataKey),i,l;if(Array.isArray(s)?[i,l]=s:i=l=s,!(!Ia(i)||!Ia(l)))return[t-i,t+l]})):[]}var Ree=xe([CF,fh,Na],NF),PF=(e,t,r)=>{var a={},s=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[l,o]=i,c=o.map(mv);return[l,{stackedData:HQ(e,c,r),graphicalItems:o}]}))},N0=xe([Ree,CF,hh],PF),OF=(e,t,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(r!=="zAxis"){var i=QQ(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Mee=xe([N0,zo,mr],OF),DF=(e,t,r,a,s)=>r.length>0?e.flatMap(i=>r.flatMap(l=>{var o,c,u=(o=a[l.id])===null||o===void 0?void 0:o.filter(f=>AF(s,f)),d=Vt(i,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:d,errorDomain:Iee(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Vt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),gv=e=>e.errorBars,FF=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>AF(r,a));xe([TF,gv,mr],FF);var Lee=xe([w2,zr,TF,gv,mr],DF);function $ee(e){var{value:t}=e;if($i(t)||t instanceof Date)return t}var uE=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),r=eu(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Bee=(e,t,r)=>{var a=e.map($ee).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&EO(a))?yD(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},N2=e=>{var t;if(e==null||!("domain"in e))return uw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=eu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:uw},kx=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},IF=e=>e.referenceElements.dots,Dd=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Uee=xe([IF,mr,mh],Dd),RF=e=>e.referenceElements.areas,zee=xe([RF,mr,mh],Dd),MF=e=>e.referenceElements.lines,Wee=xe([MF,mr,mh],Dd),LF=(e,t)=>{var r=eu(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Vee=xe(Uee,mr,LF),$F=(e,t)=>{var r=eu(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Hee=xe([zee,mr],$F),BF=(e,t)=>{var r=eu(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qee=xe(Wee,mr,BF),Kee=xe(Vee,qee,Hee,(e,t,r)=>kx(e,r,t)),UF=xe([zr],N2),k2=(e,t,r,a,s,i,l)=>{var o=oee(t,e.allowDataOverflow);if(o!=null)return o;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?kx(r,s,uE(a)):kx(s,uE(a));return cee(t,u,e.allowDataOverflow)},Gee=xe([zr,UF,Mee,Lee,Kee,wt,mr],k2),Qee=[0,1],_2=(e,t,r,a,s,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,u=Hi(t,i);return u&&o==null?yD(0,r.length):c==="category"?Bee(a,e,u):s==="expand"?Qee:l}},S2=xe([zr,wt,w2,xv,hh,mr,Gee],_2),zF=(e,t,r,a,s)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(rh(i));return o in vf?o:"point"}}},Fd=xe([zr,wt,SF,u2,mr],zF);function Xee(e){if(e!=null){if(e in vf)return vf[e]();var t="scale".concat(rh(e));if(t in vf)return vf[t]()}}function C2(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=Xee(t);if(s!=null){var i=s.domain(r).range(a);return BQ(i),i}}}var E2=(e,t,r)=>{var a=N2(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&fd(e))return yee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fd(e))return bee(e,t.tickCount,t.allowDecimals)}},T2=xe([S2,ph,Fd],E2),A2=(e,t,r,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fd(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(s,i),Math.max(l,o)]}return t},Yee=xe([zr,S2,T2,mr],A2),Jee=xe(xv,zr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(eu(e.map(o=>o.value))).sort((o,c)=>o-c);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var i=0;i<a.length-1;i++){var l=a[i+1]-a[i];r=Math.min(r,l)}return r/s}}),WF=xe(Jee,wt,pF,la,(e,t,r,a)=>a,(e,t,r,a,s)=>{if(!Ia(e))return 0;var i=t==="vertical"?a.height:a.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var l=Xa(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),Zee=(e,t)=>{var r=Fl(e,t);return r==null||typeof r.padding!="string"?0:WF(e,"xAxis",t,r.padding)},ete=(e,t)=>{var r=Il(e,t);return r==null||typeof r.padding!="string"?0:WF(e,"yAxis",t,r.padding)},tte=xe(Fl,Zee,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),rte=xe(Il,ete,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),ate=xe([la,tte,nv,av,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:i}=a;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),nte=xe([la,wt,rte,nv,av,(e,t,r)=>r],(e,t,r,a,s,i)=>{var{padding:l}=s;return i?[a.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),vh=(e,t,r,a)=>{var s;switch(t){case"xAxis":return ate(e,r,a);case"yAxis":return nte(e,r,a);case"zAxis":return(s=x2(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return yF(e);case"radiusAxis":return bF(e,r);default:return}},VF=xe([zr,vh],fv),Id=xe([zr,Fd,Yee,VF],C2);xe([gh,gv,mr],FF);function HF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var vv=(e,t)=>t,yv=(e,t,r)=>r,ste=xe(tv,vv,yv,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(HF)),ite=xe(rv,vv,yv,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(HF)),qF=(e,t)=>({width:e.width,height:t.height}),lte=(e,t)=>{var r=typeof t.width=="number"?t.width:ih;return{width:r,height:e.height}},KF=xe(la,Fl,qF),ote=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ute=xe(Pl,la,ste,vv,yv,(e,t,r,a,s)=>{var i={},l;return r.forEach(o=>{var c=qF(t,o);l==null&&(l=ote(t,a,e));var u=a==="top"&&!s||a==="bottom"&&s;i[o.id]=l-Number(u)*c.height,l+=(u?-1:1)*c.height}),i}),dte=xe(Al,la,ite,vv,yv,(e,t,r,a,s)=>{var i={},l;return r.forEach(o=>{var c=lte(t,o);l==null&&(l=cte(t,a,e));var u=a==="left"&&!s||a==="right"&&s;i[o.id]=l-Number(u)*c.width,l+=(u?-1:1)*c.width}),i}),fte=(e,t)=>{var r=Fl(e,t);if(r!=null)return ute(e,r.orientation,r.mirror)},hte=xe([la,Fl,fte,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r==null?void 0:r[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),mte=(e,t)=>{var r=Il(e,t);if(r!=null)return dte(e,r.orientation,r.mirror)},pte=xe([la,Il,mte,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r==null?void 0:r[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),GF=xe(la,Il,(e,t)=>{var r=typeof t.width=="number"?t.width:ih;return{width:r,height:e.height}}),dE=(e,t,r)=>{switch(t){case"xAxis":return KF(e,r).width;case"yAxis":return GF(e,r).height;default:return}},QF=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:l}=r,o=Hi(e,a),c=t.map(u=>u.value);if(l&&o&&i==="category"&&s&&EO(c))return c}},P2=xe([wt,xv,zr,mr],QF),XF=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,l=Hi(e,a);if(l&&(s==="number"||i!=="auto"))return t.map(o=>o.value)}},O2=xe([wt,xv,ph,mr],XF),fE=xe([wt,Oee,Fd,Id,P2,O2,vh,T2,mr],(e,t,r,a,s,i,l,o,c)=>{if(t==null)return null;var u=Hi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:o,range:l,realScaleType:r,scale:a}}),xte=(e,t,r,a,s,i,l,o,c)=>{if(!(t==null||a==null)){var u=Hi(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,p=d==="category"&&a.bandwidth?a.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?va(i[0]-i[1])*2*p:p;var x=f||s;if(x){var g=x.map((y,b)=>{var v=l?l.indexOf(y):y;return{index:b,coordinate:a(v)+p,value:y,offset:p}});return g.filter(y=>!Fn(y.coordinate))}return u&&o?o.map((y,b)=>({coordinate:a(y)+p,value:y,index:b,offset:p})):a.ticks?a.ticks(h).map(y=>({coordinate:a(y)+p,value:y,offset:p})):a.domain().map((y,b)=>({coordinate:a(y)+p,value:l?l[y]:y,index:b,offset:p}))}},YF=xe([wt,ph,Fd,Id,T2,vh,P2,O2,mr],xte),gte=(e,t,r,a,s,i,l)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var o=Hi(e,l),{tickCount:c}=t,u=0;return u=l==="angleAxis"&&(a==null?void 0:a.length)>=2?va(a[0]-a[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:s?s[d]:d,index:f,offset:u}))}},Ui=xe([wt,ph,Id,vh,P2,O2,mr],gte),zi=xe(zr,Id,(e,t)=>{if(!(e==null||t==null))return Nx(Nx({},e),{},{scale:t})}),vte=xe([zr,Fd,S2,VF],C2);xe((e,t,r)=>x2(e,r),vte,(e,t)=>{if(!(e==null||t==null))return Nx(Nx({},e),{},{scale:t})});var yte=xe([wt,tv,rv],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JF=e=>e.options.defaultTooltipEventType,ZF=e=>e.options.validateTooltipEventTypes;function eI(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function D2(e,t){var r=JF(e),a=ZF(e);return eI(t,r,a)}function bte(e){return Ye(t=>D2(t,e))}var tI=(e,t)=>{var r,a=Number(t);if(!(Fn(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},wte=e=>e.tooltip.settings,Jl={active:!1,index:null,dataKey:void 0,coordinate:void 0},jte={itemInteraction:{click:Jl,hover:Jl},axisInteraction:{click:Jl,hover:Jl},keyboardInteraction:Jl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},rI=ls({name:"tooltip",initialState:jte,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=fl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Nte,removeTooltipEntrySettings:kte,setTooltipSettingsState:_te,setActiveMouseOverItemIndex:aI,mouseLeaveItem:Ste,mouseLeaveChart:nI,setActiveClickItemIndex:Cte,setMouseOverAxisIndex:sI,setMouseClickAxisIndex:Ete,setSyncInteraction:dw,setKeyboardInteraction:fw}=rI.actions,Tte=rI.reducer;function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(a){Ate(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ate(e,t,r){return(t=Pte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pte(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fte(e){return e.index!=null}var iI=(e,t,r,a)=>{if(t==null)return Jl;var s=Dte(e,t,r);if(s==null)return Jl;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Fte(s)){if(i)return mm(mm({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return mm(mm({},Jl),{},{coordinate:s.coordinate})},F2=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var a=Number(r);if(!Ia(a))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(a,i)))},lI=(e,t,r,a,s,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:d.coordinate}}}},oI=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===s})},yh=e=>e.options.tooltipPayloadSearcher,Rd=e=>e.tooltip;function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(a){Ite(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ite(e,t,r){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lte(e,t){return e??t}var cI=(e,t,r,a,s,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:g}=m,y=Lte(x,o),b=Array.isArray(y)?X6(y,u,d):y,v=(p=g==null?void 0:g.dataKey)!==null&&p!==void 0?p:a,j=g==null?void 0:g.nameKey,N;if(a&&Array.isArray(b)&&!Array.isArray(b[0])&&l==="axis"?N=TO(b,a,s):N=i(b,t,c,j),Array.isArray(N))N.forEach(_=>{var S=pE(pE({},g),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(tC({tooltipEntrySettings:S,dataKey:_.dataKey,payload:_.payload,value:Vt(_.payload,_.dataKey),name:_.name}))});else{var k;h.push(tC({tooltipEntrySettings:g,dataKey:v,payload:N,value:Vt(N,v),name:(k=Vt(N,j))!==null&&k!==void 0?k:g==null?void 0:g.name}))}return h},f)}},I2=xe([Na,wt,SF,u2,ua],zF),$te=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Bte=xe([ua,Od],g2),bh=xe([$te,Na,Bte],v2),Ute=xe([bh],e=>e.filter(pv)),zte=xe([bh],y2),Md=xe([zte,zo],b2),Wte=xe([Ute,zo,Na],NF),R2=xe([Md,Na,bh],j2),Vte=xe([Na],N2),Hte=xe([bh],e=>e.filter(pv)),qte=xe([Wte,Hte,hh],PF),Kte=xe([qte,zo,ua],OF),Gte=xe([bh],EF),Qte=xe([Md,Na,Gte,gv,ua],DF),Xte=xe([IF,ua,Od],Dd),Yte=xe([Xte,ua],LF),Jte=xe([RF,ua,Od],Dd),Zte=xe([Jte,ua],$F),ere=xe([MF,ua,Od],Dd),tre=xe([ere,ua],BF),rre=xe([Yte,tre,Zte],kx),are=xe([Na,Vte,Kte,Qte,rre,wt,ua],k2),uI=xe([Na,wt,Md,R2,hh,ua,are],_2),nre=xe([uI,Na,I2],E2),sre=xe([Na,uI,nre,ua],A2),dI=e=>{var t=ua(e),r=Od(e),a=!1;return vh(e,t,r,a)},fI=xe([Na,dI],fv),hI=xe([Na,I2,sre,fI],C2),ire=xe([wt,R2,Na,ua],QF),lre=xe([wt,R2,Na,ua],XF),ore=(e,t,r,a,s,i,l,o)=>{if(t){var{type:c}=t,u=Hi(e,o);if(a){var d=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,f=c==="category"&&a.bandwidth?a.bandwidth()/d:0;return f=o==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?va(s[0]-s[1])*2*f:f,u&&l?l.map((h,m)=>({coordinate:a(h)+f,value:h,index:m,offset:f})):a.domain().map((h,m)=>({coordinate:a(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Rl=xe([wt,Na,I2,hI,dI,ire,lre,ua],ore),M2=xe([JF,ZF,wte],(e,t,r)=>eI(r.shared,e,t)),mI=e=>e.tooltip.settings.trigger,L2=e=>e.tooltip.settings.defaultIndex,bv=xe([Rd,M2,mI,L2],iI),So=xe([bv,Md],F2),pI=xe([Rl,So],tI),xI=xe([bv],e=>{if(e)return e.dataKey}),gI=xe([Rd,M2,mI,L2],oI),cre=xe([Al,Pl,wt,la,Rl,L2,gI,yh],lI),ure=xe([bv,cre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),dre=xe([bv],e=>e.active),fre=xe([gI,So,zo,jF,pI,yh,M2],cI),hre=xe([fre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(a){mre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gre=()=>Ye(Na),vre=()=>{var e=gre(),t=Ye(Rl),r=Ye(hI);return $c(gE(gE({},e),{},{scale:r}),t)},vI=()=>Ye(u2),$2=(e,t)=>t,yI=(e,t,r)=>r,B2=(e,t,r,a)=>a,yre=xe(Rl,e=>Qg(e,t=>t.coordinate)),U2=xe([Rd,$2,yI,B2],iI),bI=xe([U2,Md],F2),bre=(e,t,r)=>{if(t!=null){var a=Rd(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},wI=xe([Rd,$2,yI,B2],oI),_x=xe([Al,Pl,wt,la,Rl,B2,wI,yh],lI),wre=xe([U2,_x],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),jI=xe(Rl,bI,tI),jre=xe([wI,bI,zo,jF,jI,yh,$2],cI),Nre=xe([U2],e=>({isActive:e.active,activeIndex:e.index})),kre=(e,t,r,a,s,i,l,o)=>{if(!(!e||!t||!a||!s||!i)){var c=XQ(e.chartX,e.chartY,t,r,o);if(c){var u=JQ(c,t),d=LQ(u,l,i,a,s),f=YQ(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hw.apply(null,arguments)}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(a){_re(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _re(e,t,r){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=Cre(e,"string");return typeof t=="symbol"?t:t+""}function Cre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ere(e){var{coordinate:t,payload:r,index:a,offset:s,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=a;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=JX;else if(u==="BarChart")m=ZX(l,d,s,i),p=fD;else if(l==="radial"){var{cx:x,cy:g,radius:y,startAngle:b,endAngle:v}=hD(d);m={cx:x,cy:g,startAngle:b,endAngle:v,innerRadius:y,outerRadius:y},p=pD}else m={points:OY(l,d,s)},p=Uu;var j=typeof o=="object"&&"className"in o?o.className:void 0,N=pm(pm(pm(pm({stroke:"#ccc",pointerEvents:"none"},s),m),lr(o,!1)),{},{payload:f,payloadIndex:h,className:Ct("recharts-tooltip-cursor",j)});return w.isValidElement(o)?w.cloneElement(o,N):w.createElement(p,N)}function Tre(e){var t=vre(),r=aD(),a=lh(),s=vI();return w.createElement(Ere,hw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var NI=w.createContext(null),Are=()=>w.useContext(NI),kI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new a:delete c._events[u]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var g=this._events[x],y=arguments.length,b,v;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,m),!0;case 6:return g.fn.call(g.context,d,f,h,m,p),!0}for(v=1,b=new Array(y-1);v<y;v++)b[v-1]=arguments[v];g.fn.apply(g.context,b)}else{var j=g.length,N;for(v=0;v<j;v++)switch(g[v].once&&this.removeListener(u,g[v].fn,void 0,!0),y){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,d);break;case 3:g[v].fn.call(g[v].context,d,f);break;case 4:g[v].fn.call(g[v].context,d,f,h);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];g[v].fn.apply(g[v].context,b)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return l(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&l(this,m);else{for(var x=0,g=[],y=p.length;x<y;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&g.push(p[x]);g.length?this._events[m]=g.length===1?g[0]:g:l(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&l(this,d)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(kI);var Pre=kI.exports;const Ore=Ms(Pre);var k0=new Ore,mw="recharts.syncEvent.tooltip",yE="recharts.syncEvent.brush";function wv(e,t){if(t){var r=Number.parseInt(t,10);if(!Fn(r))return e==null?void 0:e[r]}}var Dre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_I=ls({name:"options",initialState:Dre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Fre=_I.reducer,{createEventEmitter:Ire}=_I.actions;function Rre(e){return e.tooltip.syncInteraction}var Mre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},SI=ls({name:"chartData",initialState:Mre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:bE,setDataStartEndIndexes:Lre,setComputedData:Mwe}=SI.actions,$re=SI.reducer,Bre=["x","y"];function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(a){Ure(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ure(e,t,r){return(t=zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vre(e,t){if(e==null)return{};var r,a,s=Hre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Hre(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var CI=()=>{};function qre(){var e=Ye(d2),t=Ye(f2),r=Sr(),a=Ye(xF),s=Ye(Rl),i=lh(),l=FN(),o=Ye(c=>c.rootProps.className);w.useEffect(()=>{if(e==null)return CI;var c=(u,d,f)=>{if(t!==f&&e===u){if(a==="index"){var h;if(l&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x:p,y:x}=m,g=Vre(m,Bre),y=Ko(Ko(Ko({},g),typeof p=="number"&&{x:Math.max(l.x,Math.min(p,l.x+l.width))}),typeof x=="number"&&{y:Math.max(l.y,Math.min(x,l.y+l.height))}),b=Ko(Ko({},d),{},{payload:Ko(Ko({},d.payload),{},{coordinate:y})});r(b)}else r(d);return}if(s!=null){var v;if(typeof a=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=a(s,j);v=s[N]}else a==="value"&&(v=s.find(U=>String(U.value)===d.payload.label));var{coordinate:k}=d.payload;if(v==null||d.payload.active===!1||k==null||l==null){r(dw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:S}=k,T=Math.min(_,l.x+l.width),C=Math.min(S,l.y+l.height),E={x:i==="horizontal"?v.coordinate:T,y:i==="horizontal"?C:v.coordinate},A=dw({active:d.payload.active,coordinate:E,dataKey:d.payload.dataKey,index:String(v.index),label:d.payload.label});r(A)}}};return k0.on(mw,c),()=>{k0.off(mw,c)}},[o,r,t,e,a,s,i,l])}function Kre(){var e=Ye(d2),t=Ye(f2),r=Sr();w.useEffect(()=>{if(e==null)return CI;var a=(s,i,l)=>{t!==l&&e===s&&r(Lre(i))};return k0.on(yE,a),()=>{k0.off(yE,a)}},[r,t,e])}function Gre(){var e=Sr();w.useEffect(()=>{e(Ire())},[e]),qre(),Kre()}function Qre(e,t,r,a,s,i){var l=Ye(h=>bre(h,e,t)),o=Ye(f2),c=Ye(d2),u=Ye(xF),d=Ye(Rre),f=d==null?void 0:d.active;w.useEffect(()=>{if(!f&&c!=null&&o!=null){var h=dw({active:i,coordinate:r,dataKey:l,index:s,label:typeof a=="number"?String(a):a});k0.emit(mw,c,h,o)}},[f,r,l,s,a,o,c,u,i])}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function NE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(a){Xre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xre(e,t,r){return(t=Yre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yre(e){var t=Jre(e,"string");return typeof t=="symbol"?t:t+""}function Jre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zre(e){return e.dataKey}function eae(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(AX,t)}var kE=[],tae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ol.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ai(e){var t=oa(e,tae),{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:x,shared:g,trigger:y,defaultIndex:b,portal:v,axisId:j}=t,N=Sr(),k=typeof b=="number"?String(b):b;w.useEffect(()=>{N(_te({shared:g,trigger:y,axisId:j,active:r,defaultIndex:k}))},[N,g,y,j,r,k]);var _=FN(),S=lD(),T=bte(g),{activeIndex:C,isActive:E}=Ye(I=>Nre(I,T,y,k)),A=Ye(I=>jre(I,T,y,k)),U=Ye(I=>jI(I,T,y,k)),V=Ye(I=>wre(I,T,y,k)),ae=A,q=Are(),R=r??E,[P,B]=k6([ae,R]),te=T==="axis"?U:void 0;Qre(T,y,V,te,C,R);var H=v??q;if(H==null)return null;var F=ae??kE;R||(F=kE),o&&F.length&&(F=f6(ae.filter(I=>I.value!=null&&(I.hide!==!0||t.includeHidden)),d,Zre));var O=F.length>0,M=w.createElement(MX,{allowEscapeViewBox:a,animationDuration:s,animationEasing:i,isAnimationActive:c,active:R,coordinate:V,hasPayload:O,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:_,wrapperStyle:p,lastBoundingBox:P,innerRef:B,hasPortalFromProps:!!v},eae(l,NE(NE({},t),{},{payload:F,label:te,active:R,coordinate:V,accessibilityLayer:S})));return w.createElement(w.Fragment,null,hg.createPortal(M,H),R&&w.createElement(Tre,{cursor:x,tooltipEventType:T,coordinate:V,payload:ae,index:C}))}var EI={},TI={},AI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},a)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),l=void 0,o=null},g=()=>{d()},y=function(...b){if(s!=null&&s.aborted)return;l=this,o=b;const v=h==null;m(),c&&v&&d()};return y.schedule=m,y.cancel=x,y.flush=g,s==null||s.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(AI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AI;function r(a,s=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);l&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=a.apply(this,x),f=null},s,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=a.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(TI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TI;function r(a,s=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(a,s,{leading:l,maxWait:s,trailing:o})}e.throttle=r})(EI);var rae=EI.throttle;const aae=Ms(rae);var Rf=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(a){nae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nae(e,t,r){return(t=sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=iae(e,"string");return typeof t=="symbol"?t:t+""}function iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ni=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:l=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=w.useRef(null),g=w.useRef();g.current=m,w.useImperativeHandle(t,()=>x.current);var[y,b]=w.useState({containerWidth:a.width,containerHeight:a.height}),v=w.useCallback((N,k)=>{b(_=>{var S=Math.round(N),T=Math.round(k);return _.containerWidth===S&&_.containerHeight===T?_:{containerWidth:S,containerHeight:T}})},[]);w.useEffect(()=>{var N=T=>{var C,{width:E,height:A}=T[0].contentRect;v(E,A),(C=g.current)===null||C===void 0||C.call(g,E,A)};d>0&&(N=aae(N,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(N),{width:_,height:S}=x.current.getBoundingClientRect();return v(_,S),k.observe(x.current),()=>{k.disconnect()}},[v,d]);var j=w.useMemo(()=>{var{containerWidth:N,containerHeight:k}=y;if(N<0||k<0)return null;Rf(uc(s)||uc(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Rf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=uc(s)?N:s,S=uc(i)?k:i;return r&&r>0&&(_?S=_/r:S&&(_=S*r),c&&S>c&&(S=c)),Rf(_>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,S,s,i,l,o,r),w.Children.map(u,T=>w.cloneElement(T,{width:_,height:S,style:By({width:_,height:S},T.props.style)}))},[r,u,i,c,o,l,y,s]);return w.createElement("div",{id:f?"".concat(f):void 0,className:Ct("recharts-responsive-container",h),style:By(By({},p),{},{width:s,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:x},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),Co=e=>null;Co.displayName="Cell";function lae(e,t,r){return(t=oae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oae(e){var t=cae(e,"string");return typeof t=="symbol"?t:t+""}function cae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uae{constructor(t){lae(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(a){fae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fae(e,t,r){return(t=hae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hae(e){var t=mae(e,"string");return typeof t=="symbol"?t:t+""}function mae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pae={cacheSize:2e3,enableCache:!0},PI=dae({},pae),CE=new uae(PI.cacheSize),xae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EE="recharts_measurement_span";function gae(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l,"|").concat(o)}var TE=(e,t)=>{try{var r=document.getElementById(EE);r||(r=document.createElement("span"),r.setAttribute("id",EE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,xae,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Mf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ol.isSsr)return{width:0,height:0};if(!PI.enableCache)return TE(t,r);var a=gae(t,r),s=CE.get(a);if(s)return s;var i=TE(t,r);return CE.set(a,i),i},AE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bae=Object.keys(OI),Tu="NaN";function wae(e,t){return e*OI[t]}class wn{static parse(t){var r,[,a,s]=(r=yae.exec(t))!==null&&r!==void 0?r:[];return new wn(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Fn(t)&&(this.unit=""),r!==""&&!vae.test(r)&&(this.num=NaN,this.unit=""),bae.includes(r)&&(this.num=wae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wn(NaN,""):new wn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wn(NaN,""):new wn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wn(NaN,""):new wn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wn(NaN,""):new wn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fn(this.num)}}function DI(e){if(e.includes(Tu))return Tu;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,i]=(r=AE.exec(t))!==null&&r!==void 0?r:[],l=wn.parse(a??""),o=wn.parse(i??""),c=s==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Tu;t=t.replace(AE,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=PE.exec(t))!==null&&u!==void 0?u:[],m=wn.parse(d??""),p=wn.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return Tu;t=t.replace(PE,x.toString())}return t}var OE=/\(([^()]*)\)/;function jae(e){for(var t=e,r;(r=OE.exec(t))!=null;){var[,a]=r;t=t.replace(OE,DI(a))}return t}function Nae(e){var t=e.replace(/\s+/g,"");return t=jae(t),t=DI(t),t}function kae(e){try{return Nae(e)}catch{return Tu}}function Uy(e){var t=kae(e.slice(5,-1));return t===Tu?"":t}var _ae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sae=["dx","dy","angle","className","breakAll"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pw.apply(null,arguments)}function DE(e,t){if(e==null)return{};var r,a,s=Cae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Cae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var FI=/[ \f\n\r\t\v\u2028\u2029]+/,II=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];nr(t)||(r?s=t.toString().split(""):s=t.toString().split(FI));var i=s.map(o=>({word:o,width:Mf(o,a).width})),l=r?0:Mf(" ",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},Eae=(e,t,r,a,s)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,u=Je(i),d=l,f=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce((A,U)=>{var{word:V,width:ae}=U,q=A[A.length-1];if(q&&(a==null||s||q.width+ae+r<Number(a)))q.words.push(V),q.width+=ae+r;else{var R={words:[V],width:ae};A.push(R)}return A},[])},h=f(t),m=C=>C.reduce((E,A)=>E.width>A.width?E:A);if(!u||s)return h;var p=h.length>i||m(h).width>Number(a);if(!p)return h;for(var x="…",g=C=>{var E=d.slice(0,C),A=II({breakAll:c,style:o,children:E+x}).wordsWithComputedWidth,U=f(A),V=U.length>i||m(U).width>Number(a);return[V,U]},y=0,b=d.length-1,v=0,j;y<=b&&v<=d.length-1;){var N=Math.floor((y+b)/2),k=N-1,[_,S]=g(k),[T]=g(N);if(!_&&!T&&(y=N+1),_&&T&&(b=N-1),!_&&T){j=S;break}v++}return j||h},FE=e=>{var t=nr(e)?[]:e.toString().split(FI);return[{words:t}]},Tae=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:i,maxLines:l}=e;if((t||r)&&!Ol.isSsr){var o,c,u=II({breakAll:i,children:a,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return FE(a);return Eae({breakAll:i,children:a,maxLines:l,style:s},o,c,t,r)}return FE(a)},IE="#808080",jv=w.forwardRef((e,t)=>{var{x:r=0,y:a=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=IE}=e,d=DE(e,_ae),f=w.useMemo(()=>Tae({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:h,dy:m,angle:p,className:x,breakAll:g}=d,y=DE(d,Sae);if(!$i(r)||!$i(a)||f.length===0)return null;var b=r+(Je(h)?h:0),v=a+(Je(m)?m:0),j;switch(c){case"start":j=Uy("calc(".concat(i,")"));break;case"middle":j=Uy("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:j=Uy("calc(".concat(f.length-1," * -").concat(s,")"));break}var N=[];if(l){var k=f[0].width,{width:_}=d;N.push("scale(".concat(Je(_)?_/k:1,")"))}return p&&N.push("rotate(".concat(p,", ").concat(b,", ").concat(v,")")),N.length&&(y.transform=N.join(" ")),w.createElement("text",pw({},lr(y,!0),{ref:t,x:b,y:v,className:Ct("recharts-text",x),textAnchor:o,fill:u.includes("url")?IE:u}),f.map((S,T)=>{var C=S.words.join(g?"":" ");return w.createElement("tspan",{x:b,dy:T===0?j:s,key:"".concat(C,"-").concat(T)},C)}))});jv.displayName="Text";var Aae=["labelRef"];function Pae(e,t){if(e==null)return{};var r,a,s=Oae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Oae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(a){Dae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Dae(e,t,r){return(t=Fae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},el.apply(null,arguments)}var RI=w.createContext(null),Rae=e=>{var{x:t,y:r,width:a,height:s,children:i}=e,l=w.useMemo(()=>({x:t,y:r,width:a,height:s}),[t,r,a,s]);return w.createElement(RI.Provider,{value:l},i)},MI=()=>{var e=w.useContext(RI),t=FN();return e||t},Mae=w.createContext(null),Lae=()=>{var e=w.useContext(Mae),t=Ye(wF);return e||t},$ae=e=>{var{value:t,formatter:r}=e,a=nr(e.children)?t:e.children;return typeof r=="function"?r(a):a},z2=e=>e!=null&&typeof e=="function",Bae=(e,t)=>{var r=va(t-e),a=Math.min(Math.abs(t-e),360);return r*a},Uae=(e,t,r,a,s)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=s,p=(u+d)/2,x=Bae(f,h),g=x>=0?1:-1,y,b;switch(t){case"insideStart":y=f+g*i,b=m;break;case"insideEnd":y=h-g*i,b=!m;break;case"end":y=h+g*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=x<=0?b:!b;var v=Yr(o,c,p,y),j=Yr(o,c,p,y+(b?1:-1)*359),N="M".concat(v.x,",").concat(v.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),k=nr(e.id)?m0("recharts-radial-line-"):e.id;return w.createElement("text",el({},a,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:k,d:N})),w.createElement("textPath",{xlinkHref:"#".concat(k)},r))},zae=(e,t,r)=>{var{cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=Yr(a,s,l+t,u);return{x:d,y:f,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=(i+l)/2,{x:m,y:p}=Yr(a,s,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},LI=e=>"cx"in e&&Je(e.cx),Wae=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,i;r!=null&&!LI(r)&&(i=r);var{x:l,y:o,width:c,height:u}=t,d=u>=0?1:-1,f=d*a,h=d>0?"end":"start",m=d>0?"start":"end",p=c>=0?1:-1,x=p*a,g=p>0?"end":"start",y=p>0?"start":"end";if(s==="top"){var b={x:l+c/2,y:o-d*a,textAnchor:"middle",verticalAnchor:h};return Lr(Lr({},b),i?{height:Math.max(o-i.y,0),width:c}:{})}if(s==="bottom"){var v={x:l+c/2,y:o+u+f,textAnchor:"middle",verticalAnchor:m};return Lr(Lr({},v),i?{height:Math.max(i.y+i.height-(o+u),0),width:c}:{})}if(s==="left"){var j={x:l-x,y:o+u/2,textAnchor:g,verticalAnchor:"middle"};return Lr(Lr({},j),i?{width:Math.max(j.x-i.x,0),height:u}:{})}if(s==="right"){var N={x:l+c+x,y:o+u/2,textAnchor:y,verticalAnchor:"middle"};return Lr(Lr({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:u}:{})}var k=i?{width:c,height:u}:{};return s==="insideLeft"?Lr({x:l+x,y:o+u/2,textAnchor:y,verticalAnchor:"middle"},k):s==="insideRight"?Lr({x:l+c-x,y:o+u/2,textAnchor:g,verticalAnchor:"middle"},k):s==="insideTop"?Lr({x:l+c/2,y:o+f,textAnchor:"middle",verticalAnchor:m},k):s==="insideBottom"?Lr({x:l+c/2,y:o+u-f,textAnchor:"middle",verticalAnchor:h},k):s==="insideTopLeft"?Lr({x:l+x,y:o+f,textAnchor:y,verticalAnchor:m},k):s==="insideTopRight"?Lr({x:l+c-x,y:o+f,textAnchor:g,verticalAnchor:m},k):s==="insideBottomLeft"?Lr({x:l+x,y:o+u-f,textAnchor:y,verticalAnchor:h},k):s==="insideBottomRight"?Lr({x:l+c-x,y:o+u-f,textAnchor:g,verticalAnchor:h},k):s&&typeof s=="object"&&(Je(s.x)||uc(s.x))&&(Je(s.y)||uc(s.y))?Lr({x:l+Xa(s.x,c),y:o+Xa(s.y,u),textAnchor:"end",verticalAnchor:"end"},k):Lr({x:l+c/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Vae={offset:5};function Kl(e){var t=oa(e,Vae),{viewBox:r,position:a,value:s,children:i,content:l,className:o="",textBreakAll:c,labelRef:u}=t,d=Lae(),f=MI(),h=a==="center"?f:d??f,m=r||h;if(!m||nr(s)&&nr(i)&&!w.isValidElement(l)&&typeof l!="function")return null;var p=Lr(Lr({},t),{},{viewBox:m});if(w.isValidElement(l)){var{labelRef:x}=p,g=Pae(p,Aae);return w.cloneElement(l,g)}var y;if(typeof l=="function"){if(y=w.createElement(l,p),w.isValidElement(y))return y}else y=$ae(t);var b=LI(m),v=lr(t,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Uae(t,a,y,v,m);var j=b?zae(m,t.offset,t.position):Wae(t,m);return w.createElement(jv,el({ref:u,className:Ct("recharts-label",o)},v,j,{breakAll:c}),y)}Kl.displayName="Label";var Hae=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?w.createElement(Kl,el({key:"label-implicit"},a)):$i(e)?w.createElement(Kl,el({key:"label-implicit",value:e},a)):w.isValidElement(e)?e.type===Kl?w.cloneElement(e,Lr({key:"label-implicit"},a)):w.createElement(Kl,el({key:"label-implicit",content:e},a)):z2(e)?w.createElement(Kl,el({key:"label-implicit",content:e},a)):e&&typeof e=="object"?w.createElement(Kl,el({},e,{key:"label-implicit"},a)):null};function qae(e){var{label:t}=e,r=MI();return Hae(t,r)||null}var $I={},BI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(BI);var UI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(UI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BI,r=UI,a=Kg;function s(i){if(a.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})($I);var Kae=$I.last;const Gae=Ms(Kae);var Qae=["valueAccessor"],Xae=["dataKey","clockWise","id","textBreakAll"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sx.apply(null,arguments)}function ME(e,t){if(e==null)return{};var r,a,s=Yae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Yae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Jae=e=>Array.isArray(e.value)?Gae(e.value):e.value,zI=w.createContext(void 0),W2=zI.Provider,WI=w.createContext(void 0),Zae=WI.Provider;function ene(){return w.useContext(zI)}function tne(){return w.useContext(WI)}function sp(e){var{valueAccessor:t=Jae}=e,r=ME(e,Qae),{dataKey:a,clockWise:s,id:i,textBreakAll:l}=r,o=ME(r,Xae),c=ene(),u=tne(),d=c||u;return!d||!d.length?null:w.createElement(Dr,{className:"recharts-label-list"},d.map((f,h)=>{var m,p=nr(a)?t(f,h):Vt(f&&f.payload,a),x=nr(i)?{}:{id:"".concat(i,"-").concat(h)};return w.createElement(Kl,Sx({},lr(f,!0),o,x,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}sp.displayName="LabelList";function Nv(e){var{label:t}=e;return t?t===!0?w.createElement(sp,{key:"labelList-implicit"}):w.isValidElement(t)||z2(t)?w.createElement(sp,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(sp,Sx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xw.apply(null,arguments)}var V2=e=>{var{cx:t,cy:r,r:a,className:s}=e,i=Ct("recharts-dot",s);return t===+t&&r===+r&&a===+a?w.createElement("circle",xw({},Us(e),lN(e),{className:i,cx:t,cy:r,r:a})):null},VI=e=>e.graphicalItems.polarItems,rne=xe([mr,mh],g2),H2=xe([VI,zr,rne],v2),ane=xe([H2],y2),q2=xe([ane,l2],b2),nne=xe([q2,zr,H2],j2),sne=xe([q2,zr,H2],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var i,l=Vt(a,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Vt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),LE=()=>{},ine=xe([zr,UF,LE,sne,LE,wt,mr],k2),HI=xe([zr,wt,q2,nne,hh,mr,ine],_2),lne=xe([HI,zr,Fd],E2);xe([zr,HI,lne,mr],A2);var one={radiusAxis:{},angleAxis:{}},qI=ls({name:"polarAxis",initialState:one,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Lwe,removeRadiusAxis:$we,addAngleAxis:Bwe,removeAngleAxis:Uwe}=qI.actions,cne=qI.reducer;function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function BE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(a){une(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function une(e,t,r){return(t=dne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hne=(e,t)=>t,K2=xe([VI,hne],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),mne=[],G2=(e,t,r)=>(r==null?void 0:r.length)===0?mne:r,KI=xe([l2,K2,G2],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(i=>BE(BE({},t.presentationProps),i.props))),s!=null)return s}}),pne=xe([KI,K2,G2],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var i,l=Vt(a,t.nameKey,t.name),o;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=t.fill,{value:$o(l,t.dataKey),color:o,payload:a,type:t.legendType}})}),xne=xe([KI,K2,G2,la],(e,t,r,a)=>{if(!(t==null||e==null))return dse({offset:a,pieSettings:t,displayedData:e,cells:r})}),GI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(GI);var gne=GI.isPlainObject;const vne=Ms(gne);function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(a){yne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yne(e,t,r){return(t=bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cx.apply(null,arguments)}var WE=(e,t,r,a,s)=>{var i=r-a,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+s),l+="L ".concat(e+r-i/2-a,",").concat(t+s),l+="L ".concat(e,",").concat(t," Z"),l},jne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nne=e=>{var t=oa(e,jne),{x:r,y:a,upperWidth:s,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=w.useRef(),[m,p]=w.useState(-1),x=w.useRef(s),g=w.useRef(i),y=w.useRef(l),b=w.useRef(r),v=w.useRef(a),j=Ed(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var V=h.current.getTotalLength();V&&p(V)}catch{}},[]),r!==+r||a!==+a||s!==+s||i!==+i||l!==+l||s===0&&i===0||l===0)return null;var N=Ct("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",Cx({},lr(t,!0),{className:N,d:WE(r,a,s,i,l)})));var k=x.current,_=g.current,S=y.current,T=b.current,C=v.current,E="0px ".concat(m===-1?1:m,"px"),A="".concat(m,"px 0px"),U=oD(["strokeDasharray"],u,c);return w.createElement(Cd,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},V=>{var ae=Wt(k,s,V),q=Wt(_,i,V),R=Wt(S,l,V),P=Wt(T,r,V),B=Wt(C,a,V);h.current&&(x.current=ae,g.current=q,y.current=R,b.current=P,v.current=B);var te=V>0?{transition:U,strokeDasharray:A}:{strokeDasharray:E};return w.createElement("path",Cx({},lr(t,!0),{className:N,d:WE(P,B,ae,q,R),ref:h,style:zE(zE({},te),t.style)}))})},kne=["option","shapeType","propTransformer","activeClassName","isActive"];function _ne(e,t){if(e==null)return{};var r,a,s=Sne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(a){Cne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cne(e,t,r){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ene(e){var t=Tne(e,"string");return typeof t=="symbol"?t:t+""}function Tne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ane(e,t){return Ex(Ex({},t),e)}function Pne(e,t){return e==="symbols"}function HE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(fD,r);case"trapezoid":return w.createElement(Nne,r);case"sector":return w.createElement(pD,r);case"symbols":if(Pne(t))return w.createElement(hN,r);break;default:return null}}function One(e){return w.isValidElement(e)?e.props:e}function QI(e){var{option:t,shapeType:r,propTransformer:a=Ane,activeClassName:s="recharts-active-shape",isActive:i}=e,l=_ne(e,kne),o;if(w.isValidElement(t))o=w.cloneElement(t,Ex(Ex({},l),One(t)));else if(typeof t=="function")o=t(l);else if(vne(t)&&typeof t!="boolean"){var c=a(t,l);o=w.createElement(HE,{shapeType:r,elementProps:c})}else{var u=l;o=w.createElement(HE,{shapeType:r,elementProps:u})}return i?w.createElement(Dr,{className:s},o):o}var Q2=(e,t)=>{var r=Sr();return(a,s)=>i=>{e==null||e(a,s,i),r(aI({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},X2=e=>{var t=Sr();return(r,a)=>s=>{e==null||e(r,a,s),t(Ste())}},Y2=(e,t)=>{var r=Sr();return(a,s)=>i=>{e==null||e(a,s,i),r(Cte({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function kv(e){var{fn:t,args:r}=e,a=Sr(),s=rn();return w.useEffect(()=>{if(!s){var i=t(r);return a(Nte(i)),()=>{a(kte(i))}}},[t,r,a,s]),null}var XI=()=>{};function J2(e){var{legendPayload:t}=e,r=Sr(),a=rn();return w.useEffect(()=>a?XI:(r(sD(t)),()=>{r(iD(t))}),[r,a,t]),null}function Dne(e){var{legendPayload:t}=e,r=Sr(),a=Ye(wt);return w.useEffect(()=>a!=="centric"&&a!=="radial"?XI:(r(sD(t)),()=>{r(iD(t))}),[r,a,t]),null}var zy,Fne=()=>{var[e]=w.useState(()=>m0("uid-"));return e},Ine=(zy=DA.useId)!==null&&zy!==void 0?zy:Fne;function Rne(e,t){var r=Ine();return t||(e?"".concat(e,"-").concat(r):r)}var Mne=w.createContext(void 0),_v=e=>{var{id:t,type:r,children:a}=e,s=Rne("recharts-".concat(r),t);return w.createElement(Mne.Provider,{value:s},a(s))},Lne={cartesianItems:[],polarItems:[]},YI=ls({name:"graphicalItems",initialState:Lne,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:a}=t.payload,s=fl(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},removeCartesianGraphicalItem(e,t){var r=fl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=fl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:$ne,replaceCartesianGraphicalItem:Bne,removeCartesianGraphicalItem:Une,addPolarGraphicalItem:zne,removePolarGraphicalItem:Wne}=YI.actions,Vne=YI.reducer;function Z2(e){var t=Sr(),r=w.useRef(null);return w.useEffect(()=>{r.current===null?t($ne(e)):r.current!==e&&t(Bne({prev:r.current,next:e})),r.current=e},[t,e]),w.useEffect(()=>()=>{r.current&&(t(Une(r.current)),r.current=null)},[t]),null}function Hne(e){var t=Sr();return w.useEffect(()=>(t(zne(e)),()=>{t(Wne(e))}),[t,e]),null}var qne=["onMouseEnter","onClick","onMouseLeave"],Kne=["id"],Gne=["id"];function ek(e,t){if(e==null)return{};var r,a,s=Qne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Qne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(a){Xne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xne(e,t,r){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yne(e){var t=Jne(e,"string");return typeof t=="symbol"?t:t+""}function Jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Eo.apply(null,arguments)}function Zne(e){var t=w.useMemo(()=>oN(e.children,Co),[e.children]),r=Ye(a=>pne(a,e.id,t));return r==null?null:w.createElement(Dne,{legendPayload:r})}function ese(e){var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:i,fill:l,name:o,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:a.map(d=>d.tooltipPayload),positions:a.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:$o(o,t),hide:c,type:u,color:l,unit:""}}}var tse=(e,t)=>e>t?"start":e<t?"end":"middle",rse=(e,t,r)=>Xa(typeof t=="function"?t(e):t,r,r*.8),ase=(e,t,r)=>{var{top:a,left:s,width:i,height:l}=t,o=Q6(i,l),c=s+Xa(e.cx,i,i/2),u=a+Xa(e.cy,l,l/2),d=Xa(e.innerRadius,o,0),f=rse(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},nse=(e,t)=>{var r=va(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function sse(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ise=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ct("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return w.createElement(Uu,Eo({},t,{type:"linear",className:r}))},lse=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),w.isValidElement(a)))return a;var s=Ct("recharts-pie-label-text",sse(e));return w.createElement(jv,Eo({},t,{alignmentBaseline:"middle",className:s}),a)};function ose(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:i,dataKey:l}=r;if(!a||!s||!t)return null;var o=Us(r),c=lr(s,!1),u=lr(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,x=Yr(h.cx,h.cy,h.outerRadius+d,p),g=cr(cr(cr(cr({},o),h),{},{stroke:"none"},c),{},{index:m,textAnchor:tse(x.x,h.cx)},x),y=cr(cr(cr(cr({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Yr(h.cx,h.cy,h.outerRadius,p),x],key:"line"});return w.createElement(Dr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&ise(i,y),lse(s,g,Vt(h,l)))});return w.createElement(Dr,{className:"recharts-pie-labels"},f)}function cse(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?w.createElement(Nv,{label:s}):w.createElement(ose,{sectors:t,props:r,showLabels:a})}function use(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s}=e,i=Ye(So),{onMouseEnter:l,onClick:o,onMouseLeave:c}=s,u=ek(s,qne),d=Q2(l,s.dataKey),f=X2(c),h=Y2(o,s.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var x=r&&String(p)===i,g=i?a:null,y=x?r:g,b=cr(cr({},m),{},{stroke:m.stroke,tabIndex:-1,[tD]:p,[rD]:s.dataKey});return w.createElement(Dr,Eo({tabIndex:-1,className:"recharts-pie-sector"},ah(u,m,p),{onMouseEnter:d(m,p),onMouseLeave:f(m,p),onClick:h(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),w.createElement(QI,Eo({option:y,isActive:x,shapeType:"sector"},b)))}))}function dse(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=nse(o,c),p=Math.abs(m),x=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=a.filter(k=>Vt(k,u,0)!==0).length,y=(p>=360?g:g-1)*x,b=p-g*h-y,v=a.reduce((k,_)=>{var S=Vt(_,u,0);return k+(Je(S)?S:0)},0),j;if(v>0){var N;j=a.map((k,_)=>{var S=Vt(k,u,0),T=Vt(k,d,_),C=ase(r,i,k),E=(Je(S)?S:0)/v,A,U=cr(cr({},k),s&&s[_]&&s[_].props);_?A=N.endAngle+va(m)*x*(S!==0?1:0):A=o;var V=A+va(m)*((S!==0?h:0)+E*b),ae=(A+V)/2,q=(C.innerRadius+C.outerRadius)/2,R=[{name:T,value:S,payload:U,dataKey:u,type:f}],P=Yr(C.cx,C.cy,q,ae);return N=cr(cr(cr(cr({},r.presentationProps),{},{percent:E,cornerRadius:l,name:T,tooltipPayload:R,midAngle:ae,middleRadius:q,tooltipPosition:P},U),C),{},{value:S,startAngle:A,endAngle:V,payload:U,paddingAngle:va(m)*x}),N})}return j}function fse(e){var{showLabels:t,sectors:r,children:a}=e,s=w.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return w.createElement(Zae,{value:t?s:void 0},a)}function hse(e){var{props:t,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=Ed(t,"recharts-pie-"),m=r.current,[p,x]=w.useState(!1),g=w.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),y=w.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return w.createElement(fse,{showLabels:!p,sectors:a},w.createElement(Cd,{animationId:h,begin:i,duration:l,isActive:s,easing:o,onAnimationStart:y,onAnimationEnd:g,key:h},b=>{var v=[],j=a&&a[0],N=j==null?void 0:j.startAngle;return a==null||a.forEach((k,_)=>{var S=m&&m[_],T=_>0?Rc(k,"paddingAngle",0):0;if(S){var C=Wt(S.endAngle-S.startAngle,k.endAngle-k.startAngle,b),E=cr(cr({},k),{},{startAngle:N+T,endAngle:N+C+T});v.push(E),N=E.endAngle}else{var{endAngle:A,startAngle:U}=k,V=Wt(0,A-U,b),ae=cr(cr({},k),{},{startAngle:N+T,endAngle:N+V+T});v.push(ae),N=ae.endAngle}}),r.current=v,w.createElement(Dr,null,w.createElement(use,{sectors:v,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),w.createElement(cse,{showLabels:!p,sectors:a,props:t}),t.children)}var mse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ol.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function pse(e){var{id:t}=e,r=ek(e,Kne),{hide:a,className:s,rootTabIndex:i}=e,l=w.useMemo(()=>oN(e.children,Co),[e.children]),o=Ye(d=>xne(d,t,l)),c=w.useRef(null),u=Ct("recharts-pie",s);return a||o==null?(c.current=null,w.createElement(Dr,{tabIndex:i,className:u})):w.createElement(w.Fragment,null,w.createElement(kv,{fn:ese,args:cr(cr({},e),{},{sectors:o})}),w.createElement(Dr,{tabIndex:i,className:u},w.createElement(hse,{props:cr(cr({},r),{},{sectors:o}),previousSectorsRef:c})))}function _0(e){var t=oa(e,mse),{id:r}=t,a=ek(t,Gne),s=Us(a);return w.createElement(_v,{id:r,type:"pie"},i=>w.createElement(w.Fragment,null,w.createElement(Hne,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),w.createElement(Zne,Eo({},a,{id:i})),w.createElement(pse,Eo({},a,{id:i}))))}_0.displayName="Pie";function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function GE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(a){xse(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xse(e,t,r){return(t=gse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gse(e){var t=vse(e,"string");return typeof t=="symbol"?t:t+""}function vse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yse={xAxis:{},yAxis:{},zAxis:{}},JI=ls({name:"cartesianAxis",initialState:yse,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload;e.yAxis[r]&&(e.yAxis[r]=GE(GE({},e.yAxis[r]),{},{width:a}))}}}),{addXAxis:bse,removeXAxis:wse,addYAxis:jse,removeYAxis:Nse,addZAxis:zwe,removeZAxis:Wwe,updateYAxisWidth:kse}=JI.actions,_se=JI.reducer,Sse=xe([la],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Cse=xe([Sse,Al,Pl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Sv=()=>Ye(Cse),Ese=()=>Ye(hre);function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(a){Tse(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tse(e,t,r){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ase(e){var t=Pse(e,"string");return typeof t=="symbol"?t:t+""}function Pse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ose=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var l=XE(XE({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},lr(s,!1)),lN(s)),o;return w.isValidElement(s)?o=w.cloneElement(s,l):typeof s=="function"?o=s(l):o=w.createElement(V2,l),w.createElement(Dr,{className:"recharts-active-dot"},o)};function gw(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s}=e,i=Ye(So),l=Ese();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return nr(o)?null:Ose({point:o,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:a})}var Dse="Invariant failed";function Fse(e,t){throw new Error(Dse)}var Ise=["x","y"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vw.apply(null,arguments)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(a){Rse(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rse(e,t,r){return(t=Mse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mse(e){var t=Lse(e,"string");return typeof t=="symbol"?t:t+""}function Lse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $se(e,t){if(e==null)return{};var r,a,s=Bse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Bse(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Use(e,t){var{x:r,y:a}=e,s=$se(e,Ise),i="".concat(r),l=parseInt(i,10),o="".concat(a),c=parseInt(o,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return uf(uf(uf(uf(uf({},t),s),l?{x:l}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function tk(e){return w.createElement(QI,vw({shapeType:"rectangle",propTransformer:Use,activeClassName:"recharts-active-bar"},e))}var zse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Je(t))return t;var i=Je(a)||nr(a);return i?t(a,s):(i||Fse(),r)}},Wse={},ZI=ls({name:"errorBars",initialState:Wse,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:Vwe,replaceErrorBar:Hwe,removeErrorBar:qwe}=ZI.actions,Vse=ZI.reducer,Hse=["children"];function qse(e,t){if(e==null)return{};var r,a,s=Kse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kse(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Gse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qse=w.createContext(Gse);function eR(e){var{children:t}=e,r=qse(e,Hse);return w.createElement(Qse.Provider,{value:r},t)}function Cv(e,t){var r,a,s=Ye(u=>Fl(u,e)),i=Ye(u=>Il(u,t)),l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Rn.allowDataOverflow,o=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:Mn.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function rk(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=Sv(),{needClipX:i,needClipY:l,needClip:o}=Cv(t,r);if(!o)return null;var{x:c,y:u,width:d,height:f}=s;return w.createElement("clipPath",{id:"clipPath-".concat(a)},w.createElement("rect",{x:i?c:c-d/2,y:l?u:u-f/2,width:i?d:d*2,height:l?f:f*2}))}var Xse=["onMouseEnter","onMouseLeave","onClick"],Yse=["value","background","tooltipPosition"],Jse=["id"],Zse=["onMouseEnter","onClick","onMouseLeave"];function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},To.apply(null,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(a){eie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eie(e,t,r){return(t=tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tx(e,t){if(e==null)return{};var r,a,s=aie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function aie(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var nie=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:a,value:$o(r,t),payload:e}]};function sie(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:$o(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function iie(e){var t=Ye(So),{data:r,dataKey:a,background:s,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,u=Tx(i,Xse),d=Q2(l,a),f=X2(o),h=Y2(c,a);if(!s||r==null)return null;var m=lr(s,!1);return w.createElement(w.Fragment,null,r.map((p,x)=>{var{value:g,background:y,tooltipPosition:b}=p,v=Tx(p,Yse);if(!y)return null;var j=d(p,x),N=f(p,x),k=h(p,x),_=dn(dn(dn(dn(dn({option:s,isActive:String(x)===t},v),{},{fill:"#eee"},y),m),ah(u,p,x)),{},{onMouseEnter:j,onMouseLeave:N,onClick:k,dataKey:a,index:x,className:"recharts-bar-background-rectangle"});return w.createElement(tk,To({key:"background-bar-".concat(_.index)},_))}))}function lie(e){var{showLabels:t,children:r,rects:a}=e,s=a==null?void 0:a.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return dn(dn({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return w.createElement(W2,{value:t?s:void 0},r)}function oie(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:i,dataKey:l}=e,o=Ye(So),c=Ye(xI),u=r&&String(i)===o&&(c==null||l===c),d=u?r:t;return w.createElement(tk,To({},a,s,{isActive:u,option:d,index:i,dataKey:l}))}function cie(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:i}=e;return w.createElement(tk,To({},r,a,{isActive:!1,option:t,index:s,dataKey:i}))}function uie(e){var{data:t,props:r}=e,a=Us(r),{id:s}=a,i=Tx(a,Jse),{shape:l,dataKey:o,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:f}=r,h=Tx(r,Zse),m=Q2(u,o),p=X2(f),x=Y2(d,o);return t?w.createElement(w.Fragment,null,t.map((g,y)=>w.createElement(Dr,To({className:"recharts-bar-rectangle"},ah(h,g,y),{onMouseEnter:m(g,y),onMouseLeave:p(g,y),onClick:x(g,y),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),c?w.createElement(oie,{shape:l,activeBar:c,baseProps:i,entry:g,index:y,dataKey:o}):w.createElement(cie,{shape:l,baseProps:i,entry:g,index:y,dataKey:o})))):null}function die(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Ed(t,"recharts-bar-"),[m,p]=w.useState(!1),x=!m,g=w.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),y=w.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return w.createElement(lie,{showLabels:x,rects:a},w.createElement(Cd,{animationId:h,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:g,onAnimationStart:y,key:h},b=>{var v=b===1?a:a==null?void 0:a.map((j,N)=>{var k=f&&f[N];if(k)return dn(dn({},j),{},{x:Wt(k.x,j.x,b),y:Wt(k.y,j.y,b),width:Wt(k.width,j.width,b),height:Wt(k.height,j.height,b)});if(s==="horizontal"){var _=Wt(0,j.height,b);return dn(dn({},j),{},{y:j.y+j.height-_,height:_})}var S=Wt(0,j.width,b);return dn(dn({},j),{},{width:S})});return b>0&&(r.current=v??null),v==null?null:w.createElement(Dr,null,w.createElement(uie,{props:t,data:v}))}),w.createElement(Nv,{label:t.label}),t.children)}function fie(e){var t=w.useRef(null);return w.createElement(die,{previousRectanglesRef:t,props:e})}var tR=0,hie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Vt(e,t)}};class mie extends w.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:i,yAxisId:l,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ct("recharts-bar",s),f=u;return w.createElement(Dr,{className:d,id:u},o&&w.createElement("defs",null,w.createElement(rk,{clipPathId:f,xAxisId:i,yAxisId:l})),w.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(iie,{data:r,dataKey:a,background:c,allOtherBarProps:this.props}),w.createElement(fie,this.props)))}}var pie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ol.isSsr,legendType:"rect",minPointSize:tR,xAxisId:0,yAxisId:0};function xie(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Cv(t,r),h=lh(),m=rn(),p=oN(e.children,Co),x=Ye(b=>Vie(b,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var g,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?g=0:g=h==="vertical"?y.height/2:y.width/2,w.createElement(eR,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:hie,errorBarOffset:g},w.createElement(mie,To({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function gie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p}=e,x=t==="horizontal"?o:l,g=d?x.scale.domain():null,y=qQ({numericAxis:x});return f.map((b,v)=>{var j,N,k,_,S,T;d?j=UQ(d[v],g):(j=Vt(b,r),Array.isArray(j)||(j=[y,j]));var C=zse(a,tR)(j[1],v);if(t==="horizontal"){var E,[A,U]=[o.scale(j[0]),o.scale(j[1])];N=J4({axis:l,ticks:c,bandSize:i,offset:s.offset,entry:b,index:v}),k=(E=U??A)!==null&&E!==void 0?E:void 0,_=s.size;var V=A-U;if(S=Fn(V)?0:V,T={x:N,y:h.top,width:_,height:h.height},Math.abs(C)>0&&Math.abs(S)<Math.abs(C)){var ae=va(S||C)*(Math.abs(C)-Math.abs(S));k-=ae,S+=ae}}else{var[q,R]=[l.scale(j[0]),l.scale(j[1])];if(N=q,k=J4({axis:o,ticks:u,bandSize:i,offset:s.offset,entry:b,index:v}),_=R-q,S=s.size,T={x:h.left,y:k,width:h.width,height:S},Math.abs(C)>0&&Math.abs(_)<Math.abs(C)){var P=va(_||C)*(Math.abs(C)-Math.abs(_));_+=P}}if(N==null||k==null||_==null||S==null)return null;var B=dn(dn({},b),{},{x:N,y:k,width:_,height:S,value:d?j:j[1],payload:b,background:T,tooltipPosition:{x:N+_/2,y:k+S/2},parentViewBox:p},m&&m[v]&&m[v].props);return B}).filter(Boolean)}function vie(e){var t=oa(e,pie),r=rn();return w.createElement(_v,{id:t.id,type:"bar"},a=>w.createElement(w.Fragment,null,w.createElement(J2,{legendPayload:nie(t)}),w.createElement(kv,{fn:sie,args:t}),w.createElement(Z2,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Z6(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(xie,To({},t,{id:a}))))}var S0=w.memo(vie);S0.displayName="Bar";function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(a){yie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yie(e,t,r){return(t=bie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bie(e){var t=wie(e,"string");return typeof t=="symbol"?t:t+""}function wie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jie=(e,t)=>t,Nie=(e,t,r)=>r,kie=(e,t,r,a)=>a,_ie=(e,t,r,a,s)=>s,wh=xe([xh,_ie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Sie=xe([wh],e=>e==null?void 0:e.maxBarSize),Cie=(e,t,r,a,s,i)=>i,eT=(e,t,r)=>{var a=r??e;if(!nr(a))return Xa(a,t,0)},Eie=xe([wt,xh,jie,Nie,kie],(e,t,r,a,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Tie=(e,t,r,a)=>{var s=wt(e);return s==="horizontal"?N0(e,"yAxis",r,a):N0(e,"xAxis",t,a)},Aie=(e,t,r)=>{var a=wt(e);return a==="horizontal"?dE(e,"xAxis",t):dE(e,"yAxis",r)},Pie=(e,t,r)=>{var a={},s=e.filter(pv),i=e.filter(u=>u.stackId==null),l=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),a),o=Object.entries(l).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=eT(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=eT(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},Oie=xe([Eie,jee,Aie],Pie),Die=(e,t,r,a,s)=>{var i,l,o=wh(e,t,r,a,s);if(o!=null){var c=wt(e),u=mF(e),{maxBarSize:d}=o,f=nr(d)?u:d,h,m;return c==="horizontal"?(h=zi(e,"xAxis",t,a),m=Ui(e,"xAxis",t,a)):(h=zi(e,"yAxis",r,a),m=Ui(e,"yAxis",r,a)),(i=(l=$c(h,m,!0))!==null&&l!==void 0?l:f)!==null&&i!==void 0?i:0}},rR=(e,t,r,a)=>{var s=wt(e),i,l;return s==="horizontal"?(i=zi(e,"xAxis",t,a),l=Ui(e,"xAxis",t,a)):(i=zi(e,"yAxis",r,a),l=Ui(e,"yAxis",r,a)),$c(i,l)};function Fie(e,t,r,a,s){var i=a.length;if(!(i<1)){var l=Xa(e,r,0,!0),o,c=[];if(Ia(a[0].barSize)){var u=!1,d=r/i,f=a.reduce((y,b)=>y+(b.barSize||0),0);f+=(i-1)*l,f>=r&&(f-=(i-1)*l,l=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-l,size:0};o=a.reduce((y,b)=>{var v,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+l,size:u?d:(v=b.barSize)!==null&&v!==void 0?v:0}},N=[...y,j];return m=N[N.length-1].position,N},c)}else{var p=Xa(t,r,0,!0);r-2*p-(i-1)*l<=0&&(l=0);var x=(r-2*p-(i-1)*l)/i;x>1&&(x>>=0);var g=Ia(s)?Math.min(x,s):x;o=a.reduce((y,b,v)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(x+l)*v+(x-g)/2,size:g}}],c)}return o}}var Iie=(e,t,r,a,s,i,l)=>{var o=nr(l)?t:l,c=Fie(r,a,s!==i?s:i,e,o);return s!==i&&c!=null&&(c=c.map(u=>xm(xm({},u),{},{position:xm(xm({},u.position),{},{offset:u.position.offset-s/2})}))),c},Rie=xe([Oie,mF,wee,pF,Die,rR,Sie],Iie),Mie=(e,t,r,a)=>zi(e,"xAxis",t,a),Lie=(e,t,r,a)=>zi(e,"yAxis",r,a),$ie=(e,t,r,a)=>Ui(e,"xAxis",t,a),Bie=(e,t,r,a)=>Ui(e,"yAxis",r,a),Uie=xe([Rie,wh],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),zie=(e,t)=>{var r=mv(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:i}=s;if(i)return i.find(l=>l.key===r)}}}},Wie=xe([Tie,wh],zie),Vie=xe([la,DN,Mie,Lie,$ie,Bie,Uie,wt,fh,rR,Wie,wh,Cie],(e,t,r,a,s,i,l,o,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||a==null||s==null||i==null||u==null)){var{data:g}=f,y;if(g!=null&&g.length>0?y=g:y=m==null?void 0:m.slice(p,x+1),y!=null)return gie({layout:o,barSettings:f,pos:l,parentViewBox:t,bandSize:u,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:h})}}),aR=e=>{var{chartData:t}=e,r=Sr(),a=rn();return w.useEffect(()=>a?()=>{}:(r(bE(t)),()=>{r(bE(void 0))}),[t,r,a]),null},tT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},nR=ls({name:"brush",initialState:tT,reducers:{setBrushSettings(e,t){return t.payload==null?tT:t.payload}}}),{setBrushSettings:Kwe}=nR.actions,Hie=nR.reducer;function qie(e,t,r){return(t=Kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kie(e){var t=Gie(e,"string");return typeof t=="symbol"?t:t+""}function Gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ak{static create(t){return new ak(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}qie(ak,"EPS",1e-4);function Qie(e){return(e%180+180)%180}var Xie=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Qie(s),l=i*Math.PI/180,o=Math.atan(a/r),c=l>o&&l<Math.PI-o?a/Math.sin(l):r/Math.cos(l);return Math.abs(c)},Yie={dots:[],areas:[],lines:[]},sR=ls({name:"referenceElements",initialState:Yie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fl(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fl(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fl(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Gwe,removeDot:Qwe,addArea:Xwe,removeArea:Ywe,addLine:Jwe,removeLine:Zwe}=sR.actions,Jie=sR.reducer,Zie=w.createContext(void 0),ele=e=>{var{children:t}=e,[r]=w.useState("".concat(m0("recharts"),"-clip")),a=Sv();if(a==null)return null;var{x:s,y:i,width:l,height:o}=a;return w.createElement(Zie.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:s,y:i,height:o,width:l}))),t)};function hd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function iR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function tle(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Xie(a,r)}function rle(e,t,r){var a=r==="width",{x:s,y:i,width:l,height:o}=e;return t===1?{start:a?s:i,end:a?s+l:i+o}:{start:a?s+l:i+o,end:a?s:i}}function Ax(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function ale(e,t){return iR(e,t+1)}function nle(e,t,r,a,s){for(var i=(a||[]).slice(),{start:l,end:o}=t,c=0,u=1,d=l,f=function(){var p=a==null?void 0:a[c];if(p===void 0)return{v:iR(a,u)};var x=c,g,y=()=>(g===void 0&&(g=r(p,x)),g),b=p.coordinate,v=c===0||Ax(e,b,y,d,o);v||(c=0,d=l,u+=1),v&&(d=b+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(a){sle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sle(e,t,r){return(t=ile(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ile(e){var t=lle(e,"string");return typeof t=="symbol"?t:t+""}function lle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ole(e,t,r,a,s){for(var i=(a||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,u=function(h){var m=i[h],p,x=()=>(p===void 0&&(p=r(m,h)),p);if(h===l-1){var g=e*(m.coordinate+e*x()/2-c);i[h]=m=Ua(Ua({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[h]=m=Ua(Ua({},m),{},{tickCoord:m.coordinate});var y=Ax(e,m.tickCoord,x,o,c);y&&(c=m.tickCoord-e*(x()/2+s),i[h]=Ua(Ua({},m),{},{isShow:!0}))},d=l-1;d>=0;d--)u(d);return i}function cle(e,t,r,a,s,i){var l=(a||[]).slice(),o=l.length,{start:c,end:u}=t;if(i){var d=a[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);l[o-1]=d=Ua(Ua({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ax(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+s),l[o-1]=Ua(Ua({},d),{},{isShow:!0}))}for(var p=i?o-1:o,x=function(b){var v=l[b],j,N=()=>(j===void 0&&(j=r(v,b)),j);if(b===0){var k=e*(v.coordinate-e*N()/2-c);l[b]=v=Ua(Ua({},v),{},{tickCoord:k<0?v.coordinate-k*e:v.coordinate})}else l[b]=v=Ua(Ua({},v),{},{tickCoord:v.coordinate});var _=Ax(e,v.tickCoord,N,c,u);_&&(c=v.tickCoord+e*(N()/2+s),l[b]=Ua(Ua({},v),{},{isShow:!0}))},g=0;g<p;g++)x(g);return l}function nk(e,t,r){var{tick:a,ticks:s,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!s||!s.length||!a)return[];if(Je(c)||Ol.isSsr){var h;return(h=ale(s,Je(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",x=d&&p==="width"?Mf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(v,j)=>{var N=typeof u=="function"?u(v.value,j):v.value;return p==="width"?tle(Mf(N,{fontSize:t,letterSpacing:r}),x,f):Mf(N,{fontSize:t,letterSpacing:r})[p]},y=s.length>=2?va(s[1].coordinate-s[0].coordinate):1,b=rle(i,y,p);return c==="equidistantPreserveStart"?nle(y,b,g,s,l):(c==="preserveStart"||c==="preserveStartEnd"?m=cle(y,b,g,s,l,c==="preserveStartEnd"):m=ole(y,b,g,s,l),m.filter(v=>v.isShow))}var ule=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=s+i,u=l+c+o+(r?a:0);return Math.round(u)}return 0},dle=["axisLine","width","height","className","hide","ticks"],fle=["viewBox"],hle=["viewBox"];function yw(e,t){if(e==null)return{};var r,a,s=mle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mle(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uc.apply(null,arguments)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(a){ple(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ple(e,t,r){return(t=xle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xle(e){var t=gle(e,"string");return typeof t=="symbol"?t:t+""}function gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sk={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function vle(e){var{x:t,y:r,width:a,height:s,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=ta(ta(ta({},c),lr(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!l||i==="bottom"&&l);u=ta(ta({},u),{},{x1:t,y1:r+d*s,x2:t+a,y2:r+d*s})}else{var f=+(i==="left"&&!l||i==="right"&&l);u=ta(ta({},u),{},{x1:t+f*a,y1:r,x2:t+f*a,y2:r+s})}return w.createElement("line",Uc({},u,{className:Ct("recharts-cartesian-axis-line",Rc(o,"className"))}))}function yle(e,t,r,a,s,i,l,o,c){var u,d,f,h,m,p,x=o?-1:1,g=e.tickSize||l,y=Je(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!o*s,f=h-x*g,p=f-x*c,m=y;break;case"left":f=h=e.coordinate,d=t+ +!o*a,u=d-x*g,m=u-x*c,p=y;break;case"right":f=h=e.coordinate,d=t+ +o*a,u=d+x*g,m=u+x*c,p=y;break;default:u=d=e.coordinate,h=r+ +o*s,f=h+x*g,p=f+x*c,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function ble(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wle(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function jle(e){var{option:t,tickProps:r,value:a}=e,s,i=Ct(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))s=w.cloneElement(t,ta(ta({},r),{},{className:i}));else if(typeof t=="function")s=t(ta(ta({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ct(l,t==null?void 0:t.className)),s=w.createElement(jv,Uc({},r,{className:l}),a)}return s}function Nle(e){var{ticks:t=[],tick:r,tickLine:a,stroke:s,tickFormatter:i,unit:l,padding:o,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:p,tickSize:x,tickMargin:g,fontSize:y,letterSpacing:b,getTicksConfig:v,events:j}=e,N=nk(ta(ta({},v),{},{ticks:t}),y,b),k=ble(u,d),_=wle(u,d),S=Us(v),T=lr(r,!1),C=ta(ta({},S),{},{fill:"none"},lr(a,!1)),E=N.map((A,U)=>{var{line:V,tick:ae}=yle(A,f,h,m,p,u,x,d,g),q=ta(ta(ta(ta({textAnchor:k,verticalAnchor:_},S),{},{stroke:"none",fill:s},T),ae),{},{index:U,payload:A,visibleTicksCount:N.length,tickFormatter:i,padding:o},c);return w.createElement(Dr,Uc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},ah(j,A,U)),a&&w.createElement("line",Uc({},C,V,{className:Ct("recharts-cartesian-axis-tick-line",Rc(a,"className"))})),r&&w.createElement(jle,{option:r,tickProps:q,value:"".concat(typeof i=="function"?i(A.value,U):A.value).concat(l||"")}))});return E.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}var kle=w.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:i,hide:l,ticks:o}=e,c=yw(e,dle),[u,d]=w.useState(""),[f,h]=w.useState(""),m=w.useRef([]);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return ule({ticks:m.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=w.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(g);var y=g[0];if(y){var b=window.getComputedStyle(y),v=b.fontSize,j=b.letterSpacing;(v!==u||j!==f)&&(d(v),h(j))}}},[u,f]);return l||a!=null&&a<=0||s!=null&&s<=0?null:w.createElement(Dr,{className:Ct("recharts-cartesian-axis",i),ref:p},w.createElement(vle,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Us(e)}),w.createElement(Nle,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),w.createElement(Rae,{x:e.x,y:e.y,width:e.width,height:e.height},w.createElement(qae,{label:e.label}),e.children))}),_le=w.memo(kle,(e,t)=>{var{viewBox:r}=e,a=yw(e,fle),{viewBox:s}=t,i=yw(t,hle);return hd(r,s)&&hd(a,i)}),ik=w.forwardRef((e,t)=>{var r=oa(e,sk);return w.createElement(_le,Uc({},r,{ref:t}))});ik.displayName="CartesianAxis";var Sle=["x1","y1","x2","y2","key"],Cle=["offset"],Ele=["xAxisId","yAxisId"],Tle=["xAxisId","yAxisId"];function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(a){Ale(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ale(e,t,r){return(t=Ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ple(e){var t=Ole(e,"string");return typeof t=="symbol"?t:t+""}function Ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hc.apply(null,arguments)}function Px(e,t){if(e==null)return{};var r,a,s=Dle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Dle(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Fle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:i,height:l,ry:o}=e;return w.createElement("rect",{x:a,y:s,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function lR(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:a,y1:s,x2:i,y2:l,key:o}=t,c=Px(t,Sle),u=Us(c),{offset:d}=u,f=Px(u,Cle);r=w.createElement("line",hc({},f,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:o}))}return r}function Ile(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Px(e,Ele),c=s.map((u,d)=>{var f=Ha(Ha({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return lR(a,f)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Rle(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Px(e,Tle),c=s.map((u,d)=>{var f=Ha(Ha({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return lR(a,f)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Mle(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?s+l-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:a,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Lle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?s+l-f:u[h+1]-f;if(p<=0)return null;var x=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:o,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $le=(e,t)=>{var{xAxis:r,width:a,height:s,offset:i}=e;return Y6(nk(Ha(Ha(Ha({},sk),r),{},{ticks:J6(r),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,t)},Ble=(e,t)=>{var{yAxis:r,width:a,height:s,offset:i}=e;return Y6(nk(Ha(Ha(Ha({},sk),r),{},{ticks:J6(r),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,t)},Ule={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function go(e){var t=IN(),r=RN(),a=aD(),s=Ha(Ha({},oa(e,Ule)),{},{x:Je(e.x)?e.x:a.left,y:Je(e.y)?e.y:a.top,width:Je(e.width)?e.width:a.width,height:Je(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=s,p=rn(),x=Ye(T=>fE(T,"xAxis",i,p)),g=Ye(T=>fE(T,"yAxis",l,p));if(!Je(u)||u<=0||!Je(d)||d<=0||!Je(o)||o!==+o||!Je(c)||c!==+c)return null;var y=s.verticalCoordinatesGenerator||$le,b=s.horizontalCoordinatesGenerator||Ble,{horizontalPoints:v,verticalPoints:j}=s;if((!v||!v.length)&&typeof b=="function"){var N=h&&h.length,k=b({yAxis:g?Ha(Ha({},g),{},{ticks:N?h:g.ticks}):void 0,width:t,height:r,offset:a},N?!0:f);Rf(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(v=k)}if((!j||!j.length)&&typeof y=="function"){var _=m&&m.length,S=y({xAxis:x?Ha(Ha({},x),{},{ticks:_?m:x.ticks}):void 0,width:t,height:r,offset:a},_?!0:f);Rf(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Fle,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),w.createElement(Mle,hc({},s,{horizontalPoints:v})),w.createElement(Lle,hc({},s,{verticalPoints:j})),w.createElement(Ile,hc({},s,{offset:a,horizontalPoints:v,xAxis:x,yAxis:g})),w.createElement(Rle,hc({},s,{offset:a,verticalPoints:j,xAxis:x,yAxis:g})))}go.displayName="CartesianGrid";var oR=(e,t,r,a)=>zi(e,"xAxis",t,a),cR=(e,t,r,a)=>Ui(e,"xAxis",t,a),uR=(e,t,r,a)=>zi(e,"yAxis",r,a),dR=(e,t,r,a)=>Ui(e,"yAxis",r,a),zle=xe([wt,oR,uR,cR,dR],(e,t,r,a,s)=>Hi(e,"xAxis")?$c(t,a,!1):$c(r,s,!1)),Wle=(e,t,r,a,s)=>s;function Vle(e){return e.type==="line"}var Hle=xe([xh,Wle],(e,t)=>e.filter(Vle).find(r=>r.id===t)),qle=xe([wt,oR,uR,cR,dR,Hle,zle,fh],(e,t,r,a,s,i,l,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||a==null||s==null||a.length===0||s.length===0||l==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return moe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:f,bandSize:l,displayedData:m})}}),Kle=["id"],Gle=["type","layout","connectNulls","needClip"],Qle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(a){Xle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xle(e,t,r){return(t=Yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yle(e){var t=Jle(e,"string");return typeof t=="symbol"?t:t+""}function Jle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lk(e,t){if(e==null)return{};var r,a,s=Zle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zle(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zc.apply(null,arguments)}var eoe=e=>{var{dataKey:t,name:r,stroke:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:a,value:$o(r,t),payload:e}]};function toe(e){var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:$o(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var fR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function roe(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],s=0;s<t;++s)a=[...a,...r];return a}var aoe=(e,t,r)=>{var a=r.reduce((f,h)=>f+h);if(!a)return fR(t,e);for(var s=Math.floor(e/a),i=e%a,l=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,l]:[l];return[...roe(r,s),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function noe(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Ct("recharts-line-dot",typeof e!="boolean"?e.className:"");r=w.createElement(V2,zc({},t,{className:a}))}return r}function soe(e,t){return e==null?!1:t?!0:e.length===1}function ioe(e){var{clipPathId:t,points:r,props:a}=e,{dot:s,dataKey:i,needClip:l}=a;if(!soe(r,s))return null;var{id:o}=a,c=lk(a,Kle),u=Wg(s),d=Us(c),f=lr(s,!0),h=r.map((p,x)=>{var g=Bn(Bn(Bn({key:"dot-".concat(x),r:3},d),f),{},{index:x,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return noe(s,g)}),m={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return w.createElement(Dr,zc({className:"recharts-line-dots",key:"dots"},m),h)}function loe(e){var{showLabels:t,children:r,points:a}=e,s=w.useMemo(()=>a==null?void 0:a.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Bn(Bn({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[a]);return w.createElement(W2,{value:t?s:null},r)}function iT(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:s,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:u}=i,d=lk(i,Gle),f=Bn(Bn({},lr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:a,type:l,layout:o,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return w.createElement(w.Fragment,null,(a==null?void 0:a.length)>1&&w.createElement(Uu,zc({},f,{pathRef:r})),w.createElement(ioe,{points:a,clipPathId:t,props:i}))}function ooe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function coe(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:x,onAnimationStart:g}=r,y=s.current,b=Ed(r,"recharts-line-"),[v,j]=w.useState(!1),N=!v,k=w.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),_=w.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]),S=ooe(a.current),T=i.current;return w.createElement(loe,{points:l,showLabels:N},r.children,w.createElement(Cd,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:k,onAnimationStart:_,key:b},C=>{var E=Wt(T,S+T,C),A=Math.min(E,S),U;if(c)if(o){var V="".concat(o).split(/[,\s]+/gim).map(R=>parseFloat(R));U=aoe(A,S,V)}else U=fR(S,A);else U=o==null?void 0:String(o);if(y){var ae=y.length/l.length,q=C===1?l:l.map((R,P)=>{var B=Math.floor(P*ae);if(y[B]){var te=y[B];return Bn(Bn({},R),{},{x:Wt(te.x,R.x,C),y:Wt(te.y,R.y,C)})}return h?Bn(Bn({},R),{},{x:Wt(m*2,R.x,C),y:Wt(p/2,R.y,C)}):Bn(Bn({},R),{},{x:R.x,y:R.y})});return s.current=q,w.createElement(iT,{props:r,points:q,clipPathId:t,pathRef:a,strokeDasharray:U})}return C>0&&S>0&&(s.current=l,i.current=A),w.createElement(iT,{props:r,points:l,clipPathId:t,pathRef:a,strokeDasharray:U})}),w.createElement(Nv,{label:r.label}))}function uoe(e){var{clipPathId:t,props:r}=e,a=w.useRef(null),s=w.useRef(0),i=w.useRef(null);return w.createElement(coe,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:i})}var doe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Vt(e.payload,t)});class foe extends w.Component{render(){var t,{hide:r,dot:a,points:s,className:i,xAxisId:l,yAxisId:o,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var p=Ct("recharts-line",i),x=h,{r:g=3,strokeWidth:y=2}=(t=lr(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Wg(a),v=g*2+y;return w.createElement(w.Fragment,null,w.createElement(Dr,{className:p},m&&w.createElement("defs",null,w.createElement(rk,{clipPathId:x,xAxisId:l,yAxisId:o}),!b&&w.createElement("clipPath",{id:"clipPath-dots-".concat(x)},w.createElement("rect",{x:u-v/2,y:c-v/2,width:d+v,height:f+v}))),w.createElement(eR,{xAxisId:l,yAxisId:o,data:s,dataPointFormatter:doe,errorBarOffset:0},w.createElement(uoe,{props:this.props,clipPathId:x}))),w.createElement(gw,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var hR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ol.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function hoe(e){var t=oa(e,hR),{activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:x}=t,g=lk(t,Qle),{needClip:y}=Cv(m,p),b=Sv(),v=lh(),j=rn(),N=Ye(C=>qle(C,m,p,j,x));if(v!=="horizontal"&&v!=="vertical"||N==null||b==null)return null;var{height:k,width:_,x:S,y:T}=b;return w.createElement(foe,zc({},g,{id:x,connectNulls:o,dot:c,activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:l,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:N,layout:v,height:k,width:_,left:S,top:T,needClip:y}))}function moe(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=Vt(u,l);if(t==="horizontal"){var h=cx({axis:r,ticks:s,bandSize:o,entry:u,index:d}),m=nr(f)?null:a.scale(f);return{x:h,y:m,value:f,payload:u}}var p=nr(f)?null:r.scale(f),x=cx({axis:a,ticks:i,bandSize:o,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function poe(e){var t=oa(e,hR),r=rn();return w.createElement(_v,{id:t.id,type:"line"},a=>w.createElement(w.Fragment,null,w.createElement(J2,{legendPayload:eoe(t)}),w.createElement(kv,{fn:toe,args:t}),w.createElement(Z2,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(hoe,zc({},t,{id:a}))))}var si=w.memo(poe);si.displayName="Line";var mR=(e,t,r,a)=>zi(e,"xAxis",t,a),pR=(e,t,r,a)=>Ui(e,"xAxis",t,a),xR=(e,t,r,a)=>zi(e,"yAxis",r,a),gR=(e,t,r,a)=>Ui(e,"yAxis",r,a),xoe=xe([wt,mR,xR,pR,gR],(e,t,r,a,s)=>Hi(e,"xAxis")?$c(t,a,!1):$c(r,s,!1)),goe=(e,t,r,a,s)=>s,vR=xe([xh,goe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),voe=(e,t,r,a,s)=>{var i,l=vR(e,t,r,a,s);if(l!=null){var o=wt(e),c=Hi(o,"xAxis"),u;if(c?u=N0(e,"yAxis",r,a):u=N0(e,"xAxis",t,a),u!=null){var{stackId:d}=l,f=mv(l);if(!(d==null||f==null)){var h=(i=u[d])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(m=>m.key===f)}}}},yoe=xe([wt,mR,xR,pR,gR,voe,fh,xoe,vR],(e,t,r,a,s,i,l,o,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||o==null)){var{data:h}=c,m;if(h&&h.length>0?m=h:m=u==null?void 0:u.slice(d,f+1),m!=null){var p=void 0;return Boe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:m,chartBaseValue:p,bandSize:o})}}}),boe=["id"],woe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function yR(e,t){if(e==null)return{};var r,a,s=joe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function joe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(a){Noe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Noe(e,t,r){return(t=koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function koe(e){var t=_oe(e,"string");return typeof t=="symbol"?t:t+""}function _oe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ml.apply(null,arguments)}function Ox(e,t){return e&&e!=="none"?e:t}var Soe=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:Ox(a,s),value:$o(r,t),payload:e}]};function Coe(e){var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:$o(l,t),hide:o,type:e.tooltipType,color:Ox(a,i),unit:c}}}var Eoe=(e,t)=>{var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Ct("recharts-area-dot",typeof e!="boolean"?e.className:"");r=w.createElement(V2,ml({},t,{className:a}))}return r};function Toe(e,t){return e==null?!1:t?!0:e.length===1}function Aoe(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:i,dataKey:l}=a;if(!Toe(r,i))return null;var o=Wg(i),c=Us(a),u=lr(i,!0),d=r.map((h,m)=>{var p=ol(ol(ol({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:h.x,cy:h.y,dataKey:l,value:h.value,payload:h.payload,points:r});return Eoe(i,p)}),f={clipPath:s?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return w.createElement(Dr,ml({className:"recharts-area-dots"},f),d)}function Poe(e){var{showLabels:t,children:r,points:a}=e,s=a.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return ol(ol({},l),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return w.createElement(W2,{value:t?s:null},r)}function oT(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:i}=e,{layout:l,type:o,stroke:c,connectNulls:u,isRange:d}=i,{id:f}=i,h=yR(i,boe),m=Us(h);return w.createElement(w.Fragment,null,(t==null?void 0:t.length)>1&&w.createElement(Dr,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},w.createElement(Uu,ml({},m,{id:f,points:t,connectNulls:u,type:o,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&w.createElement(Uu,ml({},m,{className:"recharts-area-curve",layout:l,type:o,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&w.createElement(Uu,ml({},m,{className:"recharts-area-curve",layout:l,type:o,connectNulls:u,fill:"none",points:r}))),w.createElement(Aoe,{points:t,props:h,clipPathId:s}))}function Ooe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,i=a[0].y,l=a[a.length-1].y;if(!Ia(i)||!Ia(l))return null;var o=t*Math.abs(i-l),c=Math.max(...a.map(u=>u.x||0));return Je(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),Je(c)?w.createElement("rect",{x:0,y:i<l?i:i-o,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(o)}):null}function Doe(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,i=a[0].x,l=a[a.length-1].x;if(!Ia(i)||!Ia(l))return null;var o=t*Math.abs(i-l),c=Math.max(...a.map(u=>u.y||0));return Je(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),Je(c)?w.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function Foe(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:i}=e;return r==="vertical"?w.createElement(Ooe,{alpha:t,points:a,baseLine:s,strokeWidth:i}):w.createElement(Doe,{alpha:t,points:a,baseLine:s,strokeWidth:i})}function Ioe(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=a,p=Ed(a,"recharts-area-"),[x,g]=w.useState(!1),y=!x,b=w.useCallback(()=>{typeof m=="function"&&m(),g(!1)},[m]),v=w.useCallback(()=>{typeof h=="function"&&h(),g(!0)},[h]),j=s.current,N=i.current;return w.createElement(Poe,{showLabels:y,points:l},a.children,w.createElement(Cd,{animationId:p,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:b,onAnimationStart:v,key:p},k=>{if(j){var _=j.length/l.length,S=k===1?l:l.map((C,E)=>{var A=Math.floor(E*_);if(j[A]){var U=j[A];return ol(ol({},C),{},{x:Wt(U.x,C.x,k),y:Wt(U.y,C.y,k)})}return C}),T;return Je(o)?T=Wt(N,o,k):nr(o)||Fn(o)?T=Wt(N,0,k):T=o.map((C,E)=>{var A=Math.floor(E*_);if(Array.isArray(N)&&N[A]){var U=N[A];return ol(ol({},C),{},{x:Wt(U.x,C.x,k),y:Wt(U.y,C.y,k)})}return C}),k>0&&(s.current=S,i.current=T),w.createElement(oT,{points:S,baseLine:T,needClip:t,clipPathId:r,props:a})}return k>0&&(s.current=l,i.current=o),w.createElement(Dr,null,c&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(Foe,{alpha:k,points:l,baseLine:o,layout:a.layout,strokeWidth:a.strokeWidth}))),w.createElement(Dr,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(oT,{points:l,baseLine:o,needClip:t,clipPathId:r,props:a})))}),w.createElement(Nv,{label:a.label}))}function Roe(e){var{needClip:t,clipPathId:r,props:a}=e,s=w.useRef(null),i=w.useRef();return w.createElement(Ioe,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i})}class Moe extends w.PureComponent{render(){var t,{hide:r,dot:a,points:s,className:i,top:l,left:o,needClip:c,xAxisId:u,yAxisId:d,width:f,height:h,id:m,baseLine:p}=this.props;if(r)return null;var x=Ct("recharts-area",i),g=m,{r:y=3,strokeWidth:b=2}=(t=lr(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},v=Wg(a),j=y*2+b;return w.createElement(w.Fragment,null,w.createElement(Dr,{className:x},c&&w.createElement("defs",null,w.createElement(rk,{clipPathId:g,xAxisId:u,yAxisId:d}),!v&&w.createElement("clipPath",{id:"clipPath-dots-".concat(g)},w.createElement("rect",{x:o-j/2,y:l-j/2,width:f+j,height:h+j}))),w.createElement(Roe,{needClip:c,clipPathId:g,props:this.props})),w.createElement(gw,{points:s,mainColor:Ox(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&w.createElement(gw,{points:p,mainColor:Ox(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var bR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ol.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Loe(e){var t,r=oa(e,bR),{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:m,stroke:p,xAxisId:x,yAxisId:g}=r,y=yR(r,woe),b=lh(),v=vI(),{needClip:j}=Cv(x,g),N=rn(),{points:k,isRange:_,baseLine:S}=(t=Ye(V=>yoe(V,x,g,N,e.id)))!==null&&t!==void 0?t:{},T=Sv();if(b!=="horizontal"&&b!=="vertical"||T==null||v!=="AreaChart"&&v!=="ComposedChart")return null;var{height:C,width:E,x:A,y:U}=T;return!k||!k.length?null:w.createElement(Moe,ml({},y,{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:l,baseLine:S,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:C,hide:f,layout:b,isAnimationActive:h,isRange:_,legendType:m,needClip:j,points:k,stroke:p,width:E,left:A,top:U,xAxisId:x,yAxisId:g}))}var $oe=(e,t,r,a,s)=>{var i=r??t;if(Je(i))return i;var l=e==="horizontal"?s:a,o=l.scale.domain();if(l.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function Boe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:i,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,p=s&&s.length,x=$oe(i,l,r,o,c),g=i==="horizontal",y=!1,b=u.map((j,N)=>{var k;p?k=s[d+N]:(k=Vt(j,a),Array.isArray(k)?y=!0:k=[x,k]);var _=k[1]==null||p&&!t&&Vt(j,a)==null;return g?{x:cx({axis:o,ticks:f,bandSize:m,entry:j,index:N}),y:_?null:c.scale(k[1]),value:k,payload:j}:{x:_?null:o.scale(k[1]),y:cx({axis:c,ticks:h,bandSize:m,entry:j,index:N}),value:k,payload:j}}),v;return p||y?v=b.map(j=>{var N=Array.isArray(j.value)?j.value[0]:null;return g?{x:j.x,y:N!=null&&j.y!=null?c.scale(N):null,payload:j.payload}:{x:N!=null?o.scale(N):null,y:j.y,payload:j.payload}}):v=g?c.scale(x):o.scale(x),{points:b,baseLine:v,isRange:y}}function Uoe(e){var t=oa(e,bR),r=rn();return w.createElement(_v,{id:t.id,type:"area"},a=>w.createElement(w.Fragment,null,w.createElement(J2,{legendPayload:Soe(t)}),w.createElement(kv,{fn:Coe,args:t}),w.createElement(Z2,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Z6(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(Loe,ml({},t,{id:a}))))}var wR=w.memo(Uoe);wR.displayName="Area";var zoe=["dangerouslySetInnerHTML","ticks"],Woe=["id"],Voe=["domain"],Hoe=["domain"];function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bw.apply(null,arguments)}function Dx(e,t){if(e==null)return{};var r,a,s=qoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qoe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Koe(e){var t=Sr();return w.useEffect(()=>(t(bse(e)),()=>{t(wse(e))}),[e,t]),null}var Goe=e=>{var{xAxisId:t,className:r}=e,a=Ye(DN),s=rn(),i="xAxis",l=Ye(g=>Id(g,i,t,s)),o=Ye(g=>YF(g,i,t,s)),c=Ye(g=>KF(g,t)),u=Ye(g=>hte(g,t)),d=Ye(g=>kF(g,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=Dx(e,zoe),{id:p}=d,x=Dx(d,Woe);return w.createElement(ik,bw({},m,x,{scale:l,x:u.x,y:u.y,width:c.width,height:c.height,className:Ct("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:o}))},Qoe={allowDataOverflow:Rn.allowDataOverflow,allowDecimals:Rn.allowDecimals,allowDuplicatedCategory:Rn.allowDuplicatedCategory,height:Rn.height,hide:!1,mirror:Rn.mirror,orientation:Rn.orientation,padding:Rn.padding,reversed:Rn.reversed,scale:Rn.scale,tickCount:Rn.tickCount,type:Rn.type,xAxisId:0},Xoe=e=>{var t,r,a,s,i,l=oa(e,Qoe);return w.createElement(w.Fragment,null,w.createElement(Koe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(s=l.minTickGap)!==null&&s!==void 0?s:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),w.createElement(Goe,l))},Yoe=(e,t)=>{var{domain:r}=e,a=Dx(e,Voe),{domain:s}=t,i=Dx(t,Hoe);return hd(a,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:hd({domain:r},{domain:s}):!1},vo=w.memo(Xoe,Yoe);vo.displayName="XAxis";var Joe=["dangerouslySetInnerHTML","ticks"],Zoe=["id"],ece=["domain"],tce=["domain"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ww.apply(null,arguments)}function Fx(e,t){if(e==null)return{};var r,a,s=rce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ace(e){var t=Sr();return w.useEffect(()=>(t(jse(e)),()=>{t(Nse(e))}),[e,t]),null}var nce=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,i=w.useRef(null),l=w.useRef(null),o=Ye(DN),c=rn(),u=Sr(),d="yAxis",f=Ye(N=>Id(N,d,t,c)),h=Ye(N=>GF(N,t)),m=Ye(N=>pte(N,t)),p=Ye(N=>YF(N,d,t,c)),x=Ye(N=>_F(N,t));if(w.useLayoutEffect(()=>{if(!(a!=="auto"||!h||z2(s)||w.isValidElement(s)||x==null)){var N=i.current;if(N){var k=N.getCalculatedWidth();Math.round(h.width)!==Math.round(k)&&u(kse({id:t,width:k}))}}},[p,h,u,s,t,a,x]),h==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,b=Fx(e,Joe),{id:v}=x,j=Fx(x,Zoe);return w.createElement(ik,ww({},b,j,{ref:i,labelRef:l,scale:f,x:m.x,y:m.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:h.width,height:h.height,className:Ct("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:p}))},sce={allowDataOverflow:Mn.allowDataOverflow,allowDecimals:Mn.allowDecimals,allowDuplicatedCategory:Mn.allowDuplicatedCategory,hide:!1,mirror:Mn.mirror,orientation:Mn.orientation,padding:Mn.padding,reversed:Mn.reversed,scale:Mn.scale,tickCount:Mn.tickCount,type:Mn.type,width:Mn.width,yAxisId:0},ice=e=>{var t,r,a,s,i,l=oa(e,sce);return w.createElement(w.Fragment,null,w.createElement(ace,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(s=l.minTickGap)!==null&&s!==void 0?s:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),w.createElement(nce,l))},lce=(e,t)=>{var{domain:r}=e,a=Fx(e,ece),{domain:s}=t,i=Fx(t,tce);return hd(a,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:hd({domain:r},{domain:s}):!1},yo=w.memo(ice,lce);yo.displayName="YAxis";var oce={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh=w;function cce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uce=typeof Object.is=="function"?Object.is:cce,dce=jh.useSyncExternalStore,fce=jh.useRef,hce=jh.useEffect,mce=jh.useMemo,pce=jh.useDebugValue;oce.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var i=fce(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=mce(function(){function c(m){if(!u){if(u=!0,d=m,m=a(m),s!==void 0&&l.hasValue){var p=l.value;if(s(p,m))return f=p}return f=m}if(p=f,uce(d,m))return p;var x=a(m);return s!==void 0&&s(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,a,s]);var o=dce(e,i[0],i[1]);return hce(function(){l.hasValue=!0,l.value=o},[o]),pce(o),o};function xce(e){e()}function gce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var cT={notify(){},get:()=>[]};function vce(e,t){let r,a=cT,s=0,i=!1;function l(x){d();const g=a.subscribe(x);let y=!1;return()=>{y||(y=!0,g(),f())}}function o(){a.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),a=gce())}function f(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=cT)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>a};return p}var yce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bce=yce(),wce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jce=wce(),Nce=()=>bce||jce?w.useLayoutEffect:w.useEffect,kce=Nce(),Wy=Symbol.for("react-redux-context"),Vy=typeof globalThis<"u"?globalThis:{};function _ce(){if(!w.createContext)return{};const e=Vy[Wy]??(Vy[Wy]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var Sce=_ce();function Cce(e){const{children:t,context:r,serverState:a,store:s}=e,i=w.useMemo(()=>{const c=vce(s);return{store:s,subscription:c,getServerState:a?()=>a:void 0}},[s,a]),l=w.useMemo(()=>s.getState(),[s]);kce(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||Sce;return w.createElement(o.Provider,{value:i},t)}var Ece=Cce,Tce=(e,t)=>t,ok=xe([Tce,wt,wF,ua,fI,Rl,yre,la],kre),ck=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},jR=Fs("mouseClick"),NR=sh();NR.startListening({actionCreator:jR,effect:(e,t)=>{var r=e.payload,a=ok(t.getState(),ck(r));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Ete({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var jw=Fs("mouseMove"),kR=sh();kR.startListening({actionCreator:jw,effect:(e,t)=>{var r=e.payload,a=t.getState(),s=D2(a,a.tooltip.settings.shared),i=ok(a,ck(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(sI({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(nI()))}});var uT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},_R=ls({name:"rootProps",initialState:uT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:uT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Ace=_R.reducer,{updateOptions:Pce}=_R.actions,SR=ls({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Oce}=SR.actions,Dce=SR.reducer,CR=Fs("keyDown"),ER=Fs("focus"),uk=sh();uk.startListening({actionCreator:CR,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(F2(s,Md(r))),o=Rl(r);if(i==="Enter"){var c=_x(r,"axis","hover",String(s.index));t.dispatch(fw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=yte(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=l+f*d;if(!(o==null||h>=o.length||h<0)){var m=_x(r,"axis","hover",String(h));t.dispatch(fw({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});uk.startListening({actionCreator:ER,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",l=_x(r,"axis","hover",String(i));t.dispatch(fw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var hs=Fs("externalEvent"),TR=sh();TR.startListening({actionCreator:hs,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),a={activeCoordinate:ure(r),activeDataKey:xI(r),activeIndex:So(r),activeLabel:pI(r),activeTooltipIndex:So(r),isTooltipActive:dre(r)};e.payload.handler(a,e.payload.reactEvent)}}});var Fce=xe([Rd],e=>e.tooltipItemPayloads),Ice=xe([Fce,yh,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(o=>o.settings.dataKey===a);if(s!=null){var{positions:i}=s;if(i!=null){var l=t(i,r);return l}}}),AR=Fs("touchMove"),PR=sh();PR.startListening({actionCreator:AR,effect:(e,t)=>{var r=e.payload,a=t.getState(),s=D2(a,a.tooltip.settings.shared);if(s==="axis"){var i=ok(a,ck({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(sI({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var l,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(tD),d=(l=c.getAttribute(rD))!==null&&l!==void 0?l:void 0,f=Ice(t.getState(),u,d);t.dispatch(aI({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Rce=S6({brush:Hie,cartesianAxis:_se,chartData:$re,errorBars:Vse,graphicalItems:Vne,layout:_Q,legend:mX,options:Fre,polarAxis:cne,polarOptions:Dce,referenceElements:Jie,rootProps:Ace,tooltip:Tte}),Mce=function(t){return XG({reducer:Rce,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([NR.middleware,kR.middleware,uk.middleware,TR.middleware,PR.middleware]),devTools:Ol.devToolsEnabled})};function OR(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=rn(),i=w.useRef(null);if(s)return r;i.current==null&&(i.current=Mce(t));var l=_N;return w.createElement(Ece,{context:l,store:i.current},r)}function DR(e){var{layout:t,width:r,height:a,margin:s}=e,i=Sr(),l=rn();return w.useEffect(()=>{l||(i(jQ(t)),i(NQ({width:r,height:a})),i(wQ(s)))},[i,l,t,r,a,s]),null}function FR(e){var t=Sr();return w.useEffect(()=>{t(Pce(e))},[t,e]),null}var Lce=["children"];function $ce(e,t){if(e==null)return{};var r,a,s=Bce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Bce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ix.apply(null,arguments)}var Uce={width:"100%",height:"100%"},zce=w.forwardRef((e,t)=>{var r=IN(),a=RN(),s=lD();if(!od(r)||!od(a))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,u,d;return typeof l.tabIndex=="number"?u=l.tabIndex:u=s?0:void 0,typeof l.role=="string"?d=l.role:d=s?"application":void 0,w.createElement(cN,Ix({},l,{title:o,desc:c,role:d,tabIndex:u,width:r,height:a,style:Uce,ref:t}),i)}),Wce=e=>{var{children:t}=e,r=Ye(nv);if(!r)return null;var{width:a,height:s,y:i,x:l}=r;return w.createElement(cN,{width:a,height:s,x:l,y:i},t)},dT=w.forwardRef((e,t)=>{var{children:r}=e,a=$ce(e,Lce),s=rn();return s?w.createElement(Wce,null,r):w.createElement(zce,Ix({ref:t},a),r)});function Vce(){var e=Sr(),[t,r]=w.useState(null),a=Ye(ZQ);return w.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;Ia(i)&&i!==a&&e(kQ(i))}},[t,e,a]),r}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Hce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(a){qce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qce(e,t,r){return(t=Kce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kce(e){var t=Gce(e,"string");return typeof t=="symbol"?t:t+""}function Gce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qce=w.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:g,width:y}=e,b=Sr(),[v,j]=w.useState(null),[N,k]=w.useState(null);Gre();var _=Vce(),S=w.useCallback(F=>{_(F),typeof t=="function"&&t(F),j(F),k(F)},[_,t,j,k]),T=w.useCallback(F=>{b(jR(F)),b(hs({handler:i,reactEvent:F}))},[b,i]),C=w.useCallback(F=>{b(jw(F)),b(hs({handler:u,reactEvent:F}))},[b,u]),E=w.useCallback(F=>{b(nI()),b(hs({handler:d,reactEvent:F}))},[b,d]),A=w.useCallback(F=>{b(jw(F)),b(hs({handler:f,reactEvent:F}))},[b,f]),U=w.useCallback(()=>{b(ER())},[b]),V=w.useCallback(F=>{b(CR(F.key))},[b]),ae=w.useCallback(F=>{b(hs({handler:l,reactEvent:F}))},[b,l]),q=w.useCallback(F=>{b(hs({handler:o,reactEvent:F}))},[b,o]),R=w.useCallback(F=>{b(hs({handler:c,reactEvent:F}))},[b,c]),P=w.useCallback(F=>{b(hs({handler:h,reactEvent:F}))},[b,h]),B=w.useCallback(F=>{b(hs({handler:x,reactEvent:F}))},[b,x]),te=w.useCallback(F=>{b(AR(F)),b(hs({handler:p,reactEvent:F}))},[b,p]),H=w.useCallback(F=>{b(hs({handler:m,reactEvent:F}))},[b,m]);return w.createElement(NI.Provider,{value:v},w.createElement(OO.Provider,{value:N},w.createElement("div",{className:Ct("recharts-wrapper",a),style:Hce({position:"relative",cursor:"default",width:y,height:s},g),onClick:T,onContextMenu:ae,onDoubleClick:q,onFocus:U,onKeyDown:V,onMouseDown:R,onMouseEnter:C,onMouseLeave:E,onMouseMove:A,onMouseUp:P,onTouchEnd:H,onTouchMove:te,onTouchStart:B,ref:S},r)))}),Xce=["children","className","width","height","style","compact","title","desc"];function Yce(e,t){if(e==null)return{};var r,a,s=Jce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Jce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var IR=w.forwardRef((e,t)=>{var{children:r,className:a,width:s,height:i,style:l,compact:o,title:c,desc:u}=e,d=Yce(e,Xce),f=Us(d);return o?w.createElement(dT,{otherAttributes:f,title:c,desc:u},r):w.createElement(Qce,{className:a,style:l,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(dT,{otherAttributes:f,title:c,desc:u,ref:t},w.createElement(ele,null,r)))}),Zce=["width","height"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nw.apply(null,arguments)}function eue(e,t){if(e==null)return{};var r,a,s=tue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var rue={top:5,right:5,bottom:5,left:5},aue={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rue,reverseStackOrder:!1,syncMethod:"index"},dk=w.forwardRef(function(t,r){var a,s=oa(t.categoricalChartProps,aue),{width:i,height:l}=s,o=eue(s,Zce);if(!od(i)||!od(l))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(OR,{preloadedState:{options:m},reduxStoreName:(a=h.id)!==null&&a!==void 0?a:c},w.createElement(aR,{chartData:h.data}),w.createElement(DR,{width:i,height:l,layout:s.layout,margin:s.margin}),w.createElement(FR,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),w.createElement(IR,Nw({},o,{width:i,height:l,ref:r})))}),nue=["axis"],fk=w.forwardRef((e,t)=>w.createElement(dk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nue,tooltipPayloadSearcher:wv,categoricalChartProps:e,ref:t})),sue=["axis","item"],hk=w.forwardRef((e,t)=>w.createElement(dk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sue,tooltipPayloadSearcher:wv,categoricalChartProps:e,ref:t}));function iue(e){var t=Sr();return w.useEffect(()=>{t(Oce(e))},[t,e]),null}var lue=["width","height","layout"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kw.apply(null,arguments)}function oue(e,t){if(e==null)return{};var r,a,s=cue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var uue={top:5,right:5,bottom:5,left:5},due={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uue,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},fue=w.forwardRef(function(t,r){var a,s=oa(t.categoricalChartProps,due),{width:i,height:l,layout:o}=s,c=oue(s,lue);if(!od(i)||!od(l))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return w.createElement(OR,{preloadedState:{options:m},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:u},w.createElement(aR,{chartData:s.data}),w.createElement(DR,{width:i,height:l,layout:o,margin:s.margin}),w.createElement(FR,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),w.createElement(iue,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),w.createElement(IR,kw({width:i,height:l},c,{ref:r})))}),hue=["item"],mue={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Rx=w.forwardRef((e,t)=>{var r=oa(e,mue);return w.createElement(fue,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hue,tooltipPayloadSearcher:wv,categoricalChartProps:r,ref:t})}),pue=["axis"],xue=w.forwardRef((e,t)=>w.createElement(dk,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pue,tooltipPayloadSearcher:wv,categoricalChartProps:e,ref:t}));const Hy=({title:e,data:t,type:r="line",height:a=300,colors:s=["#3B82F6","#10B981","#F59E0B","#EF4444"],className:i="",showDateRange:l=!1,dateRange:o=null,onDateRangeChange:c=null,onApplyFilter:u=null,isLoading:d=!1})=>{const[f,h]=w.useState(o),[m,p]=w.useState(!1);vt.useEffect(()=>{h(o)},[o]);const x=b=>{const v=new Date,j=new Date;b===0?j.setHours(0,0,0,0):j.setDate(v.getDate()-b);const N={start:j.toISOString().split("T")[0],end:v.toISOString().split("T")[0]};h(N),c&&c(N),u&&u(N),p(!1)},g=()=>{u&&f&&u(f)},y=()=>{switch(r){case"line":return n.jsx(ni,{width:"100%",height:a,children:n.jsxs(fk,{data:t,children:[n.jsx(go,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(vo,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:v=>{if(v){const j=new Date(v);return`${j.getDate()}/${j.getMonth()+1}`}return v}}),n.jsx(yo,{stroke:"#6b7280",fontSize:12}),n.jsx(ai,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},labelFormatter:v=>v&&new Date(v).toLocaleDateString("id-ID")}),n.jsx(_o,{verticalAlign:"bottom",height:24,wrapperStyle:{paddingTop:"8px"}}),n.jsx(si,{type:"monotone",dataKey:"created",stroke:s[0],strokeWidth:2,name:"Created",dot:{fill:s[0],strokeWidth:2,r:4},activeDot:{r:6}}),n.jsx(si,{type:"monotone",dataKey:"completed",stroke:s[1],strokeWidth:2,name:"Completed",dot:{fill:s[1],strokeWidth:2,r:4},activeDot:{r:6}}),n.jsx(si,{type:"monotone",dataKey:"critical",stroke:s[3],strokeWidth:2,name:"Critical",dot:{fill:s[3],strokeWidth:2,r:4},activeDot:{r:6}})]})});case"area":return n.jsx(ni,{width:"100%",height:a,children:n.jsxs(xue,{data:t,children:[n.jsx(go,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(vo,{dataKey:"date",stroke:"#6b7280",fontSize:12}),n.jsx(yo,{stroke:"#6b7280",fontSize:12}),n.jsx(ai,{}),n.jsx(wR,{type:"monotone",dataKey:"created",stackId:"1",stroke:s[0],fill:s[0],fillOpacity:.6})]})});case"bar":return n.jsx(ni,{width:"100%",height:a,children:n.jsxs(hk,{data:t,children:[n.jsx(go,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(vo,{dataKey:"name",stroke:"#6b7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),n.jsx(yo,{stroke:"#6b7280",fontSize:12}),n.jsx(ai,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(S0,{dataKey:"completedTickets",fill:s[0],radius:[4,4,0,0],name:"Completed Tickets"})]})});case"pie":const b=t.map(v=>({...v,displayName:v.type?v.type.split("_").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "):v.name}));return n.jsx(ni,{width:"100%",height:a,children:n.jsxs(Rx,{children:[n.jsx(_0,{data:b,cx:"50%",cy:"45%",labelLine:!1,label:({percentage:v})=>`${v}%`,outerRadius:110,fill:"#8884d8",dataKey:"count",nameKey:"displayName",children:b.map((v,j)=>n.jsx(Co,{fill:s[j%s.length]},`cell-${j}`))}),n.jsx(ai,{formatter:(v,j)=>[v,j],contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(_o,{verticalAlign:"bottom",height:28,iconType:"circle",wrapperStyle:{paddingTop:"10px"}})]})});default:return n.jsx("div",{children:"Chart type not supported"})}};return n.jsxs("div",{className:`bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow duration-200 ${i}`,children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),l&&n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(br,{className:"h-4 w-4"}),"Quick Select"]}),m&&n.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{onClick:()=>x(0),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Today"}),n.jsx("button",{onClick:()=>x(7),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Last 7 days"}),n.jsx("button",{onClick:()=>x(30),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Last 30 days"}),n.jsx("button",{onClick:()=>x(90),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Last 90 days"})]})})]})]}),l&&n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("input",{type:"date",value:(f==null?void 0:f.start)||"",onChange:b=>h({...f,start:b.target.value}),className:"text-sm px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("span",{className:"text-gray-500",children:"-"}),n.jsx("input",{type:"date",value:(f==null?void 0:f.end)||"",onChange:b=>h({...f,end:b.target.value}),className:"text-sm px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{onClick:g,disabled:d,className:"btn-primary text-sm px-4 py-1.5 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?n.jsxs(n.Fragment,{children:[n.jsx(Hp,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):"Apply"})]})]}),d?n.jsx("div",{className:"flex items-center justify-center",style:{height:a},children:n.jsx(Hp,{className:"h-8 w-8 text-blue-500 animate-spin"})}):y()]})},gue=({activities:e=[]})=>{const t=s=>{switch(s){case"completed":return n.jsx(Ke,{className:"h-4 w-4 text-green-500"});case"in_progress":return n.jsx(Kt,{className:"h-4 w-4 text-blue-500"});case"cancelled":return n.jsx(kt,{className:"h-4 w-4 text-red-500"});default:return n.jsx($t,{className:"h-4 w-4 text-yellow-500"})}},r=s=>{switch(s){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"normal":return"text-blue-600 bg-blue-50";case"low":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}},a=s=>{const i=new Date,l=new Date(s),o=Math.floor((i-l)/(1e3*60));if(o<1)return"Just now";if(o<60)return`${o}m ago`;const c=Math.floor(o/60);return c<24?`${c}h ago`:`${Math.floor(c/24)}d ago`};return e.length===0?n.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Kt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No recent activities"})]})]}):n.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),n.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),n.jsx("div",{className:"space-y-4",children:e.map((s,i)=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:t(s.status)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.ticketNumber}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r(s.priority)}`,children:s.priority})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:s.title}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsx(Ft,{className:"h-3 w-3"}),n.jsx("span",{children:s.customerName}),s.technicianName&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsx("span",{children:s.technicianName})]})]}),n.jsx("span",{className:"text-xs text-gray-400",children:a(s.timestamp)})]})]})]},s.id||i))})]})},vue=()=>{var E,A,U,V,ae,q,R,P,B,te,H,F,O,M,I,ne,oe,J,Y,ie,fe,D,ye,Ce;const[e,t]=w.useState(30),r=qt(),[a,s]=w.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[i,l]=w.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[o,c]=w.useState(!1),[u,d]=w.useState(!1),f=async Pe=>{c(!0),s(Pe),await b(),c(!1)},h=async Pe=>{d(!0),l(Pe),await N(),d(!1)},{data:m,isLoading:p,error:x}=Be(["dashboard-overview",e],()=>tc.getDashboardOverview(e),{refetchInterval:3e4,staleTime:25e3}),{data:g,isLoading:y,refetch:b}=Be(["ticket-trends",a],()=>tc.getTicketTrends(e),{refetchInterval:6e4,staleTime:5e4}),{data:v,isLoading:j,refetch:N}=Be(["service-distribution",i],()=>tc.getServiceDistribution(),{refetchInterval:6e4,staleTime:5e4}),{data:k,isLoading:_}=Be("technician-performance",tc.getTechnicianPerformance,{refetchInterval:6e4,staleTime:5e4}),{data:S,isLoading:T}=Be("recent-activities",()=>tc.getRecentActivities(3),{refetchInterval:15e3,staleTime:1e4});if(w.useEffect(()=>{console.log("📊 Setting up dashboard real-time listeners...");const Pe=$e=>{console.log("📊 Dashboard update received:",$e),r.invalidateQueries("dashboard-overview"),r.invalidateQueries("ticket-trends"),r.invalidateQueries("service-distribution"),r.invalidateQueries("technician-performance"),r.invalidateQueries("recent-activities")},Me=$e=>{console.log("🎫 New ticket created:",$e),r.invalidateQueries("dashboard-overview"),r.invalidateQueries("ticket-trends"),r.invalidateQueries("service-distribution"),r.invalidateQueries("recent-activities")},ke=$e=>{console.log("🔄 Ticket status updated:",$e),r.invalidateQueries("dashboard-overview"),r.invalidateQueries("recent-activities")},at=$e=>{console.log("👤 Ticket assigned:",$e),r.invalidateQueries("dashboard-overview"),r.invalidateQueries("technician-performance"),r.invalidateQueries("recent-activities")};return Ge.on("dashboard_update",Pe),Ge.on("new_ticket",Me),Ge.on("new_ticket_global",Me),Ge.on("ticket_status_updated",ke),Ge.on("ticket_assigned",at),Ge.on("ticket_updated",at),()=>{console.log("📊 Cleaning up dashboard listeners..."),Ge.off("dashboard_update",Pe),Ge.off("new_ticket",Me),Ge.off("new_ticket_global",Me),Ge.off("ticket_status_updated",ke),Ge.off("ticket_assigned",at),Ge.off("ticket_updated",at)}},[r]),p)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(St,{})});if(x)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Es,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page"})]})});const C=(m==null?void 0:m.data)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Monitor your ISP operations performance"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("select",{value:e,onChange:Pe=>t(parseInt(Pe.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:7,children:"Last 7 days"}),n.jsx("option",{value:30,children:"Last 30 days"}),n.jsx("option",{value:90,children:"Last 90 days"})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsx(ui,{className:"h-4 w-4"}),n.jsx("span",{children:"Auto-refresh: 30s"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[n.jsx(Ve,{title:"Total Tickets",value:((E=C.tickets)==null?void 0:E.total)||0,icon:nl,color:"blue"}),n.jsx(Ve,{title:"SLA Compliance",value:((A=C.sla)==null?void 0:A.complianceRate)||0,icon:Ke,color:"green",format:"percentage"}),n.jsx(Ve,{title:"Avg Resolution",value:((U=C.resolution)==null?void 0:U.averageHours)||0,icon:Kt,color:"yellow",format:"decimal",suffix:"h"}),n.jsx(Ve,{title:"Customer Rating",value:((V=C.satisfaction)==null?void 0:V.averageRating)||0,icon:ad,color:"purple",format:"decimal",suffix:"/5"}),n.jsx(Ve,{title:"Active Technicians",value:((ae=C.technicians)==null?void 0:ae.total)||0,icon:Zn,color:"indigo"}),n.jsx(Ve,{title:"Monthly Revenue",value:((q=C.revenue)==null?void 0:q.estimatedMonthly)||0,icon:vc,color:"green",format:"currency"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Hy,{title:"Ticket Trends",data:(g==null?void 0:g.data)||[],type:"line",height:350,colors:["#3B82F6","#10B981","#EF4444"],showDateRange:!0,dateRange:a,onDateRangeChange:s,onApplyFilter:f,isLoading:o}),n.jsx(Hy,{title:"Service Type Distribution",data:(v==null?void 0:v.data)||[],type:"pie",height:400,colors:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],showDateRange:!0,dateRange:i,onDateRangeChange:l,onApplyFilter:h,isLoading:u})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(Hy,{title:"Technician Performance",data:(k==null?void 0:k.data)||[],type:"bar",height:350,colors:["#3B82F6","#10B981","#F59E0B"]})}),n.jsx(gue,{activities:(S==null?void 0:S.data)||[]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Tickets"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((R=C.tickets)==null?void 0:R.today)||0})]}),n.jsx(eh,{className:"h-8 w-8 text-blue-500"})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Open"}),n.jsx("span",{className:"font-medium",children:((B=(P=C.tickets)==null?void 0:P.byStatus)==null?void 0:B.open)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"In Progress"}),n.jsx("span",{className:"font-medium",children:((H=(te=C.tickets)==null?void 0:te.byStatus)==null?void 0:H.in_progress)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Assigned"}),n.jsx("span",{className:"font-medium",children:((O=(F=C.tickets)==null?void 0:F.byStatus)==null?void 0:O.assigned)||0})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Technician Status"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((M=C.technicians)==null?void 0:M.total)||0})]}),n.jsx(Zn,{className:"h-8 w-8 text-green-500"})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Available"}),n.jsx("span",{className:"font-medium text-green-600",children:((I=C.technicians)==null?void 0:I.available)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Busy"}),n.jsx("span",{className:"font-medium text-yellow-600",children:((ne=C.technicians)==null?void 0:ne.busy)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Offline"}),n.jsx("span",{className:"font-medium text-gray-600",children:((oe=C.technicians)==null?void 0:oe.offline)||0})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"SLA Performance"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[((J=C.sla)==null?void 0:J.complianceRate)||0,"%"]})]}),n.jsx(Ke,{className:"h-8 w-8 text-purple-500"})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Within SLA"}),n.jsx("span",{className:"font-medium text-green-600",children:((Y=C.sla)==null?void 0:Y.withinSLA)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Total Completed"}),n.jsx("span",{className:"font-medium",children:((ie=C.sla)==null?void 0:ie.totalCompleted)||0})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(((fe=C.revenue)==null?void 0:fe.estimatedMonthly)||0)})]}),n.jsx(vc,{className:"h-8 w-8 text-indigo-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Active Customers"}),n.jsx("span",{className:"font-medium",children:((D=C.revenue)==null?void 0:D.activeCustomers)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Avg per Customer"}),n.jsx("span",{className:"font-medium",children:((ye=C.revenue)==null?void 0:ye.activeCustomers)>0?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format((((Ce=C.revenue)==null?void 0:Ce.estimatedMonthly)||0)/C.revenue.activeCustomers):"Rp 0"})]})]})]})]})]})},Un={getTickets:async(e={})=>{const t=new URLSearchParams(e).toString();return await me.get(`/tickets?${t}`)},getTicket:async e=>await me.get(`/tickets/${e}`),createTicket:async e=>await me.post("/tickets",e),updateTicketStatus:async(e,t)=>await me.put(`/tickets/${e}/status`,t),assignTicket:async(e,t)=>await me.put(`/tickets/${e}/assign`,{technician_id:t}),uploadAttachment:async(e,t,r="document")=>{const a=new FormData;return a.append("file",t),a.append("upload_type",r),await me.post(`/tickets/${e}/attachments`,a,{headers:{"Content-Type":"multipart/form-data"}})},autoAssignTicket:async(e,t={})=>await me.post(`/tickets/${e}/auto-assign`,t),getAssignmentRecommendations:async e=>await me.get(`/tickets/${e}/assignment-recommendations`),getTicketStats:async()=>await me.get("/tickets/stats/overview")},vr={getCustomers:async(e={})=>{const t=new URLSearchParams(e).toString();return await me.get(`/customers?${t}`)},getCustomer:async e=>await me.get(`/customers/${e}`),createCustomer:async e=>await me.post("/customers",e),updateCustomer:async(e,t)=>await me.put(`/customers/${e}`,t),deleteCustomer:async e=>await me.delete(`/customers/${e}`),addEquipment:async(e,t)=>await me.post(`/customers/${e}/equipment`,t),deleteEquipment:async(e,t)=>await me.delete(`/customers/${e}/equipment/${t}`),addPayment:async(e,t)=>await me.post(`/customers/${e}/payments`,t),getCustomerStats:async()=>await me.get("/customers/stats")},bo={getAll:async(e={})=>{try{const t=new URLSearchParams;e.active_only&&t.append("active_only",e.active_only),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await me.get(`/service-types${r?"?"+r:""}`)}catch(t){return console.error("❌ ServiceTypeService error:",t),{data:[],pagination:{}}}},getById:async e=>await me.get(`/service-types/${e}`),create:async e=>await me.post("/service-types",e),update:async(e,t)=>await me.put(`/service-types/${e}`,t),delete:async e=>await me.delete(`/service-types/${e}`)},C0={getAll:async(e={})=>{try{const t=new URLSearchParams;e.service_type_code&&t.append("service_type_code",e.service_type_code),e.active_only&&t.append("active_only",e.active_only),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await me.get(`/service-categories${r?"?"+r:""}`)}catch(t){return console.error("❌ ServiceCategoryService error:",t),{data:[],pagination:{}}}},getById:async e=>await me.get(`/service-categories/${e}`),create:async e=>await me.post("/service-categories",e),update:async(e,t)=>await me.put(`/service-categories/${e}`,t),delete:async e=>await me.delete(`/service-categories/${e}`)},kc={getAll:async(e={})=>{var t,r,a;try{const s=new URLSearchParams;e.category&&s.append("category",e.category),e.status&&s.append("status",e.status),e.search&&s.append("search",e.search),e.page&&s.append("page",e.page),e.limit&&s.append("limit",e.limit),e.sort_by&&s.append("sort_by",e.sort_by),e.sort_order&&s.append("sort_order",e.sort_order);const i=s.toString(),l=`/equipment${i?"?"+i:""}`;console.log("📡 EquipmentService.getAll calling:",l);const o=await me.get(l);console.log("📥 EquipmentService.getAll response:",{type:typeof o,isArray:Array.isArray(o),hasData:!!(o!=null&&o.data),responseKeys:Object.keys(o||{}),dataLength:((t=o==null?void 0:o.data)==null?void 0:t.length)||0,firstItem:(a=(r=o==null?void 0:o.data)==null?void 0:r[0])==null?void 0:a.equipment_name});const c=(o==null?void 0:o.data)||[];return console.log("✅ EquipmentService.getAll returning:",Array.isArray(c)?`Array(${c.length})`:typeof c),c}catch(s){return console.error("❌ EquipmentService.getAll error:",s),[]}},getById:async e=>await me.get(`/equipment/${e}`),create:async e=>await me.post("/equipment",e),update:async(e,t)=>await me.put(`/equipment/${e}`,t),delete:async e=>await me.delete(`/equipment/${e}`)},RR=({isOpen:e,onClose:t,onSuccess:r,preSelectedCustomer:a})=>{var ae,q,R;const[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,u]=w.useState([]),{register:d,handleSubmit:f,formState:{errors:h},reset:m,watch:p,setValue:x}=es({defaultValues:{type:"",category:"",priority:"normal"}}),{data:g,isLoading:y,error:b}=Be("customers",()=>vr.getCustomers({limit:100}),{enabled:e,onError:P=>{console.error("Failed to load customers:",P),ee.error("Failed to load customers data")}}),{data:v,isLoading:j,error:N}=Be("service-types-active",()=>bo.getAll({active_only:!0}),{enabled:e,onError:P=>{console.error("Failed to load service types:",P),ee.error("Failed to load service types data")}}),{data:k}=Be("service-categories-active",()=>C0.getAll({active_only:!0}),{enabled:e}),{data:_}=Be(["equipment-list"],kc.getAll,{enabled:e}),S=p("type"),T=p("category"),C=p("customer_id");w.useEffect(()=>{a&&e&&(x("customer_id",a.id),o(a))},[a,e,x]),w.useEffect(()=>{var P;if(C&&((P=g==null?void 0:g.data)!=null&&P.customers)){const B=g.data.customers.find(te=>te.id==C);B&&o(B)}else o(null)},[C,g,x]),w.useEffect(()=>{if(S&&(k!=null&&k.data)){const P=k.data.filter(B=>B.service_type_code===S);u(P),x("category",""),P.length===1&&x("category",P[0].category_code)}else u([]),x("category","")},[S,k,x]),w.useEffect(()=>{if(T&&c.length>0){const P=c.find(B=>B.category_code===T);P&&P.estimated_duration&&x("estimated_duration",P.estimated_duration)}else if(S&&(v!=null&&v.data)){const P=v.data.find(B=>B.type_code===S);P&&P.default_duration&&x("estimated_duration",P.default_duration)}},[T,c,S,v,x]),w.useEffect(()=>{var P;if(l&&S){const B=(P=v==null?void 0:v.data)==null?void 0:P.find(F=>F.type_code===S),te=c.find(F=>F.category_code===T);let H="";te?H=`${te.category_name} - ${l.name}`:B&&(H=`${B.type_name} - ${l.name}`),H&&x("title",H)}},[l,S,T,v,c,x]),w.useEffect(()=>{var P,B,te;if(l&&S){const H=(P=v==null?void 0:v.data)==null?void 0:P.find(oe=>oe.type_code===S),F=c.find(oe=>oe.category_code===T),O=(te=(B=g==null?void 0:g.data)==null?void 0:B.customers)==null?void 0:te.find(oe=>oe.id==C),M=(O==null?void 0:O.package_name)||"Tidak diketahui";let I=`INFORMASI PELANGGAN
`;I+=`Nama: ${l.name}
`,I+=`Alamat: ${l.address||"Belum ditentukan"}
`,I+=`Telepon: ${l.phone||"-"}
`,I+=`Paket: ${M}
`,I+=`Tipe Layanan: ${l.service_type||"broadband"}

`,I+=`JENIS PEKERJAAN
`,I+=`Service Type: ${(H==null?void 0:H.type_name)||S}
`,F&&(I+=`Category: ${F.category_name}
`),I+=`
`,I+=`DESKRIPSI PEKERJAAN
`,I+={installation:"Survey lokasi, instalasi perangkat, konfigurasi koneksi, testing kualitas sinyal.",repair:"Pengecekan perangkat, kabel, kualitas sinyal, troubleshooting masalah koneksi.",maintenance:"Pengecekan kondisi perangkat, pembersihan, update firmware, optimisasi konfigurasi.",upgrade:"Penggantian atau konfigurasi ulang perangkat untuk paket lebih tinggi. Upgrade speed atau bandwidth sesuai permintaan.",downgrade:"Penyesuaian konfigurasi perangkat untuk paket lebih rendah. Downgrade speed atau bandwidth sesuai permintaan.",wifi_setup:"Setup WiFi router, konfigurasi SSID dan password, optimisasi channel, testing coverage.",dismantle:"Pelepasan perangkat, pencabutan kabel, pengembalian equipment ke warehouse."}[S]||"Pekerjaan sesuai dengan service type yang dipilih.",x("description",I)}},[l,S,T,v,c,C,g,x]),w.useEffect(()=>{if(e){const P=new Date,B=P.getFullYear(),te=String(P.getMonth()+1).padStart(2,"0"),H=String(P.getDate()).padStart(2,"0"),F=String(P.getHours()).padStart(2,"0"),O=String(P.getMinutes()).padStart(2,"0"),M=`${B}-${te}-${H}T${F}:${O}`;x("scheduled_date",M)}},[e,x]);const E=()=>{var F,O;if(!l||!S)return[];const P=Array.isArray(_)?_:[];if(P.length===0)return[];const B={installation:{broadband:["devices","cables","accessories","tools"],dedicated:["devices","cables","accessories"],corporate:["devices","accessories"],mitra:["devices","accessories"]},repair:{all:["tools"]},maintenance:{all:["tools","accessories"]},upgrade:{all:["devices"]},wifi_setup:{all:["devices","accessories"]},dismantle:{all:["tools"]},downgrade:{all:["devices"]}},te=((F=B[S])==null?void 0:F[l.service_type])||((O=B[S])==null?void 0:O.all)||["devices","tools"];return P.filter(M=>M.is_active&&te.includes(M.category)).map(M=>M.equipment_name).slice(0,10)},A=[{value:"low",label:"Low",color:"text-gray-600",bgColor:"bg-gray-100"},{value:"normal",label:"Normal",color:"text-blue-600",bgColor:"bg-blue-100"},{value:"high",label:"High",color:"text-orange-600",bgColor:"bg-orange-100"},{value:"critical",label:"Critical",color:"text-red-600",bgColor:"bg-red-100"}],U=async P=>{var B,te;i(!0);try{const H=await Un.createTicket(P);ee.success("Ticket created successfully!"),m(),r==null||r(H.data.ticket),t()}catch(H){console.error("Create ticket error:",H),ee.error(((te=(B=H.response)==null?void 0:B.data)==null?void 0:te.message)||"Failed to create ticket")}finally{i(!1)}},V=()=>{m(),t()};return e?y||j?n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsx("div",{className:"flex items-center justify-center p-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(St,{size:"lg",className:"mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading ticket creation form..."})]})})})}):n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Ticket"}),n.jsx("button",{onClick:V,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(hr,{className:"h-5 w-5 text-gray-500"})})]}),(b||N)&&n.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-400",children:n.jsxs("div",{className:"flex",children:[n.jsx($t,{className:"h-5 w-5 text-red-400"}),n.jsx("div",{className:"ml-3",children:n.jsxs("p",{className:"text-sm text-red-700",children:[b&&"Failed to load customers. ",N&&"Failed to load service types. ","Please refresh the page and try again."]})})]})}),n.jsxs("form",{onSubmit:f(U),className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Customer *"}),n.jsxs("select",{className:`form-input ${h.customer_id?"border-red-500":""}`,...d("customer_id",{required:"Customer is required"}),disabled:y,children:[n.jsx("option",{value:"",children:"Select a customer..."}),(q=(ae=g==null?void 0:g.data)==null?void 0:ae.customers)==null?void 0:q.map(P=>n.jsxs("option",{value:P.id,children:[P.customer_id," - ",P.name," (",P.service_type,")"]},P.id))]}),h.customer_id&&n.jsx("p",{className:"form-error",children:h.customer_id.message}),y&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading customers..."})]}),l&&n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[n.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Customer Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Za,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:l.phone})]}),l.email&&n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(na,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:l.email})]}),n.jsxs("div",{className:"flex items-start text-gray-600",children:[n.jsx(Aa,{className:"h-4 w-4 mr-2 mt-0.5"}),n.jsx("span",{className:"text-xs",children:l.address})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Jt,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:l.package_name})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Service: ",l.service_type]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.account_status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.account_status})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Service Type *"}),n.jsxs("select",{className:"form-input",...d("type",{required:"Service type wajib dipilih"}),children:[n.jsx("option",{value:"",children:"Pilih Service Type..."}),(R=v==null?void 0:v.data)==null?void 0:R.map(P=>n.jsxs("option",{value:P.type_code,children:[P.type_name," - ",P.description]},P.type_code))]}),h.type&&n.jsx("p",{className:"form-error",children:h.type.message})]}),S&&n.jsxs("div",{children:[n.jsxs("label",{className:"form-label",children:["Service Category ",c.length>0&&"*"]}),c.length>0?n.jsxs(n.Fragment,{children:[n.jsxs("select",{className:"form-input",...d("category",{required:c.length>0?"Category wajib dipilih":!1}),children:[n.jsx("option",{value:"",children:"Pilih Category..."}),c.map(P=>n.jsxs("option",{value:P.category_code,children:[P.category_name," - ",P.description]},P.category_code))]}),h.category&&n.jsx("p",{className:"form-error",children:h.category.message})]}):n.jsx("p",{className:"text-sm text-gray-500 italic mt-1",children:"Tidak ada kategori tersedia untuk service type ini"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Priority *"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(P=>n.jsxs("label",{className:`
                    flex items-center px-3 py-2 rounded-lg border cursor-pointer transition-colors
                    ${p("priority")===P.value?`border-current ${P.color} ${P.bgColor}`:"border-gray-300 hover:bg-gray-50"}
                  `,children:[n.jsx("input",{type:"radio",value:P.value,className:"sr-only",...d("priority",{required:"Priority is required"})}),n.jsx("span",{className:`text-sm font-medium ${p("priority")===P.value?P.color:"text-gray-700"}`,children:P.label})]},P.value))}),h.priority&&n.jsx("p",{className:"form-error",children:h.priority.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Title *"}),n.jsx("input",{type:"text",className:`form-input ${h.title?"border-red-500":""}`,placeholder:"Brief description of the service request",...d("title",{required:"Title is required",minLength:{value:5,message:"Title must be at least 5 characters"}})}),h.title&&n.jsx("p",{className:"form-error",children:h.title.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Description *"}),n.jsx("textarea",{rows:4,className:`form-input ${h.description?"border-red-500":""}`,placeholder:"Detailed description of the work to be performed...",...d("description",{required:"Description is required",minLength:{value:10,message:"Description must be at least 10 characters"}})}),h.description&&n.jsx("p",{className:"form-error",children:h.description.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Scheduled Date"}),n.jsx("input",{type:"datetime-local",className:"form-input",...d("scheduled_date")}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for immediate assignment"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Estimated Duration (minutes)"}),n.jsx("input",{type:"number",min:"15",step:"15",className:"form-input",placeholder:"e.g., 120 for 2 hours",...d("estimated_duration",{min:{value:15,message:"Minimum duration is 15 minutes"}})}),h.estimated_duration&&n.jsx("p",{className:"form-error",children:h.estimated_duration.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Equipment Needed"}),n.jsx("textarea",{rows:3,className:"form-input",placeholder:"List required equipment, tools, or materials...",...d("equipment_needed")}),l&&S&&n.jsxs("div",{className:"mt-2",children:[n.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Suggested equipment for ",S,":"]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:E().map((P,B)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 cursor-pointer hover:bg-blue-200",onClick:()=>{const te=p("equipment_needed")||"",H=te?`${te}, ${P}`:P;x("equipment_needed",H)},children:["+ ",P]},B))})]})]}),n.jsxs("div",{className:"space-y-4",children:[l&&l.latitude&&l.longitude&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx(Aa,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Location Information"}),n.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["GPS Coordinates: ",l.latitude,", ",l.longitude]}),l.odp&&n.jsxs("p",{className:"text-sm text-green-700",children:["ODP: ",l.odp]})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx($t,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"SLA Information"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Service Level Agreement will be automatically set based on priority: Critical (2h), High (4h), Normal (24h), Low (48h)"}),l&&n.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Customer Package SLA: ",l.sla_level||"Standard"]})]})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:V,className:"btn-outline",disabled:s,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:s||y,children:s?n.jsxs(n.Fragment,{children:[n.jsx(St,{size:"sm",className:"mr-2"}),"Creating..."]}):"Create Ticket"})]})]})]})}):null},_c={getTechnicians:async(e={})=>{const t=new URLSearchParams(e).toString();return await me.get(`/technicians?${t}`)},getTechnician:async e=>await me.get(`/technicians/${e}`),createTechnician:async e=>await me.post("/technicians",e),updateTechnician:async(e,t)=>await me.put(`/technicians/${e}`,t),deleteTechnician:async e=>await me.delete(`/technicians/${e}`),updateAvailability:async(e,t)=>await me.patch(`/technicians/${e}/availability`,t),addSkill:async(e,t)=>await me.post(`/technicians/${e}/skills`,t),getTechnicianStats:async()=>await me.get("/technicians/stats/overview"),getAvailableTechnicians:async(e={})=>{const t=new URLSearchParams(e).toString();return await me.get(`/technicians/available/assignment?${t}`)},getTechnicianPerformance:async(e,t="month")=>await me.get(`/technicians/${e}/performance?period=${t}`),updateLocation:async(e,t)=>await me.patch(`/technicians/${e}/location`,t),getTechnicianSchedule:async(e,t,r)=>{const a=new URLSearchParams({start_date:t,end_date:r});return await me.get(`/technicians/${e}/schedule?${a}`)},updateSchedule:async(e,t)=>await me.put(`/technicians/${e}/schedule`,t)},yue=({isOpen:e,onClose:t,ticket:r})=>{var k,_;const[a,s]=w.useState("auto"),[i,l]=w.useState(null),[o,c]=w.useState({force_zone:"",required_skills:[]}),u=qt(),{data:d,isLoading:f}=Be(["assignment-recommendations",r==null?void 0:r.id],()=>Un.getAssignmentRecommendations(r.id),{enabled:e&&!!(r!=null&&r.id),refetchOnWindowFocus:!1}),h=jt(S=>Un.autoAssignTicket(r.id,S),{onSuccess:S=>{ee.success("Ticket berhasil di-assign secara otomatis!"),u.invalidateQueries(["tickets"]),u.invalidateQueries(["ticket",r.id]),t()},onError:S=>{var T,C;ee.error(((C=(T=S.response)==null?void 0:T.data)==null?void 0:C.message)||"Gagal melakukan auto assignment")}}),m=jt(S=>Un.assignTicket(r.id,S),{onSuccess:()=>{ee.success("Ticket berhasil di-assign!"),u.invalidateQueries(["tickets"]),u.invalidateQueries(["ticket",r.id]),t()},onError:S=>{var T,C;ee.error(((C=(T=S.response)==null?void 0:T.data)==null?void 0:C.message)||"Gagal melakukan assignment")}}),p=()=>{h.mutate(o)},x=()=>{if(!i){ee.error("Pilih teknisi terlebih dahulu");return}m.mutate(i.id)},g=S=>{const T={available:{color:"bg-green-100 text-green-800",icon:Ke,label:"Available"},unavailable:{color:"bg-red-100 text-red-800",icon:$t,label:"Unavailable"}},C=T[S]||T.unavailable,E=C.icon;return n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:[n.jsx(E,{className:"h-3 w-3 mr-1"}),C.label]})},y=S=>{const T={available:{color:"bg-blue-100 text-blue-800",label:"Has Capacity"},full:{color:"bg-orange-100 text-orange-800",label:"At Capacity"}},C=T[S]||T.full;return n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:C.label})},b=S=>{const T={near:{color:"bg-green-100 text-green-800",icon:Zh,label:"Nearby"},medium:{color:"bg-yellow-100 text-yellow-800",icon:Zh,label:"Medium"},far:{color:"bg-red-100 text-red-800",icon:Zh,label:"Far"},unknown:{color:"bg-gray-100 text-gray-800",icon:Zh,label:"Unknown"}},C=T[S]||T.unknown,E=C.icon;return n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:[n.jsx(E,{className:"h-3 w-3 mr-1"}),C.label]})},v=S=>{const T={junior:{color:"bg-blue-100 text-blue-800",label:"Junior"},senior:{color:"bg-purple-100 text-purple-800",label:"Senior"},expert:{color:"bg-orange-100 text-orange-800",label:"Expert"},specialist:{color:"bg-red-100 text-red-800",label:"Specialist"}},C=T[S]||T.junior;return n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:[n.jsx(d0,{className:"h-3 w-3 mr-1"}),C.label]})};if(!e)return null;const j=((k=d==null?void 0:d.data)==null?void 0:k.recommendations)||[],N=((_=d==null?void 0:d.data)==null?void 0:_.ticket)||r;return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[n.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(LW,{className:"h-6 w-6 text-blue-600 mr-2"}),n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Smart Assignment - Ticket #",N==null?void 0:N.ticket_number]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Customer"}),n.jsx("p",{className:"text-sm text-gray-900",children:N==null?void 0:N.customer_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Service Type"}),n.jsx("p",{className:"text-sm text-gray-900",children:(N==null?void 0:N.service_type)||"General"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Priority"}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(N==null?void 0:N.priority)==="high"?"bg-red-100 text-red-800":(N==null?void 0:N.priority)==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:(N==null?void 0:N.priority)||"low"})]})]})}),n.jsxs("div",{className:"flex space-x-4 mb-6",children:[n.jsxs("button",{onClick:()=>s("auto"),className:`flex items-center px-4 py-2 rounded-lg font-medium ${a==="auto"?"bg-blue-100 text-blue-700 border-2 border-blue-200":"bg-gray-100 text-gray-700 border-2 border-transparent hover:bg-gray-200"}`,children:[n.jsx(Lu,{className:"h-4 w-4 mr-2"}),"Auto Assignment"]}),n.jsxs("button",{onClick:()=>s("manual"),className:`flex items-center px-4 py-2 rounded-lg font-medium ${a==="manual"?"bg-blue-100 text-blue-700 border-2 border-blue-200":"bg-gray-100 text-gray-700 border-2 border-transparent hover:bg-gray-200"}`,children:[n.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Manual Selection"]})]}),a==="auto"&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Assignment Options"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Force Work Zone"}),n.jsxs("select",{className:"form-input text-sm",value:o.force_zone,onChange:S=>c(T=>({...T,force_zone:S.target.value})),children:[n.jsx("option",{value:"",children:"Any Zone"}),n.jsx("option",{value:"Jakarta_Pusat",children:"Jakarta Pusat"}),n.jsx("option",{value:"Jakarta_Selatan",children:"Jakarta Selatan"}),n.jsx("option",{value:"Jakarta_Utara",children:"Jakarta Utara"}),n.jsx("option",{value:"Jakarta_Timur",children:"Jakarta Timur"}),n.jsx("option",{value:"Jakarta_Barat",children:"Jakarta Barat"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Required Skills"}),n.jsxs("select",{className:"form-input text-sm",multiple:!0,value:o.required_skills,onChange:S=>{const T=Array.from(S.target.selectedOptions,C=>C.value);c(C=>({...C,required_skills:T}))},children:[n.jsx("option",{value:"fiber_optic",children:"Fiber Optic"}),n.jsx("option",{value:"wireless",children:"Wireless"}),n.jsx("option",{value:"networking",children:"Networking"}),n.jsx("option",{value:"installation",children:"Installation"}),n.jsx("option",{value:"troubleshooting",children:"Troubleshooting"})]})]})]})]}),f&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(St,{size:"lg"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading recommendations..."})]}),!f&&j.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:a==="auto"?"Top Matches":"Available Technicians"}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:j.slice(0,a==="auto"?3:10).map(S=>{var T;return n.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${a==="manual"&&(i==null?void 0:i.id)===S.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>a==="manual"&&l(S),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:n.jsx(Ft,{className:"h-5 w-5 text-gray-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-900",children:S.full_name}),v(S.skill_level)]}),n.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["ID: ",S.employee_id]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[g(S.availability_status),y(S.capacity_status),b(S.distance_status)]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ad,{className:"h-3 w-3 text-yellow-400 mr-1"}),n.jsx("span",{children:S.avg_rating?parseFloat(S.avg_rating).toFixed(1):"N/A"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Kt,{className:"h-3 w-3 text-blue-400 mr-1"}),n.jsxs("span",{children:[S.current_tickets,"/",S.max_daily_tickets]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(eh,{className:"h-3 w-3 text-green-400 mr-1"}),n.jsxs("span",{children:[S.avg_sla?parseFloat(S.avg_sla).toFixed(1):"N/A","%"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Aa,{className:"h-3 w-3 text-purple-400 mr-1"}),n.jsx("span",{children:(T=S.work_zone)==null?void 0:T.replace("_"," ")})]})]}),S.specializations&&S.specializations.length>0&&n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.specializations.slice(0,3).map((C,E)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:[n.jsx(qp,{className:"h-3 w-3 mr-1"}),C.replace("_"," ")]},E)),S.specializations.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",S.specializations.length-3," more"]})]})})]})]}),n.jsxs("div",{className:"flex-shrink-0 text-right",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:S.recommendation_score||0}),n.jsx("div",{className:"text-xs text-gray-500",children:"Score"})]})]})},S.id)})})]}),!f&&j.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Zn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No technicians available"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No technicians match the current criteria."})]})]}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a==="auto"?n.jsx("button",{onClick:p,disabled:h.isLoading||j.length===0,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:h.isLoading?n.jsxs(n.Fragment,{children:[n.jsx(YS,{className:"animate-spin h-4 w-4 mr-2"}),"Assigning..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Lu,{className:"h-4 w-4 mr-2"}),"Auto Assign"]})}):n.jsx("button",{onClick:x,disabled:m.isLoading||!i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:m.isLoading?n.jsxs(n.Fragment,{children:[n.jsx(YS,{className:"animate-spin h-4 w-4 mr-2"}),"Assigning..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Assign Selected"]})}),n.jsx("button",{onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Mx={};Mx.version="0.18.5";var MR=1252,bue=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],mk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},pk=function(e){bue.indexOf(e)!=-1&&(MR=mk[0]=e)};function wue(){pk(1252)}var ii=function(e){pk(e)};function xk(){ii(1200),wue()}function hT(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function jue(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function LR(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var yf=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?jue(e.slice(2)):t==254&&r==255?LR(e.slice(2)):t==65279?e.slice(1):e},gm=function(t){return String.fromCharCode(t)},mT=function(t){return String.fromCharCode(t)},E0,ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T0(e){for(var t="",r=0,a=0,s=0,i=0,l=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,a=e.charCodeAt(u++),l=(r&3)<<4|a>>4,s=e.charCodeAt(u++),o=(a&15)<<2|s>>6,c=s&63,isNaN(a)?o=c=64:isNaN(s)&&(c=64),t+=ro.charAt(i)+ro.charAt(l)+ro.charAt(o)+ro.charAt(c);return t}function rs(e){var t="",r=0,a=0,s=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=ro.indexOf(e.charAt(u++)),l=ro.indexOf(e.charAt(u++)),r=i<<2|l>>4,t+=String.fromCharCode(r),o=ro.indexOf(e.charAt(u++)),a=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(a)),c=ro.indexOf(e.charAt(u++)),s=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var pt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ml=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ao(e){return pt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function pT(e){return pt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Kn=function(t){return pt?Ml(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ev(e){if(typeof ArrayBuffer>"u")return Kn(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Wo(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Nue(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function gk(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return gk(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var xa=pt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ml(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function kue(e){for(var t=[],r=0,a=e.length+250,s=Ao(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)s[r++]=l;else if(l<2048)s[r++]=192|l>>6&31,s[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;s[r++]=240|l>>8&7,s[r++]=128|l>>2&63,s[r++]=128|o>>6&15|(l&3)<<4,s[r++]=128|o&63}else s[r++]=224|l>>12&15,s[r++]=128|l>>6&63,s[r++]=128|l&63;r>a&&(t.push(s.slice(0,r)),r=0,s=Ao(65535),a=65530)}return t.push(s.slice(0,r)),xa(t)}var pn=/\u0000/g,bf=/[\u0001-\u0006]/g;function Wu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function li(e,t){var r=""+e;return r.length>=t?r:Pr("0",t-r.length)+r}function vk(e,t){var r=""+e;return r.length>=t?r:Pr(" ",t-r.length)+r}function Lx(e,t){var r=""+e;return r.length>=t?r:r+Pr(" ",t-r.length)}function _ue(e,t){var r=""+Math.round(e);return r.length>=t?r:Pr("0",t-r.length)+r}function Sue(e,t){var r=""+e;return r.length>=t?r:Pr("0",t-r.length)+r}var xT=Math.pow(2,32);function uu(e,t){if(e>xT||e<-xT)return _ue(e,t);var r=Math.round(e);return Sue(r,t)}function $x(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var gT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Cue(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var st={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},vT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Eue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Bx(e,t,r){for(var a=e<0?-1:1,s=e*a,i=0,l=1,o=0,c=1,u=0,d=0,f=Math.floor(s);u<t&&(f=Math.floor(s),o=f*l+i,d=f*u+c,!(s-f<5e-8));)s=1/(s-f),i=l,l=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=i):(d=u,o=l)),!r)return[0,a*o,d];var h=Math.floor(a*o/d);return[h,a*o-h*d,d]}function mc(e,t,r){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,l=[],o={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++a,++o.D)),a===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=Fue(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=i,o}var $R=new Date(1899,11,31,0,0,0),Tue=$R.getTime(),Aue=new Date(1900,2,1,0,0,0);function BR(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Aue&&(r+=24*60*60*1e3),(r-(Tue+(e.getTimezoneOffset()-$R.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function yk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Pue(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Oue(e){var t=e<0?12:11,r=yk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Due(e){var t=yk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function A0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Oue(e):t===10?r=e.toFixed(10).substr(0,12):r=Due(e),yk(Pue(r.toUpperCase()))}function Wc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):A0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Rs(14,BR(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Fue(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Iue(e,t,r,a){var s="",i=0,l=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return qy[r.m-1][1];case 5:return qy[r.m-1][0];default:return qy[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return gT[r.q][0];default:return gT[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?li(r.S,t.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(s=li(i,2+a),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?li(c,u):"";return d}function ao(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var UR=/%/g;function Rue(e,t,r){var a=t.replace(UR,""),s=t.length-a.length;return pl(e,a,r*Math.pow(10,2*s))+Pr("%",s)}function Mue(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return pl(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function zR(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+zR(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var WR=/# (\?+)( ?)\/( ?)(\d+)/;function Lue(e,t,r){var a=parseInt(e[4],10),s=Math.round(t*a),i=Math.floor(s/a),l=s-i*a,o=a;return r+(i===0?"":""+i)+" "+(l===0?Pr(" ",e[1].length+1+e[4].length):vk(l,e[1].length)+e[2]+"/"+e[3]+li(o,e[4].length))}function $ue(e,t,r){return r+(t===0?"":""+t)+Pr(" ",e[1].length+2+e[4].length)}var VR=/^#*0*\.([0#]+)/,HR=/\).*[0#]/,qR=/\(###\) ###\\?-####/;function cn(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function yT(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function bT(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function Bue(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Uue(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ms(e,t,r){if(e.charCodeAt(0)===40&&!t.match(HR)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ms("n",a,r):"("+ms("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Mue(e,t,r);if(t.indexOf("%")!==-1)return Rue(e,t,r);if(t.indexOf("E")!==-1)return zR(t,r);if(t.charCodeAt(0)===36)return"$"+ms(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,l,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+uu(c,t.length);if(t.match(/^[#?]+$/))return s=uu(r,0),s==="0"&&(s=""),s.length>t.length?s:cn(t.substr(0,t.length-s.length))+s;if(i=t.match(WR))return Lue(i,c,u);if(t.match(/^#+0+$/))return u+uu(c,t.length-t.indexOf("0"));if(i=t.match(VR))return s=yT(r,i[1].length).replace(/^([^\.]+)$/,"$1."+cn(i[1])).replace(/\.$/,"."+cn(i[1])).replace(/\.(\d*)$/,function(p,x){return"."+x+Pr("0",cn(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+yT(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+ao(uu(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ms(e,t,-r):ao(""+(Math.floor(r)+Bue(r,i[1].length)))+"."+li(bT(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ms(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Wu(ms(e,t.replace(/[\\-]/g,""),r)),l=0,Wu(Wu(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<s.length?s.charAt(l++):p==="0"?"0":""}));if(t.match(qR))return s=ms(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Bx(c,Math.pow(10,l)-1,!1),s=""+u,d=pl("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=Lx(o[2],l),d.length<i[4].length&&(d=cn(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Bx(c,Math.pow(10,l)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?vk(o[1],l)+i[2]+"/"+i[3]+Lx(o[2],l):Pr(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=uu(r,0),t.length<=s.length?s:cn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var f=t.indexOf(".")-l,h=t.length-s.length-f;return cn(t.substr(0,f)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=bT(r,i[1].length),r<0?"-"+ms(e,t,-r):ao(Uue(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?li(0,3-p.length):"")+p})+"."+li(l,i[1].length);switch(t){case"###,##0.00":return ms(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=ao(uu(c,0));return m!=="0"?u+m:"";case"###,###.00":return ms(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ms(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function zue(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return pl(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function Wue(e,t,r){var a=t.replace(UR,""),s=t.length-a.length;return pl(e,a,r*Math.pow(10,2*s))+Pr("%",s)}function KR(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+KR(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ji(e,t,r){if(e.charCodeAt(0)===40&&!t.match(HR)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ji("n",a,r):"("+ji("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return zue(e,t,r);if(t.indexOf("%")!==-1)return Wue(e,t,r);if(t.indexOf("E")!==-1)return KR(t,r);if(t.charCodeAt(0)===36)return"$"+ji(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,l,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+li(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:cn(t.substr(0,t.length-s.length))+s;if(i=t.match(WR))return $ue(i,c,u);if(t.match(/^#+0+$/))return u+li(c,t.length-t.indexOf("0"));if(i=t.match(VR))return s=(""+r).replace(/^([^\.]+)$/,"$1."+cn(i[1])).replace(/\.$/,"."+cn(i[1])),s=s.replace(/\.(\d*)$/,function(p,x){return"."+x+Pr("0",cn(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+ao(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ji(e,t,-r):ao(""+r)+"."+Pr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ji(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Wu(ji(e,t.replace(/[\\-]/g,""),r)),l=0,Wu(Wu(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<s.length?s.charAt(l++):p==="0"?"0":""}));if(t.match(qR))return s=ji(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Bx(c,Math.pow(10,l)-1,!1),s=""+u,d=pl("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=Lx(o[2],l),d.length<i[4].length&&(d=cn(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Bx(c,Math.pow(10,l)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?vk(o[1],l)+i[2]+"/"+i[3]+Lx(o[2],l):Pr(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:cn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var f=t.indexOf(".")-l,h=t.length-s.length-f;return cn(t.substr(0,f)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ji(e,t,-r):ao(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?li(0,3-p.length):"")+p})+"."+li(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=ao(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return ji(e,t.slice(0,t.lastIndexOf(".")),r)+cn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function pl(e,t,r){return(r|0)===r?ji(e,t,r):ms(e,t,r)}function Vue(e){for(var t=[],r=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(s,a-s),s=a+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var GR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ld(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":$x(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(GR))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Hue(e,t,r,a){for(var s=[],i="",l=0,o="",c="t",u,d,f,h="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!$x(e,l))throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(f=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(f);s[s.length]={t:"t",v:i},++l;break;case"\\":var m=e.charAt(++l),p=m==="("||m===")"?m:"t";s[s.length]={t:p,v:m},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(u==null&&(u=mc(t,r,e.charAt(l+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=mc(t,r),u==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),s[s.length]={t:o,v:i},c=o;break;case"A":case"a":case"上":var x={t:o,v:o};if(u==null&&(u=mc(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",h="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",l+=5,h="h"):e.substr(l,5).toUpperCase()==="上午/下午"?(u!=null&&(x.v=u.H>=12?"下午":"上午"),x.t="T",l+=5,h="h"):(x.t="t",++l),u==null&&x.t==="T")return"";s[s.length]=x,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(GR)){if(u==null&&(u=mc(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ld(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;s[s.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;s[s.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":s[s.length]={t:a===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:o,v:o},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"t",v:o},++l;break}var g=0,y=0,b;for(l=s.length-1,c="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=h,c="h",g<1&&(g=1);break;case"s":(b=s[l].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=s[l].t;break;case"m":c==="s"&&(s[l].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[l].v.match(/[Hh]/)&&(g=1),g<2&&s[l].v.match(/[Mm]/)&&(g=2),g<3&&s[l].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var v="",j;for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=Iue(s[l].t.charCodeAt(0),s[l].v,u,y),s[l].t="t";break;case"n":case"?":for(j=l+1;s[j]!=null&&((o=s[j].t)==="?"||o==="D"||(o===" "||o==="t")&&s[j+1]!=null&&(s[j+1].t==="?"||s[j+1].t==="t"&&s[j+1].v==="/")||s[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[j].v==="/"||s[j].v===" "&&s[j+1]!=null&&s[j+1].t=="?"));)s[l].v+=s[j].v,s[j]={v:"",t:";"},++j;v+=s[l].v,l=j-1;break;case"G":s[l].t="t",s[l].v=Wc(t,r);break}var N="",k,_;if(v.length>0){v.charCodeAt(0)==40?(k=t<0&&v.charCodeAt(0)===45?-t:t,_=pl("n",v,k)):(k=t<0&&a>1?-t:t,_=pl("n",v,k),k<0&&s[0]&&s[0].t=="t"&&(_=_.substr(1),s[0].v="-"+s[0].v)),j=_.length-1;var S=s.length;for(l=0;l<s.length;++l)if(s[l]!=null&&s[l].t!="t"&&s[l].v.indexOf(".")>-1){S=l;break}var T=s.length;if(S===s.length&&_.indexOf("E")===-1){for(l=s.length-1;l>=0;--l)s[l]==null||"n?".indexOf(s[l].t)===-1||(j>=s[l].v.length-1?(j-=s[l].v.length,s[l].v=_.substr(j+1,s[l].v.length)):j<0?s[l].v="":(s[l].v=_.substr(0,j+1),j=-1),s[l].t="t",T=l);j>=0&&T<s.length&&(s[T].v=_.substr(0,j+1)+s[T].v)}else if(S!==s.length&&_.indexOf("E")===-1){for(j=_.indexOf(".")-1,l=S;l>=0;--l)if(!(s[l]==null||"n?".indexOf(s[l].t)===-1)){for(d=s[l].v.indexOf(".")>-1&&l===S?s[l].v.indexOf(".")-1:s[l].v.length-1,N=s[l].v.substr(d+1);d>=0;--d)j>=0&&(s[l].v.charAt(d)==="0"||s[l].v.charAt(d)==="#")&&(N=_.charAt(j--)+N);s[l].v=N,s[l].t="t",T=l}for(j>=0&&T<s.length&&(s[T].v=_.substr(0,j+1)+s[T].v),j=_.indexOf(".")+1,l=S;l<s.length;++l)if(!(s[l]==null||"n?(".indexOf(s[l].t)===-1&&l!==S)){for(d=s[l].v.indexOf(".")>-1&&l===S?s[l].v.indexOf(".")+1:0,N=s[l].v.substr(0,d);d<s[l].v.length;++d)j<_.length&&(N+=_.charAt(j++));s[l].v=N,s[l].t="t",T=l}}}for(l=0;l<s.length;++l)s[l]!=null&&"n?".indexOf(s[l].t)>-1&&(k=a>1&&t<0&&l>0&&s[l-1].v==="-"?-t:t,s[l].v=pl(s[l].t,s[l].v,k),s[l].t="t");var C="";for(l=0;l!==s.length;++l)s[l]!=null&&(C+=s[l].v);return C}var wT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function jT(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function que(e,t){var r=Vue(e),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(wT),o=r[1].match(wT);return jT(t,l)?[a,r[0]]:jT(t,o)?[a,r[1]]:[a,r[l!=null&&o!=null?2:1]]}return[a,i]}function Rs(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:st)[e],a==null&&(a=r.table&&r.table[vT[e]]||st[vT[e]]),a==null&&(a=Eue[e]||"General");break}if($x(a,0))return Wc(t,r);t instanceof Date&&(t=BR(t,r.date1904));var s=que(a,t);if($x(s[1]))return Wc(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Hue(s[1],t,r,s[0])}function xl(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(st[r]==null){t<0&&(t=r);continue}if(st[r]==e){t=r;break}}t<0&&(t=391)}return st[t]=e,t}function Tv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&xl(e[t],t)}function $d(){st=Cue()}var Kue={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},QR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Gue(e){var t=typeof e=="number"?st[e]:e;return t=t.replace(QR,"(\\d+)"),new RegExp("^"+t+"$")}function Que(e,t,r){var a=-1,s=-1,i=-1,l=-1,o=-1,c=-1;(t.match(QR)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":a=m;break;case"d":i=m;break;case"h":l=m;break;case"s":c=m;break;case"m":l>=0?o=m:s=m;break}}),c>=0&&o==-1&&s>=0&&(o=s,s=-1);var u=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?u:a==-1&&s==-1&&i==-1?d:u+"T"+d}var Xue=function(){var e={};e.version="1.2.0";function t(){for(var _=0,S=new Array(256),T=0;T!=256;++T)_=T,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,S[T]=_;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function a(_){var S=0,T=0,C=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)E[C]=_[C];for(C=0;C!=256;++C)for(T=_[C],S=256+C;S<4096;S+=256)T=E[S]=T>>>8^_[T&255];var A=[];for(C=1;C!=16;++C)A[C-1]=typeof Int32Array<"u"?E.subarray(C*256,C*256+256):E.slice(C*256,C*256+256);return A}var s=a(r),i=s[0],l=s[1],o=s[2],c=s[3],u=s[4],d=s[5],f=s[6],h=s[7],m=s[8],p=s[9],x=s[10],g=s[11],y=s[12],b=s[13],v=s[14];function j(_,S){for(var T=S^-1,C=0,E=_.length;C<E;)T=T>>>8^r[(T^_.charCodeAt(C++))&255];return~T}function N(_,S){for(var T=S^-1,C=_.length-15,E=0;E<C;)T=v[_[E++]^T&255]^b[_[E++]^T>>8&255]^y[_[E++]^T>>16&255]^g[_[E++]^T>>>24]^x[_[E++]]^p[_[E++]]^m[_[E++]]^h[_[E++]]^f[_[E++]]^d[_[E++]]^u[_[E++]]^c[_[E++]]^o[_[E++]]^l[_[E++]]^i[_[E++]]^r[_[E++]];for(C+=15;E<C;)T=T>>>8^r[(T^_[E++])&255];return~T}function k(_,S){for(var T=S^-1,C=0,E=_.length,A=0,U=0;C<E;)A=_.charCodeAt(C++),A<128?T=T>>>8^r[(T^A)&255]:A<2048?(T=T>>>8^r[(T^(192|A>>6&31))&255],T=T>>>8^r[(T^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,U=_.charCodeAt(C++)&1023,T=T>>>8^r[(T^(240|A>>8&7))&255],T=T>>>8^r[(T^(128|A>>2&63))&255],T=T>>>8^r[(T^(128|U>>6&15|(A&3)<<4))&255],T=T>>>8^r[(T^(128|U&63))&255]):(T=T>>>8^r[(T^(224|A>>12&15))&255],T=T>>>8^r[(T^(128|A>>6&63))&255],T=T>>>8^r[(T^(128|A&63))&255]);return~T}return e.table=r,e.bstr=j,e.buf=N,e.str=k,e}(),rt=function(){var t={};t.version="1.2.1";function r(L,G){for(var z=L.split("/"),W=G.split("/"),Q=0,X=0,pe=Math.min(z.length,W.length);Q<pe;++Q){if(X=z[Q].length-W[Q].length)return X;if(z[Q]!=W[Q])return z[Q]<W[Q]?-1:1}return z.length-W.length}function a(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:a(L.slice(0,-1));var G=L.lastIndexOf("/");return G===-1?L:L.slice(0,G+1)}function s(L){if(L.charAt(L.length-1)=="/")return s(L.slice(0,-1));var G=L.lastIndexOf("/");return G===-1?L:L.slice(G+1)}function i(L,G){typeof G=="string"&&(G=new Date(G));var z=G.getHours();z=z<<6|G.getMinutes(),z=z<<5|G.getSeconds()>>>1,L.write_shift(2,z);var W=G.getFullYear()-1980;W=W<<4|G.getMonth()+1,W=W<<5|G.getDate(),L.write_shift(2,W)}function l(L){var G=L.read_shift(2)&65535,z=L.read_shift(2)&65535,W=new Date,Q=z&31;z>>>=5;var X=z&15;z>>>=4,W.setMilliseconds(0),W.setFullYear(z+1980),W.setMonth(X-1),W.setDate(Q);var pe=G&31;G>>>=5;var K=G&63;return G>>>=6,W.setHours(G),W.setMinutes(K),W.setSeconds(pe<<1),W}function o(L){Ta(L,0);for(var G={},z=0;L.l<=L.length-4;){var W=L.read_shift(2),Q=L.read_shift(2),X=L.l+Q,pe={};switch(W){case 21589:z=L.read_shift(1),z&1&&(pe.mtime=L.read_shift(4)),Q>5&&(z&2&&(pe.atime=L.read_shift(4)),z&4&&(pe.ctime=L.read_shift(4))),pe.mtime&&(pe.mt=new Date(pe.mtime*1e3));break}L.l=X,G[W]=pe}return G}var c;function u(){return c||(c={})}function d(L,G){if(L[0]==80&&L[1]==75)return pr(L,G);if((L[0]|32)==109&&(L[1]|32)==105)return Ne(L,G);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var z=3,W=512,Q=0,X=0,pe=0,K=0,re=0,ue=[],he=L.slice(0,512);Ta(he,0);var Ee=f(he);switch(z=Ee[0],z){case 3:W=512;break;case 4:W=4096;break;case 0:if(Ee[1]==0)return pr(L,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+z)}W!==512&&(he=L.slice(0,W),Ta(he,28));var Le=L.slice(0,W);h(he,z);var Oe=he.read_shift(4,"i");if(z===3&&Oe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Oe);he.l+=4,pe=he.read_shift(4,"i"),he.l+=4,he.chk("00100000","Mini Stream Cutoff Size: "),K=he.read_shift(4,"i"),Q=he.read_shift(4,"i"),re=he.read_shift(4,"i"),X=he.read_shift(4,"i");for(var De=-1,He=0;He<109&&(De=he.read_shift(4,"i"),!(De<0));++He)ue[He]=De;var ut=m(L,W);g(re,X,ut,W,ue);var xr=b(ut,pe,ue,W);xr[pe].name="!Directory",Q>0&&K!==U&&(xr[K].name="!MiniFAT"),xr[ue[0]].name="!FAT",xr.fat_addrs=ue,xr.ssz=W;var gr={},Ma=[],zd=[],Wd=[];v(pe,xr,ut,Ma,Q,gr,zd,K),p(zd,Wd,Ma),Ma.shift();var Vd={FileIndex:zd,FullPaths:Wd};return G&&G.raw&&(Vd.raw={header:Le,sectors:ut}),Vd}function f(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(V,"Header Signature: "),L.l+=16;var G=L.read_shift(2,"u");return[L.read_shift(2,"u"),G]}function h(L,G){var z=9;switch(L.l+=2,z=L.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+z);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+z)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function m(L,G){for(var z=Math.ceil(L.length/G)-1,W=[],Q=1;Q<z;++Q)W[Q-1]=L.slice(Q*G,(Q+1)*G);return W[z-1]=L.slice(z*G),W}function p(L,G,z){for(var W=0,Q=0,X=0,pe=0,K=0,re=z.length,ue=[],he=[];W<re;++W)ue[W]=he[W]=W,G[W]=z[W];for(;K<he.length;++K)W=he[K],Q=L[W].L,X=L[W].R,pe=L[W].C,ue[W]===W&&(Q!==-1&&ue[Q]!==Q&&(ue[W]=ue[Q]),X!==-1&&ue[X]!==X&&(ue[W]=ue[X])),pe!==-1&&(ue[pe]=W),Q!==-1&&W!=ue[W]&&(ue[Q]=ue[W],he.lastIndexOf(Q)<K&&he.push(Q)),X!==-1&&W!=ue[W]&&(ue[X]=ue[W],he.lastIndexOf(X)<K&&he.push(X));for(W=1;W<re;++W)ue[W]===W&&(X!==-1&&ue[X]!==X?ue[W]=ue[X]:Q!==-1&&ue[Q]!==Q&&(ue[W]=ue[Q]));for(W=1;W<re;++W)if(L[W].type!==0){if(K=W,K!=ue[K])do K=ue[K],G[W]=G[K]+"/"+G[W];while(K!==0&&ue[K]!==-1&&K!=ue[K]);ue[W]=-1}for(G[0]+="/",W=1;W<re;++W)L[W].type!==2&&(G[W]+="/")}function x(L,G,z){for(var W=L.start,Q=L.size,X=[],pe=W;z&&Q>0&&pe>=0;)X.push(G.slice(pe*A,pe*A+A)),Q-=A,pe=rc(z,pe*4);return X.length===0?be(0):xa(X).slice(0,L.size)}function g(L,G,z,W,Q){var X=U;if(L===U){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var pe=z[L],K=(W>>>2)-1;if(!pe)return;for(var re=0;re<K&&(X=rc(pe,re*4))!==U;++re)Q.push(X);g(rc(pe,W-4),G-1,z,W,Q)}}function y(L,G,z,W,Q){var X=[],pe=[];Q||(Q=[]);var K=W-1,re=0,ue=0;for(re=G;re>=0;){Q[re]=!0,X[X.length]=re,pe.push(L[re]);var he=z[Math.floor(re*4/W)];if(ue=re*4&K,W<4+ue)throw new Error("FAT boundary crossed: "+re+" 4 "+W);if(!L[he])break;re=rc(L[he],ue)}return{nodes:X,data:FT([pe])}}function b(L,G,z,W){var Q=L.length,X=[],pe=[],K=[],re=[],ue=W-1,he=0,Ee=0,Le=0,Oe=0;for(he=0;he<Q;++he)if(K=[],Le=he+G,Le>=Q&&(Le-=Q),!pe[Le]){re=[];var De=[];for(Ee=Le;Ee>=0;){De[Ee]=!0,pe[Ee]=!0,K[K.length]=Ee,re.push(L[Ee]);var He=z[Math.floor(Ee*4/W)];if(Oe=Ee*4&ue,W<4+Oe)throw new Error("FAT boundary crossed: "+Ee+" 4 "+W);if(!L[He]||(Ee=rc(L[He],Oe),De[Ee]))break}X[Le]={nodes:K,data:FT([re])}}return X}function v(L,G,z,W,Q,X,pe,K){for(var re=0,ue=W.length?2:0,he=G[L].data,Ee=0,Le=0,Oe;Ee<he.length;Ee+=128){var De=he.slice(Ee,Ee+128);Ta(De,64),Le=De.read_shift(2),Oe=Sk(De,0,Le-ue),W.push(Oe);var He={name:Oe,type:De.read_shift(1),color:De.read_shift(1),L:De.read_shift(4,"i"),R:De.read_shift(4,"i"),C:De.read_shift(4,"i"),clsid:De.read_shift(16),state:De.read_shift(4,"i"),start:0,size:0},ut=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);ut!==0&&(He.ct=j(De,De.l-8));var xr=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);xr!==0&&(He.mt=j(De,De.l-8)),He.start=De.read_shift(4,"i"),He.size=De.read_shift(4,"i"),He.size<0&&He.start<0&&(He.size=He.type=0,He.start=U,He.name=""),He.type===5?(re=He.start,Q>0&&re!==U&&(G[re].name="!StreamData")):He.size>=4096?(He.storage="fat",G[He.start]===void 0&&(G[He.start]=y(z,He.start,G.fat_addrs,G.ssz)),G[He.start].name=He.name,He.content=G[He.start].data.slice(0,He.size)):(He.storage="minifat",He.size<0?He.size=0:re!==U&&He.start!==U&&G[re]&&(He.content=x(He,G[re].data,(G[K]||{}).data))),He.content&&Ta(He.content,0),X[Oe]=He,pe.push(He)}}function j(L,G){return new Date((Wn(L,G+4)/1e7*Math.pow(2,32)+Wn(L,G)/1e7-11644473600)*1e3)}function N(L,G){return u(),d(c.readFileSync(L),G)}function k(L,G){var z=G&&G.type;switch(z||pt&&Buffer.isBuffer(L)&&(z="buffer"),z||"base64"){case"file":return N(L,G);case"base64":return d(Kn(rs(L)),G);case"binary":return d(Kn(L),G)}return d(L,G)}function _(L,G){var z=G||{},W=z.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=W+"/",L.FileIndex[0]={name:W,type:5}),z.CLSID&&(L.FileIndex[0].clsid=z.CLSID),S(L)}function S(L){var G="Sh33tJ5";if(!rt.find(L,"/"+G)){var z=be(4);z[0]=55,z[1]=z[3]=50,z[2]=54,L.FileIndex.push({name:G,type:2,content:z,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+G),T(L)}}function T(L,G){_(L);for(var z=!1,W=!1,Q=L.FullPaths.length-1;Q>=0;--Q){var X=L.FileIndex[Q];switch(X.type){case 0:W?z=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:W=!0,isNaN(X.R*X.L*X.C)&&(z=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(z=!0);break;default:z=!0;break}}if(!(!z&&!G)){var pe=new Date(1987,1,19),K=0,re=Object.create?Object.create(null):{},ue=[];for(Q=0;Q<L.FullPaths.length;++Q)re[L.FullPaths[Q]]=!0,L.FileIndex[Q].type!==0&&ue.push([L.FullPaths[Q],L.FileIndex[Q]]);for(Q=0;Q<ue.length;++Q){var he=a(ue[Q][0]);W=re[he],W||(ue.push([he,{name:s(he).replace("/",""),type:1,clsid:q,ct:pe,mt:pe,content:null}]),re[he]=!0)}for(ue.sort(function(Oe,De){return r(Oe[0],De[0])}),L.FullPaths=[],L.FileIndex=[],Q=0;Q<ue.length;++Q)L.FullPaths[Q]=ue[Q][0],L.FileIndex[Q]=ue[Q][1];for(Q=0;Q<ue.length;++Q){var Ee=L.FileIndex[Q],Le=L.FullPaths[Q];if(Ee.name=s(Le).replace("/",""),Ee.L=Ee.R=Ee.C=-(Ee.color=1),Ee.size=Ee.content?Ee.content.length:0,Ee.start=0,Ee.clsid=Ee.clsid||q,Q===0)Ee.C=ue.length>1?1:-1,Ee.size=0,Ee.type=5;else if(Le.slice(-1)=="/"){for(K=Q+1;K<ue.length&&a(L.FullPaths[K])!=Le;++K);for(Ee.C=K>=ue.length?-1:K,K=Q+1;K<ue.length&&a(L.FullPaths[K])!=a(Le);++K);Ee.R=K>=ue.length?-1:K,Ee.type=1}else a(L.FullPaths[Q+1]||"")==a(Le)&&(Ee.R=Q+1),Ee.type=2}}}function C(L,G){var z=G||{};if(z.fileType=="mad")return We(L,z);switch(T(L),z.fileType){case"zip":return Bl(L,z)}var W=function(Oe){for(var De=0,He=0,ut=0;ut<Oe.FileIndex.length;++ut){var xr=Oe.FileIndex[ut];if(xr.content){var gr=xr.content.length;gr>0&&(gr<4096?De+=gr+63>>6:He+=gr+511>>9)}}for(var Ma=Oe.FullPaths.length+3>>2,zd=De+7>>3,Wd=De+127>>7,Vd=zd+He+Ma+Wd,qo=Vd+127>>7,Mv=qo<=109?0:Math.ceil((qo-109)/127);Vd+qo+Mv+127>>7>qo;)Mv=++qo<=109?0:Math.ceil((qo-109)/127);var Gi=[1,Mv,qo,Wd,Ma,He,De,0];return Oe.FileIndex[0].size=De<<6,Gi[7]=(Oe.FileIndex[0].start=Gi[0]+Gi[1]+Gi[2]+Gi[3]+Gi[4]+Gi[5])+(Gi[6]+7>>3),Gi}(L),Q=be(W[7]<<9),X=0,pe=0;{for(X=0;X<8;++X)Q.write_shift(1,ae[X]);for(X=0;X<8;++X)Q.write_shift(2,0);for(Q.write_shift(2,62),Q.write_shift(2,3),Q.write_shift(2,65534),Q.write_shift(2,9),Q.write_shift(2,6),X=0;X<3;++X)Q.write_shift(2,0);for(Q.write_shift(4,0),Q.write_shift(4,W[2]),Q.write_shift(4,W[0]+W[1]+W[2]+W[3]-1),Q.write_shift(4,0),Q.write_shift(4,4096),Q.write_shift(4,W[3]?W[0]+W[1]+W[2]-1:U),Q.write_shift(4,W[3]),Q.write_shift(-4,W[1]?W[0]-1:U),Q.write_shift(4,W[1]),X=0;X<109;++X)Q.write_shift(-4,X<W[2]?W[1]+X:-1)}if(W[1])for(pe=0;pe<W[1];++pe){for(;X<236+pe*127;++X)Q.write_shift(-4,X<W[2]?W[1]+X:-1);Q.write_shift(-4,pe===W[1]-1?U:pe+1)}var K=function(Oe){for(pe+=Oe;X<pe-1;++X)Q.write_shift(-4,X+1);Oe&&(++X,Q.write_shift(-4,U))};for(pe=X=0,pe+=W[1];X<pe;++X)Q.write_shift(-4,R.DIFSECT);for(pe+=W[2];X<pe;++X)Q.write_shift(-4,R.FATSECT);K(W[3]),K(W[4]);for(var re=0,ue=0,he=L.FileIndex[0];re<L.FileIndex.length;++re)he=L.FileIndex[re],he.content&&(ue=he.content.length,!(ue<4096)&&(he.start=pe,K(ue+511>>9)));for(K(W[6]+7>>3);Q.l&511;)Q.write_shift(-4,R.ENDOFCHAIN);for(pe=X=0,re=0;re<L.FileIndex.length;++re)he=L.FileIndex[re],he.content&&(ue=he.content.length,!(!ue||ue>=4096)&&(he.start=pe,K(ue+63>>6)));for(;Q.l&511;)Q.write_shift(-4,R.ENDOFCHAIN);for(X=0;X<W[4]<<2;++X){var Ee=L.FullPaths[X];if(!Ee||Ee.length===0){for(re=0;re<17;++re)Q.write_shift(4,0);for(re=0;re<3;++re)Q.write_shift(4,-1);for(re=0;re<12;++re)Q.write_shift(4,0);continue}he=L.FileIndex[X],X===0&&(he.start=he.size?he.start-1:U);var Le=X===0&&z.root||he.name;if(ue=2*(Le.length+1),Q.write_shift(64,Le,"utf16le"),Q.write_shift(2,ue),Q.write_shift(1,he.type),Q.write_shift(1,he.color),Q.write_shift(-4,he.L),Q.write_shift(-4,he.R),Q.write_shift(-4,he.C),he.clsid)Q.write_shift(16,he.clsid,"hex");else for(re=0;re<4;++re)Q.write_shift(4,0);Q.write_shift(4,he.state||0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,he.start),Q.write_shift(4,he.size),Q.write_shift(4,0)}for(X=1;X<L.FileIndex.length;++X)if(he=L.FileIndex[X],he.size>=4096)if(Q.l=he.start+1<<9,pt&&Buffer.isBuffer(he.content))he.content.copy(Q,Q.l,0,he.size),Q.l+=he.size+511&-512;else{for(re=0;re<he.size;++re)Q.write_shift(1,he.content[re]);for(;re&511;++re)Q.write_shift(1,0)}for(X=1;X<L.FileIndex.length;++X)if(he=L.FileIndex[X],he.size>0&&he.size<4096)if(pt&&Buffer.isBuffer(he.content))he.content.copy(Q,Q.l,0,he.size),Q.l+=he.size+63&-64;else{for(re=0;re<he.size;++re)Q.write_shift(1,he.content[re]);for(;re&63;++re)Q.write_shift(1,0)}if(pt)Q.l=Q.length;else for(;Q.l<Q.length;)Q.write_shift(1,0);return Q}function E(L,G){var z=L.FullPaths.map(function(re){return re.toUpperCase()}),W=z.map(function(re){var ue=re.split("/");return ue[ue.length-(re.slice(-1)=="/"?2:1)]}),Q=!1;G.charCodeAt(0)===47?(Q=!0,G=z[0].slice(0,-1)+G):Q=G.indexOf("/")!==-1;var X=G.toUpperCase(),pe=Q===!0?z.indexOf(X):W.indexOf(X);if(pe!==-1)return L.FileIndex[pe];var K=!X.match(bf);for(X=X.replace(pn,""),K&&(X=X.replace(bf,"!")),pe=0;pe<z.length;++pe)if((K?z[pe].replace(bf,"!"):z[pe]).replace(pn,"")==X||(K?W[pe].replace(bf,"!"):W[pe]).replace(pn,"")==X)return L.FileIndex[pe];return null}var A=64,U=-2,V="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",R={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function P(L,G,z){u();var W=C(L,z);c.writeFileSync(G,W)}function B(L){for(var G=new Array(L.length),z=0;z<L.length;++z)G[z]=String.fromCharCode(L[z]);return G.join("")}function te(L,G){var z=C(L,G);switch(G&&G.type||"buffer"){case"file":return u(),c.writeFileSync(G.filename,z),z;case"binary":return typeof z=="string"?z:B(z);case"base64":return T0(typeof z=="string"?z:B(z));case"buffer":if(pt)return Buffer.isBuffer(z)?z:Ml(z);case"array":return typeof z=="string"?Kn(z):z}return z}var H;function F(L){try{var G=L.InflateRaw,z=new G;if(z._processChunk(new Uint8Array([3,0]),z._finishFlushFlag),z.bytesRead)H=L;else throw new Error("zlib does not expose bytesRead")}catch(W){console.error("cannot use native zlib: "+(W.message||W))}}function O(L,G){if(!H)return Cr(L,G);var z=H.InflateRaw,W=new z,Q=W._processChunk(L.slice(L.l),W._finishFlushFlag);return L.l+=W.bytesRead,Q}function M(L){return H?H.deflateRawSync(L):et(L)}var I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function J(L){var G=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(G>>16|G>>8|G)&255}for(var Y=typeof Uint8Array<"u",ie=Y?new Uint8Array(256):[],fe=0;fe<256;++fe)ie[fe]=J(fe);function D(L,G){var z=ie[L&255];return G<=8?z>>>8-G:(z=z<<8|ie[L>>8&255],G<=16?z>>>16-G:(z=z<<8|ie[L>>16&255],z>>>24-G))}function ye(L,G){var z=G&7,W=G>>>3;return(L[W]|(z<=6?0:L[W+1]<<8))>>>z&3}function Ce(L,G){var z=G&7,W=G>>>3;return(L[W]|(z<=5?0:L[W+1]<<8))>>>z&7}function Pe(L,G){var z=G&7,W=G>>>3;return(L[W]|(z<=4?0:L[W+1]<<8))>>>z&15}function Me(L,G){var z=G&7,W=G>>>3;return(L[W]|(z<=3?0:L[W+1]<<8))>>>z&31}function ke(L,G){var z=G&7,W=G>>>3;return(L[W]|(z<=1?0:L[W+1]<<8))>>>z&127}function at(L,G,z){var W=G&7,Q=G>>>3,X=(1<<z)-1,pe=L[Q]>>>W;return z<8-W||(pe|=L[Q+1]<<8-W,z<16-W)||(pe|=L[Q+2]<<16-W,z<24-W)||(pe|=L[Q+3]<<24-W),pe&X}function $e(L,G,z){var W=G&7,Q=G>>>3;return W<=5?L[Q]|=(z&7)<<W:(L[Q]|=z<<W&255,L[Q+1]=(z&7)>>8-W),G+3}function Z(L,G,z){var W=G&7,Q=G>>>3;return z=(z&1)<<W,L[Q]|=z,G+1}function ce(L,G,z){var W=G&7,Q=G>>>3;return z<<=W,L[Q]|=z&255,z>>>=8,L[Q+1]=z,G+8}function de(L,G,z){var W=G&7,Q=G>>>3;return z<<=W,L[Q]|=z&255,z>>>=8,L[Q+1]=z&255,L[Q+2]=z>>>8,G+16}function we(L,G){var z=L.length,W=2*z>G?2*z:G+5,Q=0;if(z>=G)return L;if(pt){var X=pT(W);if(L.copy)L.copy(X);else for(;Q<L.length;++Q)X[Q]=L[Q];return X}else if(Y){var pe=new Uint8Array(W);if(pe.set)pe.set(L);else for(;Q<z;++Q)pe[Q]=L[Q];return pe}return L.length=W,L}function _e(L){for(var G=new Array(L),z=0;z<L;++z)G[z]=0;return G}function se(L,G,z){var W=1,Q=0,X=0,pe=0,K=0,re=L.length,ue=Y?new Uint16Array(32):_e(32);for(X=0;X<32;++X)ue[X]=0;for(X=re;X<z;++X)L[X]=0;re=L.length;var he=Y?new Uint16Array(re):_e(re);for(X=0;X<re;++X)ue[Q=L[X]]++,W<Q&&(W=Q),he[X]=0;for(ue[0]=0,X=1;X<=W;++X)ue[X+16]=K=K+ue[X-1]<<1;for(X=0;X<re;++X)K=L[X],K!=0&&(he[X]=ue[K+16]++);var Ee=0;for(X=0;X<re;++X)if(Ee=L[X],Ee!=0)for(K=D(he[X],W)>>W-Ee,pe=(1<<W+4-Ee)-1;pe>=0;--pe)G[K|pe<<Ee]=Ee&15|X<<4;return W}var le=Y?new Uint16Array(512):_e(512),Fe=Y?new Uint16Array(32):_e(32);if(!Y){for(var ze=0;ze<512;++ze)le[ze]=0;for(ze=0;ze<32;++ze)Fe[ze]=0}(function(){for(var L=[],G=0;G<32;G++)L.push(5);se(L,Fe,32);var z=[];for(G=0;G<=143;G++)z.push(8);for(;G<=255;G++)z.push(9);for(;G<=279;G++)z.push(7);for(;G<=287;G++)z.push(8);se(z,le,288)})();var Xe=function(){for(var G=Y?new Uint8Array(32768):[],z=0,W=0;z<oe.length-1;++z)for(;W<oe[z+1];++W)G[W]=z;for(;W<32768;++W)G[W]=29;var Q=Y?new Uint8Array(259):[];for(z=0,W=0;z<ne.length-1;++z)for(;W<ne[z+1];++W)Q[W]=z;function X(K,re){for(var ue=0;ue<K.length;){var he=Math.min(65535,K.length-ue),Ee=ue+he==K.length;for(re.write_shift(1,+Ee),re.write_shift(2,he),re.write_shift(2,~he&65535);he-- >0;)re[re.l++]=K[ue++]}return re.l}function pe(K,re){for(var ue=0,he=0,Ee=Y?new Uint16Array(32768):[];he<K.length;){var Le=Math.min(65535,K.length-he);if(Le<10){for(ue=$e(re,ue,+(he+Le==K.length)),ue&7&&(ue+=8-(ue&7)),re.l=ue/8|0,re.write_shift(2,Le),re.write_shift(2,~Le&65535);Le-- >0;)re[re.l++]=K[he++];ue=re.l*8;continue}ue=$e(re,ue,+(he+Le==K.length)+2);for(var Oe=0;Le-- >0;){var De=K[he];Oe=(Oe<<5^De)&32767;var He=-1,ut=0;if((He=Ee[Oe])&&(He|=he&-32768,He>he&&(He-=32768),He<he))for(;K[He+ut]==K[he+ut]&&ut<250;)++ut;if(ut>2){De=Q[ut],De<=22?ue=ce(re,ue,ie[De+1]>>1)-1:(ce(re,ue,3),ue+=5,ce(re,ue,ie[De-23]>>5),ue+=3);var xr=De<8?0:De-4>>2;xr>0&&(de(re,ue,ut-ne[De]),ue+=xr),De=G[he-He],ue=ce(re,ue,ie[De]>>3),ue-=3;var gr=De<4?0:De-2>>1;gr>0&&(de(re,ue,he-He-oe[De]),ue+=gr);for(var Ma=0;Ma<ut;++Ma)Ee[Oe]=he&32767,Oe=(Oe<<5^K[he])&32767,++he;Le-=ut-1}else De<=143?De=De+48:ue=Z(re,ue,1),ue=ce(re,ue,ie[De]),Ee[Oe]=he&32767,++he}ue=ce(re,ue,0)-1}return re.l=(ue+7)/8|0,re.l}return function(re,ue){return re.length<8?X(re,ue):pe(re,ue)}}();function et(L){var G=be(50+Math.floor(L.length*1.1)),z=Xe(L,G);return G.slice(0,z)}var ot=Y?new Uint16Array(32768):_e(32768),tt=Y?new Uint16Array(32768):_e(32768),nt=Y?new Uint16Array(128):_e(128),_t=1,Zt=1;function ge(L,G){var z=Me(L,G)+257;G+=5;var W=Me(L,G)+1;G+=5;var Q=Pe(L,G)+4;G+=4;for(var X=0,pe=Y?new Uint8Array(19):_e(19),K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=1,ue=Y?new Uint8Array(8):_e(8),he=Y?new Uint8Array(8):_e(8),Ee=pe.length,Le=0;Le<Q;++Le)pe[I[Le]]=X=Ce(L,G),re<X&&(re=X),ue[X]++,G+=3;var Oe=0;for(ue[0]=0,Le=1;Le<=re;++Le)he[Le]=Oe=Oe+ue[Le-1]<<1;for(Le=0;Le<Ee;++Le)(Oe=pe[Le])!=0&&(K[Le]=he[Oe]++);var De=0;for(Le=0;Le<Ee;++Le)if(De=pe[Le],De!=0){Oe=ie[K[Le]]>>8-De;for(var He=(1<<7-De)-1;He>=0;--He)nt[Oe|He<<De]=De&7|Le<<3}var ut=[];for(re=1;ut.length<z+W;)switch(Oe=nt[ke(L,G)],G+=Oe&7,Oe>>>=3){case 16:for(X=3+ye(L,G),G+=2,Oe=ut[ut.length-1];X-- >0;)ut.push(Oe);break;case 17:for(X=3+Ce(L,G),G+=3;X-- >0;)ut.push(0);break;case 18:for(X=11+ke(L,G),G+=7;X-- >0;)ut.push(0);break;default:ut.push(Oe),re<Oe&&(re=Oe);break}var xr=ut.slice(0,z),gr=ut.slice(z);for(Le=z;Le<286;++Le)xr[Le]=0;for(Le=W;Le<30;++Le)gr[Le]=0;return _t=se(xr,ot,286),Zt=se(gr,tt,30),G}function dt(L,G){if(L[0]==3&&!(L[1]&3))return[Ao(G),2];for(var z=0,W=0,Q=pT(G||1<<18),X=0,pe=Q.length>>>0,K=0,re=0;!(W&1);){if(W=Ce(L,z),z+=3,W>>>1)W>>1==1?(K=9,re=5):(z=ge(L,z),K=_t,re=Zt);else{z&7&&(z+=8-(z&7));var ue=L[z>>>3]|L[(z>>>3)+1]<<8;if(z+=32,ue>0)for(!G&&pe<X+ue&&(Q=we(Q,X+ue),pe=Q.length);ue-- >0;)Q[X++]=L[z>>>3],z+=8;continue}for(;;){!G&&pe<X+32767&&(Q=we(Q,X+32767),pe=Q.length);var he=at(L,z,K),Ee=W>>>1==1?le[he]:ot[he];if(z+=Ee&15,Ee>>>=4,!(Ee>>>8&255))Q[X++]=Ee;else{if(Ee==256)break;Ee-=257;var Le=Ee<8?0:Ee-4>>2;Le>5&&(Le=0);var Oe=X+ne[Ee];Le>0&&(Oe+=at(L,z,Le),z+=Le),he=at(L,z,re),Ee=W>>>1==1?Fe[he]:tt[he],z+=Ee&15,Ee>>>=4;var De=Ee<4?0:Ee-2>>1,He=oe[Ee];for(De>0&&(He+=at(L,z,De),z+=De),!G&&pe<Oe&&(Q=we(Q,Oe+100),pe=Q.length);X<Oe;)Q[X]=Q[X-He],++X}}}return G?[Q,z+7>>>3]:[Q.slice(0,X),z+7>>>3]}function Cr(L,G){var z=L.slice(L.l||0),W=dt(z,G);return L.l+=W[1],W[0]}function nn(L,G){if(L)typeof console<"u"&&console.error(G);else throw new Error(G)}function pr(L,G){var z=L;Ta(z,0);var W=[],Q=[],X={FileIndex:W,FullPaths:Q};_(X,{root:G.root});for(var pe=z.length-4;(z[pe]!=80||z[pe+1]!=75||z[pe+2]!=5||z[pe+3]!=6)&&pe>=0;)--pe;z.l=pe+4,z.l+=4;var K=z.read_shift(2);z.l+=6;var re=z.read_shift(4);for(z.l=re,pe=0;pe<K;++pe){z.l+=20;var ue=z.read_shift(4),he=z.read_shift(4),Ee=z.read_shift(2),Le=z.read_shift(2),Oe=z.read_shift(2);z.l+=8;var De=z.read_shift(4),He=o(z.slice(z.l+Ee,z.l+Ee+Le));z.l+=Ee+Le+Oe;var ut=z.l;z.l=De+4,Vs(z,ue,he,X,He),z.l=ut}return X}function Vs(L,G,z,W,Q){L.l+=2;var X=L.read_shift(2),pe=L.read_shift(2),K=l(L);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var re=L.read_shift(4),ue=L.read_shift(4),he=L.read_shift(4),Ee=L.read_shift(2),Le=L.read_shift(2),Oe="",De=0;De<Ee;++De)Oe+=String.fromCharCode(L[L.l++]);if(Le){var He=o(L.slice(L.l,L.l+Le));(He[21589]||{}).mt&&(K=He[21589].mt),((Q||{})[21589]||{}).mt&&(K=Q[21589].mt)}L.l+=Le;var ut=L.slice(L.l,L.l+ue);switch(pe){case 8:ut=O(L,he);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+pe)}var xr=!1;X&8&&(re=L.read_shift(4),re==134695760&&(re=L.read_shift(4),xr=!0),ue=L.read_shift(4),he=L.read_shift(4)),ue!=G&&nn(xr,"Bad compressed size: "+G+" != "+ue),he!=z&&nn(xr,"Bad uncompressed size: "+z+" != "+he),ct(W,Oe,ut,{unsafe:!0,mt:K})}function Bl(L,G){var z=G||{},W=[],Q=[],X=be(1),pe=z.compression?8:0,K=0,re=0,ue=0,he=0,Ee=0,Le=L.FullPaths[0],Oe=Le,De=L.FileIndex[0],He=[],ut=0;for(re=1;re<L.FullPaths.length;++re)if(Oe=L.FullPaths[re].slice(Le.length),De=L.FileIndex[re],!(!De.size||!De.content||Oe=="Sh33tJ5")){var xr=he,gr=be(Oe.length);for(ue=0;ue<Oe.length;++ue)gr.write_shift(1,Oe.charCodeAt(ue)&127);gr=gr.slice(0,gr.l),He[Ee]=Xue.buf(De.content,0);var Ma=De.content;pe==8&&(Ma=M(Ma)),X=be(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,K),X.write_shift(2,pe),De.mt?i(X,De.mt):X.write_shift(4,0),X.write_shift(-4,He[Ee]),X.write_shift(4,Ma.length),X.write_shift(4,De.content.length),X.write_shift(2,gr.length),X.write_shift(2,0),he+=X.length,W.push(X),he+=gr.length,W.push(gr),he+=Ma.length,W.push(Ma),X=be(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,K),X.write_shift(2,pe),X.write_shift(4,0),X.write_shift(-4,He[Ee]),X.write_shift(4,Ma.length),X.write_shift(4,De.content.length),X.write_shift(2,gr.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,xr),ut+=X.l,Q.push(X),ut+=gr.length,Q.push(gr),++Ee}return X=be(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Ee),X.write_shift(2,Ee),X.write_shift(4,ut),X.write_shift(4,he),X.write_shift(2,0),xa([xa(W),xa(Q),X])}var sn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function je(L,G){if(L.ctype)return L.ctype;var z=L.name||"",W=z.match(/\.([^\.]+)$/);return W&&sn[W[1]]||G&&(W=(z=G).match(/[\.\\]([^\.\\])+$/),W&&sn[W[1]])?sn[W[1]]:"application/octet-stream"}function Ue(L){for(var G=T0(L),z=[],W=0;W<G.length;W+=76)z.push(G.slice(W,W+76));return z.join(`\r
`)+`\r
`}function Ot(L){var G=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var he=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(he.length==1?"0"+he:he)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var z=[],W=G.split(`\r
`),Q=0;Q<W.length;++Q){var X=W[Q];if(X.length==0){z.push("");continue}for(var pe=0;pe<X.length;){var K=76,re=X.slice(pe,pe+K);re.charAt(K-1)=="="?K--:re.charAt(K-2)=="="?K-=2:re.charAt(K-3)=="="&&(K-=3),re=X.slice(pe,pe+K),pe+=K,pe<X.length&&(re+="="),z.push(re)}}return z.join(`\r
`)}function Ir(L){for(var G=[],z=0;z<L.length;++z){for(var W=L[z];z<=L.length&&W.charAt(W.length-1)=="=";)W=W.slice(0,W.length-1)+L[++z];G.push(W)}for(var Q=0;Q<G.length;++Q)G[Q]=G[Q].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return Kn(G.join(`\r
`))}function vi(L,G,z){for(var W="",Q="",X="",pe,K=0;K<10;++K){var re=G[K];if(!re||re.match(/^\s*$/))break;var ue=re.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":W=ue[2].trim();break;case"content-type":X=ue[2].trim();break;case"content-transfer-encoding":Q=ue[2].trim();break}}switch(++K,Q.toLowerCase()){case"base64":pe=Kn(rs(G.slice(K).join("")));break;case"quoted-printable":pe=Ir(G.slice(K));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Q)}var he=ct(L,W.slice(z.length),pe,{unsafe:!0});X&&(he.ctype=X)}function Ne(L,G){if(B(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var z=G&&G.root||"",W=(pt&&Buffer.isBuffer(L)?L.toString("binary"):B(L)).split(`\r
`),Q=0,X="";for(Q=0;Q<W.length;++Q)if(X=W[Q],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),z||(z=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,z.length)!=z))for(;z.length>0&&(z=z.slice(0,z.length-1),z=z.slice(0,z.lastIndexOf("/")+1),X.slice(0,z.length)!=z););var pe=(W[1]||"").match(/boundary="(.*?)"/);if(!pe)throw new Error("MAD cannot find boundary");var K="--"+(pe[1]||""),re=[],ue=[],he={FileIndex:re,FullPaths:ue};_(he);var Ee,Le=0;for(Q=0;Q<W.length;++Q){var Oe=W[Q];Oe!==K&&Oe!==K+"--"||(Le++&&vi(he,W.slice(Ee,Q),z),Ee=Q)}return he}function We(L,G){var z=G||{},W=z.boundary||"SheetJS";W="------="+W;for(var Q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+W.slice(2)+'"',"","",""],X=L.FullPaths[0],pe=X,K=L.FileIndex[0],re=1;re<L.FullPaths.length;++re)if(pe=L.FullPaths[re].slice(X.length),K=L.FileIndex[re],!(!K.size||!K.content||pe=="Sh33tJ5")){pe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ut){return"_x"+ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ut){return"_u"+ut.charCodeAt(0).toString(16)+"_"});for(var ue=K.content,he=pt&&Buffer.isBuffer(ue)?ue.toString("binary"):B(ue),Ee=0,Le=Math.min(1024,he.length),Oe=0,De=0;De<=Le;++De)(Oe=he.charCodeAt(De))>=32&&Oe<128&&++Ee;var He=Ee>=Le*4/5;Q.push(W),Q.push("Content-Location: "+(z.root||"file:///C:/SheetJS/")+pe),Q.push("Content-Transfer-Encoding: "+(He?"quoted-printable":"base64")),Q.push("Content-Type: "+je(K,pe)),Q.push(""),Q.push(He?Ot(he):Ue(he))}return Q.push(W+`--\r
`),Q.join(`\r
`)}function Er(L){var G={};return _(G,L),G}function ct(L,G,z,W){var Q=W&&W.unsafe;Q||_(L);var X=!Q&&rt.find(L,G);if(!X){var pe=L.FullPaths[0];G.slice(0,pe.length)==pe?pe=G:(pe.slice(-1)!="/"&&(pe+="/"),pe=(pe+G).replace("//","/")),X={name:s(G),type:2},L.FileIndex.push(X),L.FullPaths.push(pe),Q||rt.utils.cfb_gc(L)}return X.content=z,X.size=z?z.length:0,W&&(W.CLSID&&(X.clsid=W.CLSID),W.mt&&(X.mt=W.mt),W.ct&&(X.ct=W.ct)),X}function Ra(L,G){_(L);var z=rt.find(L,G);if(z){for(var W=0;W<L.FileIndex.length;++W)if(L.FileIndex[W]==z)return L.FileIndex.splice(W,1),L.FullPaths.splice(W,1),!0}return!1}function Rr(L,G,z){_(L);var W=rt.find(L,G);if(W){for(var Q=0;Q<L.FileIndex.length;++Q)if(L.FileIndex[Q]==W)return L.FileIndex[Q].name=s(z),L.FullPaths[Q]=z,!0}return!1}function os(L){T(L,!0)}return t.find=E,t.read=k,t.parse=d,t.write=te,t.writeFile=P,t.utils={cfb_new:Er,cfb_add:ct,cfb_del:Ra,cfb_mov:Rr,cfb_gc:os,ReadShift:Lf,CheckField:gM,prep_blob:Ta,bconcat:xa,use_zlib:F,_deflateRaw:et,_inflateRaw:Cr,consts:R},t}();function Yue(e){return typeof e=="string"?Ev(e):Array.isArray(e)?Nue(e):e}function Nh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Ev(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Di(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var s=new Blob([Yue(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Wo(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Jue(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function Fr(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function NT(e,t){for(var r=[],a=Fr(e),s=0;s!==a.length;++s)r[e[a[s]][t]]==null&&(r[e[a[s]][t]]=a[s]);return r}function Av(e){for(var t=[],r=Fr(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function Pv(e){for(var t=[],r=Fr(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function Zue(e){for(var t=[],r=Fr(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var Ux=new Date(1899,11,30,0,0,0);function ia(e,t){var r=e.getTime(),a=Ux.getTime()+(e.getTimezoneOffset()-Ux.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var XR=new Date,ede=Ux.getTime()+(XR.getTimezoneOffset()-Ux.getTimezoneOffset())*6e4,kT=XR.getTimezoneOffset();function Ov(e){var t=new Date;return t.setTime(e*24*60*60*1e3+ede),t.getTimezoneOffset()!==kT&&t.setTime(t.getTime()+(t.getTimezoneOffset()-kT)*6e4),t}function tde(e){var t=0,r=0,a=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(r=1,i>3&&(a=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(s[i],10)}return t}var _T=new Date("2017-02-19T19:06:09.000Z"),YR=isNaN(_T.getFullYear())?new Date("2/19/17"):_T,rde=YR.getFullYear()==2017;function sr(e,t){var r=new Date(e);if(rde)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(YR.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Vc(e,t){if(pt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Di(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Di(LR(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Di(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Di(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function ir(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ir(e[r]));return t}function Pr(e,t){for(var r="";r.length<t;)r+=e;return r}function fi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var ade=["january","february","march","april","may","june","july","august","september","october","november","december"];function md(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&ade.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var nde=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,s){if(e||typeof a=="string")return r.split(a);for(var i=r.split(a),l=[i[0]],o=1;o<i.length;++o)l.push(s),l.push(i[o]);return l}}();function JR(e){return e?e.content&&e.type?Vc(e.content,!0):e.data?yf(e.data):e.asNodeBuffer&&pt?yf(e.asNodeBuffer().toString("binary")):e.asBinary?yf(e.asBinary()):e._data&&e._data.getContent?yf(Vc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function ZR(e){if(!e)return null;if(e.data)return hT(e.data);if(e.asNodeBuffer&&pt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?hT(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function sde(e){return e&&e.name.slice(-4)===".bin"?ZR(e):JR(e)}function gs(e,t){for(var r=e.FullPaths||Fr(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),s=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var l=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==l||s==l)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function bk(e,t){var r=gs(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function qr(e,t,r){if(!r)return sde(bk(e,t));if(!t)return null;try{return qr(e,t)}catch{return null}}function Gn(e,t,r){if(!r)return JR(bk(e,t));if(!t)return null;try{return Gn(e,t)}catch{return null}}function ide(e,t,r){return ZR(bk(e,t))}function ST(e){for(var t=e.FullPaths||Fr(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function mt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return pt?a=Ml(r):a=kue(r),rt.utils.cfb_add(e,t,a)}rt.utils.cfb_add(e,t,r)}else e.file(t,r)}function wk(){return rt.utils.cfb_new()}function eM(e,t){switch(t.type){case"base64":return rt.read(e,{type:"base64"});case"binary":return rt.read(e,{type:"binary"});case"buffer":case"array":return rt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function wf(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var s=a.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var Wr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,lde=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,CT=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,ode=/<[^>]*>/g,an=Wr.match(CT)?CT:ode,cde=/<\w*:/,ude=/<(\/?)\w+:/;function lt(e,t,r){for(var a={},s=0,i=0;s!==e.length&&!((i=e.charCodeAt(s))===32||i===10||i===13);++s);if(t||(a[0]=e.slice(0,s)),s===e.length)return a;var l=e.match(lde),o=0,c="",u=0,d="",f="",h=1;if(l)for(u=0;u!=l.length;++u){for(f=l[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(s=f.charCodeAt(i+1))==34||s==39?1:0,c=f.slice(i+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),a[d]=c,a[d.toLowerCase()]=c;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(a[m]&&d.slice(o-3,o)=="ext")continue;a[m]=c,a[m.toLowerCase()]=c}}return a}function qi(e){return e.replace(ude,"<$1")}var tM={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},jk=Av(tM),At=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var s=a+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(e,function(o,c){return tM[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var l=s.indexOf("]]>");return r(s.slice(0,i))+s.slice(i+9,l)+r(s.slice(l+3))}}(),Nk=/[&<>'"]/g,dde=/[\u0000-\u0008\u000b-\u001f]/g;function Bt(e){var t=e+"";return t.replace(Nk,function(r){return jk[r]}).replace(dde,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ET(e){return Bt(e).replace(/ /g,"_x0020_")}var rM=/[\u0000-\u001f]/g;function kk(e){var t=e+"";return t.replace(Nk,function(r){return jk[r]}).replace(/\n/g,"<br/>").replace(rM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function fde(e){var t=e+"";return t.replace(Nk,function(r){return jk[r]}).replace(rM,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var TT=function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}}();function hde(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function rr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ky(e){for(var t="",r=0,a=0,s=0,i=0,l=0,o=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),a>191&&a<224){l=(a&31)<<6,l|=s&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}l=e.charCodeAt(r++),o=((a&7)<<18|(s&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function AT(e){var t=Ao(2*e.length),r,a,s=1,i=0,l=0,o;for(a=0;a<e.length;a+=s)s=1,(o=e.charCodeAt(a))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(a+1)&63),s=2):o<240?(r=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,r=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function PT(e){return Ml(e,"binary").toString("utf8")}var vm="foo bar bazâð£",Ht=pt&&(PT(vm)==Ky(vm)&&PT||AT(vm)==Ky(vm)&&AT)||Ky,Di=pt?function(e){return Ml(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,s=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},P0=function(){var e={};return function(r,a){var s=r+"|"+(a||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}}(),aM=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}}(),mde=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),pde=/<\/?(?:vt:)?variant>/g,xde=/<(?:vt:)([^>]*)>([\s\S]*)</;function OT(e,t){var r=lt(e),a=e.match(mde(r.baseType))||[],s=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return s}return a.forEach(function(i){var l=i.replace(pde,"").match(xde);l&&s.push({v:Ht(l[2]),t:l[1]})}),s}var nM=/(^\s|\s$|\n)/;function Pa(e,t){return"<"+e+(t.match(nM)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function O0(e){return Fr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ie(e,t,r){return"<"+e+(r!=null?O0(r):"")+(t!=null?(t.match(nM)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function _w(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function gde(e,t){switch(typeof e){case"string":var r=Ie("vt:lpwstr",Bt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ie((e|0)==e?"vt:i4":"vt:r8",Bt(String(e)));case"boolean":return Ie("vt:bool",e?"true":"false")}if(e instanceof Date)return Ie("vt:filetime",_w(e));throw new Error("Unable to serialize "+e)}function _k(e){if(pt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ht(Wo(gk(e)));throw new Error("Bad input format: expected Buffer or string")}var D0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ra={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},tu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],zn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function vde(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function yde(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,l=a?-t:t;isFinite(l)?l==0?s=i=0:(s=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|a}var DT=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=r)t.push.apply(t,e[0][a].slice(s,s+r));return t},FT=pt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ml(t)})):DT(e)}:DT,IT=function(e,t,r){for(var a=[],s=t;s<r;s+=2)a.push(String.fromCharCode(cl(e,s)));return a.join("").replace(pn,"")},Sk=pt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(pn,""):IT(e,t,r)}:IT,RT=function(e,t,r){for(var a=[],s=t;s<t+r;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},sM=pt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):RT(e,t,r)}:RT,MT=function(e,t,r){for(var a=[],s=t;s<r;s++)a.push(String.fromCharCode(pu(e,s)));return a.join("")},kh=pt?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):MT(t,r,a)}:MT,iM=function(e,t){var r=Wn(e,t);return r>0?kh(e,t+4,t+4+r-1):""},lM=iM,oM=function(e,t){var r=Wn(e,t);return r>0?kh(e,t+4,t+4+r-1):""},cM=oM,uM=function(e,t){var r=2*Wn(e,t);return r>0?kh(e,t+4,t+4+r-1):""},dM=uM,fM=function(t,r){var a=Wn(t,r);return a>0?Sk(t,r+4,r+4+a):""},hM=fM,mM=function(e,t){var r=Wn(e,t);return r>0?kh(e,t+4,t+4+r):""},pM=mM,xM=function(e,t){return vde(e,t)},zx=xM,Ck=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};pt&&(lM=function(t,r){if(!Buffer.isBuffer(t))return iM(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},cM=function(t,r){if(!Buffer.isBuffer(t))return oM(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},dM=function(t,r){if(!Buffer.isBuffer(t))return uM(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},hM=function(t,r){if(!Buffer.isBuffer(t))return fM(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},pM=function(t,r){if(!Buffer.isBuffer(t))return mM(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},zx=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):xM(t,r)},Ck=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var pu=function(e,t){return e[t]},cl=function(e,t){return e[t+1]*256+e[t]},bde=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Wn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},rc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},wde=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Lf(e,t){var r="",a,s,i=[],l,o,c,u;switch(t){case"dbcs":if(u=this.l,pt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(cl(this,u)),u+=2;e*=2;break;case"utf8":r=kh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Sk(this,this.l,this.l+e);break;case"wstr":return Lf.call(this,e,"dbcs");case"lpstr-ansi":r=lM(this,this.l),e=4+Wn(this,this.l);break;case"lpstr-cp":r=cM(this,this.l),e=4+Wn(this,this.l);break;case"lpwstr":r=dM(this,this.l),e=4+2*Wn(this,this.l);break;case"lpp4":e=4+Wn(this,this.l),r=hM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Wn(this,this.l),r=pM(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=pu(this,this.l+e++))!==0;)i.push(gm(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=cl(this,this.l+e))!==0;)i.push(gm(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return l=pu(this,u),this.l=u+1,o=Lf.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(gm(cl(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return l=pu(this,u),this.l=u+1,o=Lf.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(gm(pu(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return a=pu(this,this.l),this.l++,a;case 2:return a=(t==="i"?bde:cl)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?rc:wde)(this,this.l),this.l+=4,a):(s=Wn(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=zx(this,this.l):s=zx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=sM(this,this.l,e);break}}return this.l+=e,r}var jde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Nde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},kde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function _de(e,t,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)kde(this,t.charCodeAt(s),this.l+2*s);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;a=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var l=t.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,jde(this,t,this.l);break;case 8:if(a=8,r==="f"){yde(this,t,this.l);break}case 16:break;case-4:a=4,Nde(this,t,this.l);break}return this.l+=a,this}function gM(e,t){var r=sM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ta(e,t){e.l=t,e.read_shift=Lf,e.chk=gM,e.write_shift=_de}function en(e,t){e.l+=t}function be(e){var t=Ao(e);return Ta(t,0),t}function Ll(e,t,r){if(e){var a,s,i;Ta(e,e.l||0);for(var l=e.length,o=0,c=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=$0[o]||$0[65535];for(a=e.read_shift(1),i=a&127,s=1;s<4&&a&128;++s)i+=((a=e.read_shift(1))&127)<<7*s;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,o))return}}}function Dn(){var e=[],t=pt?256:2048,r=function(u){var d=be(u);return Ta(d,0),d},a=r(t),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(u){return a&&u<a.length-a.l?a:(s(),a=r(Math.max(u+1,t)))},l=function(){return s(),xa(e)},o=function(u){s(),a=u,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function Se(e,t,r,a){var s=+t,i;if(!isNaN(s)){a||(a=$0[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var l=e.next(i);s<=127?l.write_shift(1,s):(l.write_shift(1,(s&127)+128),l.write_shift(1,s>>7));for(var o=0;o!=4;++o)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&Ck(r)&&e.push(r)}}function $f(e,t,r){var a=ir(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function LT(e,t,r){var a=ir(e);return a.s=$f(a.s,t.s,r),a.e=$f(a.e,t.s,r),a}function Bf(e,t){if(e.cRel&&e.c<0)for(e=ir(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ir(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=it(e);return!e.cRel&&e.cRel!=null&&(r=Ede(r)),!e.rRel&&e.rRel!=null&&(r=Sde(r)),r}function Gy(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+wr(e.s.c)+":"+(e.e.cRel?"":"$")+wr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Br(e.s.r)+":"+(e.e.rRel?"":"$")+Br(e.e.r):Bf(e.s,t.biff)+":"+Bf(e.e,t.biff)}function Ek(e){return parseInt(Cde(e),10)-1}function Br(e){return""+(e+1)}function Sde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Cde(e){return e.replace(/\$(\d+)$/,"$1")}function Tk(e){for(var t=Tde(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function wr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Ede(e){return e.replace(/^([A-Z])/,"$$$1")}function Tde(e){return e.replace(/^\$([A-Z])/,"$1")}function Ade(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jr(e){for(var t=0,r=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function it(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function In(e){var t=e.indexOf(":");return t==-1?{s:jr(e),e:jr(e)}:{s:jr(e.slice(0,t)),e:jr(e.slice(t+1))}}function ht(e,t){return typeof t>"u"||typeof t=="number"?ht(e.s,e.e):(typeof e!="string"&&(e=it(e)),typeof t!="string"&&(t=it(t)),e==t?e:e+":"+t)}function Pt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,i=e.length;for(r=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.s.c=--r,r=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(t.s.r=--r,a===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.e.c=--r,r=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return t.e.r=--r,t}function $T(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Rs(e.z,r?ia(t):t)}catch{}try{return e.w=Rs((e.XF||{}).numFmtId||(r?14:0),r?ia(t):t)}catch{return""+t}}function Cl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?$l[e.v]||e.v:t==null?$T(e,e.v):$T(e,t))}function Vo(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function vM(e,t,r){var a=r||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),l=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var c=typeof a.origin=="string"?jr(a.origin):a.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Pt(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),l==-1&&(u.e.r=l=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=l+f,x=o+h;if(u.s.r>p&&(u.s.r=p),u.s.c>x&&(u.s.c=x),u.e.r<p&&(u.e.r=p),u.e.c<x&&(u.e.c=x),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(a.nullError)m.t="e",m.v=0;else if(a.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=a.dateNF||st[14],a.cellDates?(m.t="d",m.w=Rs(m.z,ia(m.v))):(m.t="n",m.v=ia(m.v),m.w=Rs(m.z,m.v))):m.t="s";if(s)i[p]||(i[p]=[]),i[p][x]&&i[p][x].z&&(m.z=i[p][x].z),i[p][x]=m;else{var g=it({c:x,r:p});i[g]&&i[g].z&&(m.z=i[g].z),i[g]=m}}}return u.s.c<1e7&&(i["!ref"]=ht(u)),i}function Bd(e,t){return vM(null,e,t)}function Pde(e){return e.read_shift(4,"i")}function hi(e,t){return t||(t=be(4)),t.write_shift(4,e),t}function Ya(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ya(e,t){var r=!1;return t==null&&(r=!0,t=be(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Ode(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Dde(e,t){return t||(t=be(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Ak(e,t){var r=e.l,a=e.read_shift(1),s=Ya(e),i=[],l={t:s,h:s};if(a&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(Ode(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function Fde(e,t){var r=!1;return t==null&&(r=!0,t=be(15+4*e.t.length)),t.write_shift(1,0),ya(e.t,t),r?t.slice(0,t.l):t}var Ide=Ak;function Rde(e,t){var r=!1;return t==null&&(r=!0,t=be(23+4*e.t.length)),t.write_shift(1,1),ya(e.t,t),t.write_shift(4,1),Dde({},t),r?t.slice(0,t.l):t}function Ws(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ru(e,t){return t==null&&(t=be(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function au(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function nu(e,t){return t==null&&(t=be(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Mde=Ya,yM=ya;function Pk(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Wx(e,t){var r=!1;return t==null&&(r=!0,t=be(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Lde=Ya,Sw=Pk,Ok=Wx;function Dk(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var s=a===0?zx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):rc(t,0)>>2;return r?s/100:s}function bM(e,t){t==null&&(t=be(4));var r=0,a=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function wM(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function $de(e,t){return t||(t=be(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var su=wM,Ud=$de;function Ga(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Hc(e,t){return(t||be(8)).write_shift(8,e,"f")}function Bde(e){var t={},r=e.read_shift(1),a=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=s;var u=Sc[s];u&&(t.rgb=I0(u));break;case 2:t.rgb=I0([l,o,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Vx(e,t){if(t||(t=be(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function Ude(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function zde(e,t){t||(t=be(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function jM(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Wde(e){return jM(e,1)}function Vde(e){return jM(e,2)}var Fk=2,jn=3,ym=11,BT=12,Hx=19,bm=64,Hde=65,qde=71,Kde=4108,Gde=4126,ha=80,NM=81,Qde=[ha,NM],Cw={1:{n:"CodePage",t:Fk},2:{n:"Category",t:ha},3:{n:"PresentationFormat",t:ha},4:{n:"ByteCount",t:jn},5:{n:"LineCount",t:jn},6:{n:"ParagraphCount",t:jn},7:{n:"SlideCount",t:jn},8:{n:"NoteCount",t:jn},9:{n:"HiddenCount",t:jn},10:{n:"MultimediaClipCount",t:jn},11:{n:"ScaleCrop",t:ym},12:{n:"HeadingPairs",t:Kde},13:{n:"TitlesOfParts",t:Gde},14:{n:"Manager",t:ha},15:{n:"Company",t:ha},16:{n:"LinksUpToDate",t:ym},17:{n:"CharacterCount",t:jn},19:{n:"SharedDoc",t:ym},22:{n:"HyperlinksChanged",t:ym},23:{n:"AppVersion",t:jn,p:"version"},24:{n:"DigSig",t:Hde},26:{n:"ContentType",t:ha},27:{n:"ContentStatus",t:ha},28:{n:"Language",t:ha},29:{n:"Version",t:ha},255:{},2147483648:{n:"Locale",t:Hx},2147483651:{n:"Behavior",t:Hx},1919054434:{}},Ew={1:{n:"CodePage",t:Fk},2:{n:"Title",t:ha},3:{n:"Subject",t:ha},4:{n:"Author",t:ha},5:{n:"Keywords",t:ha},6:{n:"Comments",t:ha},7:{n:"Template",t:ha},8:{n:"LastAuthor",t:ha},9:{n:"RevNumber",t:ha},10:{n:"EditTime",t:bm},11:{n:"LastPrinted",t:bm},12:{n:"CreatedDate",t:bm},13:{n:"ModifiedDate",t:bm},14:{n:"PageCount",t:jn},15:{n:"WordCount",t:jn},16:{n:"CharCount",t:jn},17:{n:"Thumbnail",t:qde},18:{n:"Application",t:ha},19:{n:"DocSecurity",t:jn},255:{},2147483648:{n:"Locale",t:Hx},2147483651:{n:"Behavior",t:Hx},1919054434:{}},UT={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Xde=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Yde(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Jde=Yde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Sc=ir(Jde),$l={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kM={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Tw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},wm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Ik(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Zde(e){var t=Ik();if(!e||!e.match)return t;var r={};if((e.match(an)||[]).forEach(function(a){var s=lt(a);switch(s[0].replace(cde,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":t[Tw[s.ContentType]]!==void 0&&t[Tw[s.ContentType]].push(s.PartName);break}}),t.xmlns!==ra.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function _M(e,t){var r=Zue(Tw),a=[],s;a[a.length]=Wr,a[a.length]=Ie("Types",null,{xmlns:ra.CT,"xmlns:xsd":ra.xsd,"xmlns:xsi":ra.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ie("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],a[a.length]=Ie("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:wm[c][t.bookType]||wm[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(u){a[a.length]=Ie("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:wm[c][t.bookType]||wm[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){a[a.length]=Ie("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var xt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function F0(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Uf(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(an)||[]).forEach(function(s){var i=lt(s);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:wf(i.Target,t);r[o]=l,a[i.Id]=l}}),r["!id"]=a,r}function Vu(e){var t=[Wr,Ie("Relationships",null,{xmlns:ra.RELS})];return Fr(e["!id"]).forEach(function(r){t[t.length]=Ie("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Mt(e,t,r,a,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=a,s.Target=r,[xt.HLINK,xt.XPATH,xt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}var efe="application/vnd.oasis.opendocument.spreadsheet";function tfe(e,t){for(var r=_k(e),a,s;a=D0.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(s=lt(a[0],!1),s.path=="/"&&s.type!==efe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function rfe(e){var t=[Wr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function zT(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function afe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function nfe(e){var t=[Wr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(zT(e[r][0],e[r][1])),t.push(afe("",e[r][0]));return t.push(zT("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function SM(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Mx.version+"</meta:generator></office:meta></office:document-meta>"}var As=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],sfe=function(){for(var e=new Array(As.length),t=0;t<As.length;++t){var r=As[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function CM(e){var t={};e=Ht(e);for(var r=0;r<As.length;++r){var a=As[r],s=e.match(sfe[r]);s!=null&&s.length>0&&(t[a[1]]=At(s[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=sr(t[a[1]]))}return t}function Qy(e,t,r,a,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Bt(t),a[a.length]=r?Ie(e,t,r):Pa(e,t))}function EM(e,t){var r=t||{},a=[Wr,Ie("cp:coreProperties",null,{"xmlns:cp":ra.CORE_PROPS,"xmlns:dc":ra.dc,"xmlns:dcterms":ra.dcterms,"xmlns:dcmitype":ra.dcmitype,"xmlns:xsi":ra.xsi})],s={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&Qy("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:_w(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),e.ModifiedDate!=null&&Qy("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:_w(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var i=0;i!=As.length;++i){var l=As[i],o=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Qy(l[0],o,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Cc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],TM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function AM(e,t,r,a){var s=[];if(typeof e=="string")s=OT(e,a);else for(var i=0;i<e.length;++i)s=s.concat(e[i].map(function(d){return{v:d}}));var l=typeof t=="string"?OT(t,a).map(function(d){return d.v}):t,o=0,c=0;if(l.length>0)for(var u=0;u!==s.length;u+=2){switch(c=+s[u+1].v,s[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=l.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=l.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=l.slice(o,o+c);break}o+=c}}function ife(e,t,r){var a={};return t||(t={}),e=Ht(e),Cc.forEach(function(s){var i=(e.match(P0(s[0]))||[])[1];switch(s[2]){case"string":i&&(t[s[1]]=At(i));break;case"bool":t[s[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));l&&l.length>0&&(a[s[1]]=l[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&AM(a.HeadingPairs,a.TitlesOfParts,t,r),t}function PM(e){var t=[],r=Ie;return e||(e={}),e.Application="SheetJS",t[t.length]=Wr,t[t.length]=Ie("Properties",null,{xmlns:ra.EXT_PROPS,"xmlns:vt":ra.vt}),Cc.forEach(function(a){if(e[a[1]]!==void 0){var s;switch(a[2]){case"string":s=Bt(String(e[a[1]]));break;case"bool":s=e[a[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(a[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Bt(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var lfe=/<[^>]+>[^<]*/g;function ofe(e,t){var r={},a="",s=e.match(lfe);if(s)for(var i=0;i!=s.length;++i){var l=s[i],o=lt(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":a=At(o.name);break;case"</property>":a=null;break;default:if(l.indexOf("<vt:")===0){var c=l.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[a]=At(d);break;case"bool":r[a]=rr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(d);break;case"filetime":case"date":r[a]=sr(d);break;case"cy":case"error":r[a]=At(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,u,c)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}function OM(e){var t=[Wr,Ie("Properties",null,{xmlns:ra.CUST_PROPS,"xmlns:vt":ra.vt})];if(!e)return t.join("");var r=1;return Fr(e).forEach(function(s){++r,t[t.length]=Ie("property",gde(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Bt(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Aw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Xy;function cfe(e,t,r){Xy||(Xy=Av(Aw)),t=Xy[t]||t,e[t]=r}function ufe(e,t){var r=[];return Fr(Aw).map(function(a){for(var s=0;s<As.length;++s)if(As[s][1]==a)return As[s];for(s=0;s<Cc.length;++s)if(Cc[s][1]==a)return Cc[s];throw a}).forEach(function(a){if(e[a[1]]!=null){var s=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Pa(Aw[a[1]]||a[1],s))}}),Ie("DocumentProperties",r.join(""),{xmlns:zn.o})}function dfe(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return e&&Fr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<As.length;++l)if(i==As[l][1])return;for(l=0;l<Cc.length;++l)if(i==Cc[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),s.push(Ie(ET(i),o,{"dt:dt":c}))}}),t&&Fr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),s.push(Ie(ET(i),l,{"dt:dt":o}))}}),"<"+a+' xmlns="'+zn.o+'">'+s.join("")+"</"+a+">"}function Rk(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function ffe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),s+=i);var l=be(8);return l.write_shift(4,a),l.write_shift(4,s),l}function DM(e,t,r){var a=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return s}function FM(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function IM(e,t,r){return t===31?FM(e):DM(e,t,r)}function Pw(e,t,r){return IM(e,t,r===!1?0:4)}function hfe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return IM(e,t,0)}function mfe(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var s=e.l;r[a]=e.read_shift(0,"lpwstr").replace(pn,""),e.l-s&2&&(e.l+=2)}return r}function pfe(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(pn,"");return r}function xfe(e){var t=e.l,r=qx(e,NM);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=qx(e,jn);return[r,a]}function gfe(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(xfe(e));return r}function WT(e,t){for(var r=e.read_shift(4),a={},s=0;s!=r;++s){var i=e.read_shift(4),l=e.read_shift(4);a[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(pn,"").replace(bf,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function RM(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function vfe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function qx(e,t,r){var a=e.read_shift(2),s,i=r||{};if(e.l+=2,t!==BT&&a!==t&&Qde.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===BT?a:t){case 2:return s=e.read_shift(2,"i"),i.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return DM(e,a,4).replace(pn,"");case 31:return FM(e);case 64:return Rk(e);case 65:return RM(e);case 71:return vfe(e);case 80:return Pw(e,a,!i.raw).replace(pn,"");case 81:return hfe(e,a).replace(pn,"");case 4108:return gfe(e);case 4126:case 4127:return a==4127?mfe(e):pfe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function VT(e,t){var r=be(4),a=be(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=be(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=ffe(t);break;case 31:case 80:for(a=be(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return xa([r,a])}function HT(e,t){var r=e.l,a=e.read_shift(4),s=e.read_shift(4),i=[],l=0,o=0,c=-1,u={};for(l=0;l!=s;++l){var d=e.read_shift(4),f=e.read_shift(4);i[l]=[d,f+r]}i.sort(function(b,v){return b[1]-v[1]});var h={};for(l=0;l!=s;++l){if(e.l!==i[l][1]){var m=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(m=!1,e.l=i[l][1]),m)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var p=t[i[l][0]];if(h[p.n]=qx(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ii(o=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(i[l][0]===1){if(o=h.CodePage=qx(e,Fk),ii(o),c!==-1){var x=e.l;e.l=i[c][1],u=WT(e,o),e.l=x}}else if(i[l][0]===0){if(o===0){c=l,e.l=i[l+1][1];continue}u=WT(e,o)}else{var g=u[i[l][0]],y;switch(e[e.l]){case 65:e.l+=4,y=RM(e);break;case 30:e.l+=4,y=Pw(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=Pw(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Mr(e,4);break;case 64:e.l+=4,y=sr(Rk(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=y}}return e.l=r+a,h}var MM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function yfe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function qT(e,t,r){var a=be(8),s=[],i=[],l=8,o=0,c=be(8),u=be(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),s.push(u),l+=8+c.length,!t){u=be(8),u.write_shift(4,0),s.unshift(u);var d=[be(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=be(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=xa(d),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(MM.indexOf(e[o][0])>-1||TM.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var p=r[m];if(p.p=="version"&&typeof h=="string"){var x=h.split(".");h=(+x[0]<<16)+(+x[1]||0)}c=VT(p.t,h)}else{var g=yfe(h);g==-1&&(g=31,h=String(h)),c=VT(g,h)}i.push(c),u=be(8),u.write_shift(4,t?m:2+o),s.push(u),l+=8+c.length}var y=8*(i.length+1);for(o=0;o<i.length;++o)s[o].write_shift(4,y),y+=i[o].length;return a.write_shift(4,l),a.write_shift(4,i.length),xa([a].concat(s).concat(i))}function KT(e,t,r){var a=e.content;if(!a)return{};Ta(a,0);var s,i,l,o,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var u=a.read_shift(4),d=a.read_shift(16);if(d!==rt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(s=a.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=a.read_shift(16),o=a.read_shift(4),s===1&&o!==a.l)throw new Error("Length mismatch: "+o+" !== "+a.l);s===2&&(l=a.read_shift(16),c=a.read_shift(4));var f=HT(a,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=i,s===1)return h;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var p;try{p=HT(a,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[i,l],h}function GT(e,t,r,a,s,i){var l=be(s?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,rt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,s?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,s?68:48);var c=qT(e,r,a);if(o.push(c),s){var u=qT(s,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(u)}return xa(o)}function zl(e,t){return e.read_shift(t),null}function bfe(e,t){t||(t=be(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function wfe(e,t,r){for(var a=[],s=e.l+t;e.l<s;)a.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return a}function Mr(e,t){return e.read_shift(t)===1}function un(e,t){return t||(t=be(2)),t.write_shift(2,+!!e),t}function Kr(e){return e.read_shift(2,"u")}function vs(e,t){return t||(t=be(2)),t.write_shift(2,e),t}function LM(e,t){return wfe(e,t,Kr)}function jfe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function $M(e,t,r){return r||(r=be(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function _h(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var l=a?e.read_shift(a,s):"";return l}function Nfe(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,s=r&8,i=1+(r&1),l=0,o,c={};s&&(l=e.read_shift(2)),a&&(o=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return s&&(e.l+=4*l),a&&(e.l+=o),c.t=d,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function kfe(e){var t=e.t||"",r=be(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=be(2*t.length);a.write_shift(2*t.length,t,"utf16le");var s=[r,a];return xa(s)}function qc(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function Sh(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):qc(e,a,r)}function iu(e,t,r){if(r.biff>5)return Sh(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function BM(e,t,r){return r||(r=be(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function _fe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Sfe(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var s=e.read_shift((a?t-24:t)>>1,"utf16le").replace(pn,"");return a&&(e.l+=24),s}function Cfe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return r+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(pn,"");return r+l}function Efe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Sfe(e);case"0303000000000000c000000000000046":return Cfe(e);default:throw new Error("Unsupported Moniker "+r)}}function jm(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(pn,""):"";return r}function QT(e,t){t||(t=be(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Tfe(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var s=e.read_shift(2);e.l+=2;var i,l,o,c,u="",d,f;s&16&&(i=jm(e,r-e.l)),s&128&&(l=jm(e,r-e.l)),(s&257)===257&&(o=jm(e,r-e.l)),(s&257)===1&&(c=Efe(e,r-e.l)),s&8&&(u=jm(e,r-e.l)),s&32&&(d=e.read_shift(16)),s&64&&(f=Rk(e)),e.l=r;var h=l||o||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),s&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),i&&(m.Tooltip=i),m}function Afe(e){var t=be(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),i=s>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)a=a.slice(1),QT(a,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var o=s>-1?a.slice(0,s):a;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&QT(s>-1?a.slice(s+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function UM(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);return[t,r,a,s]}function zM(e,t){var r=UM(e);return r[3]=0,r}function Ki(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function Kc(e,t,r,a){return a||(a=be(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function Pfe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Ofe(e,t,r){return t===0?"":iu(e,t,r)}function Dfe(e,t,r){var a=r.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[s,i,l]}function WM(e){var t=e.read_shift(2),r=Dk(e);return[t,r]}function Ffe(e,t,r){e.l+=4,t-=4;var a=e.l+t,s=_h(e,t,r),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,s}function Dv(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r:t},e:{c:s,r}}}function VM(e,t){return t||(t=be(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function HM(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1);return{s:{c:a,r:t},e:{c:s,r}}}var Ife=HM;function qM(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function Rfe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Mfe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ba(e){e.l+=2,e.l+=e.read_shift(2)}var Lfe={0:Ba,4:Ba,5:Ba,6:Ba,7:Mfe,8:Ba,9:Ba,10:Ba,11:Ba,12:Ba,13:Rfe,14:Ba,15:Ba,16:Ba,17:Ba,18:Ba,19:Ba,20:Ba,21:qM};function $fe(e,t){for(var r=e.l+t,a=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{a.push(Lfe[s](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function Nm(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Mk(e,t,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=be(s);return i.write_shift(2,a),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Bfe(e,t){return t===0||e.read_shift(2),1200}function Ufe(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,s=iu(e,0,r);return e.read_shift(t+a-e.l),s}function zfe(e,t){var r=!t||t.biff==8,a=be(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function Wfe(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function Vfe(e,t,r){var a=e.read_shift(4),s=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=_h(e,0,r);return l.length===0&&(l="Sheet1"),{pos:a,hs:s,dt:i,name:l}}function Hfe(e,t){var r=!t||t.biff>=8?2:1,a=be(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function qfe(e,t){for(var r=e.l+t,a=e.read_shift(4),s=e.read_shift(4),i=[],l=0;l!=s&&e.l<r;++l)i.push(Nfe(e));return i.Count=a,i.Unique=s,i}function Kfe(e,t){var r=be(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],s=0;s<e.length;++s)a[s]=kfe(e[s]);var i=xa([r].concat(a));return i.parts=[r.length].concat(a.map(function(l){return l.length})),i}function Gfe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Qfe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function Xfe(e){var t=Pfe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Yfe(e){return e.read_shift(2),e.read_shift(4)}function XT(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var s=e.read_shift(2);r&&r.biff==2&&(a=1-(s>>15),s&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,s]}function Jfe(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[a,s],Flags:i,CurTab:l,FirstTab:o,Selected:c,TabRatio:u}}function Zfe(){var e=be(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function e0e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function t0e(e){var t=be(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function r0e(){}function a0e(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=_h(e,0,r),a}function n0e(e,t){var r=e.name||"Arial",a=t&&t.biff==5,s=a?15+r.length:16+2*r.length,i=be(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function s0e(e){var t=Ki(e);return t.isst=e.read_shift(4),t}function i0e(e,t,r,a){var s=be(10);return Kc(e,t,a,s),s.write_shift(4,r),s}function l0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,s=Ki(e);r.biff==2&&e.l++;var i=Sh(e,a-e.l,r);return s.val=i,s}function o0e(e,t,r,a,s){var i=!s||s.biff==8,l=be(8+ +i+(1+i)*r.length);return Kc(e,t,a,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function c0e(e,t,r){var a=e.read_shift(2),s=iu(e,0,r);return[a,s]}function u0e(e,t,r,a){var s=r&&r.biff==5;a||(a=be(s?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(s?1:2,t.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var d0e=iu;function YT(e,t,r){var a=e.l+t,s=r.biff==8||!r.biff?4:2,i=e.read_shift(s),l=e.read_shift(s),o=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:i,c:o},e:{r:l,c}}}function f0e(e,t){var r=t.biff==8||!t.biff?4:2,a=be(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function h0e(e){var t=e.read_shift(2),r=e.read_shift(2),a=WM(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function m0e(e,t){for(var r=e.l+t-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(WM(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-s+1)throw new Error("MulRK length mismatch");return{r:a,c:s,C:l,rkrec:i}}function p0e(e,t){for(var r=e.l+t-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-s+1)throw new Error("MulBlank length mismatch");return{r:a,c:s,C:l,ixfe:i}}function x0e(e,t,r,a){var s={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return s.patternType=Xde[o>>26],a.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=l&15,s.dgRight=l>>4&15,s.dgTop=l>>8&15,s.dgBottom=l>>12&15,s.icvLeft=l>>16&127,s.icvRight=l>>23&127,s.grbitDiag=l>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function g0e(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=x0e(e,t,a.fStyle,r),a}function JT(e,t,r,a){var s=r&&r.biff==5;a||(a=be(s?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function v0e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function y0e(e){var t=be(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function ZT(e,t,r){var a=Ki(e);(r.biff==2||t==9)&&++e.l;var s=jfe(e);return a.val=s,a.t=s===!0||s===!1?"b":"e",a}function b0e(e,t,r,a,s,i){var l=be(8);return Kc(e,t,a,l),$M(r,i,l),l}function w0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=Ki(e),s=Ga(e);return a.val=s,a}function j0e(e,t,r,a){var s=be(14);return Kc(e,t,a,s),Hc(r,s),s}var eA=Ofe;function N0e(e,t,r){var a=e.l+t,s=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=qc(e,i),o=[];a>e.l;)o.push(Sh(e));return[i,s,l,o]}function tA(e,t,r){var a=e.read_shift(2),s,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(s=Ffe(e,t-2,r)),i.body=s||e.read_shift(t-2),typeof s=="string"&&(i.Name=s),i}var k0e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function rA(e,t,r){var a=e.l+t,s=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=qc(e,l,r);s&32&&(u=k0e[u.charCodeAt(0)]);var d=a-e.l;r&&r.biff==2&&--d;var f=a==e.l||o===0||!(d>0)?[]:$xe(e,d,r,o);return{chKey:i,Name:u,itab:c,rgce:f}}function KM(e,t,r){if(r.biff<8)return _0e(e,t,r);for(var a=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(Dfe(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function _0e(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=_h(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function S0e(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),s=e.read_shift(2),i=qc(e,a,r),l=qc(e,s,r);return[i,l]}function C0e(e,t,r){var a=HM(e);e.l++;var s=e.read_shift(1);return t-=8,[Bxe(e,t,r),s,a]}function aA(e,t,r){var a=Ife(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,Mxe(e,t,r)]}function E0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function T0e(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=iu(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:s},o,l,i]}}function A0e(e,t,r){return T0e(e,t,r)}function P0e(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(Dv(e));return r}function O0e(e){var t=be(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)VM(e[r],t);return t}function D0e(e,t,r){if(r&&r.biff<8)return I0e(e,t,r);var a=qM(e),s=$fe(e,t-22,a[1]);return{cmo:a,ft:s}}var F0e={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:a}}};function I0e(e,t,r){e.l+=4;var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((F0e[a]||en)(e,t,r)),{cmo:[s,a,i],ft:l}}function R0e(e,t,r){var a=e.l,s="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=_fe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Kr(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-a!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=qc(e,e.lens[u+1]-e.lens[u]-1);if(s+=f,s.length>=(d?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return e.l=a+t,{t:s}}catch{return e.l=a+t,{t:s}}}function M0e(e,t){var r=Dv(e);e.l+=16;var a=Tfe(e,t-24);return[r,a]}function L0e(e){var t=be(24),r=jr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(a[s],16));return xa([t,Afe(e[1])])}function $0e(e,t){e.read_shift(2);var r=Dv(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(pn,""),[r,a]}function B0e(e){var t=e[1].Tooltip,r=be(10+2*(t.length+1));r.write_shift(2,2048);var a=jr(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function U0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=UT[r]||r,r=e.read_shift(2),t[1]=UT[r]||r,t}function z0e(e){return e||(e=be(4)),e.write_shift(2,1),e.write_shift(2,1),e}function W0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(zM(e));return r}function V0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(zM(e));return r}function H0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function GM(e,t,r){if(!r.cellStyles)return en(e,t);var a=r&&r.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var u={s,e:i,w:l,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function q0e(e,t){var r=be(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function K0e(e,t){var r={};return t<32||(e.l+=16,r.header=Ga(e),r.footer=Ga(e),e.l+=2),r}function G0e(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var s=e.read_shift(1);return e.l+=3,s&16&&(a.area=!0),a}function Q0e(e){for(var t=be(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var X0e=Ki,Y0e=LM,J0e=Sh;function Z0e(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,s}function ehe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=Ki(e);++e.l;var s=iu(e,t-7,r);return a.t="str",a.val=s,a}function the(e){var t=Ki(e);++e.l;var r=Ga(e);return t.t="n",t.val=r,t}function rhe(e,t,r){var a=be(15);return Ah(a,e,t),a.write_shift(8,r,"f"),a}function ahe(e){var t=Ki(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function nhe(e,t,r){var a=be(9);return Ah(a,e,t),a.write_shift(2,r),a}function she(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function ihe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function lhe(e,t,r){var a=e.l+t,s=Ki(e),i=e.read_shift(2),l=qc(e,i,r);return e.l=a,s.t="str",s.val=l,s}var ohe=[2,3,48,49,131,139,140,245],Ow=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Av({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Ao(1);switch(c.type){case"base64":d=Kn(rs(o));break;case"binary":d=Kn(o);break;case"buffer":case"array":d=o;break}Ta(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,g=521;f==2&&(x=d.read_shift(2)),d.l+=3,f!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(g=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var v=[],j={},N=Math.min(d.length,f==2?521:g-10-(m?264:0)),k=p?32:11;d.l<N&&d[d.l]!=13;)switch(j={},j.name=E0.utils.decode(b,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&v.push(j),f!=2&&(d.l+=p?13:14),j.type){case"B":(!m||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var _=0,S=0;for(u[0]=[],S=0;S!=v.length;++S)u[0][S]=v[S].name;for(;x-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++_]=[],S=0,S=0;S!=v.length;++S){var T=d.slice(d.l,d.l+v[S].len);d.l+=v[S].len,Ta(T,0);var C=E0.utils.decode(b,T);switch(v[S].type){case"C":C.trim().length&&(u[_][S]=C.replace(/\s+$/,""));break;case"D":C.length===8?u[_][S]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):u[_][S]=C;break;case"F":u[_][S]=parseFloat(C.trim());break;case"+":case"I":u[_][S]=p?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":u[_][S]=!0;break;case"N":case"F":u[_][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[_][S]="##MEMO##"+(p?parseInt(C.trim(),10):T.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(u[_][S]=+C||0);break;case"@":u[_][S]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[_][S]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[_][S]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[_][S]=-T.read_shift(-8,"f");break;case"B":if(m&&v[S].len==8){u[_][S]=T.read_shift(8,"f");break}case"G":case"P":T.l+=v[S].len;break;case"0":if(v[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[S].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=v,u}function a(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Bd(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function s(o,c){try{return Vo(a(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var u=c||{};if(+u.codepage>=0&&ii(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Dn(),f=Qx(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=o["!cols"]||[],x=0,g=0,y=0,b=1;for(x=0;x<h.length;++x){if(((p[x]||{}).DBF||{}).name){h[x]=p[x].DBF.name,++y;continue}if(h[x]!=null){if(++y,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(g=0;g<1024;++g)if(h.indexOf(h[x]+"_"+g)==-1){h[x]+="_"+g;break}}}}var v=Pt(o["!ref"]),j=[],N=[],k=[];for(x=0;x<=v.e.c-v.s.c;++x){var _="",S="",T=0,C=[];for(g=0;g<m.length;++g)m[g][x]!=null&&C.push(m[g][x]);if(C.length==0||h[x]==null){j[x]="?";continue}for(g=0;g<C.length;++g){switch(typeof C[g]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=C[g]instanceof Date?"D":"C";break;default:S="C"}T=Math.max(T,String(C[g]).length),_=_&&_!=S?"C":S}T>250&&(T=250),S=((p[x]||{}).DBF||{}).type,S=="C"&&p[x].DBF.len>T&&(T=p[x].DBF.len),_=="B"&&S=="N"&&(_="N",k[x]=p[x].DBF.dec,T=p[x].DBF.len),N[x]=_=="C"||S=="N"?T:i[_]||0,b+=N[x],j[x]=_}var E=d.next(32);for(E.write_shift(4,318902576),E.write_shift(4,m.length),E.write_shift(2,296+32*y),E.write_shift(2,b),x=0;x<4;++x)E.write_shift(4,0);for(E.write_shift(4,0|(+t[MR]||3)<<8),x=0,g=0;x<h.length;++x)if(h[x]!=null){var A=d.next(32),U=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,U,"sbcs"),A.write_shift(1,j[x]=="?"?"C":j[x],"sbcs"),A.write_shift(4,g),A.write_shift(1,N[x]||i[j[x]]||0),A.write_shift(1,k[x]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),g+=N[x]||i[j[x]]||0}var V=d.next(264);for(V.write_shift(4,13),x=0;x<65;++x)V.write_shift(4,0);for(x=0;x<m.length;++x){var ae=d.next(b);for(ae.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(j[g]){case"L":ae.write_shift(1,m[x][g]==null?63:m[x][g]?84:70);break;case"B":ae.write_shift(8,m[x][g]||0,"f");break;case"N":var q="0";for(typeof m[x][g]=="number"&&(q=m[x][g].toFixed(k[g]||0)),y=0;y<N[g]-q.length;++y)ae.write_shift(1,32);ae.write_shift(1,q,"sbcs");break;case"D":m[x][g]?(ae.write_shift(4,("0000"+m[x][g].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(m[x][g].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+m[x][g].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var R=String(m[x][g]!=null?m[x][g]:"").slice(0,N[g]);for(ae.write_shift(1,R,"sbcs"),y=0;y<N[g]-R.length;++y)ae.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:a,from_sheet:l}}(),QM=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Fr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?mT(p):p},a=function(h,m,p){var x=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return x==59?h:mT(x)};e["|"]=254;function s(h,m){switch(m.type){case"base64":return i(rs(h),m);case"binary":return i(h,m);case"buffer":return i(pt&&Buffer.isBuffer(h)?h.toString("binary"):Wo(h),m);case"array":return i(Vc(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var p=h.split(/[\n\r]+/),x=-1,g=-1,y=0,b=0,v=[],j=[],N=null,k={},_=[],S=[],T=[],C=0,E;for(+m.codepage>=0&&ii(+m.codepage);y!==p.length;++y){C=0;var A=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),U=A.replace(/;;/g,"\0").split(";").map(function(I){return I.replace(/\u0000/g,";")}),V=U[0],ae;if(A.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&j.push(A.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,R=!1,P=!1,B=!1,te=-1,H=-1;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"A":break;case"X":g=parseInt(U[b].slice(1))-1,R=!0;break;case"Y":for(x=parseInt(U[b].slice(1))-1,R||(g=0),E=v.length;E<=x;++E)v[E]=[];break;case"K":ae=U[b].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(fi(ae))?isNaN(md(ae).getDate())||(ae=sr(ae)):(ae=fi(ae),N!==null&&Ld(N)&&(ae=Ov(ae))),q=!0;break;case"E":B=!0;var F=Hu(U[b].slice(1),{r:x,c:g});v[x][g]=[v[x][g],F];break;case"S":P=!0,v[x][g]=[v[x][g],"S5S"];break;case"G":break;case"R":te=parseInt(U[b].slice(1))-1;break;case"C":H=parseInt(U[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}if(q&&(v[x][g]&&v[x][g].length==2?v[x][g][0]=ae:v[x][g]=ae,N=null),P){if(B)throw new Error("SYLK shared formula cannot have own formula");var O=te>-1&&v[te][H];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");v[x][g][1]=h8(O[1],{r:x-te,c:g-H})}break;case"F":var M=0;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"X":g=parseInt(U[b].slice(1))-1,++M;break;case"Y":for(x=parseInt(U[b].slice(1))-1,E=v.length;E<=x;++E)v[E]=[];break;case"M":C=parseInt(U[b].slice(1))/20;break;case"F":break;case"G":break;case"P":N=j[parseInt(U[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=U[b].slice(1).split(" "),E=parseInt(T[0],10);E<=parseInt(T[1],10);++E)C=parseInt(T[2],10),S[E-1]=C===0?{hidden:!0}:{wch:C},Po(S[E-1]);break;case"C":g=parseInt(U[b].slice(1))-1,S[g]||(S[g]={});break;case"R":x=parseInt(U[b].slice(1))-1,_[x]||(_[x]={}),C>0?(_[x].hpt=C,_[x].hpx=xd(C)):C===0&&(_[x].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}M<1&&(N=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}}return _.length>0&&(k["!rows"]=_),S.length>0&&(k["!cols"]=S),m&&m.sheetRows&&(v=v.slice(0,m.sheetRows)),[v,k]}function l(h,m){var p=s(h,m),x=p[0],g=p[1],y=Bd(x,m);return Fr(g).forEach(function(b){y[b]=g[b]}),y}function o(h,m){return Vo(l(h,m),m)}function c(h,m,p,x){var g="C;Y"+(p+1)+";X"+(x+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+Wk(h.f,{r:p,c:x}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,m){m.forEach(function(p,x){var g="F;W"+(x+1)+" "+(x+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=R0(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=M0(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,m){m.forEach(function(p,x){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*L0(p.hpx)+";"),g.length>2&&h.push(g+"R"+(x+1))})}function f(h,m){var p=["ID;PWXL;N;E"],x=[],g=Pt(h["!ref"]),y,b=Array.isArray(h),v=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var j=g.s.r;j<=g.e.r;++j)for(var N=g.s.c;N<=g.e.c;++N){var k=it({r:j,c:N});y=b?(h[j]||[])[N]:h[k],!(!y||y.v==null&&(!y.f||y.F))&&x.push(c(y,h,j,N))}return p.join(v)+v+x.join(v)+v+"E"+v}return{to_workbook:o,to_sheet:l,from_sheet:f}}(),XM=function(){function e(i,l){switch(l.type){case"base64":return t(rs(i),l);case"binary":return t(i,l);case"buffer":return t(pt&&Buffer.isBuffer(i)?i.toString("binary"):Wo(i),l);case"array":return t(Vc(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),m=h[0],p=h[1];++d;for(var x=o[d]||"";(x.match(/["]/g)||[]).length&1&&d<o.length-1;)x+=`
`+o[++d];switch(x=x.trim(),+m){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN(fi(p))?isNaN(md(p).getDate())?f[c][u]=p:f[c][u]=sr(p):f[c][u]=fi(p),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function r(i,l){return Bd(e(i,l),l)}function a(i,l){return Vo(r(i,l),l)}var s=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},l=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Pt(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){l(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var x=it({r:m,c:p});if(f=h?(c[m]||[])[p]:c[x],!f){l(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?l(u,1,0,"="+f.f):l(u,1,0,""):l(u,0,g,"V");break;case"b":l(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Rs(f.z||st[14],ia(sr(f.v)))),l(u,0,f.w,"V");break;default:l(u,1,0,"")}}}l(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:a,to_sheet:r,from_sheet:s}}(),YM=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,x=-1,g=0,y=[];g!==m.length;++g){var b=m[g].trim().split(":");if(b[0]==="cell"){var v=jr(b[1]);if(y.length<=v.r)for(p=y.length;p<=v.r;++p)y[p]||(y[p]=[]);switch(p=v.r,x=v.c,b[2]){case"t":y[p][x]=e(b[3]);break;case"v":y[p][x]=+b[3];break;case"vtf":var j=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[p][x]=!!+b[4];break;default:y[p][x]=+b[4];break}b[2]=="vtf"&&(y[p][x]=[y[p][x],j])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function a(f,h){return Bd(r(f,h),h)}function s(f,h){return Vo(a(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,x="",g=In(f["!ref"]),y=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var v=g.s.c;v<=g.e.c;++v)if(x=it({r:b,c:v}),p=y?(f[b]||[])[v]:f[x],!(!p||p.v==null||p.t==="z")){switch(m=["cell",x,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var j=ia(sr(p.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=p.w||Rs(p.z||st[14],j);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,l,o,l,u(f),c].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:d}}(),pd=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(fi(d))?isNaN(md(d).getDate())?f[h][m]=d:f[h][m]=sr(d):f[h][m]=fi(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),x=p.length-1;x>=0&&p[x].length===0;)--x;for(var g=10,y=0,b=0;b<=x;++b)y=p[b].indexOf(" "),y==-1?y=p[b].length:y++,g=Math.max(g,y);for(b=0;b<=x;++b){m[b]=[];var v=0;for(e(p[b].slice(0,g).trim(),m,b,v,h),v=1;v<=(p[b].length-g)/10+1;++v)e(p[b].slice(g+(v-1)*10,g+v*10).trim(),m,b,v,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=a;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(x,g){return x[0]-g[0]||a[x[1]]-a[g[1]]}),r[p.pop()[1]]||44}function i(d,f){var h=f||{},m="",p=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=s(d.slice(0,1024)):h&&h.FS?m=h.FS:m=s(d.slice(0,1024));var g=0,y=0,b=0,v=0,j=0,N=m.charCodeAt(0),k=!1,_=0,S=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Gue(h.dateNF):null;function C(){var E=d.slice(v,j),A={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)A.t="z";else if(h.raw)A.t="s",A.v=E;else if(E.trim().length===0)A.t="s",A.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(A.t="s",A.v=E.slice(2,-1).replace(/""/g,'"')):Npe(E)?(A.t="n",A.f=E.slice(1)):(A.t="s",A.v=E);else if(E=="TRUE")A.t="b",A.v=!0;else if(E=="FALSE")A.t="b",A.v=!1;else if(!isNaN(b=fi(E)))A.t="n",h.cellText!==!1&&(A.w=E),A.v=b;else if(!isNaN(md(E).getDate())||T&&E.match(T)){A.z=h.dateNF||st[14];var U=0;T&&E.match(T)&&(E=Que(E,h.dateNF,E.match(T)||[]),U=1),h.cellDates?(A.t="d",A.v=sr(E,U)):(A.t="n",A.v=ia(sr(E,U))),h.cellText!==!1&&(A.w=Rs(A.z,A.v instanceof Date?ia(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=E;if(A.t=="z"||(h.dense?(p[g]||(p[g]=[]),p[g][y]=A):p[it({c:y,r:g})]=A),v=j+1,S=d.charCodeAt(v),x.e.c<y&&(x.e.c=y),x.e.r<g&&(x.e.r=g),_==N)++y;else if(y=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;j<d.length;++j)switch(_=d.charCodeAt(j)){case 34:S===34&&(k=!k);break;case N:case 10:case 13:if(!k&&C())break e;break}return j-v>0&&C(),p["!ref"]=ht(x),p}function l(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Bd(t(d,f),f)}function o(d,f){var h="",m=f.type=="string"?[0,0,0,0]:Yk(d,f);switch(f.type){case"base64":h=rs(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof E0<"u"||(h=pt&&Buffer.isBuffer(d)?d.toString("binary"):Wo(d));break;case"array":h=Vc(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Ht(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Ht(h):f.type=="binary"&&typeof E0<"u",h.slice(0,19)=="socialcalc:version:"?YM.to_sheet(f.type=="string"?h:Ht(h),f):l(h,f)}function c(d,f){return Vo(o(d,f),f)}function u(d){for(var f=[],h=Pt(d["!ref"]),m,p=Array.isArray(d),x=h.s.r;x<=h.e.r;++x){for(var g=[],y=h.s.c;y<=h.e.c;++y){var b=it({r:x,c:y});if(m=p?(d[x]||[])[y]:d[b],!m||m.v==null){g.push("          ");continue}for(var v=(m.w||(Cl(m),m.w)||"").slice(0,10);v.length<10;)v+=" ";g.push(v+(y===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function che(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var s=QM.to_workbook(e,r);return r.WTF=a,s}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return pd.to_workbook(e,t)}}var Ec=function(){function e(F,O,M){if(F){Ta(F,F.l||0);for(var I=M.Enum||te;F.l<F.length;){var ne=F.read_shift(2),oe=I[ne]||I[65535],J=F.read_shift(2),Y=F.l+J,ie=oe.f&&oe.f(F,J,M);if(F.l=Y,O(ie,oe,ne))return}}}function t(F,O){switch(O.type){case"base64":return r(Kn(rs(F)),O);case"binary":return r(Kn(F),O);case"buffer":case"array":return r(F,O)}throw"Unsupported type "+O.type}function r(F,O){if(!F)return F;var M=O||{},I=M.dense?[]:{},ne="Sheet1",oe="",J=0,Y={},ie=[],fe=[],D={s:{r:0,c:0},e:{r:0,c:0}},ye=M.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)M.Enum=te,e(F,function(ke,at,$e){switch($e){case 0:M.vers=ke,ke>=4096&&(M.qpro=!0);break;case 6:D=ke;break;case 204:ke&&(oe=ke);break;case 222:oe=ke;break;case 15:case 51:M.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:$e==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=M.dateNF||st[14],M.cellDates&&(ke[1].t="d",ke[1].v=Ov(ke[1].v))),M.qpro&&ke[3]>J&&(I["!ref"]=ht(D),Y[ne]=I,ie.push(ne),I=M.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},J=ke[3],ne=oe||"Sheet"+(J+1),oe="");var Z=M.dense?(I[ke[0].r]||[])[ke[0].c]:I[it(ke[0])];if(Z){Z.t=ke[1].t,Z.v=ke[1].v,ke[1].z!=null&&(Z.z=ke[1].z),ke[1].f!=null&&(Z.f=ke[1].f);break}M.dense?(I[ke[0].r]||(I[ke[0].r]=[]),I[ke[0].r][ke[0].c]=ke[1]):I[it(ke[0])]=ke[1];break}},M);else if(F[2]==26||F[2]==14)M.Enum=H,F[2]==14&&(M.qpro=!0,F.l=0),e(F,function(ke,at,$e){switch($e){case 204:ne=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>J&&(I["!ref"]=ht(D),Y[ne]=I,ie.push(ne),I=M.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},J=ke[3],ne="Sheet"+(J+1)),ye>0&&ke[0].r>=ye)break;M.dense?(I[ke[0].r]||(I[ke[0].r]=[]),I[ke[0].r][ke[0].c]=ke[1]):I[it(ke[0])]=ke[1],D.e.c<ke[0].c&&(D.e.c=ke[0].c),D.e.r<ke[0].r&&(D.e.r=ke[0].r);break;case 27:ke[14e3]&&(fe[ke[14e3][0]]=ke[14e3][1]);break;case 1537:fe[ke[0]]=ke[1],ke[0]==J&&(ne=ke[1]);break}},M);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(I["!ref"]=ht(D),Y[oe||ne]=I,ie.push(oe||ne),!fe.length)return{SheetNames:ie,Sheets:Y};for(var Ce={},Pe=[],Me=0;Me<fe.length;++Me)Y[ie[Me]]?(Pe.push(fe[Me]||ie[Me]),Ce[fe[Me]]=Y[fe[Me]]||Y[ie[Me]]):(Pe.push(fe[Me]),Ce[fe[Me]]={"!ref":"A1"});return{SheetNames:Pe,Sheets:Ce}}function a(F,O){var M=O||{};if(+M.codepage>=0&&ii(+M.codepage),M.type=="string")throw new Error("Cannot write WK1 to JS string");var I=Dn(),ne=Pt(F["!ref"]),oe=Array.isArray(F),J=[];Re(I,0,i(1030)),Re(I,6,c(ne));for(var Y=Math.min(ne.e.r,8191),ie=ne.s.r;ie<=Y;++ie)for(var fe=Br(ie),D=ne.s.c;D<=ne.e.c;++D){ie===ne.s.r&&(J[D]=wr(D));var ye=J[D]+fe,Ce=oe?(F[ie]||[])[D]:F[ye];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?Re(I,13,m(ie,D,Ce.v)):Re(I,14,x(ie,D,Ce.v));else{var Pe=Cl(Ce);Re(I,15,f(ie,D,Pe.slice(0,239)))}}return Re(I,1),I.end()}function s(F,O){var M=O||{};if(+M.codepage>=0&&ii(+M.codepage),M.type=="string")throw new Error("Cannot write WK3 to JS string");var I=Dn();Re(I,0,l(F));for(var ne=0,oe=0;ne<F.SheetNames.length;++ne)(F.Sheets[F.SheetNames[ne]]||{})["!ref"]&&Re(I,27,B(F.SheetNames[ne],oe++));var J=0;for(ne=0;ne<F.SheetNames.length;++ne){var Y=F.Sheets[F.SheetNames[ne]];if(!(!Y||!Y["!ref"])){for(var ie=Pt(Y["!ref"]),fe=Array.isArray(Y),D=[],ye=Math.min(ie.e.r,8191),Ce=ie.s.r;Ce<=ye;++Ce)for(var Pe=Br(Ce),Me=ie.s.c;Me<=ie.e.c;++Me){Ce===ie.s.r&&(D[Me]=wr(Me));var ke=D[Me]+Pe,at=fe?(Y[Ce]||[])[Me]:Y[ke];if(!(!at||at.t=="z"))if(at.t=="n")Re(I,23,C(Ce,Me,J,at.v));else{var $e=Cl(at);Re(I,22,_(Ce,Me,J,$e.slice(0,239)))}}++J}}return Re(I,1),I.end()}function i(F){var O=be(2);return O.write_shift(2,F),O}function l(F){var O=be(26);O.write_shift(2,4096),O.write_shift(2,4),O.write_shift(4,0);for(var M=0,I=0,ne=0,oe=0;oe<F.SheetNames.length;++oe){var J=F.SheetNames[oe],Y=F.Sheets[J];if(!(!Y||!Y["!ref"])){++ne;var ie=In(Y["!ref"]);M<ie.e.r&&(M=ie.e.r),I<ie.e.c&&(I=ie.e.c)}}return M>8191&&(M=8191),O.write_shift(2,M),O.write_shift(1,ne),O.write_shift(1,I),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(1,1),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(4,0),O}function o(F,O,M){var I={s:{c:0,r:0},e:{c:0,r:0}};return O==8&&M.qpro?(I.s.c=F.read_shift(1),F.l++,I.s.r=F.read_shift(2),I.e.c=F.read_shift(1),F.l++,I.e.r=F.read_shift(2),I):(I.s.c=F.read_shift(2),I.s.r=F.read_shift(2),O==12&&M.qpro&&(F.l+=2),I.e.c=F.read_shift(2),I.e.r=F.read_shift(2),O==12&&M.qpro&&(F.l+=2),I.s.c==65535&&(I.s.c=I.e.c=I.s.r=I.e.r=0),I)}function c(F){var O=be(8);return O.write_shift(2,F.s.c),O.write_shift(2,F.s.r),O.write_shift(2,F.e.c),O.write_shift(2,F.e.r),O}function u(F,O,M){var I=[{c:0,r:0},{t:"n",v:0},0,0];return M.qpro&&M.vers!=20768?(I[0].c=F.read_shift(1),I[3]=F.read_shift(1),I[0].r=F.read_shift(2),F.l+=2):(I[2]=F.read_shift(1),I[0].c=F.read_shift(2),I[0].r=F.read_shift(2)),I}function d(F,O,M){var I=F.l+O,ne=u(F,O,M);if(ne[1].t="s",M.vers==20768){F.l++;var oe=F.read_shift(1);return ne[1].v=F.read_shift(oe,"utf8"),ne}return M.qpro&&F.l++,ne[1].v=F.read_shift(I-F.l,"cstr"),ne}function f(F,O,M){var I=be(7+M.length);I.write_shift(1,255),I.write_shift(2,O),I.write_shift(2,F),I.write_shift(1,39);for(var ne=0;ne<I.length;++ne){var oe=M.charCodeAt(ne);I.write_shift(1,oe>=128?95:oe)}return I.write_shift(1,0),I}function h(F,O,M){var I=u(F,O,M);return I[1].v=F.read_shift(2,"i"),I}function m(F,O,M){var I=be(7);return I.write_shift(1,255),I.write_shift(2,O),I.write_shift(2,F),I.write_shift(2,M,"i"),I}function p(F,O,M){var I=u(F,O,M);return I[1].v=F.read_shift(8,"f"),I}function x(F,O,M){var I=be(13);return I.write_shift(1,255),I.write_shift(2,O),I.write_shift(2,F),I.write_shift(8,M,"f"),I}function g(F,O,M){var I=F.l+O,ne=u(F,O,M);if(ne[1].v=F.read_shift(8,"f"),M.qpro)F.l=I;else{var oe=F.read_shift(2);j(F.slice(F.l,F.l+oe),ne),F.l+=oe}return ne}function y(F,O,M){var I=O&32768;return O&=-32769,O=(I?F:0)+(O>=8192?O-16384:O),(I?"":"$")+(M?wr(O):Br(O))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(F,O){Ta(F,0);for(var M=[],I=0,ne="",oe="",J="",Y="";F.l<F.length;){var ie=F[F.l++];switch(ie){case 0:M.push(F.read_shift(8,"f"));break;case 1:oe=y(O[0].c,F.read_shift(2),!0),ne=y(O[0].r,F.read_shift(2),!1),M.push(oe+ne);break;case 2:{var fe=y(O[0].c,F.read_shift(2),!0),D=y(O[0].r,F.read_shift(2),!1);oe=y(O[0].c,F.read_shift(2),!0),ne=y(O[0].r,F.read_shift(2),!1),M.push(fe+D+":"+oe+ne)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:M.push("("+M.pop()+")");break;case 5:M.push(F.read_shift(2));break;case 6:{for(var ye="";ie=F[F.l++];)ye+=String.fromCharCode(ie);M.push('"'+ye.replace(/"/g,'""')+'"')}break;case 8:M.push("-"+M.pop());break;case 23:M.push("+"+M.pop());break;case 22:M.push("NOT("+M.pop()+")");break;case 20:case 21:Y=M.pop(),J=M.pop(),M.push(["AND","OR"][ie-20]+"("+J+","+Y+")");break;default:if(ie<32&&v[ie])Y=M.pop(),J=M.pop(),M.push(J+v[ie]+Y);else if(b[ie]){if(I=b[ie][1],I==69&&(I=F[F.l++]),I>M.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+M.join("|")+"|");return}var Ce=M.slice(-I);M.length-=I,M.push(b[ie][0]+"("+Ce.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}M.length==1?O[1].f=""+M[0]:console.error("WK1 bad formula parse |"+M.join("|")+"|")}function N(F){var O=[{c:0,r:0},{t:"n",v:0},0];return O[0].r=F.read_shift(2),O[3]=F[F.l++],O[0].c=F[F.l++],O}function k(F,O){var M=N(F);return M[1].t="s",M[1].v=F.read_shift(O-4,"cstr"),M}function _(F,O,M,I){var ne=be(6+I.length);ne.write_shift(2,F),ne.write_shift(1,M),ne.write_shift(1,O),ne.write_shift(1,39);for(var oe=0;oe<I.length;++oe){var J=I.charCodeAt(oe);ne.write_shift(1,J>=128?95:J)}return ne.write_shift(1,0),ne}function S(F,O){var M=N(F);M[1].v=F.read_shift(2);var I=M[1].v>>1;if(M[1].v&1)switch(I&7){case 0:I=(I>>3)*5e3;break;case 1:I=(I>>3)*500;break;case 2:I=(I>>3)/20;break;case 3:I=(I>>3)/200;break;case 4:I=(I>>3)/2e3;break;case 5:I=(I>>3)/2e4;break;case 6:I=(I>>3)/16;break;case 7:I=(I>>3)/64;break}return M[1].v=I,M}function T(F,O){var M=N(F),I=F.read_shift(4),ne=F.read_shift(4),oe=F.read_shift(2);if(oe==65535)return I===0&&ne===3221225472?(M[1].t="e",M[1].v=15):I===0&&ne===3489660928?(M[1].t="e",M[1].v=42):M[1].v=0,M;var J=oe&32768;return oe=(oe&32767)-16446,M[1].v=(1-J*2)*(ne*Math.pow(2,oe+32)+I*Math.pow(2,oe)),M}function C(F,O,M,I){var ne=be(14);if(ne.write_shift(2,F),ne.write_shift(1,M),ne.write_shift(1,O),I==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var oe=0,J=0,Y=0,ie=0;return I<0&&(oe=1,I=-I),J=Math.log2(I)|0,I/=Math.pow(2,J-31),ie=I>>>0,ie&2147483648||(I/=2,++J,ie=I>>>0),I-=ie,ie|=2147483648,ie>>>=0,I*=Math.pow(2,32),Y=I>>>0,ne.write_shift(4,Y),ne.write_shift(4,ie),J+=16383+(oe?32768:0),ne.write_shift(2,J),ne}function E(F,O){var M=T(F);return F.l+=O-14,M}function A(F,O){var M=N(F),I=F.read_shift(4);return M[1].v=I>>6,M}function U(F,O){var M=N(F),I=F.read_shift(8,"f");return M[1].v=I,M}function V(F,O){var M=U(F);return F.l+=O-10,M}function ae(F,O){return F[F.l+O-1]==0?F.read_shift(O,"cstr"):""}function q(F,O){var M=F[F.l++];M>O-1&&(M=O-1);for(var I="";I.length<M;)I+=String.fromCharCode(F[F.l++]);return I}function R(F,O,M){if(!(!M.qpro||O<21)){var I=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var ne=F.read_shift(O-21,"cstr");return[I,ne]}}function P(F,O){for(var M={},I=F.l+O;F.l<I;){var ne=F.read_shift(2);if(ne==14e3){for(M[ne]=[0,""],M[ne][0]=F.read_shift(2);F[F.l];)M[ne][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return M}function B(F,O){var M=be(5+F.length);M.write_shift(2,14e3),M.write_shift(2,O);for(var I=0;I<F.length;++I){var ne=F.charCodeAt(I);M[M.l++]=ne>127?95:ne}return M[M.l++]=0,M}var te={0:{n:"BOF",f:Kr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:P},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:R},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:t}}();function uhe(e){var t={},r=e.match(an),a=0,s=!1;if(r)for(;a!=r.length;++a){var i=lt(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=mk[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return t}var dhe=function(){var e=P0("t"),t=P0("rPr");function r(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:At(l[1])},c=i.match(t);return c&&(o.s=uhe(c[1])),o}var a=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(l){return l.replace(a,"").split(s).map(r).filter(function(o){return o.v})}}(),fhe=function(){var t=/(\r\n|\n)/g;function r(s,i,l){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),s.b&&(i.push("<b>"),l.push("</b>")),s.i&&(i.push("<i>"),l.push("</i>")),s.strike&&(i.push("<s>"),l.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),l.push("</"+c+">")),l.push("</span>"),s}function a(s){var i=[[],s.v,[]];return s.v?(s.s&&r(s.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),hhe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,mhe=/<(?:\w+:)?r>/,phe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Lk(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=At(Ht(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Ht(e),r&&(a.h=kk(a.t))):e.match(mhe)&&(a.r=Ht(e),a.t=At(Ht((e.replace(phe,"").match(hhe)||[]).join("").replace(an,""))),r&&(a.h=fhe(dhe(a.r)))),a):{t:""}}var xhe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ghe=/<(?:\w+:)?(?:si|sstItem)>/g,vhe=/<\/(?:\w+:)?(?:si|sstItem)>/;function yhe(e,t){var r=[],a="";if(!e)return r;var s=e.match(xhe);if(s){a=s[2].replace(ghe,"").split(vhe);for(var i=0;i!=a.length;++i){var l=Lk(a[i].trim(),t);l!=null&&(r[r.length]=l)}s=lt(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}var bhe=/^\s|\s$|[\t\n\r]/;function JM(e,t){if(!t.bookSST)return"";var r=[Wr];r[r.length]=Ie("sst",null,{xmlns:tu[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var s=e[a],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(bhe)&&(i+=' xml:space="preserve"'),i+=">"+Bt(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function whe(e){return[e.read_shift(4),e.read_shift(4)]}function jhe(e,t){var r=[],a=!1;return Ll(e,function(i,l,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(l.T,!a||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Nhe(e,t){return t||(t=be(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var khe=Fde;function _he(e){var t=Dn();Se(t,159,Nhe(e));for(var r=0;r<e.length;++r)Se(t,19,khe(e[r]));return Se(t,160),t.end()}function ZM(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function gl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function She(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=gl(e,4),t.U=gl(e,4),t.W=gl(e,4),t}function Che(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},s=e.read_shift(4),i=[];s-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function Ehe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Che(e));return t}function The(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Ahe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=gl(e,4),t.U=gl(e,4),t.W=gl(e,4),t}function Phe(e){var t=Ahe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function e8(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var s=!1;switch(a.AlgID){case 26126:case 26127:case 26128:s=a.Flags==36;break;case 26625:s=a.Flags==4;break;case 0:s=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function t8(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function Ohe(e){var t=gl(e);switch(t.Minor){case 2:return[t.Minor,Dhe(e)];case 3:return[t.Minor,Fhe()];case 4:return[t.Minor,Ihe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Dhe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=e8(e,r),s=t8(e,e.length-e.l);return{t:"Std",h:a,v:s}}function Fhe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Ihe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(an,function(i){var l=lt(i);switch(qi(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){a[o]=l[o]});break;case"<dataIntegrity":a.encryptedHmacKey=l.encryptedHmacKey,a.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(l);break;default:throw l[0]}}),a}function Rhe(e,t){var r={},a=r.EncryptionVersionInfo=gl(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=e8(e,s),t-=s,r.EncryptionVerifier=t8(e,t),r}function Mhe(e){var t={},r=t.EncryptionVersionInfo=gl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function $k(e){var t=0,r,a=ZM(e),s=a.length+1,i,l,o,c,u;for(r=Ao(s),r[0]=a.length,i=1;i!=s;++i)r[i]=a[i-1];for(i=s-1;i>=0;--i)l=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^l;return t^52811}var r8=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(l){return(l/2|l*128)&255},s=function(l,o){return a(l^o)},i=function(l){for(var o=t[l.length-1],c=104,u=l.length-1;u>=0;--u)for(var d=l[u],f=0;f!=7;++f)d&64&&(o^=r[c]),d*=2,--c;return o};return function(l){for(var o=ZM(l),c=i(o),u=o.length,d=Ao(16),f=0;f!=16;++f)d[f]=0;var h,m,p;for((u&1)===1&&(h=c>>8,d[u]=s(e[0],h),--u,h=c&255,m=o[o.length-1],d[u]=s(m,h));u>0;)--u,h=c>>8,d[u]=s(o[u],h),--u,h=c&255,d[u]=s(o[u],h);for(u=15,p=15-o.length;p>0;)h=c>>8,d[u]=s(e[p],h),--u,--p,h=c&255,d[u]=s(o[u],h),--u,--p;return d}}(),Lhe=function(e,t,r,a,s){s||(s=t),a||(a=r8(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=a[r],l=(l>>5|l<<3)&255,s[i]=l,++r;return[s,r,a]},$he=function(e){var t=0,r=r8(e);return function(a){var s=Lhe("",a,t,r);return t=s[1],s[0]}};function Bhe(e,t,r,a){var s={key:Kr(e),verificationBytes:Kr(e)};return r.password&&(s.verifier=$k(r.password)),a.valid=s.verificationBytes===s.verifier,a.valid&&(a.insitu=$he(r.password)),s}function Uhe(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=Mhe(e):a.Data=Rhe(e,t),a}function zhe(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?Uhe(e,t-2,a):Bhe(e,r.biff>=8?t:t-2,r,a),a}var a8=function(){function e(s,i){switch(i.type){case"base64":return t(rs(s),i);case"binary":return t(s,i);case"buffer":return t(pt&&Buffer.isBuffer(s)?s.toString("binary"):Wo(s),i);case"array":return t(Vc(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var l=i||{},o=l.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,p,x=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var g=d.slice(m,h.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var y={v:g,t:"s"};Array.isArray(o)?o[f][x]=y:o[it({r:f,c:x})]=y}break}m=h.lastIndex}x>u.e.c&&(u.e.c=x)}),o["!ref"]=ht(u),o}function r(s,i){return Vo(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],l=Pt(s["!ref"]),o,c=Array.isArray(s),u=l.s.r;u<=l.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=l.s.c;d<=l.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=l.s.c;d<=l.e.c;++d){var f=it({r:u,c:d});o=c?(s[u]||[])[d]:s[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Cl(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function Whe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function I0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Vhe(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,s=Math.max(t,r,a),i=Math.min(t,r,a),l=s-i;if(l===0)return[0,0,t];var o=0,c=0,u=s+i;switch(c=l/(u>1?2-u:u),s){case t:o=((r-a)/l+6)%6;break;case r:o=(a-t)/l+2;break;case a:o=(t-r)/l+4;break}return[o/6,c,u/2]}function Hhe(e){var t=e[0],r=e[1],a=e[2],s=r*2*(a<.5?a:1-a),i=a-s/2,l=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=s*o,l[0]+=s,l[1]+=c;break;case 1:c=s*(2-o),l[0]+=c,l[1]+=s;break;case 2:c=s*(o-2),l[1]+=s,l[2]+=c;break;case 3:c=s*(4-o),l[1]+=c,l[2]+=s;break;case 4:c=s*(o-4),l[2]+=s,l[0]+=c;break;case 5:c=s*(6-o),l[2]+=c,l[0]+=s;break}for(var u=0;u!=3;++u)l[u]=Math.round(l[u]*255);return l}function Kx(e,t){if(t===0)return e;var r=Vhe(Whe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),I0(Hhe(r))}var n8=6,qhe=15,Khe=1,qa=n8;function R0(e){return Math.floor((e+Math.round(128/qa)/256)*qa)}function M0(e){return Math.floor((e-5)/qa*100+.5)/100}function Gx(e){return Math.round((e*qa+5)/qa*256)/256}function Yy(e){return Gx(M0(R0(e)))}function Bk(e){var t=Math.abs(e-Yy(e)),r=qa;if(t>.005)for(qa=Khe;qa<qhe;++qa)Math.abs(e-Yy(e))<=t&&(t=Math.abs(e-Yy(e)),r=qa);qa=r}function Po(e){e.width?(e.wpx=R0(e.width),e.wch=M0(e.wpx),e.MDW=qa):e.wpx?(e.wch=M0(e.wpx),e.width=Gx(e.wch),e.MDW=qa):typeof e.wch=="number"&&(e.width=Gx(e.wch),e.wpx=R0(e.width),e.MDW=qa),e.customWidth&&delete e.customWidth}var Ghe=96,s8=Ghe;function L0(e){return e*96/s8}function xd(e){return e*s8/96}var Qhe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Xhe(e,t,r,a){t.Borders=[];var s={},i=!1;(e[0].match(an)||[]).forEach(function(l){var o=lt(l);switch(qi(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=rr(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=rr(o.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Yhe(e,t,r,a){t.Fills=[];var s={},i=!1;(e[0].match(an)||[]).forEach(function(l){var o=lt(l);switch(qi(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Jhe(e,t,r,a){t.Fonts=[];var s={},i=!1;(e[0].match(an)||[]).forEach(function(l){var o=lt(l);switch(qi(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=Ht(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?rr(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?rr(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?rr(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?rr(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?rr(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?rr(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?rr(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=mk[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=rr(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var c=Sc[s.color.index];s.color.index==81&&(c=Sc[1]),c||(c=Sc[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=Kx(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Zhe(e,t,r){t.NumberFmt=[];for(var a=Fr(st),s=0;s<a.length;++s)t.NumberFmt[a[s]]=st[a[s]];var i=e[0].match(an);if(i)for(s=0;s<i.length;++s){var l=lt(i[s]);switch(qi(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=At(Ht(l.formatCode)),c=parseInt(l.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}xl(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function eme(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=Ie("numFmt",null,{numFmtId:a,formatCode:Bt(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ie("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var km=["numFmtId","fillId","fontId","borderId","xfId"],_m=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function tme(e,t,r){t.CellXf=[];var a,s=!1;(e[0].match(an)||[]).forEach(function(i){var l=lt(i),o=0;switch(qi(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=l,delete a[0],o=0;o<km.length;++o)a[km[o]]&&(a[km[o]]=parseInt(a[km[o]],10));for(o=0;o<_m.length;++o)a[_m[o]]&&(a[_m[o]]=rr(a[_m[o]]));if(t.NumberFmt&&a.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[o]){a.numFmtId=o;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};l.vertical&&(c.vertical=l.vertical),l.horizontal&&(c.horizontal=l.horizontal),l.textRotation!=null&&(c.textRotation=l.textRotation),l.indent&&(c.indent=l.indent),l.wrapText&&(c.wrapText=rr(l.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function rme(e){var t=[];return t[t.length]=Ie("cellXfs",null),e.forEach(function(r){t[t.length]=Ie("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ie("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var ame=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Zhe(f,d,u),(f=o.match(s))&&Jhe(f,d,c,u),(f=o.match(a))&&Yhe(f,d,c,u),(f=o.match(i))&&Xhe(f,d,c,u),(f=o.match(r))&&tme(f,d,u),d}}();function i8(e,t){var r=[Wr,Ie("styleSheet",null,{xmlns:tu[0],"xmlns:vt":ra.vt})],a;return e.SSF&&(a=eme(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=rme(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function nme(e,t){var r=e.read_shift(2),a=Ya(e);return[r,a]}function sme(e,t,r){r||(r=be(6+4*t.length)),r.write_shift(2,e),ya(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function ime(e,t,r){var a={};a.sz=e.read_shift(2)/20;var s=Ude(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var o=e.read_shift(1);o>0&&(a.family=o);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=Bde(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Ya(e),a}function lme(e,t){t||(t=be(25+4*32)),t.write_shift(2,e.sz*20),zde(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Vx(e.color,t);var a=0;return a=2,t.write_shift(1,a),ya(e.name,t),t.length>t.l?t.slice(0,t.l):t}var ome=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Jy,cme=en;function nA(e,t){t||(t=be(4*3+8*7+16*1)),Jy||(Jy=Av(ome));var r=Jy[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(Vx({auto:1},t),Vx({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ume(e,t){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:s}}function l8(e,t,r){r||(r=be(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function df(e,t){return t||(t=be(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var dme=en;function fme(e,t){return t||(t=be(51)),t.write_shift(1,0),df(null,t),df(null,t),df(null,t),df(null,t),df(null,t),t.length>t.l?t.slice(0,t.l):t}function hme(e,t){return t||(t=be(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Wx(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function mme(e,t,r){var a=be(2052);return a.write_shift(4,e),Wx(t,a),Wx(r,a),a.length>a.l?a.slice(0,a.l):a}function pme(e,t,r){var a={};a.NumberFmt=[];for(var s in st)a.NumberFmt[s]=st[s];a.CellXf=[],a.Fonts=[];var i=[],l=!1;return Ll(e,function(c,u,d){switch(d){case 44:a.NumberFmt[c[0]]=c[1],xl(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Kx(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(d),l=!0;break;case 38:i.pop(),l=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!l||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),a}function xme(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&++r}),r!=0&&(Se(e,615,hi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Se(e,44,sme(s,t[s]))}),Se(e,616))}}function gme(e){var t=1;Se(e,611,hi(t)),Se(e,43,lme({sz:12,color:{theme:1},name:"Calibri",family:2})),Se(e,612)}function vme(e){var t=2;Se(e,603,hi(t)),Se(e,45,nA({patternType:"none"})),Se(e,45,nA({patternType:"gray125"})),Se(e,604)}function yme(e){var t=1;Se(e,613,hi(t)),Se(e,46,fme()),Se(e,614)}function bme(e){var t=1;Se(e,626,hi(t)),Se(e,47,l8({numFmtId:0},65535)),Se(e,627)}function wme(e,t){Se(e,617,hi(t.length)),t.forEach(function(r){Se(e,47,l8(r,0))}),Se(e,618)}function jme(e){var t=1;Se(e,619,hi(t)),Se(e,48,hme({xfId:0,name:"Normal"})),Se(e,620)}function Nme(e){var t=0;Se(e,505,hi(t)),Se(e,506)}function kme(e){var t=0;Se(e,508,mme(t,"TableStyleMedium9","PivotStyleMedium4")),Se(e,509)}function _me(e,t){var r=Dn();return Se(r,278),xme(r,e.SSF),gme(r),vme(r),yme(r),bme(r),wme(r,t.cellXfs),jme(r),Nme(r),kme(r),Se(r,279),r.end()}var Sme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Cme(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(an)||[]).forEach(function(s){var i=lt(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Sme.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Eme(){}function Tme(){}var Ame=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Pme=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Ome=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Dme(e,t,r){t.themeElements={};var a;[["clrScheme",Ame,Cme],["fontScheme",Pme,Eme],["fmtScheme",Ome,Tme]].forEach(function(s){if(!(a=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](a,t,r)})}var Fme=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function o8(e,t){(!e||e.length===0)&&(e=Uk());var r,a={};if(!(r=e.match(Fme)))throw new Error("themeElements not found in theme");return Dme(r[0],a,t),a.raw=e,a}function Uk(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Wr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Ime(e,t,r){var a=e.l+t,s=e.read_shift(4);if(s!==124226){if(!r.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var l;try{l=eM(i,{type:"array"})}catch{return}var o=Gn(l,"theme/theme/theme1.xml",!0);if(o)return o8(o,r)}}function Rme(e){return e.read_shift(4)}function Mme(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Lme(e,4);break;case 2:t.xclrValue=UM(e);break;case 3:t.xclrValue=Rme(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Lme(e,t){return en(e,t)}function $me(e,t){return en(e,t)}function Bme(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=Mme(e);break;case 6:a[1]=$me(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function Ume(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),i=[];s-- >0;)i.push(Bme(e,r-e.l));return{ixfe:a,ext:i}}function zme(e,t){t.forEach(function(r){switch(r[0]){}})}function Wme(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ya(e)}}function Vme(e){var t=be(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ya(e.name,t),t.slice(0,t.l)}function Hme(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function qme(e){var t=be(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Kme(e,t){var r=be(8+2*t.length);return r.write_shift(4,e),ya(t,r),r.slice(0,r.l)}function Gme(e){return e.l+=4,e.read_shift(4)!=0}function Qme(e,t){var r=be(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Xme(e,t,r){var a={Types:[],Cell:[],Value:[]},s=r||{},i=[],l=!1,o=2;return Ll(e,function(c,u,d){switch(d){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?a.Cell.push({type:a.Types[f[0]-1].name,index:f[1]}):o==0&&a.Value.push({type:a.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(d),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!u.T){if(!l||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),a}function Yme(){var e=Dn();return Se(e,332),Se(e,334,hi(1)),Se(e,335,Vme({name:"XLDAPR",version:12e4,flags:3496657072})),Se(e,336),Se(e,339,Kme(1,"XLDAPR")),Se(e,52),Se(e,35,hi(514)),Se(e,4096,hi(0)),Se(e,4097,vs(1)),Se(e,36),Se(e,53),Se(e,340),Se(e,337,Qme(1)),Se(e,51,qme([[1,0]])),Se(e,338),Se(e,333),e.end()}function Jme(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var s=!1,i=2,l;return e.replace(an,function(o){var c=lt(o);switch(qi(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<a.Types.length;++u)a.Types[u].name==c.name&&(l=a.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):i==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+c.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),a}function c8(){var e=[Wr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Zme(e){var t=[];if(!e)return t;var r=1;return(e.match(an)||[]).forEach(function(a){var s=lt(a);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,t.push(s);break}}),t}function epe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=it(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function tpe(e,t,r){var a=[];return Ll(e,function(i,l,o){switch(o){case 63:a.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function rpe(e,t,r,a){if(!e)return e;var s=a||{},i=!1;Ll(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},s)}function ape(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Au=1024;function u8(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Ie("xml",null,{"xmlns:v":zn.v,"xmlns:o":zn.o,"xmlns:x":zn.x,"xmlns:mv":zn.mv}).replace(/\/>/,">"),Ie("o:shapelayout",Ie("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ie("v:shapetype",[Ie("v:stroke",null,{joinstyle:"miter"}),Ie("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Au<e*1e3;)Au+=1e3;return t.forEach(function(i){var l=jr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Ie("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ie("v:fill",c,o),d={on:"t",obscured:"t"};++Au,s=s.concat(["<v:shape"+O0({id:"_x0000_s"+Au,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ie("v:shadow",null,d),Ie("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Pa("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Pa("x:AutoFill","False"),Pa("x:Row",String(l.r)),Pa("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function sA(e,t,r,a){var s=Array.isArray(e),i;t.forEach(function(l){var o=jr(l.ref);if(s?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},s?e[o.r][o.c]=i:e[l.ref]=i;var c=Pt(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=ht(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:l.author,t:l.t,r:l.r,T:r};l.h&&(d.h=l.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&a){for(f=0;f<a.length;++f)if(d.a==a[f].id){d.a=a[f].name||d.a;break}}i.c.push(d)})}function npe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=lt(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=jr(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&Lk(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),a.push(u)}}}}),a}function d8(e){var t=[Wr,Ie("comments",null,{xmlns:tu[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(s){var i=Bt(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var s=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(s=r.indexOf(Bt(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(Pa("t",Bt(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(Pa("t",Bt(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function spe(e,t){var r=[],a=!1,s={},i=0;return e.replace(an,function(o,c){var u=lt(o);switch(qi(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":s.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function ipe(e,t,r){var a=[Wr,Ie("ThreadedComments",null,{xmlns:ra.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),a.push(Ie("threadedComment",Pa("text",l.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function lpe(e,t){var r=[],a=!1;return e.replace(an,function(i){var l=lt(i);switch(qi(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}function ope(e){var t=[Wr,Ie("personList",null,{xmlns:ra.TCMNT,"xmlns:x":tu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(Ie("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function cpe(e){var t={};t.iauthor=e.read_shift(4);var r=su(e);return t.rfx=r.s,t.ref=it(r.s),e.l+=16,t}function upe(e,t){return t==null&&(t=be(36)),t.write_shift(4,e[1].iauthor),Ud(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var dpe=Ya;function fpe(e){return ya(e.slice(0,54))}function hpe(e,t){var r=[],a=[],s={},i=!1;return Ll(e,function(o,c,u){switch(u){case 632:a.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=a[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function mpe(e){var t=Dn(),r=[];return Se(t,628),Se(t,630),e.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Se(t,632,fpe(s.a)))})}),Se(t,631),Se(t,633),e.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:jr(a[0]),e:jr(a[0])};Se(t,635,upe([i,s])),s.t&&s.t.length>0&&Se(t,637,Rde(s)),Se(t,636),delete s.iauthor})}),Se(t,634),Se(t,629),t.end()}var ppe="application/vnd.ms-office.vbaProject";function xpe(e){var t=rt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");rt.utils.cfb_add(t,s,e.FileIndex[a].content)}}),rt.write(t)}function gpe(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&rt.utils.cfb_add(e,s,t.FileIndex[a].content)}})}var f8=["xlsb","xlsm","xlam","biff8","xla"];function vpe(){return{"!type":"dialog"}}function ype(){return{"!type":"dialog"}}function bpe(){return{"!type":"macro"}}function wpe(){return{"!type":"macro"}}var Hu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,s,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=l.length>0?parseInt(l,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,s+(o?"":"$")+wr(d)+(c?"":"$")+Br(u)}return function(s,i){return t=i,s.replace(e,r)}}(),zk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Wk=function(){return function(t,r){return t.replace(zk,function(a,s,i,l,o,c){var u=Tk(l)-(i?0:r.c),d=Ek(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return s+"R"+f+"C"+h})}}();function h8(e,t){return e.replace(zk,function(r,a,s,i,l,o){return a+(s=="$"?s+i:wr(Tk(i)+t.c))+(l=="$"?l+o:Br(Ek(o)+t.r))})}function jpe(e,t,r){var a=In(t),s=a.s,i=jr(r),l={r:i.r-s.r,c:i.c-s.c};return h8(e,l)}function Npe(e){return e.length!=1}function iA(e){return e.replace(/_xlfn\./g,"")}function Vr(e){e.l+=1}function Oo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function m8(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return p8(e);r.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),l=Oo(e),o=Oo(e);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function p8(e){var t=Oo(e),r=Oo(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function kpe(e,t,r){if(r.biff<8)return p8(e);var a=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=Oo(e),l=Oo(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function x8(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return _pe(e);var a=e.read_shift(r&&r.biff==12?4:2),s=Oo(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function _pe(e){var t=Oo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Spe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Cpe(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return Epe(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;s>524287;)s-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:l,rRel:o}}function Epe(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:a}}function Tpe(e,t,r){var a=(e[e.l++]&96)>>5,s=m8(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function Ape(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=m8(e,i,r);return[a,s,l]}function Ppe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function Ope(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function Dpe(e,t,r){var a=(e[e.l++]&96)>>5,s=kpe(e,t-1,r);return[a,s]}function Fpe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function lA(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Ipe(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Rpe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function Mpe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function Lpe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function $pe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function g8(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Bpe(e){return e.read_shift(2),g8(e)}function Upe(e){return e.read_shift(2),g8(e)}function zpe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=x8(e,0,r);return[a,s]}function Wpe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=Cpe(e,0,r);return[a,s]}function Vpe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=x8(e,0,r);return[a,s,i]}function Hpe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[Gxe[s],b8[s],a]}function qpe(e,t,r){var a=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:Kpe(e);return[s,(i[0]===0?b8:Kxe)[i[1]]]}function Kpe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Gpe(e,t,r){e.l+=r&&r.biff==2?3:4}function Qpe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function Xpe(e){return e.l++,$l[e.read_shift(1)]}function Ype(e){return e.l++,e.read_shift(2)}function Jpe(e){return e.l++,e.read_shift(1)!==0}function Zpe(e){return e.l++,Ga(e)}function exe(e,t,r){return e.l++,_h(e,t-1,r)}function txe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Mr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=$l[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ga(e);break;case 2:r[1]=iu(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function rxe(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((r.biff==12?su:Dv)(e));return s}function axe(e,t,r){var a=0,s=0;r.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var i=0,l=[];i!=a&&(l[i]=[]);++i)for(var o=0;o!=s;++o)l[i][o]=txe(e,r.biff);return l}function nxe(e,t,r){var a=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function sxe(e,t,r){if(r.biff==5)return ixe(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function ixe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function lxe(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function oxe(e,t,r){var a=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function cxe(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function uxe(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var dxe=en,fxe=en,hxe=en;function Ch(e,t,r){return e.l+=2,[Spe(e)]}function Vk(e){return e.l+=6,[]}var mxe=Ch,pxe=Vk,xxe=Vk,gxe=Ch;function v8(e){return e.l+=2,[Kr(e),e.read_shift(2)&1]}var vxe=Ch,yxe=v8,bxe=Vk,wxe=Ch,jxe=Ch,Nxe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function kxe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),l=Nxe[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:a,c:s,C:i}}function _xe(e){return e.l+=2,[e.read_shift(4)]}function Sxe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Cxe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Exe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Txe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Axe(e){return e.l+=4,[0,0]}var oA={1:{n:"PtgExp",f:Qpe},2:{n:"PtgTbl",f:hxe},3:{n:"PtgAdd",f:Vr},4:{n:"PtgSub",f:Vr},5:{n:"PtgMul",f:Vr},6:{n:"PtgDiv",f:Vr},7:{n:"PtgPower",f:Vr},8:{n:"PtgConcat",f:Vr},9:{n:"PtgLt",f:Vr},10:{n:"PtgLe",f:Vr},11:{n:"PtgEq",f:Vr},12:{n:"PtgGe",f:Vr},13:{n:"PtgGt",f:Vr},14:{n:"PtgNe",f:Vr},15:{n:"PtgIsect",f:Vr},16:{n:"PtgUnion",f:Vr},17:{n:"PtgRange",f:Vr},18:{n:"PtgUplus",f:Vr},19:{n:"PtgUminus",f:Vr},20:{n:"PtgPercent",f:Vr},21:{n:"PtgParen",f:Vr},22:{n:"PtgMissArg",f:Vr},23:{n:"PtgStr",f:exe},26:{n:"PtgSheet",f:Sxe},27:{n:"PtgEndSheet",f:Cxe},28:{n:"PtgErr",f:Xpe},29:{n:"PtgBool",f:Jpe},30:{n:"PtgInt",f:Ype},31:{n:"PtgNum",f:Zpe},32:{n:"PtgArray",f:Fpe},33:{n:"PtgFunc",f:Hpe},34:{n:"PtgFuncVar",f:qpe},35:{n:"PtgName",f:nxe},36:{n:"PtgRef",f:zpe},37:{n:"PtgArea",f:Tpe},38:{n:"PtgMemArea",f:lxe},39:{n:"PtgMemErr",f:dxe},40:{n:"PtgMemNoMem",f:fxe},41:{n:"PtgMemFunc",f:oxe},42:{n:"PtgRefErr",f:cxe},43:{n:"PtgAreaErr",f:Ppe},44:{n:"PtgRefN",f:Wpe},45:{n:"PtgAreaN",f:Dpe},46:{n:"PtgMemAreaN",f:Exe},47:{n:"PtgMemNoMemN",f:Txe},57:{n:"PtgNameX",f:sxe},58:{n:"PtgRef3d",f:Vpe},59:{n:"PtgArea3d",f:Ape},60:{n:"PtgRefErr3d",f:uxe},61:{n:"PtgAreaErr3d",f:Ope},255:{}},Pxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Oxe={1:{n:"PtgElfLel",f:v8},2:{n:"PtgElfRw",f:wxe},3:{n:"PtgElfCol",f:mxe},6:{n:"PtgElfRwV",f:jxe},7:{n:"PtgElfColV",f:gxe},10:{n:"PtgElfRadical",f:vxe},11:{n:"PtgElfRadicalS",f:bxe},13:{n:"PtgElfColS",f:pxe},15:{n:"PtgElfColSV",f:xxe},16:{n:"PtgElfRadicalLel",f:yxe},25:{n:"PtgList",f:kxe},29:{n:"PtgSxName",f:_xe},255:{}},Dxe={0:{n:"PtgAttrNoop",f:Axe},1:{n:"PtgAttrSemi",f:$pe},2:{n:"PtgAttrIf",f:Mpe},4:{n:"PtgAttrChoose",f:Ipe},8:{n:"PtgAttrGoto",f:Rpe},16:{n:"PtgAttrSum",f:Gpe},32:{n:"PtgAttrBaxcel",f:lA},33:{n:"PtgAttrBaxcel",f:lA},64:{n:"PtgAttrSpace",f:Bpe},65:{n:"PtgAttrSpaceSemi",f:Upe},128:{n:"PtgAttrIfError",f:Lpe},255:{}};function Eh(e,t,r,a){if(a.biff<8)return en(e,t);for(var s=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=axe(e,0,a),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=rxe(e,r[l][1],a),i.push(r[l][2]);break;case"PtgExp":a&&a.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=s-e.l,t!==0&&i.push(en(e,t)),i}function Th(e,t,r){for(var a=e.l+t,s,i,l=[];a!=e.l;)t=a-e.l,i=e[e.l],s=oA[i]||oA[Pxe[i]],(i===24||i===25)&&(s=(i===24?Oxe:Dxe)[e[e.l+1]]),!s||!s.f?en(e,t):l.push([s.n,s.f(e,t,r)]);return l}function Fxe(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],s=[],i=0;i<a.length;++i){var l=a[i];if(l)switch(l[0]){case 2:s.push('"'+l[1].replace(/"/g,'""')+'"');break;default:s.push(l[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var Ixe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Rxe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function y8(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function cA(e,t,r){var a=y8(e,t,r);return a=="#REF"?a:Rxe(a,r)}function Wa(e,t,r,a,s){var i=s&&s.biff||8,l={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var x=-1,g="",y=0,b=e[0].length;y<b;++y){var v=e[0][y];switch(v[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),x>=0){switch(e[0][x][1][0]){case 0:g=Pr(" ",e[0][x][1][1]);break;case 1:g=Pr("\r",e[0][x][1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+g,x=-1}o.push(u+Ixe[v[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=$f(v[1][1],l,s),o.push(Bf(d,i));break;case"PtgRefN":d=r?$f(v[1][1],r,s):v[1][1],o.push(Bf(d,i));break;case"PtgRef3d":f=v[1][1],d=$f(v[1][2],l,s),p=cA(a,f,s),o.push(p+"!"+Bf(d,i));break;case"PtgFunc":case"PtgFuncVar":var j=v[1][0],N=v[1][1];j||(j=0),j&=127;var k=j==0?[]:o.slice(-j);o.length-=j,N==="User"&&(N=k.shift()),o.push(N+"("+k.join(",")+")");break;case"PtgBool":o.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(v[1]);break;case"PtgNum":o.push(String(v[1]));break;case"PtgStr":o.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(v[1]);break;case"PtgAreaN":m=LT(v[1][1],r?{s:r}:l,s),o.push(Gy(m,s));break;case"PtgArea":m=LT(v[1][1],l,s),o.push(Gy(m,s));break;case"PtgArea3d":f=v[1][1],m=v[1][2],p=cA(a,f,s),o.push(p+"!"+Gy(m,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=v[1][2];var _=(a.names||[])[h-1]||(a[0]||[])[h],S=_?_.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!s.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var T=v[1][1];h=v[1][2];var C;if(s.biff<=5)T<0&&(T=-T),a[T]&&(C=a[T][h]);else{var E="";if(((a[T]||[])[0]||[])[0]==14849||(((a[T]||[])[0]||[])[0]==1025?a[T][h]&&a[T][h].itab>0&&(E=a.SheetNames[a[T][h].itab-1]+"!"):E=a.SheetNames[h-1]+"!"),a[T]&&a[T][h])E+=a[T][h].Name;else if(a[0]&&a[0][h])E+=a[0][h].Name;else{var A=(y8(a,T,s)||"").split(";;");A[h-1]?E=A[h-1]:E+="SH33TJSERRX"}o.push(E);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var U="(",V=")";if(x>=0){switch(g="",e[0][x][1][0]){case 2:U=Pr(" ",e[0][x][1][1])+U;break;case 3:U=Pr("\r",e[0][x][1][1])+U;break;case 4:V=Pr(" ",e[0][x][1][1])+V;break;case 5:V=Pr("\r",e[0][x][1][1])+V;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}o.push(U+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:v[1][1],r:v[1][0]};var ae={c:r.c,r:r.r};if(a.sharedf[it(d)]){var q=a.sharedf[it(d)];o.push(Wa(q,l,ae,a,s))}else{var R=!1;for(c=0;c!=a.arrayf.length;++c)if(u=a.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Wa(u[1],l,ae,a,s)),R=!0;break}R||o.push(v[1])}break;case"PtgArray":o.push("{"+Fxe(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var P=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&P.indexOf(e[0][y][0])==-1){v=e[0][x];var B=!0;switch(v[1][0]){case 4:B=!1;case 0:g=Pr(" ",v[1][1]);break;case 5:B=!1;case 1:g=Pr("\r",v[1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}o.push((B?g:"")+o.pop()+(B?"":g)),x=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function Mxe(e,t,r){var a=e.l+t,s=r.biff==2?1:2,i,l=e.read_shift(s);if(l==65535)return[[],en(e,t-2)];var o=Th(e,l,r);return t!==l+s&&(i=Eh(e,t-l-s,o,r)),e.l=a,[o,i]}function Lxe(e,t,r){var a=e.l+t,s=r.biff==2?1:2,i,l=e.read_shift(s);if(l==65535)return[[],en(e,t-2)];var o=Th(e,l,r);return t!==l+s&&(i=Eh(e,t-l-s,o,r)),e.l=a,[o,i]}function $xe(e,t,r,a){var s=e.l+t,i=Th(e,a,r),l;return s!==e.l&&(l=Eh(e,s-e.l,i,r)),[i,l]}function Bxe(e,t,r){var a=e.l+t,s,i=e.read_shift(2),l=Th(e,i,r);return i==65535?[[],en(e,t-2)]:(t!==i+2&&(s=Eh(e,a-i-2,l,r)),[l,s])}function Uxe(e){var t;if(cl(e,e.l+6)!==65535)return[Ga(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function zxe(e){if(e==null){var t=be(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Hc(e);return Hc(0)}function Zy(e,t,r){var a=e.l+t,s=Ki(e);r.biff==2&&++e.l;var i=Uxe(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Lxe(e,a-e.l,r);return{cell:s,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function Wxe(e,t,r,a,s){var i=Kc(t,r,s),l=zxe(e.v),o=be(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=be(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=xa([i,l,o,u]);return f}function Fv(e,t,r){var a=e.read_shift(4),s=Th(e,a,r),i=e.read_shift(4),l=i>0?Eh(e,i,s,r):null;return[s,l]}var Vxe=Fv,Iv=Fv,Hxe=Fv,qxe=Fv,Kxe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},b8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Gxe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uA(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Qxe(e){var t="of:="+e.replace(zk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function eb(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Xxe(e){return e.replace(/\./,"!")}var zf={},qu={},Wf=typeof Map<"u";function Hk(e,t,r){var a=0,s=e.length;if(r){if(Wf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Wf?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<s;++a)if(e[a].t===t)return e.Count++,a;return e[s]={t},e.Count++,e.Unique++,r&&(Wf?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function Rv(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(qa=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=M0(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=Gx(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Tc(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ho(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){xl(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=a=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===a)return s;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function w8(e,t,r,a,s,i){try{a.cellNF&&(e.z=st[t])}catch(o){if(a.WTF)throw o}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=sr(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(st[t]==null&&xl(Kue[t]||"General",t),e.t==="e")e.w=e.w||$l[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=A0(e.v);else if(e.t==="d"){var l=ia(e.v);(l|0)===l?e.w=l.toString(10):e.w=A0(l)}else{if(e.v===void 0)return"";e.w=Wc(e.v,qu)}else e.t==="d"?e.w=Rs(t,ia(e.v),qu):e.w=Rs(t,e.v,qu)}catch(o){if(a.WTF)throw o}if(a.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Kx(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Kx(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(a.WTF&&i.Fills)throw o}}}function Yxe(e,t,r){if(e&&e["!ref"]){var a=Pt(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Jxe(e,t){var r=Pt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ht(r))}var Zxe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ege=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,tge=/<(?:\w:)?hyperlink [^>]*>/mg,rge=/"(\w*:\w*)"/,age=/<(?:\w:)?col\b[^>]*[\/]?>/g,nge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,sge=/<(?:\w:)?pageMargins[^>]*\/>/g,j8=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,ige=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,lge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function oge(e,t,r,a,s,i,l){if(!e)return e;a||(a={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(ege);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(j8);h?qk(h[0],o,s,r):(h=u.match(ige))&&uge(h[0],h[1]||"",o,s,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=u.slice(m,m+50).match(rge);p&&Jxe(o,p[1])}var x=u.match(lge);x&&x[1]&&Nge(x[1],s);var g=[];if(t.cellStyles){var y=u.match(age);y&&vge(g,y)}f&&Sge(f[1],o,t,c,i,l);var b=d.match(nge);b&&(o["!autofilter"]=bge(b[0]));var v=[],j=d.match(Zxe);if(j)for(m=0;m!=j.length;++m)v[m]=Pt(j[m].slice(j[m].indexOf('"')+1));var N=d.match(tge);N&&pge(o,N,a);var k=d.match(sge);if(k&&(o["!margins"]=xge(lt(k[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=ht(c)),t.sheetRows>0&&o["!ref"]){var _=Pt(o["!ref"]);t.sheetRows<=+_.e.r&&(_.e.r=t.sheetRows-1,_.e.r>c.e.r&&(_.e.r=c.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>c.e.c&&(_.e.c=c.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ht(_))}return g.length>0&&(o["!cols"]=g),v.length>0&&(o["!merges"]=v),o}function cge(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ht(e[r])+'"/>';return t+"</mergeCells>"}function qk(e,t,r,a){var s=lt(e);r.Sheets[a]||(r.Sheets[a]={}),s.codeName&&(r.Sheets[a].CodeName=At(Ht(s.codeName)))}function uge(e,t,r,a,s){qk(e.slice(0,e.indexOf(">")),r,a,s)}function dge(e,t,r,a,s){var i=!1,l={},o=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,l.codeName=Di(Bt(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Ie("outlinePr",null,u)}!i&&!o||(s[s.length]=Ie("sheetPr",o,l))}var fge=["objects","scenarios","selectLockedCells","selectUnlockedCells"],hge=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function mge(e){var t={sheet:1};return fge.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),hge.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=$k(e.password).toString(16).toUpperCase()),Ie("sheetProtection",null,t)}function pge(e,t,r){for(var a=Array.isArray(e),s=0;s!=t.length;++s){var i=lt(Ht(t[s]),!0);if(!i.ref)return;var l=((r||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+At(i.location))):(i.Target="#"+At(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Pt(i.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=it({c:u,r:c});a?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function xge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function gge(e){return Tc(e),Ie("pageMargins",null,e)}function vge(e,t){for(var r=!1,a=0;a!=t.length;++a){var s=lt(t[a],!0);s.hidden&&(s.hidden=rr(s.hidden));var i=parseInt(s.min,10)-1,l=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,Bk(s.width)),Po(s);i<=l;)e[i++]=ir(s)}}function yge(e,t){for(var r=["<cols>"],a,s=0;s!=t.length;++s)(a=t[s])&&(r[r.length]=Ie("col",null,Rv(s,a)));return r[r.length]="</cols>",r.join("")}function bge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function wge(e,t,r,a){var s=typeof e.ref=="string"?e.ref:ht(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=In(s);l.s.r==l.e.r&&(l.e.r=In(t["!ref"]).e.r,s=ht(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),Ie("autoFilter",null,{ref:s})}var jge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Nge(e,t){t.Views||(t.Views=[{}]),(e.match(jge)||[]).forEach(function(r,a){var s=lt(r);t.Views[a]||(t.Views[a]={}),+s.zoomScale&&(t.Views[a].zoom=+s.zoomScale),rr(s.rightToLeft)&&(t.Views[a].RTL=!0)})}function kge(e,t,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Ie("sheetViews",Ie("sheetView",null,s),{})}function _ge(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=$l[e.v];break;case"d":a&&a.cellDates?s=sr(e.v,-1).toISOString():(e=ir(e),e.t="n",s=""+(e.v=ia(sr(e.v)))),typeof e.z>"u"&&(e.z=st[14]);break;default:s=e.v;break}var o=Pa("v",Bt(s)),c={r:t},u=Ho(a.cellXfs,e,a);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=Pa("v",""+Hk(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ie("f",Bt(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Ie("c",o,c)}var Sge=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=P0("v"),l=P0("f");return function(c,u,d,f,h,m){for(var p=0,x="",g=[],y=[],b=0,v=0,j=0,N="",k,_,S=0,T=0,C,E,A=0,U=0,V=Array.isArray(m.CellXf),ae,q=[],R=[],P=Array.isArray(u),B=[],te={},H=!1,F=!!d.sheetStubs,O=c.split(t),M=0,I=O.length;M!=I;++M){x=O[M].trim();var ne=x.length;if(ne!==0){var oe=0;e:for(p=0;p<ne;++p)switch(x[p]){case">":if(x[p-1]!="/"){++p;break e}if(d&&d.cellStyles){if(_=lt(x.slice(oe,p),!0),S=_.r!=null?parseInt(_.r,10):S+1,T=-1,d.sheetRows&&d.sheetRows<S)continue;te={},H=!1,_.ht&&(H=!0,te.hpt=parseFloat(_.ht),te.hpx=xd(te.hpt)),_.hidden=="1"&&(H=!0,te.hidden=!0),_.outlineLevel!=null&&(H=!0,te.level=+_.outlineLevel),H&&(B[S-1]=te)}break;case"<":oe=p;break}if(oe>=p)break;if(_=lt(x.slice(oe,p),!0),S=_.r!=null?parseInt(_.r,10):S+1,T=-1,!(d.sheetRows&&d.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),d&&d.cellStyles&&(te={},H=!1,_.ht&&(H=!0,te.hpt=parseFloat(_.ht),te.hpx=xd(te.hpt)),_.hidden=="1"&&(H=!0,te.hidden=!0),_.outlineLevel!=null&&(H=!0,te.level=+_.outlineLevel),H&&(B[S-1]=te)),g=x.slice(p).split(e);for(var J=0;J!=g.length&&g[J].trim().charAt(0)=="<";++J);for(g=g.slice(J),p=0;p!=g.length;++p)if(x=g[p].trim(),x.length!==0){if(y=x.match(r),b=p,v=0,j=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,y!=null&&y.length===2){for(b=0,N=y[1],v=0;v!=N.length&&!((j=N.charCodeAt(v)-64)<1||j>26);++v)b=26*b+j;--b,T=b}else++T;for(v=0;v!=x.length&&x.charCodeAt(v)!==62;++v);if(++v,_=lt(x.slice(0,v),!0),_.r||(_.r=it({r:S-1,c:T})),N=x.slice(v),k={t:""},(y=N.match(i))!=null&&y[1]!==""&&(k.v=At(y[1])),d.cellFormula){if((y=N.match(l))!=null&&y[1]!==""){if(k.f=At(Ht(y[1])).replace(/\r\n/g,`
`),d.xlfn||(k.f=iA(k.f)),y[0].indexOf('t="array"')>-1)k.F=(N.match(s)||[])[1],k.F.indexOf(":")>-1&&q.push([Pt(k.F),k.F]);else if(y[0].indexOf('t="shared"')>-1){E=lt(y[0]);var Y=At(Ht(y[1]));d.xlfn||(Y=iA(Y)),R[parseInt(E.si,10)]=[E,Y,_.r]}}else(y=N.match(/<f[^>]*\/>/))&&(E=lt(y[0]),R[E.si]&&(k.f=jpe(R[E.si][1],R[E.si][2],_.r)));var ie=jr(_.r);for(v=0;v<q.length;++v)ie.r>=q[v][0].s.r&&ie.r<=q[v][0].e.r&&ie.c>=q[v][0].s.c&&ie.c<=q[v][0].e.c&&(k.F=q[v][1])}if(_.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(F)k.t="z";else continue;else k.t=_.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),k.t){case"n":if(k.v==""||k.v==null){if(!F)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!F)continue;k.t="z"}else C=zf[parseInt(k.v,10)],k.v=C.t,k.r=C.r,d.cellHTML&&(k.h=C.h);break;case"str":k.t="s",k.v=k.v!=null?Ht(k.v):"",d.cellHTML&&(k.h=kk(k.v));break;case"inlineStr":y=N.match(a),k.t="s",y!=null&&(C=Lk(y[1]))?(k.v=C.t,d.cellHTML&&(k.h=C.h)):k.v="";break;case"b":k.v=rr(k.v);break;case"d":d.cellDates?k.v=sr(k.v,1):(k.v=ia(sr(k.v,1)),k.t="n");break;case"e":(!d||d.cellText!==!1)&&(k.w=k.v),k.v=kM[k.v];break}if(A=U=0,ae=null,V&&_.s!==void 0&&(ae=m.CellXf[_.s],ae!=null&&(ae.numFmtId!=null&&(A=ae.numFmtId),d.cellStyles&&ae.fillId!=null&&(U=ae.fillId))),w8(k,A,U,d,h,m),d.cellDates&&V&&k.t=="n"&&Ld(st[A])&&(k.t="d",k.v=Ov(k.v)),_.cm&&d.xlmeta){var fe=(d.xlmeta.Cell||[])[+_.cm-1];fe&&fe.type=="XLDAPR"&&(k.D=!0)}if(P){var D=jr(_.r);u[D.r]||(u[D.r]=[]),u[D.r][D.c]=k}else u[_.r]=k}}}}B.length>0&&(u["!rows"]=B)}}();function Cge(e,t,r,a){var s=[],i=[],l=Pt(e["!ref"]),o="",c,u="",d=[],f=0,h=0,m=e["!rows"],p=Array.isArray(e),x={r:u},g,y=-1;for(h=l.s.c;h<=l.e.c;++h)d[h]=wr(h);for(f=l.s.r;f<=l.e.r;++f){for(i=[],u=Br(f),h=l.s.c;h<=l.e.c;++h){c=d[h]+u;var b=p?(e[f]||[])[h]:e[c];b!==void 0&&(o=_ge(b,c,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(x={r:u},m&&m[f]&&(g=m[f],g.hidden&&(x.hidden=1),y=-1,g.hpx?y=L0(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(x.ht=y,x.customHeight=1),g.level&&(x.outlineLevel=g.level)),s[s.length]=Ie("row",i.join(""),x))}if(m)for(;f<m.length;++f)m&&m[f]&&(x={r:f+1},g=m[f],g.hidden&&(x.hidden=1),y=-1,g.hpx?y=L0(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(x.ht=y,x.customHeight=1),g.level&&(x.outlineLevel=g.level),s[s.length]=Ie("row","",x));return s.join("")}function N8(e,t,r,a){var s=[Wr,Ie("worksheet",null,{xmlns:tu[0],"xmlns:r":ra.r})],i=r.SheetNames[e],l=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Pt(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ht(d)}a||(a={}),c["!comments"]=[];var f=[];dge(c,r,e,t,s),s[s.length]=Ie("dimension",null,{ref:u}),s[s.length]=kge(c,t,e,r),t.sheetFormat&&(s[s.length]=Ie("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=yge(c,c["!cols"])),s[l=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Cge(c,t),o.length>0&&(s[s.length]=o)),s.length>l+1&&(s[s.length]="</sheetData>",s[l]=s[l].replace("/>",">")),c["!protect"]&&(s[s.length]=mge(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=wge(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=cge(c["!merges"]));var h=-1,m,p=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(m={ref:x[0]},x[1].Target.charAt(0)!="#"&&(p=Mt(a,-1,Bt(x[1].Target).replace(/#.*$/,""),xt.HLINK),m["r:id"]="rId"+p),(h=x[1].Target.indexOf("#"))>-1&&(m.location=Bt(x[1].Target.slice(h+1))),x[1].Tooltip&&(m.tooltip=Bt(x[1].Tooltip)),s[s.length]=Ie("hyperlink",null,m))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=gge(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Pa("ignoredErrors",Ie("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(p=Mt(a,-1,"../drawings/drawing"+(e+1)+".xml",xt.DRAW),s[s.length]=Ie("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=f),c["!comments"].length>0&&(p=Mt(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",xt.VML),s[s.length]=Ie("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Ege(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function Tge(e,t,r){var a=be(145),s=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;s.hpx?i=L0(s.hpx)*20:s.hpt&&(i=s.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var l=0;s.level&&(l|=s.level),s.hidden&&(l|=16),(s.hpx||s.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var o=0,c=a.l;a.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var p=Array.isArray(r)?(r[u.r]||[])[u.c]:r[it(u)];p&&(f<0&&(f=m),h=m)}f<0||(++o,a.write_shift(4,f),a.write_shift(4,h))}var x=a.l;return a.l=c,a.write_shift(4,o),a.l=x,a.length>a.l?a.slice(0,a.l):a}function Age(e,t,r,a){var s=Tge(a,r,t);(s.length>17||(t["!rows"]||[])[a])&&Se(e,0,s)}var Pge=su,Oge=Ud;function Dge(){}function Fge(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=Mde(e),r}function Ige(e,t,r){r==null&&(r=be(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return Vx({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),yM(e,r),r.slice(0,r.l)}function Rge(e){var t=Ws(e);return[t]}function Mge(e,t,r){return r==null&&(r=be(8)),ru(t,r)}function Lge(e){var t=au(e);return[t]}function $ge(e,t,r){return r==null&&(r=be(4)),nu(t,r)}function Bge(e){var t=Ws(e),r=e.read_shift(1);return[t,r,"b"]}function Uge(e,t,r){return r==null&&(r=be(9)),ru(t,r),r.write_shift(1,e.v?1:0),r}function zge(e){var t=au(e),r=e.read_shift(1);return[t,r,"b"]}function Wge(e,t,r){return r==null&&(r=be(5)),nu(t,r),r.write_shift(1,e.v?1:0),r}function Vge(e){var t=Ws(e),r=e.read_shift(1);return[t,r,"e"]}function Hge(e,t,r){return r==null&&(r=be(9)),ru(t,r),r.write_shift(1,e.v),r}function qge(e){var t=au(e),r=e.read_shift(1);return[t,r,"e"]}function Kge(e,t,r){return r==null&&(r=be(8)),nu(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Gge(e){var t=Ws(e),r=e.read_shift(4);return[t,r,"s"]}function Qge(e,t,r){return r==null&&(r=be(12)),ru(t,r),r.write_shift(4,t.v),r}function Xge(e){var t=au(e),r=e.read_shift(4);return[t,r,"s"]}function Yge(e,t,r){return r==null&&(r=be(8)),nu(t,r),r.write_shift(4,t.v),r}function Jge(e){var t=Ws(e),r=Ga(e);return[t,r,"n"]}function Zge(e,t,r){return r==null&&(r=be(16)),ru(t,r),Hc(e.v,r),r}function k8(e){var t=au(e),r=Ga(e);return[t,r,"n"]}function eve(e,t,r){return r==null&&(r=be(12)),nu(t,r),Hc(e.v,r),r}function tve(e){var t=Ws(e),r=Dk(e);return[t,r,"n"]}function rve(e,t,r){return r==null&&(r=be(12)),ru(t,r),bM(e.v,r),r}function ave(e){var t=au(e),r=Dk(e);return[t,r,"n"]}function nve(e,t,r){return r==null&&(r=be(8)),nu(t,r),bM(e.v,r),r}function sve(e){var t=Ws(e),r=Ak(e);return[t,r,"is"]}function ive(e){var t=Ws(e),r=Ya(e);return[t,r,"str"]}function lve(e,t,r){return r==null&&(r=be(12+4*e.v.length)),ru(t,r),ya(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ove(e){var t=au(e),r=Ya(e);return[t,r,"str"]}function cve(e,t,r){return r==null&&(r=be(8+4*e.v.length)),nu(t,r),ya(e.v,r),r.length>r.l?r.slice(0,r.l):r}function uve(e,t,r){var a=e.l+t,s=Ws(e);s.r=r["!row"];var i=e.read_shift(1),l=[s,i,"b"];if(r.cellFormula){e.l+=2;var o=Iv(e,a-e.l,r);l[3]=Wa(o,null,s,r.supbooks,r)}else e.l=a;return l}function dve(e,t,r){var a=e.l+t,s=Ws(e);s.r=r["!row"];var i=e.read_shift(1),l=[s,i,"e"];if(r.cellFormula){e.l+=2;var o=Iv(e,a-e.l,r);l[3]=Wa(o,null,s,r.supbooks,r)}else e.l=a;return l}function fve(e,t,r){var a=e.l+t,s=Ws(e);s.r=r["!row"];var i=Ga(e),l=[s,i,"n"];if(r.cellFormula){e.l+=2;var o=Iv(e,a-e.l,r);l[3]=Wa(o,null,s,r.supbooks,r)}else e.l=a;return l}function hve(e,t,r){var a=e.l+t,s=Ws(e);s.r=r["!row"];var i=Ya(e),l=[s,i,"str"];if(r.cellFormula){e.l+=2;var o=Iv(e,a-e.l,r);l[3]=Wa(o,null,s,r.supbooks,r)}else e.l=a;return l}var mve=su,pve=Ud;function xve(e,t){return t==null&&(t=be(4)),t.write_shift(4,e),t}function gve(e,t){var r=e.l+t,a=su(e),s=Pk(e),i=Ya(e),l=Ya(e),o=Ya(e);e.l=r;var c={rfx:a,relId:s,loc:i,display:o};return l&&(c.Tooltip=l),c}function vve(e,t){var r=be(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ud({s:jr(e[0]),e:jr(e[0])},r),Ok("rId"+t,r);var a=e[1].Target.indexOf("#"),s=a==-1?"":e[1].Target.slice(a+1);return ya(s||"",r),ya(e[1].Tooltip||"",r),ya("",r),r.slice(0,r.l)}function yve(){}function bve(e,t,r){var a=e.l+t,s=wM(e),i=e.read_shift(1),l=[s];if(l[2]=i,r.cellFormula){var o=Vxe(e,a-e.l,r);l[1]=o}else e.l=a;return l}function wve(e,t,r){var a=e.l+t,s=su(e),i=[s];if(r.cellFormula){var l=qxe(e,a-e.l,r);i[1]=l,e.l=a}else e.l=a;return i}function jve(e,t,r){r==null&&(r=be(18));var a=Rv(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var _8=["left","right","top","bottom","header","footer"];function Nve(e){var t={};return _8.forEach(function(r){t[r]=Ga(e)}),t}function kve(e,t){return t==null&&(t=be(6*8)),Tc(e),_8.forEach(function(r){Hc(e[r],t)}),t}function _ve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Sve(e,t,r){r==null&&(r=be(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Cve(e){var t=be(24);return t.write_shift(4,4),t.write_shift(4,1),Ud(e,t),t}function Eve(e,t){return t==null&&(t=be(16*4+2)),t.write_shift(2,e.password?$k(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Tve(){}function Ave(){}function Pve(e,t,r,a,s,i,l){if(!e)return e;var o=t||{};a||(a={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,x,g,y,b,v,j,N,k=[];o.biff=12,o["!row"]=0;var _=0,S=!1,T=[],C={},E=o.supbooks||s.supbooks||[[]];if(E.sharedf=C,E.arrayf=T,E.SheetNames=s.SheetNames||s.Sheets.map(function(P){return P.name}),!o.supbooks&&(o.supbooks=E,s.Names))for(var A=0;A<s.Names.length;++A)E[0][A+1]=s.Names[A];var U=[],V=[],ae=!1;$0[16]={n:"BrtShortReal",f:k8};var q;if(Ll(e,function(B,te,H){if(!h)switch(H){case 148:u=B;break;case 0:m=B,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),j=Br(g=m.r),o["!row"]=m.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=xd(B.hpt)),V[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:B[2]},B[2]){case"n":p.v=B[1];break;case"s":v=zf[B[1]],p.v=v.t,p.r=v.r;break;case"b":p.v=!!B[1];break;case"e":p.v=B[1],o.cellText!==!1&&(p.w=$l[p.v]);break;case"str":p.t="s",p.v=B[1];break;case"is":p.t="s",p.v=B[1].t;break}if((x=l.CellXf[B[0].iStyleRef])&&w8(p,x.numFmtId,null,o,i,l),y=B[0].c==-1?y+1:B[0].c,o.dense?(c[g]||(c[g]=[]),c[g][y]=p):c[wr(y)+j]=p,o.cellFormula){for(S=!1,_=0;_<T.length;++_){var F=T[_];m.r>=F[0].s.r&&m.r<=F[0].e.r&&y>=F[0].s.c&&y<=F[0].e.c&&(p.F=ht(F[0]),S=!0)}!S&&B.length>3&&(p.f=B[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),o.cellDates&&x&&p.t=="n"&&Ld(st[x.numFmtId])){var O=mc(p.v);O&&(p.t="d",p.v=new Date(O.y,O.m-1,O.d,O.H,O.M,O.S,O.u))}q&&(q.type=="XLDAPR"&&(p.D=!0),q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},y=B[0].c==-1?y+1:B[0].c,o.dense?(c[g]||(c[g]=[]),c[g][y]=p):c[wr(y)+j]=p,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),q&&(q.type=="XLDAPR"&&(p.D=!0),q=void 0);break;case 176:k.push(B);break;case 49:q=((o.xlmeta||{}).Cell||[])[B-1];break;case 494:var M=a["!id"][B.relId];for(M?(B.Target=M.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=M):B.relId==""&&(B.Target="#"+B.loc),g=B.rfx.s.r;g<=B.rfx.e.r;++g)for(y=B.rfx.s.c;y<=B.rfx.e.c;++y)o.dense?(c[g]||(c[g]=[]),c[g][y]||(c[g][y]={t:"z",v:void 0}),c[g][y].l=B):(b=it({c:y,r:g}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=B);break;case 426:if(!o.cellFormula)break;T.push(B),N=o.dense?c[g][y]:c[wr(y)+j],N.f=Wa(B[1],d,{r:m.r,c:y},E,o),N.F=ht(B[0]);break;case 427:if(!o.cellFormula)break;C[it(B[0].s)]=B[1],N=o.dense?c[g][y]:c[wr(y)+j],N.f=Wa(B[1],d,{r:m.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;B.e>=B.s;)U[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},ae||(ae=!0,Bk(B.w/256)),Po(U[B.e+1]);break;case 161:c["!autofilter"]={ref:ht(B)};break;case 476:c["!margins"]=B;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),B.name&&(s.Sheets[r].CodeName=B.name),(B.above||B.left)&&(c["!outline"]={above:B.above,left:B.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),B.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!te.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=ht(u||d)),o.sheetRows&&c["!ref"]){var R=Pt(c["!ref"]);o.sheetRows<=+R.e.r&&(R.e.r=o.sheetRows-1,R.e.r>d.e.r&&(R.e.r=d.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>d.e.c&&(R.e.c=d.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ht(R))}return k.length>0&&(c["!merges"]=k),U.length>0&&(c["!cols"]=U),V.length>0&&(c["!rows"]=V),c}function Ove(e,t,r,a,s,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ir(t),t.z=t.z||st[14],t.v=ia(sr(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:a};switch(c.s=Ho(s.cellXfs,t,s),t.l&&i["!links"].push([it(c),t.l]),t.c&&i["!comments"].push([it(c),t.c]),t.t){case"s":case"str":return s.bookSST?(o=Hk(s.Strings,t.v,s.revStrings),c.t="s",c.v=o,l?Se(e,18,Yge(t,c)):Se(e,7,Qge(t,c))):(c.t="str",l?Se(e,17,cve(t,c)):Se(e,6,lve(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Se(e,13,nve(t,c)):Se(e,2,rve(t,c)):l?Se(e,16,eve(t,c)):Se(e,5,Zge(t,c)),!0;case"b":return c.t="b",l?Se(e,15,Wge(t,c)):Se(e,4,Uge(t,c)),!0;case"e":return c.t="e",l?Se(e,14,Kge(t,c)):Se(e,3,Hge(t,c)),!0}return l?Se(e,12,$ge(t,c)):Se(e,1,Mge(t,c)),!0}function Dve(e,t,r,a){var s=Pt(t["!ref"]||"A1"),i,l="",o=[];Se(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var d=s.s.r;d<=u;++d){l=Br(d),Age(e,t,s,d);var f=!1;if(d<=s.e.r)for(var h=s.s.c;h<=s.e.c;++h){d===s.s.r&&(o[h]=wr(h)),i=o[h]+l;var m=c?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=Ove(e,m,d,h,a,t,f)}}Se(e,146)}function Fve(e,t){!t||!t["!merges"]||(Se(e,177,xve(t["!merges"].length)),t["!merges"].forEach(function(r){Se(e,176,pve(r))}),Se(e,178))}function Ive(e,t){!t||!t["!cols"]||(Se(e,390),t["!cols"].forEach(function(r,a){r&&Se(e,60,jve(a,r))}),Se(e,391))}function Rve(e,t){!t||!t["!ref"]||(Se(e,648),Se(e,649,Cve(Pt(t["!ref"]))),Se(e,650))}function Mve(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var s=Mt(r,-1,a[1].Target.replace(/#.*$/,""),xt.HLINK);Se(e,494,vve(a,s))}}),delete t["!links"]}function Lve(e,t,r,a){if(t["!comments"].length>0){var s=Mt(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",xt.VML);Se(e,551,Ok("rId"+s)),t["!legacy"]=s}}function $ve(e,t,r,a){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:ht(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,o=In(i);o.s.r==o.e.r&&(o.e.r=In(t["!ref"]).e.r,i=ht(o));for(var c=0;c<l.length;++c){var u=l[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),Se(e,161,Ud(Pt(i))),Se(e,162)}}function Bve(e,t,r){Se(e,133),Se(e,137,Sve(t,r)),Se(e,138),Se(e,134)}function Uve(e,t){t["!protect"]&&Se(e,535,Eve(t["!protect"]))}function zve(e,t,r,a){var s=Dn(),i=r.SheetNames[e],l=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=Pt(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Se(s,129),(r.vbaraw||l["!outline"])&&Se(s,147,Ige(o,l["!outline"])),Se(s,148,Oge(c)),Bve(s,l,r.Workbook),Ive(s,l),Dve(s,l,e,t),Uve(s,l),$ve(s,l,r,e),Fve(s,l),Mve(s,l,a),l["!margins"]&&Se(s,476,kve(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Rve(s,l),Lve(s,l,e,a),Se(s,130),s.end()}function Wve(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var s=At((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,s,a]}function Vve(e,t,r,a,s,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Wve(f);d.s.r=d.s.c=0,d.e.c=o,u=wr(o),h[0].forEach(function(m,p){l[u+Br(p)]={t:"n",v:m,z:h[1]},c=p}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(l["!ref"]=ht(d)),l}function Hve(e,t,r,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(j8);return o&&qk(o[0],i,s,r),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function qve(e,t){e.l+=10;var r=Ya(e);return{name:r}}function Kve(e,t,r,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Ll(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),c.name&&(s.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var Kk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Gve=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Qve=[],Xve=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function dA(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],s=0;s!=t.length;++s){var i=t[s];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=rr(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function fA(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=rr(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function S8(e){fA(e.WBProps,Kk),fA(e.CalcPr,Xve),dA(e.WBView,Gve),dA(e.Sheets,Qve),qu.date1904=rr(e.WBProps.date1904)}function Yve(e){return!e.Workbook||!e.Workbook.WBProps?"false":rr(e.Workbook.WBProps.date1904)?"true":"false"}var Jve="][*?/\\".split("");function C8(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Jve.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Zve(e,t,r){e.forEach(function(a,s){C8(a);for(var i=0;i<s;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var l=t&&t[s]&&t[s].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function eye(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Zve(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Yxe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var tye=/<\w+:workbook/;function rye(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,s="xmlns",i={},l=0;if(e.replace(an,function(c,u){var d=lt(c);switch(qi(d[0])){case"<?xml":break;case"<workbook":c.match(tye)&&(s="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[s];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Kk.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=rr(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Ht(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=At(Ht(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Ht(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),rr(d.hidden||"0")&&(i.Hidden=!0),l=u+c.length;break;case"</definedName>":i.Ref=At(Ht(e.slice(l,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),tu.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return S8(r),r}function E8(e){var t=[Wr];t[t.length]=Ie("workbook",null,{xmlns:tu[0],"xmlns:r":ra.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Kk.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Ie("workbookPr",null,a);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:Bt(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Ie("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Ie("definedName",Bt(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function aye(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Sw(e),r.name=Ya(e),r}function nye(e,t){return t||(t=be(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Ok(e.strRelID,t),ya(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function sye(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Ya(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function iye(e,t){t||(t=be(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),yM(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function lye(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function oye(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=Lde(e),l=Hxe(e,0,r),o=Pk(e);e.l=a;var c={Name:i,Ptg:l};return s<268435455&&(c.Sheet=s),o&&(c.Comment=o),c}function cye(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],s=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],$0[16]={n:"BrtFRTArchID$",f:lye},Ll(e,function(c,u,d){switch(d){case 156:l.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Wa(c.Ptg,null,null,l,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([d,c]):l[0]=[d,c],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(c),l.XTI=l.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(d),s=!0;break;case 36:a.pop(),s=!1;break;case 37:a.push(d),s=!0;break;case 38:a.pop(),s=!1;break;case 16:break;default:if(!u.T){if(!s||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),S8(r),r.Names=i,r.supbooks=l,r}function uye(e,t){Se(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Se(e,156,nye(s))}Se(e,144)}function dye(e,t){t||(t=be(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ya("SheetJS",t),ya(Mx.version,t),ya(Mx.version,t),ya("7262",t),t.length>t.l?t.slice(0,t.l):t}function fye(e,t){t||(t=be(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function hye(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,s=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&i==-1&&(i=a);i>s||(Se(e,135),Se(e,158,fye(s)),Se(e,136))}}function mye(e,t){var r=Dn();return Se(r,131),Se(r,128,dye()),Se(r,153,iye(e.Workbook&&e.Workbook.WBProps||null)),hye(r,e),uye(r,e),Se(r,132),r.end()}function pye(e,t,r){return t.slice(-4)===".bin"?cye(e,r):rye(e,r)}function xye(e,t,r,a,s,i,l,o){return t.slice(-4)===".bin"?Pve(e,a,r,s,i,l,o):oge(e,a,r,s,i,l,o)}function gye(e,t,r,a,s,i,l,o){return t.slice(-4)===".bin"?Kve(e,a,r,s,i):Hve(e,a,r,s,i)}function vye(e,t,r,a,s,i,l,o){return t.slice(-4)===".bin"?bpe():wpe()}function yye(e,t,r,a,s,i,l,o){return t.slice(-4)===".bin"?vpe():ype()}function bye(e,t,r,a){return t.slice(-4)===".bin"?pme(e,r,a):ame(e,r,a)}function wye(e,t,r){return o8(e,r)}function jye(e,t,r){return t.slice(-4)===".bin"?jhe(e,r):yhe(e,r)}function Nye(e,t,r){return t.slice(-4)===".bin"?hpe(e,r):npe(e,r)}function kye(e,t,r){return t.slice(-4)===".bin"?tpe(e):Zme(e)}function _ye(e,t,r,a){return r.slice(-4)===".bin"?rpe(e,t,r,a):void 0}function Sye(e,t,r){return t.slice(-4)===".bin"?Xme(e,t,r):Jme(e,t,r)}function Cye(e,t,r){return(t.slice(-4)===".bin"?mye:E8)(e)}function Eye(e,t,r,a,s){return(t.slice(-4)===".bin"?zve:N8)(e,r,a,s)}function Tye(e,t,r){return(t.slice(-4)===".bin"?_me:i8)(e,r)}function Aye(e,t,r){return(t.slice(-4)===".bin"?_he:JM)(e,r)}function Pye(e,t,r){return(t.slice(-4)===".bin"?mpe:d8)(e)}function Oye(e){return(e.slice(-4)===".bin"?Yme:c8)()}var T8=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,A8=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ks(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var s=e.match(T8),i,l,o,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(A8),(l=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),a[o]=i[2].slice(1,i[2].length-1));return a}function Dye(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(T8),s,i,l,o;if(a)for(o=0;o!=a.length;++o)s=a[o].match(A8),(i=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(i+1),r[l]=s[2].slice(1,s[2].length-1));return r}var Vf;function Fye(e,t){var r=Vf[e]||At(e);return r==="General"?Wc(t):Rs(r,t)}function Iye(e,t,r,a){var s=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=rr(a);break;case"i2":case"int":s=parseInt(a,10);break;case"r4":case"float":s=parseFloat(a);break;case"date":case"dateTime.tz":s=sr(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[At(t)]=s}function Rye(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||$l[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=A0(e.v):e.w=Wc(e.v):e.w=Fye(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var a=Vf[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&Ld(a)){var s=mc(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(r.WTF)throw i}}}function Mye(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=Qhe[a.Pattern]||a.Pattern)}e[t.ID]=t}function Lye(e,t,r,a,s,i,l,o,c,u){var d="General",f=a.StyleID,h={};u=u||{};var m=[],p=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&l&&(f=l.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=rr(e);break;case"String":a.t="s",a.r=TT(At(e)),a.v=e.indexOf("<")>-1?At(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(sr(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=At(e):a.v<60&&(a.v=a.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=kM[e],u.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=TT(t||e));break}if(Rye(a,d,u),u.cellFormula!==!1)if(a.Formula){var x=At(a.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),a.f=Hu(x,s),delete a.Formula,a.ArrayRange=="RC"?a.F=Hu("RC:RC",s):a.ArrayRange&&(a.F=Hu(a.ArrayRange,s),c.push([Pt(a.F),a.F]))}else for(p=0;p<c.length;++p)s.r>=c[p][0].s.r&&s.r<=c[p][0].e.r&&s.c>=c[p][0].s.c&&s.c<=c[p][0].e.c&&(a.F=c[p][1]);u.cellStyles&&(m.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),a.s=h),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function $ye(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function tb(e,t){var r=t||{};$d();var a=yf(_k(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=Ht(a));var s=a.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var l=ir(r);return l.type="string",pd.to_workbook(a,l)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(at){s.indexOf("<"+at)>=0&&(i=!0)}),i)return kbe(a,r);Vf={"General Number":"General","General Date":st[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":st[15],"Short Date":st[14],"Long Time":st[19],"Medium Time":st[18],"Short Time":st[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:st[2],Standard:st[4],Percent:st[10],Scientific:st[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},f=[],h=r.dense?[]:{},m="",p={},x={},g=Ks('<Data ss:Type="String">'),y=0,b=0,v=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},k={},_="",S=0,T=[],C={},E={},A=0,U=[],V=[],ae={},q=[],R,P=!1,B=[],te=[],H={},F=0,O=0,M={Sheets:[],WBProps:{date1904:!1}},I={};D0.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";o=D0.exec(a);)switch(o[3]=(ne=o[3]).toLowerCase()){case"data":if(ne=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Lye(a.slice(y,o.index),_,g,c[c.length-1][0]=="comment"?ae:p,{c:b,r:v},N,q[b],x,B,r):(_="",g=Ks(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(p.c=V),(!r.sheetRows||r.sheetRows>v)&&p.v!==void 0&&(r.dense?(h[v]||(h[v]=[]),h[v][b]=p):h[wr(b)+Br(v)]=p),p.HRef&&(p.l={Target:At(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(F=b+(parseInt(p.MergeAcross,10)|0),O=v+(parseInt(p.MergeDown,10)|0),T.push({s:{c:b,r:v},e:{c:F,r:O}})),!r.sheetStubs)p.MergeAcross?b=F+1:++b;else if(p.MergeAcross||p.MergeDown){for(var oe=b;oe<=F;++oe)for(var J=v;J<=O;++J)(oe>b||J>v)&&(r.dense?(h[J]||(h[J]=[]),h[J][oe]={t:"z"}):h[wr(oe)+Br(J)]={t:"z"});b=F+1}else++b;else p=Dye(o[0]),p.Index&&(b=+p.Index-1),b<j.s.c&&(j.s.c=b),b>j.e.c&&(j.e.c=b),o[0].slice(-2)==="/>"&&++b,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(v<j.s.r&&(j.s.r=v),v>j.e.r&&(j.e.r=v),o[0].slice(-2)==="/>"&&(x=Ks(o[0]),x.Index&&(v=+x.Index-1)),b=0,++v):(x=Ks(o[0]),x.Index&&(v=+x.Index-1),H={},(x.AutoFitHeight=="0"||x.Height)&&(H.hpx=parseInt(x.Height,10),H.hpt=L0(H.hpx),te[v]=H),x.Hidden=="1"&&(H.hidden=!0,te[v]=H));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(m),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(h["!ref"]=ht(j),r.sheetRows&&r.sheetRows<=j.e.r&&(h["!fullref"]=h["!ref"],j.e.r=r.sheetRows-1,h["!ref"]=ht(j))),T.length&&(h["!merges"]=T),q.length>0&&(h["!cols"]=q),te.length>0&&(h["!rows"]=te),d[m]=h}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=b=0,c.push([o[3],!1]),u=Ks(o[0]),m=At(u.Name),h=r.dense?[]:{},T=[],B=[],te=[],I={name:m,Hidden:0},M.Sheets.push(I);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),q=[],P=!1}break;case"style":o[1]==="/"?Mye(N,k,r):k=Ks(o[0]);break;case"numberformat":k.nf=At(Ks(o[0]).Format||"General"),Vf[k.nf]&&(k.nf=Vf[k.nf]);for(var Y=0;Y!=392&&st[Y]!=k.nf;++Y);if(Y==392){for(Y=57;Y!=392;++Y)if(st[Y]==null){xl(k.nf,Y);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(R=Ks(o[0]),R.Hidden&&(R.hidden=!0,delete R.Hidden),R.Width&&(R.wpx=parseInt(R.Width,10)),!P&&R.wpx>10){P=!0,qa=n8;for(var ie=0;ie<q.length;++ie)q[ie]&&Po(q[ie])}P&&Po(R),q[R.Index-1||q.length]=R;for(var fe=0;fe<+R.Span;++fe)q[q.length]=ir(R);break;case"namedrange":if(o[1]==="/")break;M.Names||(M.Names=[]);var D=lt(o[0]),ye={Name:D.Name,Ref:Hu(D.RefersTo.slice(1),{r:0,c:0})};M.Sheets.length>0&&(ye.Sheet=M.Sheets.length-1),M.Names.push(ye);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?_+=a.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=Ks(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?cfe(C,ne,a.slice(A,o.index)):A=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));$ye(ae),V.push(ae)}else c.push([o[3],!1]),u=Ks(o[0]),ae={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=Ks(o[0]);h["!autofilter"]={ref:Hu(Ce.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return gA(a,r);var Pe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Pe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Pe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":M.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Pe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Pe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(a.slice(A,o.index)){case"SheetHidden":I.Hidden=1;break;case"SheetVeryHidden":I.Hidden=2;break}else A=o.index+o[0].length;break;case"header":h["!margins"]||Tc(h["!margins"]={},"xlml"),isNaN(+lt(o[0]).Margin)||(h["!margins"].header=+lt(o[0]).Margin);break;case"footer":h["!margins"]||Tc(h["!margins"]={},"xlml"),isNaN(+lt(o[0]).Margin)||(h["!margins"].footer=+lt(o[0]).Margin);break;case"pagemargins":var Me=lt(o[0]);h["!margins"]||Tc(h["!margins"]={},"xlml"),isNaN(+Me.Top)||(h["!margins"].top=+Me.Top),isNaN(+Me.Left)||(h["!margins"].left=+Me.Left),isNaN(+Me.Right)||(h["!margins"].right=+Me.Right),isNaN(+Me.Bottom)||(h["!margins"].bottom=+Me.Bottom);break;case"displayrighttoleft":M.Views||(M.Views=[]),M.Views[0]||(M.Views[0]={}),M.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Pe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Pe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Pe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Pe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Pe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Pe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Pe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Pe=!1}break;case"smarttags":break;default:Pe=!1;break}if(Pe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Iye(E,ne,U,a.slice(A,o.index)):(U=o,A=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var ke={};return!r.bookSheets&&!r.bookProps&&(ke.Sheets=d),ke.SheetNames=f,ke.Workbook=M,ke.SSF=ir(st),ke.Props=C,ke.Custprops=E,ke}function Dw(e,t){switch(Qk(t=t||{}),t.type||"base64"){case"base64":return tb(rs(e),t);case"binary":case"buffer":case"file":return tb(e,t);case"array":return tb(Wo(e),t)}}function Bye(e,t){var r=[];return e.Props&&r.push(ufe(e.Props,t)),e.Custprops&&r.push(dfe(e.Props,e.Custprops)),r.join("")}function Uye(){return""}function zye(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,s){var i=[];i.push(Ie("NumberFormat",null,{"ss:Format":Bt(st[a.numFmtId])}));var l={"ss:ID":"s"+(21+s)};r.push(Ie("Style",i.join(""),l))}),Ie("Styles",r.join(""))}function P8(e){return Ie("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Wk(e.Ref,{r:0,c:0})})}function Wye(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var s=t[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(P8(s)))}return Ie("Names",r.join(""))}function Vye(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,i=[],l=0;l<s.length;++l){var o=s[l];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(P8(o)))}return i.join("")}function Hye(e,t,r,a){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Ie("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Ie("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Ie("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(Ie("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Pa("ProtectContents","True")),e["!protect"].objects&&s.push(Pa("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Pa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Pa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Pa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&s.push("<"+l[1]+"/>")})),s.length==0?"":Ie("WorksheetOptions",s.join(""),{xmlns:zn.x})}function qye(e){return e.map(function(t){var r=hde(t.t||""),a=Ie("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ie("Comment",a,{"ss:Author":t.a})}).join("")}function Kye(e,t,r,a,s,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Bt(Wk(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var c=jr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Bt(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Bt(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=l.c||u[d].s.r!=l.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=$l[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||st[14]);break;case"s":f="String",h=fde(e.v||"");break}var m=Ho(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=l.c+1;var p=e.v!=null?h:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(x+=qye(e.c)),Ie("Cell",x,o)}function Gye(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=xd(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Qye(e,t,r,a){if(!e["!ref"])return"";var s=Pt(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(g,y){Po(g);var b=!!g.width,v=Rv(y,g),j={"ss:Index":y+1};b&&(j["ss:Width"]=R0(v.width)),g.hidden&&(j["ss:Hidden"]="1"),o.push(Ie("Column",null,j))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var d=[Gye(u,(e["!rows"]||[])[u])],f=s.s.c;f<=s.e.c;++f){var h=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>f)&&!(i[l].s.r>u)&&!(i[l].e.c<f)&&!(i[l].e.r<u)){(i[l].s.c!=f||i[l].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},p=it(m),x=c?(e[u]||[])[f]:e[p];d.push(Kye(x,p,e,t,r,a,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function Xye(e,t,r){var a=[],s=r.SheetNames[e],i=r.Sheets[s],l=i?Vye(i,t,e,r):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=i?Qye(i,t,e,r):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(Hye(i,t,e,r)),a.join("")}function Yye(e,t){t||(t={}),e.SSF||(e.SSF=ir(st)),e.SSF&&($d(),Tv(e.SSF),t.revssf=Pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ho(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Bye(e,t)),r.push(Uye()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(Ie("Worksheet",Xye(a,t,e),{"ss:Name":Bt(e.SheetNames[a])}));return r[2]=zye(e,t),r[3]=Wye(e),Wr+Ie("Workbook",r.join(""),{xmlns:zn.ss,"xmlns:o":zn.o,"xmlns:x":zn.x,"xmlns:ss":zn.ss,"xmlns:dt":zn.dt,"xmlns:html":zn.html})}function Jye(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Wde(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=Vde(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Zye=[60,1084,2066,2165,2175];function ebe(e,t,r,a,s){var i=a,l=[],o=r.slice(r.l,r.l+i);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}l.push(o),r.l+=i;for(var c=cl(r,r.l),u=Fw[c],d=0;u!=null&&Zye.indexOf(c)>-1;)i=cl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+i),l.push(o),r.l+=4+i,u=Fw[c=cl(r,r.l)];var f=xa(l);Ta(f,0);var h=0;f.lens=[];for(var m=0;m<l.length;++m)f.lens.push(h),h+=l[m].length;if(f.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+a;return t.f(f,f.length,s)}function wi(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=st[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||$l[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=A0(e.v):e.w=Wc(e.v):e.w=Rs(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&Ld(st[a]||String(a))){var s=mc(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function Sm(e,t,r){return{v:e,ixfe:t,t:r}}function tbe(e,t){var r={opts:{}},a={},s=t.dense?[]:{},i={},l={},o=null,c=[],u="",d={},f,h="",m,p,x,g,y={},b=[],v,j,N=[],k=[],_={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},T=function(et){return et<8?Sc[et]:et<64&&k[et-8]||Sc[et]},C=function(et,ot,tt){var nt=ot.XF.data;if(!(!nt||!nt.patternType||!tt||!tt.cellStyles)){ot.s={},ot.s.patternType=nt.patternType;var _t;(_t=I0(T(nt.icvFore)))&&(ot.s.fgColor={rgb:_t}),(_t=I0(T(nt.icvBack)))&&(ot.s.bgColor={rgb:_t})}},E=function(et,ot,tt){if(!(H>1)&&!(tt.sheetRows&&et.r>=tt.sheetRows)){if(tt.cellStyles&&ot.XF&&ot.XF.data&&C(et,ot,tt),delete ot.ixfe,delete ot.XF,f=et,h=it(et),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),et.r<l.s.r&&(l.s.r=et.r),et.c<l.s.c&&(l.s.c=et.c),et.r+1>l.e.r&&(l.e.r=et.r+1),et.c+1>l.e.c&&(l.e.c=et.c+1),tt.cellFormula&&ot.f){for(var nt=0;nt<b.length;++nt)if(!(b[nt][0].s.c>et.c||b[nt][0].s.r>et.r)&&!(b[nt][0].e.c<et.c||b[nt][0].e.r<et.r)){ot.F=ht(b[nt][0]),(b[nt][0].s.c!=et.c||b[nt][0].s.r!=et.r)&&delete ot.f,ot.f&&(ot.f=""+Wa(b[nt][1],l,et,B,A));break}}tt.dense?(s[et.r]||(s[et.r]=[]),s[et.r][et.c]=ot):s[h]=ot}},A={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(A.password=t.password);var U,V=[],ae=[],q=[],R=[],P=!1,B=[];B.SheetNames=A.snames,B.sharedf=A.sharedf,B.arrayf=A.arrayf,B.names=[],B.XTI=[];var te=0,H=0,F=0,O=[],M=[],I;A.codepage=1200,ii(1200);for(var ne=!1;e.l<e.length-1;){var oe=e.l,J=e.read_shift(2);if(J===0&&te===10)break;var Y=e.l===e.length?0:e.read_shift(2),ie=Fw[J];if(ie&&ie.f){if(t.bookSheets&&te===133&&J!==133)break;if(te=J,ie.r===2||ie.r==12){var fe=e.read_shift(2);if(Y-=2,!A.enc&&fe!==J&&((fe&255)<<8|fe>>8)!==J)throw new Error("rt mismatch: "+fe+"!="+J);ie.r==12&&(e.l+=10,Y-=10)}var D={};if(J===10?D=ie.f(e,Y,A):D=ebe(J,ie,e,Y,A),H==0&&[9,521,1033,2057].indexOf(te)===-1)continue;switch(J){case 34:r.opts.Date1904=_.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(A.enc||(e.l=0),A.enc=D,!t.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=D;break;case 66:var ye=Number(D);switch(ye){case 21010:ye=1200;break;case 32768:ye=1e4;break;case 32769:ye=1252;break}ii(A.codepage=ye),ne=!0;break;case 317:A.rrtabid=D;break;case 25:A.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:A.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(s["!type"]="dialog"),D.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),D.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:N.push(D);break;case 430:B.push([D]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(D);break;case 24:case 536:I={Name:D.Name,Ref:Wa(D.rgce,l,null,B,A)},D.itab>0&&(I.Sheet=D.itab-1),B.names.push(I),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(M[D.itab-1]={ref:ht(D.rgce[0][0][1][2])});break;case 22:A.ExternCount=D;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(D),B.XTI=B.XTI.concat(D);break;case 2196:if(A.biff<8)break;I!=null&&(I.Comment=D[1]);break;case 18:s["!protect"]=D;break;case 19:D!==0&&A.WTF&&console.error("Password verifier: "+D);break;case 133:i[D.pos]=D,A.snames.push(D.name);break;case 10:{if(--H)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,s["!ref"]=ht(l),t.sheetRows&&t.sheetRows<=l.e.r){var Ce=l.e.r;l.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=ht(l),l.e.r=Ce}l.e.r++,l.e.c++}V.length>0&&(s["!merges"]=V),ae.length>0&&(s["!objects"]=ae),q.length>0&&(s["!cols"]=q),R.length>0&&(s["!rows"]=R),_.Sheets.push(S)}u===""?d=s:a[u]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[J]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),A.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(A.biff=5,ne=!0,ii(A.codepage=28591)),A.biff==8&&D.BIFFVer==0&&D.dt==16&&(A.biff=2),H++)break;if(s=t.dense?[]:{},A.biff<8&&!ne&&(ne=!0,ii(A.codepage=t.codepage||1252)),A.biff<5||D.BIFFVer==0&&D.dt==4096){u===""&&(u="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var Pe={pos:e.l-Y,name:u};i[Pe.pos]=Pe,A.snames.push(u)}else u=(i[oe]||{name:""}).name;D.dt==32&&(s["!type"]="chart"),D.dt==64&&(s["!type"]="macro"),V=[],ae=[],A.arrayf=b=[],q=[],R=[],P=!1,S={Hidden:(i[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[D.r]||[])[D.c]:s[it({c:D.c,r:D.r})])&&++D.c,v={ixfe:D.ixfe,XF:N[D.ixfe]||{},v:D.val,t:"n"},F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E({c:D.c,r:D.r},v,t);break;case 5:case 517:v={ixfe:D.ixfe,XF:N[D.ixfe],v:D.val,t:D.t},F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E({c:D.c,r:D.r},v,t);break;case 638:v={ixfe:D.ixfe,XF:N[D.ixfe],v:D.rknum,t:"n"},F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E({c:D.c,r:D.r},v,t);break;case 189:for(var Me=D.c;Me<=D.C;++Me){var ke=D.rkrec[Me-D.c][0];v={ixfe:ke,XF:N[ke],v:D.rkrec[Me-D.c][1],t:"n"},F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E({c:Me,r:D.r},v,t)}break;case 6:case 518:case 1030:{if(D.val=="String"){o=D;break}if(v=Sm(D.val,D.cell.ixfe,D.tt),v.XF=N[v.ixfe],t.cellFormula){var at=D.formula;if(at&&at[0]&&at[0][0]&&at[0][0][0]=="PtgExp"){var $e=at[0][0][1][0],Z=at[0][0][1][1],ce=it({r:$e,c:Z});y[ce]?v.f=""+Wa(D.formula,l,D.cell,B,A):v.F=((t.dense?(s[$e]||[])[Z]:s[ce])||{}).F}else v.f=""+Wa(D.formula,l,D.cell,B,A)}F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E(D.cell,v,t),o=D}break;case 7:case 519:if(o)o.val=D,v=Sm(D,o.cell.ixfe,"s"),v.XF=N[v.ixfe],t.cellFormula&&(v.f=""+Wa(o.formula,l,o.cell,B,A)),F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E(o.cell,v,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(D);var de=it(D[0].s);if(m=t.dense?(s[D[0].s.r]||[])[D[0].s.c]:s[de],t.cellFormula&&m){if(!o||!de||!m)break;m.f=""+Wa(D[1],l,D[0],B,A),m.F=ht(D[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[it(o.cell)]=D[0],m=t.dense?(s[o.cell.r]||[])[o.cell.c]:s[it(o.cell)],(m||{}).f=""+Wa(D[0],l,f,B,A)}}break;case 253:v=Sm(c[D.isst].t,D.ixfe,"s"),c[D.isst].h&&(v.h=c[D.isst].h),v.XF=N[v.ixfe],F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E({c:D.c,r:D.r},v,t);break;case 513:t.sheetStubs&&(v={ixfe:D.ixfe,XF:N[D.ixfe],t:"z"},F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E({c:D.c,r:D.r},v,t));break;case 190:if(t.sheetStubs)for(var we=D.c;we<=D.C;++we){var _e=D.ixfe[we-D.c];v={ixfe:_e,XF:N[_e],t:"z"},F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E({c:we,r:D.r},v,t)}break;case 214:case 516:case 4:v=Sm(D.val,D.ixfe,"s"),v.XF=N[v.ixfe],F>0&&(v.z=O[v.ixfe>>8&63]),wi(v,t,r.opts.Date1904),E({c:D.c,r:D.r},v,t);break;case 0:case 512:H===1&&(l=D);break;case 252:c=D;break;case 1054:if(A.biff==4){O[F++]=D[1];for(var se=0;se<F+163&&st[se]!=D[1];++se);se>=163&&xl(D[1],F+163)}else xl(D[1],D[0]);break;case 30:{O[F++]=D;for(var le=0;le<F+163&&st[le]!=D;++le);le>=163&&xl(D,F+163)}break;case 229:V=V.concat(D);break;case 93:ae[D.cmo[0]]=A.lastobj=D;break;case 438:A.lastobj.TxO=D;break;case 127:A.lastobj.ImData=D;break;case 440:for(g=D[0].s.r;g<=D[0].e.r;++g)for(x=D[0].s.c;x<=D[0].e.c;++x)m=t.dense?(s[g]||[])[x]:s[it({c:x,r:g})],m&&(m.l=D[1]);break;case 2048:for(g=D[0].s.r;g<=D[0].e.r;++g)for(x=D[0].s.c;x<=D[0].e.c;++x)m=t.dense?(s[g]||[])[x]:s[it({c:x,r:g})],m&&m.l&&(m.l.Tooltip=D[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;m=t.dense?(s[D[0].r]||[])[D[0].c]:s[it(D[0])];var Fe=ae[D[2]];m||(t.dense?(s[D[0].r]||(s[D[0].r]=[]),m=s[D[0].r][D[0].c]={t:"z"}):m=s[it(D[0])]={t:"z"},l.e.r=Math.max(l.e.r,D[0].r),l.s.r=Math.min(l.s.r,D[0].r),l.e.c=Math.max(l.e.c,D[0].c),l.s.c=Math.min(l.s.c,D[0].c)),m.c||(m.c=[]),p={a:D[1],t:Fe.TxO.t},m.c.push(p)}break;case 2173:zme(N[D.ixfe],D.ext);break;case 125:{if(!A.cellStyles)break;for(;D.e>=D.s;)q[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},P||(P=!0,Bk(D.w/256)),Po(q[D.e+1])}break;case 520:{var ze={};D.level!=null&&(R[D.r]=ze,ze.level=D.level),D.hidden&&(R[D.r]=ze,ze.hidden=!0),D.hpt&&(R[D.r]=ze,ze.hpt=D.hpt,ze.hpx=xd(D.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Tc(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[J]]=D;break;case 161:s["!margins"]||Tc(s["!margins"]={}),s["!margins"].header=D.header,s["!margins"].footer=D.footer;break;case 574:D.RTL&&(_.Views[0].RTL=!0);break;case 146:k=D;break;case 2198:U=D;break;case 140:j=D;break;case 442:u?S.CodeName=D||S.name:_.WBProps.CodeName=D||"ThisWorkbook";break}}else ie||console.error("Missing Info for XLS Record 0x"+J.toString(16)),e.l+=Y}return r.SheetNames=Fr(i).sort(function(Xe,et){return Number(Xe)-Number(et)}).map(function(Xe){return i[Xe].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&M.forEach(function(Xe,et){r.Sheets[r.SheetNames[et]]["!autofilter"]=Xe}),r.Strings=c,r.SSF=ir(st),A.enc&&(r.Encryption=A.enc),U&&(r.Themes=U),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),B.names.length>0&&(_.Names=B.names),r.Workbook=_,r}var Hf={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function rbe(e,t,r){var a=rt.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var s=KT(a,Cw,Hf.DSI);for(var i in s)t[i]=s[i]}catch(u){if(r.WTF)throw u}var l=rt.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=KT(l,Ew,Hf.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(AM(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function abe(e,t){var r=[],a=[],s=[],i=0,l,o=NT(Cw,"n"),c=NT(Ew,"n");if(e.Props)for(l=Fr(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(c,l[i])?a:s).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Fr(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(c,l[i])?a:s).push([l[i],e.Custprops[l[i]]]);var u=[];for(i=0;i<s.length;++i)MM.indexOf(s[i][0])>-1||TM.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);a.length&&rt.utils.cfb_add(t,"/SummaryInformation",GT(a,Hf.SI,c,Ew)),(r.length||u.length)&&rt.utils.cfb_add(t,"/DocumentSummaryInformation",GT(r,Hf.DSI,o,Cw,u.length?u:null,Hf.UDI))}function O8(e,t){t||(t={}),Qk(t),xk(),t.codepage&&pk(t.codepage);var r,a;if(e.FullPaths){if(rt.find(e,"/encryption"))throw new Error("File is password-protected");r=rt.find(e,"!CompObj"),a=rt.find(e,"/Workbook")||rt.find(e,"/Book")}else{switch(t.type){case"base64":e=Kn(rs(e));break;case"binary":e=Kn(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ta(e,0),a={content:e}}var s,i;if(r&&Jye(r),t.bookProps&&!t.bookSheets)s={};else{var l=pt?"buffer":"array";if(a&&a.content)s=tbe(a.content,t);else if((i=rt.find(e,"PerfectOffice_MAIN"))&&i.content)s=Ec.to_workbook(i.content,(t.type=l,t));else if((i=rt.find(e,"NativeContent_MAIN"))&&i.content)s=Ec.to_workbook(i.content,(t.type=l,t));else throw(i=rt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&rt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=xpe(e))}var o={};return e.FullPaths&&rbe(e,o,t),s.Props=s.Custprops=o,t.bookFiles&&(s.cfb=e),s}function nbe(e,t){var r=t||{},a=rt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return rt.utils.cfb_add(a,s,D8(e,r)),r.biff==8&&(e.Props||e.Custprops)&&abe(e,a),r.biff==8&&e.vbaraw&&gpe(a,rt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var $0={0:{f:Ege},1:{f:Rge},2:{f:tve},3:{f:Vge},4:{f:Bge},5:{f:Jge},6:{f:ive},7:{f:Gge},8:{f:hve},9:{f:fve},10:{f:uve},11:{f:dve},12:{f:Lge},13:{f:ave},14:{f:qge},15:{f:zge},16:{f:k8},17:{f:ove},18:{f:Xge},19:{f:Ak},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oye},40:{},42:{},43:{f:ime},44:{f:nme},45:{f:cme},46:{f:dme},47:{f:ume},48:{},49:{f:Pde},50:{},51:{f:Hme},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GM},62:{f:sve},63:{f:epe},64:{f:Tve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:en,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:_ve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Fge},148:{f:Pge,p:16},151:{f:yve},152:{},153:{f:sye},154:{},155:{},156:{f:aye},157:{},158:{},159:{T:1,f:whe},160:{T:-1},161:{T:1,f:su},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:mve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Wme},336:{T:-1},337:{f:Gme,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Sw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:KM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:bve},427:{f:wve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Nve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Dge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:gve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Sw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:dpe},633:{T:1},634:{T:-1},635:{T:1,f:cpe},636:{T:-1},637:{f:Ide},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:qve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ave},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Fw={6:{f:Zy},10:{f:zl},12:{f:Kr},13:{f:Kr},14:{f:Mr},15:{f:Mr},16:{f:Ga},17:{f:Mr},18:{f:Mr},19:{f:Kr},20:{f:eA},21:{f:eA},23:{f:KM},24:{f:rA},25:{f:Mr},26:{},27:{},28:{f:A0e},29:{},34:{f:Mr},35:{f:tA},38:{f:Ga},39:{f:Ga},40:{f:Ga},41:{f:Ga},42:{f:Mr},43:{f:Mr},47:{f:zhe},49:{f:a0e},51:{f:Kr},60:{},61:{f:Jfe},64:{f:Mr},65:{f:r0e},66:{f:Kr},77:{},80:{},81:{},82:{},85:{f:Kr},89:{},90:{},91:{},92:{f:Ufe},93:{f:D0e},94:{},95:{f:Mr},96:{},97:{},99:{f:Mr},125:{f:GM},128:{f:v0e},129:{f:Wfe},130:{f:Kr},131:{f:Mr},132:{f:Mr},133:{f:Vfe},134:{},140:{f:U0e},141:{f:Kr},144:{},146:{f:V0e},151:{},152:{},153:{},154:{},155:{},156:{f:Kr},157:{},158:{},160:{f:Y0e},161:{f:K0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:m0e},190:{f:p0e},193:{f:zl},197:{},198:{},199:{},200:{},201:{},202:{f:Mr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Kr},220:{},221:{f:Mr},222:{},224:{f:g0e},225:{f:Bfe},226:{f:zl},227:{},229:{f:P0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:qfe},253:{f:s0e},255:{f:Gfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:LM},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Mr},353:{f:zl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:N0e},431:{f:Mr},432:{},433:{},434:{},437:{},438:{f:R0e},439:{f:Mr},440:{f:M0e},441:{},442:{f:Sh},443:{},444:{f:Kr},445:{},446:{},448:{f:zl},449:{f:Yfe,r:2},450:{f:zl},512:{f:YT},513:{f:X0e},515:{f:w0e},516:{f:l0e},517:{f:ZT},519:{f:J0e},520:{f:Qfe},523:{},545:{f:aA},549:{f:XT},566:{},574:{f:e0e},638:{f:h0e},659:{},1048:{},1054:{f:c0e},1084:{},1212:{f:C0e},2048:{f:$0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Nm},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:zl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:H0e,r:12},2173:{f:Ume,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Mr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:S0e,r:12},2197:{},2198:{f:Ime,r:12},2199:{},2200:{},2201:{},2202:{f:E0e,r:12},2203:{f:zl},2204:{},2205:{},2206:{},2207:{},2211:{f:Xfe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Kr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:G0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:W0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:YT},1:{},2:{f:ahe},3:{f:the},4:{f:ehe},5:{f:ZT},7:{f:she},8:{},9:{f:Nm},11:{},22:{f:Kr},30:{f:d0e},31:{},32:{},33:{f:aA},36:{},37:{f:XT},50:{f:ihe},62:{},52:{},67:{},68:{f:Kr},69:{},86:{},126:{},127:{f:Z0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:lhe},223:{},234:{},354:{},421:{},518:{f:Zy},521:{f:Nm},536:{f:rA},547:{f:tA},561:{},579:{},1030:{f:Zy},1033:{f:Nm},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Re(e,t,r,a){var s=t;if(!isNaN(s)){var i=a||(r||[]).length||0,l=e.next(4);l.write_shift(2,s),l.write_shift(2,i),i>0&&Ck(r)&&e.push(r)}}function sbe(e,t,r,a){var s=(r||[]).length||0;if(s<=8224)return Re(e,t,r,s);var i=t;if(!isNaN(i)){for(var l=r.parts||[],o=0,c=0,u=0;u+(l[o]||8224)<=8224;)u+=l[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(l[o]||8224)<=8224;)u+=l[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Ah(e,t,r){return e||(e=be(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function ibe(e,t,r,a){var s=be(9);return Ah(s,e,t),$M(r,a||"b",s),s}function lbe(e,t,r){var a=be(8+2*r.length);return Ah(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function obe(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?ia(sr(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Re(e,2,nhe(r,a,s)):Re(e,3,rhe(r,a,s));return;case"b":case"e":Re(e,5,ibe(r,a,t.v,t.t));return;case"s":case"str":Re(e,4,lbe(r,a,(t.v||"").slice(0,255)));return}Re(e,1,Ah(null,r,a))}function cbe(e,t,r,a){var s=Array.isArray(t),i=Pt(t["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=ht(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Br(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=wr(d)),l=c[d]+o;var f=s?(t[u]||[])[d]:t[l];f&&obe(e,f,u,d)}}}function ube(e,t){for(var r=t||{},a=Dn(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Re(a,r.biff==4?1033:r.biff==3?521:9,Mk(e,16,r)),cbe(a,e.Sheets[e.SheetNames[s]],s,r),Re(a,10),a.end()}function dbe(e,t,r){Re(e,49,n0e({sz:12,name:"Arial"},r))}function fbe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Re(e,1054,u0e(s,t[s],r))})}function hbe(e,t){var r=be(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Re(e,2151,r),r=be(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),VM(Pt(t["!ref"]||"A1"),r),r.write_shift(4,4),Re(e,2152,r)}function mbe(e,t){for(var r=0;r<16;++r)Re(e,224,JT({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Re(e,224,JT(a,0,t))})}function pbe(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];Re(e,440,L0e(a)),a[1].Tooltip&&Re(e,2048,B0e(a))}delete t["!links"]}function xbe(e,t){if(t){var r=0;t.forEach(function(a,s){++r<=256&&a&&Re(e,125,q0e(Rv(s,a),s))})}}function gbe(e,t,r,a,s){var i=16+Ho(s.cellXfs,t,s);if(t.v==null&&!t.bf){Re(e,513,Kc(r,a,i));return}if(t.bf)Re(e,6,Wxe(t,r,a,s,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?ia(sr(t.v)):t.v;Re(e,515,j0e(r,a,l,i));break;case"b":case"e":Re(e,517,b0e(r,a,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var o=Hk(s.Strings,t.v,s.revStrings);Re(e,253,i0e(r,a,o,i))}else Re(e,516,o0e(r,a,(t.v||"").slice(0,255),i,s));break;default:Re(e,513,Kc(r,a,i))}}function vbe(e,t,r){var a=Dn(),s=r.SheetNames[e],i=r.Sheets[s]||{},l=(r||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=Pt(i["!ref"]||"A1"),p=u?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}Re(a,2057,Mk(r,16,t)),Re(a,13,vs(1)),Re(a,12,vs(100)),Re(a,15,un(!0)),Re(a,17,un(!1)),Re(a,16,Hc(.001)),Re(a,95,un(!0)),Re(a,42,un(!1)),Re(a,43,un(!1)),Re(a,130,vs(1)),Re(a,128,y0e()),Re(a,131,un(!1)),Re(a,132,un(!1)),u&&xbe(a,i["!cols"]),Re(a,512,f0e(m,t)),u&&(i["!links"]=[]);for(var x=m.s.r;x<=m.e.r;++x){f=Br(x);for(var g=m.s.c;g<=m.e.c;++g){x===m.s.r&&(h[g]=wr(g)),d=h[g]+f;var y=c?(i[x]||[])[g]:i[d];y&&(gbe(a,y,x,g,t),u&&y.l&&i["!links"].push([d,y.l]))}}var b=o.CodeName||o.name||s;return u&&Re(a,574,t0e((l.Views||[])[0])),u&&(i["!merges"]||[]).length&&Re(a,229,O0e(i["!merges"])),u&&pbe(a,i),Re(a,442,BM(b)),u&&hbe(a,i),Re(a,10),a.end()}function ybe(e,t,r){var a=Dn(),s=(e||{}).Workbook||{},i=s.Sheets||[],l=s.WBProps||{},o=r.biff==8,c=r.biff==5;if(Re(a,2057,Mk(e,5,r)),r.bookType=="xla"&&Re(a,135),Re(a,225,o?vs(1200):null),Re(a,193,bfe(2)),c&&Re(a,191),c&&Re(a,192),Re(a,226),Re(a,92,zfe("SheetJS",r)),Re(a,66,vs(o?1200:1252)),o&&Re(a,353,vs(0)),o&&Re(a,448),Re(a,317,Q0e(e.SheetNames.length)),o&&e.vbaraw&&Re(a,211),o&&e.vbaraw){var u=l.CodeName||"ThisWorkbook";Re(a,442,BM(u))}Re(a,156,vs(17)),Re(a,25,un(!1)),Re(a,18,un(!1)),Re(a,19,vs(0)),o&&Re(a,431,un(!1)),o&&Re(a,444,vs(0)),Re(a,61,Zfe()),Re(a,64,un(!1)),Re(a,141,vs(0)),Re(a,34,un(Yve(e)=="true")),Re(a,14,un(!0)),o&&Re(a,439,un(!1)),Re(a,218,vs(0)),dbe(a,e,r),fbe(a,e.SSF,r),mbe(a,r),o&&Re(a,352,un(!1));var d=a.end(),f=Dn();o&&Re(f,140,z0e()),o&&r.Strings&&sbe(f,252,Kfe(r.Strings)),Re(f,10);var h=f.end(),m=Dn(),p=0,x=0;for(x=0;x<e.SheetNames.length;++x)p+=(o?12:11)+(o?2:1)*e.SheetNames[x].length;var g=d.length+p+h.length;for(x=0;x<e.SheetNames.length;++x){var y=i[x]||{};Re(m,133,Hfe({pos:g,hs:y.Hidden||0,dt:0,name:e.SheetNames[x]},r)),g+=t[x].length}var b=m.end();if(p!=b.length)throw new Error("BS8 "+p+" != "+b.length);var v=[];return d.length&&v.push(d),b.length&&v.push(b),h.length&&v.push(h),xa(v)}function bbe(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=ir(st)),e&&e.SSF&&($d(),Tv(e.SSF),r.revssf=Pv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Xk(r),r.cellXfs=[],Ho(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)a[a.length]=vbe(s,r,e);return a.unshift(ybe(e,a,r)),xa(a)}function D8(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var s=In(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return bbe(e,t);case 4:case 3:case 2:return ube(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function hA(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=s.index,o=i&&i.index||e.length,c=nde(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(l=0;l<c.length;++l){var x=c[l].trim(),g=x.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var y=x.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var v=b,j=0;v.charAt(0)=="<"&&(j=v.indexOf(">"))>-1;)v=v.slice(j+1);for(var N=0;N<p.length;++N){var k=p[N];k.s.c==d&&k.s.r<u&&u<=k.e.r&&(d=k.e.c+1,N=-1)}var _=lt(b.slice(0,b.indexOf(">")));h=_.colspan?+_.colspan:1,((f=+_.rowspan)>1||h>1)&&p.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var S=_.t||_["data-t"]||"";if(!v.length){d+=h;continue}if(v=aM(v),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!v.length){d+=h;continue}var T={t:"s",v};r.raw||!v.trim().length||S=="s"||(v==="TRUE"?T={t:"b",v:!0}:v==="FALSE"?T={t:"b",v:!1}:isNaN(fi(v))?isNaN(md(v).getDate())||(T={t:"d",v:sr(v)},r.cellDates||(T={t:"n",v:ia(T.v)}),T.z=r.dateNF||st[14]):T={t:"n",v:fi(v)}),r.dense?(a[u]||(a[u]=[]),a[u][d]=T):a[it({r:u,c:d})]=T,d+=h}}}}return a["!ref"]=ht(m),p.length&&(a["!merges"]=p),a}function wbe(e,t,r,a){for(var s=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>l)&&!(s[u].e.r<r||s[u].e.c<l)){if(s[u].s.r<r||s[u].s.c<l){o=-1;break}o=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(o<0)){var d=it({r,c:l}),f=a.dense?(e[r]||[])[l]:e[d],h=f&&f.v!=null&&(f.h||kk(f.w||(Cl(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),a.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(a.id||"sjs")+"-"+d,i.push(Ie("td",h,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var jbe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Nbe="</body></html>";function kbe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Vo(hA(r[0],t),t);var a=e_();return r.forEach(function(s,i){t_(a,hA(s,t),"Sheet"+(i+1))}),a}function _be(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function F8(e,t){var r=t||{},a=r.header!=null?r.header:jbe,s=r.footer!=null?r.footer:Nbe,i=[a],l=In(e["!ref"]);r.dense=Array.isArray(e),i.push(_be(e,l,r));for(var o=l.s.r;o<=l.e.r;++o)i.push(wbe(e,l,o,r));return i.push("</table>"+s),i.join("")}function I8(e,t,r){var a=r||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var l=typeof a.origin=="string"?jr(a.origin):a.origin;s=l.r,i=l.c}var o=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var d=In(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,x=0,g=0,y=0,b=0,v=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&x<c;++p){var j=o[p];if(mA(j)){if(a.display)continue;m[x]={hidden:!0}}var N=j.children;for(g=y=0;g<N.length;++g){var k=N[g];if(!(a.display&&mA(k))){var _=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):aM(k.innerHTML),S=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==y+i&&T.s.r<x+s&&x+s<=T.e.r&&(y=T.e.c+1-i,h=-1)}v=+k.getAttribute("colspan")||1,((b=+k.getAttribute("rowspan")||1)>1||v>1)&&f.push({s:{r:x+s,c:y+i},e:{r:x+s+(b||1)-1,c:y+i+(v||1)-1}});var C={t:"s",v:_},E=k.getAttribute("data-t")||k.getAttribute("t")||"";_!=null&&(_.length==0?C.t=E||"z":a.raw||_.trim().length==0||E=="s"||(_==="TRUE"?C={t:"b",v:!0}:_==="FALSE"?C={t:"b",v:!1}:isNaN(fi(_))?isNaN(md(_).getDate())||(C={t:"d",v:sr(_)},a.cellDates||(C={t:"n",v:ia(C.v)}),C.z=a.dateNF||st[14]):C={t:"n",v:fi(_)})),C.z===void 0&&S!=null&&(C.z=S);var A="",U=k.getElementsByTagName("A");if(U&&U.length)for(var V=0;V<U.length&&!(U[V].hasAttribute("href")&&(A=U[V].getAttribute("href"),A.charAt(0)!="#"));++V);A&&A.charAt(0)!="#"&&(C.l={Target:A}),a.dense?(e[x+s]||(e[x+s]=[]),e[x+s][y+i]=C):e[it({c:y+i,r:x+s})]=C,u.e.c<y+i&&(u.e.c=y+i),y+=v}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+s),e["!ref"]=ht(u),x>=c&&(e["!fullref"]=ht((u.e.r=o.length-p+x-1+s,u))),e}function R8(e,t){var r=t||{},a=r.dense?[]:{};return I8(a,e,t)}function Sbe(e,t){return Vo(R8(e,t),t)}function mA(e){var t="",r=Cbe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Cbe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Ebe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=At(t.replace(/<[^>]*>/g,""));return[r]}var pA={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function M8(e,t){var r=t||{},a=_k(e),s=[],i,l,o={name:""},c="",u=0,d,f,h={},m=[],p=r.dense?[]:{},x,g,y={value:""},b="",v=0,j=[],N=-1,k=-1,_={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,T={},C=[],E={},A=0,U=0,V=[],ae=1,q=1,R=[],P={Names:[]},B={},te=["",""],H=[],F={},O="",M=0,I=!1,ne=!1,oe=0;for(D0.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=D0.exec(a);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"工作表":x[1]==="/"?(_.e.c>=_.s.c&&_.e.r>=_.s.r?p["!ref"]=ht(_):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=_.e.r&&(p["!fullref"]=p["!ref"],_.e.r=r.sheetRows-1,p["!ref"]=ht(_)),C.length&&(p["!merges"]=C),V.length&&(p["!rows"]=V),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=p,ne=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=lt(x[0],!1),N=k=-1,_.s.r=_.s.c=1e7,_.e.r=_.e.c=0,p=r.dense?[]:{},C=[],V=[],ne=!0);break;case"table-row-group":x[1]==="/"?--S:++S;break;case"table-row":case"行":if(x[1]==="/"){N+=ae,ae=1;break}if(f=lt(x[0],!1),f.行号?N=f.行号-1:N==-1&&(N=0),ae=+f["number-rows-repeated"]||1,ae<10)for(oe=0;oe<ae;++oe)S>0&&(V[N+oe]={level:S});k=-1;break;case"covered-table-cell":x[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(p[N]||(p[N]=[]),p[N][k]={t:"z"}):p[it({r:N,c:k})]={t:"z"}),b="",j=[];break;case"table-cell":case"数据":if(x[0].charAt(x[0].length-2)==="/")++k,y=lt(x[0],!1),q=parseInt(y["number-columns-repeated"]||"1",10),g={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(g.f=uA(At(y.formula))),(y.数据类型||y["value-type"])=="string"&&(g.t="s",g.v=At(y["string-value"]||""),r.dense?(p[N]||(p[N]=[]),p[N][k]=g):p[it({r:N,c:k})]=g),k+=q-1;else if(x[1]!=="/"){++k,b="",v=0,j=[],q=1;var J=ae?N+ae-1:N;if(k>_.e.c&&(_.e.c=k),k<_.s.c&&(_.s.c=k),N<_.s.r&&(_.s.r=N),J>_.e.r&&(_.e.r=J),y=lt(x[0],!1),H=[],F={},g={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=At(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(A=parseInt(y["number-matrix-rows-spanned"],10)||0,U=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:N,c:k},e:{r:N+A-1,c:k+U-1}},g.F=ht(E),R.push([E,g.F])),y.formula)g.f=uA(y.formula);else for(oe=0;oe<R.length;++oe)N>=R[oe][0].s.r&&N<=R[oe][0].e.r&&k>=R[oe][0].s.c&&k<=R[oe][0].e.c&&(g.F=R[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(A=parseInt(y["number-rows-spanned"],10)||0,U=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:N,c:k},e:{r:N+A-1,c:k+U-1}},C.push(E)),y["number-columns-repeated"]&&(q=parseInt(y["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=rr(y["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(y.value);break;case"percentage":g.t="n",g.v=parseFloat(y.value);break;case"currency":g.t="n",g.v=parseFloat(y.value);break;case"date":g.t="d",g.v=sr(y["date-value"]),r.cellDates||(g.t="n",g.v=ia(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=tde(y["time-value"])/86400,r.cellDates&&(g.t="d",g.v=Ov(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(y.数据数值);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",y["string-value"]!=null&&(b=At(y["string-value"]),j=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(I=!1,g.t==="s"&&(g.v=b||"",j.length&&(g.R=j),I=v==0),B.Target&&(g.l=B),H.length>0&&(g.c=H,H=[]),b&&r.cellText!==!1&&(g.w=b),I&&(g.t="z",delete g.v),(!I||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=N))for(var Y=0;Y<ae;++Y){if(q=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[N+Y]||(p[N+Y]=[]),p[N+Y][k]=Y==0?g:ir(g);--q>0;)p[N+Y][k+q]=ir(g);else for(p[it({r:N+Y,c:k})]=g;--q>0;)p[it({r:N+Y,c:k+q})]=ir(g);_.e.c<=k&&(_.e.c=k)}q=parseInt(y["number-columns-repeated"]||"1",10),k+=q-1,q=0,g={},b="",j=[]}B={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i;F.t=b,j.length&&(F.R=j),F.a=O,H.push(F)}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);O="",M=0,b="",v=0,j=[];break;case"creator":x[1]==="/"?O=a.slice(M,x.index):M=x.index+x[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);b="",v=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(T[o.name]=c,(i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",o=lt(x[0],!1),s.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":l=lt(x[0],!1),c+=pA[x[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":l=lt(x[0],!1),c+=pA[x[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":l=lt(x[0],!1),te=eb(l["cell-range-address"]);var ie={Name:l.name,Ref:te[0]+"!"+te[1]};ne&&(ie.Sheet=m.length),P.Names.push(ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(x[1]==="/"&&(!y||!y["string-value"])){var fe=Ebe(a.slice(v,x.index));b=(b.length>0?b+`
`:"")+fe[0]}else lt(x[0],!1),v=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{te=eb(lt(x[0])["target-range-address"]),h[te[0]]["!autofilter"]={ref:te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(B=lt(x[0],!1),!B.href)break;B.Target=At(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(te=eb(B.Target.slice(1)),B.Target="#"+te[0]+"!"+te[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(x)}}var D={Sheets:h,SheetNames:m,Workbook:P};return r.bookSheets&&delete D.Sheets,D}function xA(e,t){t=t||{},gs(e,"META-INF/manifest.xml")&&tfe(qr(e,"META-INF/manifest.xml"),t);var r=Gn(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=M8(Ht(r),t);return gs(e,"meta.xml")&&(a.Props=CM(qr(e,"meta.xml"))),a}function gA(e,t){return M8(e,t)}var Tbe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+O0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Wr+t}}(),vA=function(){var e=function(i){return Bt(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,l,o){var c=[];c.push('      <table:table table:name="'+Bt(l.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=In(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var x="",g=i["!rows"]||[];for(u=0;u<f.s.r;++u)x=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=f.e.r;++u){for(x=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var y=!1,b={},v="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(y=!0),b["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,b["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(y){c.push(r);continue}var j=it({r:u,c:d}),N=p?(i[u]||[])[d]:i[j];if(N&&N.f&&(b["table:formula"]=Bt(Qxe(N.f)),N.F&&N.F.slice(0,j.length)==j)){var k=In(N.F);b["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,b["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":v=N.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=N.v?"true":"false";break;case"n":v=N.w||String(N.v||0),b["office:value-type"]="float",b["office:value"]=N.v||0;break;case"s":case"str":v=N.v==null?"":N.v,b["office:value-type"]="string";break;case"d":v=N.w||sr(N.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=sr(N.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var _=e(v);if(N.l&&N.l.Target){var S=N.l.Target;S=S.charAt(0)=="#"?"#"+Xxe(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),_=Ie("text:a",_,{"xlink:href":S.replace(/&/g,"&amp;")})}c.push("          "+Ie("table:table-cell",Ie("text:p",_,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(u){return l.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Po(f),f.ods=o;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(u){return l.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[Wr],u=O0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=O0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(SM().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)c.push(a(l.Sheets[l.SheetNames[f]],l,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function L8(e,t){if(t.bookType=="fods")return vA(e,t);var r=wk(),a="",s=[],i=[];return a="mimetype",mt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",mt(r,a,vA(e,t)),s.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",mt(r,a,Tbe(e,t)),s.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",mt(r,a,Wr+SM()),s.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",mt(r,a,nfe(i)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",mt(r,a,rfe(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Iw(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ht(Wo(e))}function Abe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Kn(Di(e))}function Pbe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function Do(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(s){r.set(s,a),a+=s.length}),r}function yA(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Obe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,s=t+13;s>=t;--s)a=a*256+e[s];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function Dbe(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function B0(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Rt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Or(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Dt(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],s=B0(e,r),i=s&7;s=Math.floor(s/8);var l=0,o;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:l=4,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=B0(e,r),o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var u={data:o,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function ka(e){var t=[];return e.forEach(function(r,a){r.forEach(function(s){s.data&&(t.push(Rt(a*8+s.type)),s.type==2&&t.push(Rt(s.data.length)),t.push(s.data))})}),Do(t)}function Gk(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function ps(e){for(var t,r=[],a=[0];a[0]<e.length;){var s=B0(e,a),i=Dt(e.slice(a[0],a[0]+s));a[0]+=s;var l={id:Or(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Dt(o.data),u=Or(c[3][0].data);l.messages.push({meta:c,data:e.slice(a[0],a[0]+u)}),a[0]+=u}),(t=i[3])!=null&&t[0]&&(l.merge=Or(i[3][0].data)>>>0>0),r.push(l)}return r}function du(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Rt(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Rt(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(l){s.push(l.data),l.meta[3]=[{type:0,data:Rt(l.data.length)}],a[2].push({data:ka(l.meta),type:2})});var i=ka(a);t.push(Rt(i.length)),t.push(i),s.forEach(function(l){return t.push(l)})}),Do(t)}function Fbe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=B0(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[r[0]],o>1&&(l|=t[r[0]+1]<<8),o>2&&(l|=t[r[0]+2]<<16),o>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=o}s.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Do(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var d=Do(s);if(d.length!=a)throw new Error("Unexpected length: ".concat(d.length," != ").concat(a));return d}function xs(e){for(var t=[],r=0;r<e.length;){var a=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Fbe(a,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Do(t)}function fu(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Rt(a),l=i.length;t.push(i),a<=60?(l++,t.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),l+=a,s[0]=0,s[1]=l&255,s[2]=l>>8&255,s[3]=l>>16&255,r+=a}return Do(t)}function Ibe(e,t,r,a){var s=Gc(e),i=s.getUint32(4,!0),l=(a>1?12:8)+yA(i&(a>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(o=s.getUint32(l,!0),l+=4),l+=yA(i&(a>1?12288:4096))*4,i&16&&(c=s.getUint32(l,!0),l+=4),i&32&&(u=s.getFloat64(l,!0),l+=8),i&64&&(d.setTime(d.getTime()+s.getFloat64(l,!0)*1e3),l+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Rbe(e,t,r){var a=Gc(e),s=a.getUint32(8,!0),i=12,l=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);s&1&&(c=Obe(e,i),i+=16),s&2&&(u=a.getFloat64(i,!0),i+=8),s&4&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8),s&8&&(o=a.getUint32(i,!0),i+=4),s&16&&(l=a.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return f}function rb(e,t){var r=new Uint8Array(32),a=Gc(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Dbe(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,s)}function ab(e,t){var r=new Uint8Array(32),a=Gc(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,s)}function Mbe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Ibe(e,t,r,e[0]);case 5:return Rbe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function za(e){var t=Dt(e);return B0(t[1][0].data)}function bA(e,t){var r=Dt(t.data),a=Or(r[1][0].data),s=r[3],i=[];return(s||[]).forEach(function(l){var o=Dt(l.data),c=Or(o[1][0].data)>>>0;switch(a){case 1:i[c]=Iw(o[3][0].data);break;case 8:{var u=e[za(o[9][0].data)][0],d=Dt(u.data),f=e[za(d[1][0].data)][0],h=Or(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Dt(f.data);i[c]=m[3].map(function(p){return Iw(p.data)}).join("")}break}}),i}function Lbe(e,t){var r,a,s,i,l,o,c,u,d,f,h,m,p,x,g=Dt(e),y=Or(g[1][0].data)>>>0,b=Or(g[2][0].data)>>>0,v=((a=(r=g[8])==null?void 0:r[0])==null?void 0:a.data)&&Or(g[8][0].data)>0||!1,j,N;if((i=(s=g[7])==null?void 0:s[0])!=null&&i.data&&t!=0)j=(o=(l=g[7])==null?void 0:l[0])==null?void 0:o.data,N=(u=(c=g[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)j=(m=(h=g[4])==null?void 0:h[0])==null?void 0:m.data,N=(x=(p=g[3])==null?void 0:p[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=v?4:1,_=Gc(j),S=[],T=0;T<j.length/2;++T){var C=_.getUint16(T*2,!0);C<65535&&S.push([T,C])}if(S.length!=b)throw"Expected ".concat(b," cells, found ").concat(S.length);var E=[];for(T=0;T<S.length-1;++T)E[S[T][0]]=N.subarray(S[T][1]*k,S[T+1][1]*k);return S.length>=1&&(E[S[S.length-1][0]]=N.subarray(S[S.length-1][1]*k)),{R:y,cells:E}}function $be(e,t){var r,a=Dt(t.data),s=(r=a==null?void 0:a[7])!=null&&r[0]?Or(a[7][0].data)>>>0>0?1:0:-1,i=Gk(a[5],function(l){return Lbe(l,s)});return{nrows:Or(a[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(c,u){if(l[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));l[o.R][u]=c}),l},[])}}function Bbe(e,t,r){var a,s=Dt(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Or(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Or(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=ht(i);var l=Dt(s[4][0].data),o=bA(e,e[za(l[4][0].data)][0]),c=(a=l[17])!=null&&a[0]?bA(e,e[za(l[17][0].data)][0]):[],u=Dt(l[3][0].data),d=0;u[1].forEach(function(f){var h=Dt(f.data),m=e[za(h[2][0].data)][0],p=Or(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var x=$be(e,m);x.data.forEach(function(g,y){g.forEach(function(b,v){var j=it({r:d+y,c:v}),N=Mbe(b,o,c);N&&(r[j]=N)})}),d+=x.nrows})}function Ube(e,t){var r=Dt(t.data),a={"!ref":"A1"},s=e[za(r[2][0].data)],i=Or(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Bbe(e,s[0],a),a}function zbe(e,t){var r,a=Dt(t.data),s={name:(r=a[1])!=null&&r[0]?Iw(a[1][0].data):"",sheets:[]},i=Gk(a[2],za);return i.forEach(function(l){e[l].forEach(function(o){var c=Or(o.meta[1][0].data);c==6e3&&s.sheets.push(Ube(e,o))})}),s}function Wbe(e,t){var r=e_(),a=Dt(t.data),s=Gk(a[1],za);if(s.forEach(function(i){e[i].forEach(function(l){var o=Or(l.meta[1][0].data);if(o==2){var c=zbe(e,l);c.sheets.forEach(function(u,d){t_(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function nb(e){var t,r,a,s,i={},l=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=xs(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=ps(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,l.push(f.id)})}}),!l.length)throw new Error("File has no messages");var o=((s=(a=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:s[0].data)&&Or(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(c){i[c].forEach(function(u){var d=Or(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Wbe(i,o)}function Vbe(e,t,r){var a,s,i,l;if(!((a=e[6])!=null&&a[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Or(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=Gc(e[7][0].data),d=0,f=[],h=Gc(e[4][0].data),m=0,p=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535);continue}u.setUint16(x*2,d,!0),h.setUint16(x*2,m,!0);var g,y;switch(typeof t[x]){case"string":g=rb({t:"s",v:t[x]},r),y=ab({t:"s",v:t[x]},r);break;case"number":g=rb({t:"n",v:t[x]},r),y=ab({t:"n",v:t[x]},r);break;case"boolean":g=rb({t:"b",v:t[x]},r),y=ab({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(g),d+=g.length,p.push(y),m+=y.length,++c}for(e[2][0].data=Rt(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535,!0);return e[6][0].data=Do(f),e[3][0].data=Do(p),c}function Hbe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=In(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(ht(a)));var i=Qx(r,{range:a,header:1}),l=["~Sh33tJ5~"];i.forEach(function(O){return O.forEach(function(M){typeof M=="string"&&l.push(M)})});var o={},c=[],u=rt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(O,M){return[O,u.FullPaths[M]]}).forEach(function(O){var M=O[0],I=O[1];if(M.type==2&&M.name.match(/\.iwa/)){var ne=M.content,oe=xs(ne),J=ps(oe);J.forEach(function(Y){c.push(Y.id),o[Y.id]={deps:[],location:I,type:Or(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(O,M){return O-M});var d=c.filter(function(O){return O>1}).map(function(O){return[O,Rt(O)]});u.FileIndex.map(function(O,M){return[O,u.FullPaths[M]]}).forEach(function(O){var M=O[0];if(O[1],!!M.name.match(/\.iwa/)){var I=ps(xs(M.content));I.forEach(function(ne){ne.messages.forEach(function(oe){d.forEach(function(J){ne.messages.some(function(Y){return Or(Y.meta[1][0].data)!=11006&&Pbe(Y.data,J[1])})&&o[J[0]].deps.push(ne.id)})})})}});for(var f=rt.find(u,o[1].location),h=ps(xs(f.content)),m,p=0;p<h.length;++p){var x=h[p];x.id==1&&(m=x)}var g=za(Dt(m.messages[0].data)[1][0].data);for(f=rt.find(u,o[g].location),h=ps(xs(f.content)),p=0;p<h.length;++p)x=h[p],x.id==g&&(m=x);for(g=za(Dt(m.messages[0].data)[2][0].data),f=rt.find(u,o[g].location),h=ps(xs(f.content)),p=0;p<h.length;++p)x=h[p],x.id==g&&(m=x);for(g=za(Dt(m.messages[0].data)[2][0].data),f=rt.find(u,o[g].location),h=ps(xs(f.content)),p=0;p<h.length;++p)x=h[p],x.id==g&&(m=x);var y=Dt(m.messages[0].data);{y[6][0].data=Rt(a.e.r+1),y[7][0].data=Rt(a.e.c+1);var b=za(y[46][0].data),v=rt.find(u,o[b].location),j=ps(xs(v.content));{for(var N=0;N<j.length&&j[N].id!=b;++N);if(j[N].id!=b)throw"Bad ColumnRowUIDMapArchive";var k=Dt(j[N].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var _=0;_<=a.e.c;++_){var S=[];S[1]=S[2]=[{type:0,data:Rt(_+420690)}],k[1].push({type:2,data:ka(S)}),k[2].push({type:0,data:Rt(_)}),k[3].push({type:0,data:Rt(_)})}k[4]=[],k[5]=[],k[6]=[];for(var T=0;T<=a.e.r;++T)S=[],S[1]=S[2]=[{type:0,data:Rt(T+726270)}],k[4].push({type:2,data:ka(S)}),k[5].push({type:0,data:Rt(T)}),k[6].push({type:0,data:Rt(T)});j[N].messages[0].data=ka(k)}v.content=fu(du(j)),v.size=v.content.length,delete y[46];var C=Dt(y[4][0].data);{C[7][0].data=Rt(a.e.r+1);var E=Dt(C[1][0].data),A=za(E[2][0].data);v=rt.find(u,o[A].location),j=ps(xs(v.content));{if(j[0].id!=A)throw"Bad HeaderStorageBucket";var U=Dt(j[0].messages[0].data);for(T=0;T<i.length;++T){var V=Dt(U[2][0].data);V[1][0].data=Rt(T),V[4][0].data=Rt(i[T].length),U[2][T]={type:U[2][0].type,data:ka(V)}}j[0].messages[0].data=ka(U)}v.content=fu(du(j)),v.size=v.content.length;var ae=za(C[2][0].data);v=rt.find(u,o[ae].location),j=ps(xs(v.content));{if(j[0].id!=ae)throw"Bad HeaderStorageBucket";for(U=Dt(j[0].messages[0].data),_=0;_<=a.e.c;++_)V=Dt(U[2][0].data),V[1][0].data=Rt(_),V[4][0].data=Rt(a.e.r+1),U[2][_]={type:U[2][0].type,data:ka(V)};j[0].messages[0].data=ka(U)}v.content=fu(du(j)),v.size=v.content.length;var q=za(C[4][0].data);(function(){for(var O=rt.find(u,o[q].location),M=ps(xs(O.content)),I,ne=0;ne<M.length;++ne){var oe=M[ne];oe.id==q&&(I=oe)}var J=Dt(I.messages[0].data);{J[3]=[];var Y=[];l.forEach(function(D,ye){Y[1]=[{type:0,data:Rt(ye)}],Y[2]=[{type:0,data:Rt(1)}],Y[3]=[{type:2,data:Abe(D)}],J[3].push({type:2,data:ka(Y)})})}I.messages[0].data=ka(J);var ie=du(M),fe=fu(ie);O.content=fe,O.size=O.content.length})();var R=Dt(C[3][0].data);{var P=R[1][0];delete R[2];var B=Dt(P.data);{var te=za(B[2][0].data);(function(){for(var O=rt.find(u,o[te].location),M=ps(xs(O.content)),I,ne=0;ne<M.length;++ne){var oe=M[ne];oe.id==te&&(I=oe)}var J=Dt(I.messages[0].data);{delete J[6],delete R[7];var Y=new Uint8Array(J[5][0].data);J[5]=[];for(var ie=0,fe=0;fe<=a.e.r;++fe){var D=Dt(Y);ie+=Vbe(D,i[fe],l),D[1][0].data=Rt(fe),J[5].push({data:ka(D),type:2})}J[1]=[{type:0,data:Rt(a.e.c+1)}],J[2]=[{type:0,data:Rt(a.e.r+1)}],J[3]=[{type:0,data:Rt(ie)}],J[4]=[{type:0,data:Rt(a.e.r+1)}]}I.messages[0].data=ka(J);var ye=du(M),Ce=fu(ye);O.content=Ce,O.size=O.content.length})()}P.data=ka(B)}C[3][0].data=ka(R)}y[4][0].data=ka(C)}m.messages[0].data=ka(y);var H=du(h),F=fu(H);return f.content=F,f.size=f.content.length,u}function $8(e){return function(r){for(var a=0;a!=e.length;++a){var s=e[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Qk(e){$8([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Xk(e){$8([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function qbe(e){return xt.WS.indexOf(e)>-1?"sheet":e==xt.CS?"chart":e==xt.DS?"dialog":e==xt.MS?"macro":e&&e.length?e:"sheet"}function Kbe(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,qbe(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Gbe(e,t,r,a,s,i,l,o,c,u,d,f){try{i[a]=Uf(Gn(e,r,!0),t);var h=qr(e,t),m;switch(o){case"sheet":m=xye(h,t,s,c,i[a],u,d,f);break;case"chart":if(m=gye(h,t,s,c,i[a],u,d,f),!m||!m["!drawel"])break;var p=wf(m["!drawel"].Target,t),x=F0(p),g=ape(Gn(e,p,!0),Uf(Gn(e,x,!0),p)),y=wf(g,p),b=F0(y);m=Vve(Gn(e,y,!0),y,c,Uf(Gn(e,b,!0),y),u,m);break;case"macro":m=vye(h,t,s,c,i[a],u,d,f);break;case"dialog":m=yye(h,t,s,c,i[a],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}l[a]=m;var v=[];i&&i[a]&&Fr(i[a]).forEach(function(j){var N="";if(i[a][j].Type==xt.CMNT){N=wf(i[a][j].Target,t);var k=Nye(qr(e,N,!0),N,c);if(!k||!k.length)return;sA(m,k,!1)}i[a][j].Type==xt.TCMNT&&(N=wf(i[a][j].Target,t),v=v.concat(spe(qr(e,N,!0),c)))}),v&&v.length&&sA(m,v,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function fs(e){return e.charAt(0)=="/"?e.slice(1):e}function Qbe(e,t){if($d(),t=t||{},Qk(t),gs(e,"META-INF/manifest.xml")||gs(e,"objectdata.xml"))return xA(e,t);if(gs(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof nb<"u"){if(e.FileIndex)return nb(e);var r=rt.utils.cfb_new();return ST(e).forEach(function(V){mt(r,V,ide(e,V))}),nb(r)}throw new Error("Unsupported NUMBERS file")}if(!gs(e,"[Content_Types].xml"))throw gs(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):gs(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=ST(e),s=Zde(Gn(e,"[Content_Types].xml")),i=!1,l,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",qr(e,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!qr(e,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(zf=[],s.sst)try{zf=jye(qr(e,fs(s.sst)),s.sst,t)}catch(V){if(t.WTF)throw V}t.cellStyles&&s.themes.length&&(c=wye(Gn(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(u=bye(qr(e,fs(s.style)),s.style,c,t))}s.links.map(function(V){try{var ae=Uf(Gn(e,F0(fs(V))),V);return _ye(qr(e,fs(V)),ae,V,t)}catch{}});var d=pye(qr(e,fs(s.workbooks[0])),s.workbooks[0],t),f={},h="";s.coreprops.length&&(h=qr(e,fs(s.coreprops[0]),!0),h&&(f=CM(h)),s.extprops.length!==0&&(h=qr(e,fs(s.extprops[0]),!0),h&&ife(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(h=Gn(e,fs(s.custprops[0]),!0),h&&(m=ofe(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?l=d.Sheets.map(function(ae){return ae.name}):f.Worksheets&&f.SheetNames.length>0&&(l=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof l<"u"&&(p.SheetNames=l),t.bookSheets?p.SheetNames:t.bookProps))return p;l={};var x={};t.bookDeps&&s.calcchain&&(x=kye(qr(e,fs(s.calcchain)),s.calcchain));var g=0,y={},b,v;{var j=d.Sheets;f.Worksheets=j.length,f.SheetNames=[];for(var N=0;N!=j.length;++N)f.SheetNames[N]=j[N].name}var k=i?"bin":"xml",_=s.workbooks[0].lastIndexOf("/"),S=(s.workbooks[0].slice(0,_+1)+"_rels/"+s.workbooks[0].slice(_+1)+".rels").replace(/^\//,"");gs(e,S)||(S="xl/_rels/workbook."+k+".rels");var T=Uf(Gn(e,S,!0),S.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=Sye(qr(e,fs(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=lpe(qr(e,fs(s.people[0])),t)),T&&(T=Kbe(T,d.Sheets));var C=qr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var E="sheet";if(T&&T[g]?(b="xl/"+T[g][1].replace(/[\/]?xl\//,""),gs(e,b)||(b=T[g][1]),gs(e,b)||(b=S.replace(/_rels\/.*$/,"")+T[g][1]),E=T[g][2]):(b="xl/worksheets/sheet"+(g+1-C)+"."+k,b=b.replace(/sheet0\./,"sheet.")),v=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==g&&(A=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[g].toLowerCase()&&(A=1);if(!A)continue e}}Gbe(e,b,v,f.SheetNames[g],g,y,l,E,t,d,c,u)}return p={Directory:s,Workbook:d,Props:f,Custprops:m,Deps:x,Sheets:l,SheetNames:f.SheetNames,Strings:zf,Styles:u,Themes:c,SSF:ir(st)},t&&t.bookFiles&&(e.files?(p.keys=a,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(V,ae){V=V.replace(/^Root Entry[\/]/,""),p.keys.push(V),p.files[V]=e.FileIndex[ae]}))),t&&t.bookVBA&&(s.vba.length>0?p.vbaraw=qr(e,fs(s.vba[0]),!0):s.defaults&&s.defaults.bin===ppe&&(p.vbaraw=qr(e,"xl/vbaProject.bin",!0))),p}function Xbe(e,t){var r=t||{},a="Workbook",s=rt.find(e,a);try{if(a="/!DataSpaces/Version",s=rt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(She(s.content),a="/!DataSpaces/DataSpaceMap",s=rt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=Ehe(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=rt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=The(s.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=rt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);Phe(s.content)}catch{}if(a="/EncryptionInfo",s=rt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=Ohe(s.content);if(a="/EncryptedPackage",s=rt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function Ybe(e,t){return t.bookType=="ods"?L8(e,t):t.bookType=="numbers"?Hbe(e,t):t.bookType=="xlsb"?Jbe(e,t):Zbe(e,t)}function Jbe(e,t){Au=1024,e&&!e.SSF&&(e.SSF=ir(st)),e&&e.SSF&&($d(),Tv(e.SSF),t.revssf=Pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Wf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=f8.indexOf(t.bookType)>-1,s=Ik();Xk(t=t||{});var i=wk(),l="",o=0;if(t.cellXfs=[],Ho(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",mt(i,l,EM(e.Props,t)),s.coreprops.push(l),Mt(t.rels,2,l,xt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,mt(i,l,PM(e.Props)),s.extprops.push(l),Mt(t.rels,3,l,xt.EXT_PROPS),e.Custprops!==e.Props&&Fr(e.Custprops||{}).length>0&&(l="docProps/custom.xml",mt(i,l,OM(e.Custprops)),s.custprops.push(l),Mt(t.rels,4,l,xt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,mt(i,l,Eye(o-1,l,t,e,d)),s.sheets.push(l),Mt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,xt.WS[0])}if(f){var m=f["!comments"],p=!1,x="";m&&m.length>0&&(x="xl/comments"+o+"."+r,mt(i,x,Pye(m,x)),s.comments.push(x),Mt(d,-1,"../comments"+o+"."+r,xt.CMNT),p=!0),f["!legacy"]&&p&&mt(i,"xl/drawings/vmlDrawing"+o+".vml",u8(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&mt(i,F0(l),Vu(d))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,mt(i,l,Aye(t.Strings,l,t)),s.strs.push(l),Mt(t.wbrels,-1,"sharedStrings."+r,xt.SST)),l="xl/workbook."+r,mt(i,l,Cye(e,l)),s.workbooks.push(l),Mt(t.rels,1,l,xt.WB),l="xl/theme/theme1.xml",mt(i,l,Uk(e.Themes,t)),s.themes.push(l),Mt(t.wbrels,-1,"theme/theme1.xml",xt.THEME),l="xl/styles."+r,mt(i,l,Tye(e,l,t)),s.styles.push(l),Mt(t.wbrels,-1,"styles."+r,xt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",mt(i,l,e.vbaraw),s.vba.push(l),Mt(t.wbrels,-1,"vbaProject.bin",xt.VBA)),l="xl/metadata."+r,mt(i,l,Oye(l)),s.metadata.push(l),Mt(t.wbrels,-1,"metadata."+r,xt.XLMETA),mt(i,"[Content_Types].xml",_M(s,t)),mt(i,"_rels/.rels",Vu(t.rels)),mt(i,"xl/_rels/workbook."+r+".rels",Vu(t.wbrels)),delete t.revssf,delete t.ssf,i}function Zbe(e,t){Au=1024,e&&!e.SSF&&(e.SSF=ir(st)),e&&e.SSF&&($d(),Tv(e.SSF),t.revssf=Pv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Wf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=f8.indexOf(t.bookType)>-1,s=Ik();Xk(t=t||{});var i=wk(),l="",o=0;if(t.cellXfs=[],Ho(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",mt(i,l,EM(e.Props,t)),s.coreprops.push(l),Mt(t.rels,2,l,xt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,mt(i,l,PM(e.Props)),s.extprops.push(l),Mt(t.rels,3,l,xt.EXT_PROPS),e.Custprops!==e.Props&&Fr(e.Custprops||{}).length>0&&(l="docProps/custom.xml",mt(i,l,OM(e.Custprops)),s.custprops.push(l),Mt(t.rels,4,l,xt.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,mt(i,l,N8(o-1,t,e,f)),s.sheets.push(l),Mt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,xt.WS[0])}if(h){var p=h["!comments"],x=!1,g="";if(p&&p.length>0){var y=!1;p.forEach(function(b){b[1].forEach(function(v){v.T==!0&&(y=!0)})}),y&&(g="xl/threadedComments/threadedComment"+o+"."+r,mt(i,g,ipe(p,d,t)),s.threadedcomments.push(g),Mt(f,-1,"../threadedComments/threadedComment"+o+"."+r,xt.TCMNT)),g="xl/comments"+o+"."+r,mt(i,g,d8(p)),s.comments.push(g),Mt(f,-1,"../comments"+o+"."+r,xt.CMNT),x=!0}h["!legacy"]&&x&&mt(i,"xl/drawings/vmlDrawing"+o+".vml",u8(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&mt(i,F0(l),Vu(f))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,mt(i,l,JM(t.Strings,t)),s.strs.push(l),Mt(t.wbrels,-1,"sharedStrings."+r,xt.SST)),l="xl/workbook."+r,mt(i,l,E8(e)),s.workbooks.push(l),Mt(t.rels,1,l,xt.WB),l="xl/theme/theme1.xml",mt(i,l,Uk(e.Themes,t)),s.themes.push(l),Mt(t.wbrels,-1,"theme/theme1.xml",xt.THEME),l="xl/styles."+r,mt(i,l,i8(e,t)),s.styles.push(l),Mt(t.wbrels,-1,"styles."+r,xt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",mt(i,l,e.vbaraw),s.vba.push(l),Mt(t.wbrels,-1,"vbaProject.bin",xt.VBA)),l="xl/metadata."+r,mt(i,l,c8()),s.metadata.push(l),Mt(t.wbrels,-1,"metadata."+r,xt.XLMETA),d.length>1&&(l="xl/persons/person.xml",mt(i,l,ope(d)),s.people.push(l),Mt(t.wbrels,-1,"persons/person.xml",xt.PEOPLE)),mt(i,"[Content_Types].xml",_M(s,t)),mt(i,"_rels/.rels",Vu(t.rels)),mt(i,"xl/_rels/workbook."+r+".rels",Vu(t.wbrels)),delete t.revssf,delete t.ssf,i}function Yk(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=rs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function e1e(e,t){return rt.find(e,"EncryptedPackage")?Xbe(e,t):O8(e,t)}function t1e(e,t){var r,a=e,s=t||{};return s.type||(s.type=pt&&Buffer.isBuffer(e)?"buffer":"base64"),r=eM(a,s),Qbe(r,s)}function B8(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Dw(e.slice(r),t);default:break e}return pd.to_workbook(e,t)}function r1e(e,t){var r="",a=Yk(e,t);switch(t.type){case"base64":r=rs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Vc(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=Ht(r)),t.type="binary",B8(r,t)}function a1e(e,t){var r=e;return t.type=="base64"&&(r=rs(r)),r=E0.utils.decode(1200,r.slice(2),"str"),t.type="binary",B8(r,t)}function n1e(e){return e.match(/[^\x00-\x7F]/)?Di(e):e}function sb(e,t,r,a){return a?(r.type="string",pd.to_workbook(e,r)):pd.to_workbook(t,r)}function Rw(e,t){xk();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Rw(new Uint8Array(e),(r=ir(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,s=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),qu={},r.dateNF&&(qu.dateNF=r.dateNF),r.type||(r.type=pt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=pt?"buffer":"binary",a=Jue(e),typeof Uint8Array<"u"&&!pt&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=n1e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return r=ir(r),r.type="array",Rw(gk(a),r)}switch((s=Yk(a,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return e1e(rt.read(a,r),r);break;case 9:if(s[1]<=8)return O8(a,r);break;case 60:return Dw(a,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return che(a,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return XM.to_workbook(a,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?t1e(a,r):sb(e,a,r,i);case 239:return s[3]===60?Dw(a,r):sb(e,a,r,i);case 255:if(s[1]===254)return a1e(a,r);if(s[1]===0&&s[2]===2&&s[3]===0)return Ec.to_workbook(a,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Ec.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return Ow.to_workbook(a,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return a8.to_workbook(a,r);break;case 10:case 13:case 32:return r1e(a,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return ohe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?Ow.to_workbook(a,r):sb(e,a,r,i)}function U8(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Nh(t.file,rt.write(e,{type:pt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return rt.write(e,t)}function s1e(e,t){var r=ir(t||{}),a=Ybe(e,r);return i1e(a,r)}function i1e(e,t){var r={},a=pt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?rt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(Ev(s))}return t.password&&typeof encrypt_agile<"u"?U8(encrypt_agile(s,t.password),t):t.type==="file"?Nh(t.file,s):t.type=="string"?Ht(s):s}function l1e(e,t){var r=t||{},a=nbe(e,r);return U8(a,r)}function Ni(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return T0(Di(a));case"binary":return Di(a);case"string":return e;case"file":return Nh(t.file,a,"utf8");case"buffer":return pt?Ml(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Ni(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function o1e(e,t){switch(t.type){case"base64":return T0(e);case"binary":return e;case"string":return e;case"file":return Nh(t.file,e,"binary");case"buffer":return pt?Ml(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Cm(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?T0(r):t.type=="string"?Ht(r):r;case"file":return Nh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function z8(e,t){xk(),eye(e);var r=ir(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=z8(e,r);return r.type="array",Ev(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ni(Yye(e,r),r);case"slk":case"sylk":return Ni(QM.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Ni(F8(e.Sheets[e.SheetNames[s]],r),r);case"txt":return o1e(W8(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Ni(Zk(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Ni(XM.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return Cm(Ow.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Ni(pd.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Ni(a8.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Ni(YM.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Ni(L8(e,r),r);case"wk1":return Cm(Ec.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return Cm(Ec.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Cm(D8(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),l1e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return s1e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function c1e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Jk(e,t,r){var a={};return a.type="file",a.file=t,c1e(a),z8(e,a)}function u1e(e,t,r,a,s,i,l,o){var c=Br(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!l||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=l?e[r][m]:e[a[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var x=p.v;switch(p.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(x==null)if(p.t=="e"&&x===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&x===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?x:Cl(p,x,o);x!=null&&(f=!1)}}return{row:h,isempty:f}}function Qx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?a=1:u.header==="A"?a=2:Array.isArray(u.header)?a=3:u.header==null&&(a=0),typeof d){case"string":c=Pt(d);break;case"number":c=Pt(e["!ref"]),c.s.r=d;break;default:c=d}a>0&&(s=0);var f=Br(c.s.r),h=[],m=[],p=0,x=0,g=Array.isArray(e),y=c.s.r,b=0,v={};g&&!e[y]&&(e[y]=[]);var j=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(j[b]||{}).hidden)switch(h[b]=wr(b),r=g?e[y][b]:e[h[b]+f],a){case 1:i[b]=b-c.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=Cl(r,null,u),x=v[l]||0,!x)v[l]=1;else{do o=l+"_"+x++;while(v[o]);v[l]=x,v[o]=1}i[b]=o}for(y=c.s.r+s;y<=c.e.r;++y)if(!(N[y]||{}).hidden){var k=u1e(e,c,y,h,a,i,g,u);(k.isempty===!1||(a===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=k.row)}return m.length=p,m}var wA=/"/g;function d1e(e,t,r,a,s,i,l,o){for(var c=!0,u=[],d="",f=Br(r),h=t.s.c;h<=t.e.c;++h)if(a[h]){var m=o.dense?(e[r]||[])[h]:e[a[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:Cl(m,null,o));for(var p=0,x=0;p!==d.length;++p)if((x=d.charCodeAt(p))===s||x===i||x===34||o.forceQuotes){d='"'+d.replace(wA,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(wA,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(l)}function Zk(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var s=Pt(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];a.dense=Array.isArray(e);for(var h=a.skipHidden&&e["!cols"]||[],m=a.skipHidden&&e["!rows"]||[],p=s.s.c;p<=s.e.c;++p)(h[p]||{}).hidden||(f[p]=wr(p));for(var x=0,g=s.s.r;g<=s.e.r;++g)(m[g]||{}).hidden||(d=d1e(e,s,g,f,l,c,i,a),d!=null&&(a.strip&&(d=d.replace(u,"")),(d||a.blankrows!==!1)&&r.push((x++?o:"")+d)));return delete a.dense,r.join("")}function W8(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Zk(e,t);return r}function f1e(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var s=Pt(e["!ref"]),i="",l=[],o,c=[],u=Array.isArray(e);for(o=s.s.c;o<=s.e.c;++o)l[o]=wr(o);for(var d=s.s.r;d<=s.e.r;++d)for(i=Br(d),o=s.s.c;o<=s.e.c;++o)if(t=l[o]+i,r=u?(e[d]||[])[o]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function V8(e,t,r){var a=r||{},s=+!a.skipHeader,i=e||{},l=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var c=typeof a.origin=="string"?jr(a.origin):a.origin;l=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:l+t.length-1+s}};if(i["!ref"]){var f=Pt(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),l==-1&&(l=f.e.r+1,d.e.r=l+t.length-1+s)}else l==-1&&(l=0,d.e.r=t.length-1+s);var h=a.header||[],m=0;t.forEach(function(x,g){Fr(x).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=x[y],v="z",j="",N=it({c:o+m,r:l+g+s});u=U0(i,N),b&&typeof b=="object"&&!(b instanceof Date)?i[N]=b:(typeof b=="number"?v="n":typeof b=="boolean"?v="b":typeof b=="string"?v="s":b instanceof Date?(v="d",a.cellDates||(v="n",b=ia(b)),j=a.dateNF||st[14]):b===null&&a.nullError&&(v="e",b=0),u?(u.t=v,u.v=b,delete u.w,delete u.R,j&&(u.z=j)):i[N]=u={t:v,v:b},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var p=Br(l);if(s)for(m=0;m<h.length;++m)i[wr(m+o)+p]={t:"s",v:h[m]};return i["!ref"]=ht(d),i}function h1e(e,t){return V8(null,e,t)}function U0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=jr(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?U0(e,it(t)):U0(e,it({r:t,c:r||0}))}function m1e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function e_(){return{SheetNames:[],Sheets:{}}}function t_(e,t,r,a){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var l=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=l+s)!=-1;++s);}if(C8(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function p1e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=m1e(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function x1e(e,t){return e.z=t,e}function H8(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function g1e(e,t,r){return H8(e,"#"+t,r)}function v1e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function y1e(e,t,r,a){for(var s=typeof t!="string"?t:Pt(t),i=typeof t=="string"?t:ht(t),l=s.s.r;l<=s.e.r;++l)for(var o=s.s.c;o<=s.e.c;++o){var c=U0(e,l,o);c.t="n",c.F=i,delete c.v,l==s.s.r&&o==s.s.c&&(c.f=r,a&&(c.D=!0))}return e}var ks={encode_col:wr,encode_row:Br,encode_cell:it,encode_range:ht,decode_col:Tk,decode_row:Ek,split_cell:Ade,decode_cell:jr,decode_range:In,format_cell:Cl,sheet_add_aoa:vM,sheet_add_json:V8,sheet_add_dom:I8,aoa_to_sheet:Bd,json_to_sheet:h1e,table_to_sheet:R8,table_to_book:Sbe,sheet_to_csv:Zk,sheet_to_txt:W8,sheet_to_json:Qx,sheet_to_html:F8,sheet_to_formulae:f1e,sheet_to_row_object_array:Qx,sheet_get_cell:U0,book_new:e_,book_append_sheet:t_,book_set_sheet_visibility:p1e,cell_set_number_format:x1e,cell_set_hyperlink:H8,cell_set_internal_link:g1e,cell_add_comment:v1e,sheet_set_array_formula:y1e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const r_=(e,t,r="Data",a={})=>{try{if(!e||e.length===0)throw new Error("No data to export");const s=ks.book_new(),i=ks.json_to_sheet(e),o=Object.keys(e[0]||{}).map(d=>{const f=d.length,h=Math.max(...e.map(m=>String(m[d]||"").length));return{wch:Math.min(Math.max(f,h,10),50)}});i["!cols"]=o,i["!freeze"]={xSplit:0,ySplit:1},ks.book_append_sheet(s,i,r);const c=new Date().toISOString().slice(0,19).replace(/[-:]/g,"").replace("T","_"),u=`${t}_${c}.xlsx`;return Jk(s,u),{success:!0,filename:u,rows:e.length}}catch(s){throw console.error("Export to Excel error:",s),s}},b1e=e=>e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"-",no=e=>e?new Date(e).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",ip=e=>e?new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",w1e=()=>{var Z,ce,de,we,_e;const e=Vi(),t=qt(),{user:r,isAdmin:a,isSupervisor:s,isTechnician:i,isCustomerService:l}=tn(),[o,c]=w.useState(!1),[u,d]=w.useState(!1),[f,h]=w.useState(null),[m,p]=w.useState(1),[x,g]=w.useState(10),[y,b]=w.useState("created_at"),[v,j]=w.useState("DESC"),[N,k]=w.useState(!1),[_,S]=w.useState({search:"",status:"",type:"",priority:""}),[T,C]=w.useState([]),[E,A]=w.useState(!1),[U,V]=w.useState(null),ae=se=>({installation:"Installation",repair:"Repair",maintenance:"Maintenance",upgrade:"Upgrade",downgrade:"Downgrade",wifi_setup:"WiFi Setup",dismantle:"Dismantle",speed_test:"Speed Test",bandwidth_upgrade:"Bandwidth Upgrade",redundancy_setup:"Redundancy Setup",network_config:"Network Config",security_audit:"Security Audit"})[se]||se,{data:q,isLoading:R,refetch:P}=Be(["tickets",_,m,x,y,v],()=>Un.getTickets({..._,page:m,limit:x,sort_by:y,sort_order:v}),{keepPreviousData:!1,refetchOnMount:!0}),{data:B}=Be("ticket-stats",()=>Un.getTicketStats(),{refetchOnWindowFocus:!0,refetchOnMount:"always"});w.useEffect(()=>{const se=()=>{t.invalidateQueries(["tickets"]),t.invalidateQueries("ticket-stats"),console.log("🎫 Ticket list & stats refreshed due to ticket update")};return window.addEventListener("ticket-updated",se),window.addEventListener("ticket-created",se),window.addEventListener("ticket-assigned",se),window.addEventListener("ticket-completed",se),()=>{window.removeEventListener("ticket-updated",se),window.removeEventListener("ticket-created",se),window.removeEventListener("ticket-assigned",se),window.removeEventListener("ticket-completed",se)}},[t]);const te=()=>{p(1),P()},H=se=>{y===se?j(v==="ASC"?"DESC":"ASC"):(b(se),j("DESC")),p(1),t.invalidateQueries(["tickets"])},F=se=>y!==se?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):v==="ASC"?n.jsx(Bs,{className:"h-4 w-4 text-blue-600"}):n.jsx(Ls,{className:"h-4 w-4 text-blue-600"}),O=async()=>{try{k(!0);const le=(await Un.getTickets({..._,page:1,limit:1e4,sort_by:y,sort_order:v})).data.tickets||[];if(le.length===0){ee.error("Tidak ada data untuk di-export");return}const Fe=le.map((Xe,et)=>{var ot,tt;return{No:et+1,"Ticket Number":Xe.ticket_number,"Tanggal Dibuat":no(Xe.created_at),Type:ae(Xe.type),Status:((ot=Xe.status)==null?void 0:ot.toUpperCase())||"-",Priority:((tt=Xe.priority)==null?void 0:tt.toUpperCase())||"-",Customer:Xe.customer_name||"-","Customer Code":Xe.customer_code||"-",Teknisi:Xe.technician_name||"Unassigned",Judul:Xe.title,Category:Xe.category||"-","SLA Due Date":no(Xe.sla_due_date),"Completed Date":Xe.completed_at?no(Xe.completed_at):"-","Scheduled Date":Xe.scheduled_date?no(Xe.scheduled_date):"-","Estimated Duration (min)":Xe.estimated_duration||"-"}}),ze=r_(Fe,"Tickets_Export","Tickets Data");ee.success(`✅ ${ze.rows} tickets berhasil di-export!`)}catch(se){console.error("Export error:",se),ee.error("Gagal export data. Silakan coba lagi.")}finally{k(!1)}},M=()=>{d(!1),h(null)},I=se=>{const le={open:{class:"badge-info",label:"Open"},assigned:{class:"badge-warning",label:"Assigned"},in_progress:{class:"badge-warning",label:"In Progress"},completed:{class:"badge-success",label:"Completed"},cancelled:{class:"badge-gray",label:"Cancelled"},on_hold:{class:"badge-gray",label:"On Hold"}},Fe=le[se]||le.open;return n.jsx("span",{className:`badge ${Fe.class}`,children:Fe.label})},ne=se=>{const le={low:{class:"badge-gray",label:"Low"},normal:{class:"badge-info",label:"Normal"},high:{class:"badge-warning",label:"High"},critical:{class:"badge-danger",label:"Critical"}},Fe=le[se]||le.normal;return n.jsx("span",{className:`badge ${Fe.class}`,children:Fe.label})},oe=se=>{se.target.checked?(C(tickets.map(le=>le.id)),A(!0)):(C([]),A(!1))},J=se=>{if(T.includes(se))C(T.filter(le=>le!==se)),A(!1);else{const le=[...T,se];C(le),le.length===tickets.length&&A(!0)}},Y=async()=>{if(T.length===0){ee.error("Pilih ticket terlebih dahulu");return}if(window.confirm(`Close ${T.length} ticket yang dipilih?`))try{let se=0,le=0;for(const Fe of T)try{await Un.updateTicket(Fe,{status:"completed"}),se++}catch(ze){le++,console.error(`Failed to close ticket ${Fe}:`,ze)}se>0?(ee.success(`✅ ${se} ticket berhasil di-close${le>0?`, ${le} gagal`:""}`),P(),C([]),A(!1)):ee.error("Gagal close ticket")}catch(se){console.error("Bulk close error:",se),ee.error("Terjadi kesalahan saat close ticket")}},ie=async()=>{if(T.length===0){ee.error("Pilih ticket terlebih dahulu");return}if(window.confirm(`⚠️ PERINGATAN: Hapus ${T.length} ticket yang dipilih?`))try{let se=0,le=0;for(const Fe of T)try{await Un.deleteTicket(Fe),se++}catch(ze){le++,console.error(`Failed to delete ticket ${Fe}:`,ze)}se>0?(ee.success(`✅ ${se} ticket berhasil dihapus${le>0?`, ${le} gagal`:""}`),P(),C([]),A(!1)):ee.error("Gagal hapus ticket")}catch(se){console.error("Bulk delete error:",se),ee.error("Terjadi kesalahan saat hapus ticket")}},fe=(se,le)=>{navigator.clipboard.writeText(se).then(()=>{V(le),ee.success(`${le} berhasil di-copy!`),setTimeout(()=>V(null),2e3)}).catch(Fe=>{ee.error("Gagal copy ke clipboard"),console.error("Copy error:",Fe)})},D=(se,le)=>{se.stopPropagation(),h(le),d(!0)},ye=async(se,le)=>{if(se.stopPropagation(),!!window.confirm(`Mark ticket ${le.ticket_number} as completed?`))try{await Un.updateTicket(le.id,{status:"completed"}),ee.success(`Ticket ${le.ticket_number} marked as completed`),P()}catch(Fe){ee.error("Failed to complete ticket"),console.error("Quick complete error:",Fe)}},Ce=(se,le)=>{se.stopPropagation(),window.location.href=`tel:${le}`},Pe=a||s||i||l,Me=a||s||l,ke=a,at=a||s,$e=(B==null?void 0:B.data)||{};return Pe?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tickets"}),n.jsx("p",{className:"text-gray-600",children:"Manage service requests and work orders"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:O,disabled:N||R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:N?n.jsxs(n.Fragment,{children:[n.jsx(qj,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ko,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})}),Me&&n.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"New Ticket"]})]})]}),T.length>0&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[T.length," ticket dipilih"]}),n.jsx("button",{onClick:()=>{C([]),A(!1)},className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Batal Pilihan"})]}),n.jsxs("div",{className:"flex gap-2",children:[at&&n.jsxs("button",{onClick:()=>{if(T.length===1){const se=tickets.find(le=>le.id===T[0]);D({stopPropagation:()=>{}},se)}else ee.info("Bulk assign coming soon!")},className:"px-3 py-1.5 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm inline-flex items-center",children:[n.jsx(dl,{className:"h-4 w-4 mr-1"}),"Assign"]}),n.jsxs("button",{onClick:Y,className:"px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm inline-flex items-center",children:[n.jsx(Ke,{className:"h-4 w-4 mr-1"}),"Close"]}),ke&&n.jsxs("button",{onClick:ie,className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm inline-flex items-center",children:[n.jsx(sa,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:nl,title:"Total Tickets",value:$e.total_tickets||0,color:"blue",onClick:()=>{S({search:"",status:"",type:"",priority:""}),p(1)}}),n.jsx(Ve,{icon:Vj,title:"Open",value:$e.open_tickets||0,color:"indigo",onClick:()=>{S({..._,status:_.status==="open"?"":"open"}),p(1)}}),n.jsx(Ve,{icon:Zn,title:"Assigned",value:$e.assigned_tickets||0,color:"purple",onClick:()=>{S({..._,status:_.status==="assigned"?"":"assigned"}),p(1)}}),n.jsx(Ve,{icon:Vp,title:"In Progress",value:$e.in_progress_tickets||0,color:"yellow",onClick:()=>{S({..._,status:_.status==="in_progress"?"":"in_progress"}),p(1)}})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ve,{icon:Ke,title:"Completed",value:$e.completed_tickets||0,color:"green",onClick:()=>{S({..._,status:_.status==="completed"?"":"completed"}),p(1)}}),n.jsx(Ve,{icon:kt,title:"Cancelled",value:$e.cancelled_tickets||0,color:"red",onClick:()=>{S({..._,status:_.status==="cancelled"?"":"cancelled"}),p(1)}})]})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari tiket...",value:_.search,onChange:se=>S({..._,search:se.target.value})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"form-input",value:_.status,onChange:se=>S({..._,status:se.target.value}),children:[n.jsx("option",{value:"",children:"Semua Status"}),n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"on_hold",children:"On Hold"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipe"}),n.jsxs("select",{className:"form-input",value:_.type,onChange:se=>S({..._,type:se.target.value}),children:[n.jsx("option",{value:"",children:"Semua Tipe"}),n.jsx("option",{value:"installation",children:"Installation"}),n.jsx("option",{value:"repair",children:"Repair"}),n.jsx("option",{value:"maintenance",children:"Maintenance"}),n.jsx("option",{value:"upgrade",children:"Upgrade"}),n.jsx("option",{value:"downgrade",children:"Downgrade"}),n.jsx("option",{value:"wifi_setup",children:"WiFi Setup"}),n.jsx("option",{value:"dismantle",children:"Dismantle"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioritas"}),n.jsxs("select",{className:"form-input",value:_.priority,onChange:se=>S({..._,priority:se.target.value}),children:[n.jsx("option",{value:"",children:"Semua Prioritas"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"critical",children:"Critical"})]})]})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Tickets",(q==null?void 0:q.data)&&n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",q.data.pagination.total," total)"]})]})}),n.jsx("div",{className:"card-body p-0",children:R?n.jsx("div",{className:"py-12",children:n.jsx(St,{className:"mx-auto"})}):((ce=(Z=q==null?void 0:q.data)==null?void 0:Z.tickets)==null?void 0:ce.length)>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"1200px"},children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell",style:{width:"50px"},children:n.jsx("input",{type:"checkbox",checked:E,onChange:oe,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",title:"Pilih Semua"})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>H("ticket_number"),style:{width:"200px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Ticket"}),F("ticket_number")]})}),n.jsx("th",{className:"table-header-cell",style:{width:"160px"},children:"Customer"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>H("type"),style:{width:"110px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Type"}),F("type")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>H("priority"),style:{width:"90px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Priority"}),F("priority")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>H("status"),style:{width:"110px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),F("status")]})}),n.jsx("th",{className:"table-header-cell",style:{width:"140px"},children:"Technician"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>H("created_at"),style:{width:"110px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Created"}),F("created_at")]})}),n.jsx("th",{className:"table-header-cell",style:{width:"120px"},children:"Quick Actions"})]})}),n.jsx("tbody",{className:"table-body",children:q.data.tickets.map(se=>n.jsxs("tr",{onClick:()=>e(`/tickets/${se.id}`),className:"group cursor-pointer hover:bg-blue-50 hover:shadow-md hover:border-l-4 hover:border-l-blue-500 transition-all duration-200",title:"Klik untuk lihat detail ticket",children:[n.jsx("td",{className:"table-cell",onClick:le=>le.stopPropagation(),children:n.jsx("input",{type:"checkbox",checked:T.includes(se.id),onChange:()=>J(se.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-1",children:[n.jsx("span",{children:se.ticket_number}),n.jsx("button",{onClick:le=>{le.stopPropagation(),fe(se.ticket_number,"Ticket Number")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Ticket Number",children:U==="Ticket Number"?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-500"})})]}),n.jsx("div",{className:"text-sm text-gray-500 truncate",title:se.title,children:se.title})]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",title:se.customer_name,children:se.customer_name}),n.jsxs("div",{className:"text-sm text-gray-500 truncate flex items-center gap-1",children:[n.jsx("span",{children:se.customer_phone}),n.jsx("button",{onClick:le=>{le.stopPropagation(),fe(se.customer_phone,"Phone")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Phone",children:U==="Phone"?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-500"})})]})]})}),n.jsx("td",{className:"table-cell whitespace-nowrap",style:{width:"110px"},children:n.jsx("span",{className:"capitalize",children:ae(se.type)})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:ne(se.priority)}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:I(se.status)}),n.jsx("td",{className:"table-cell",children:se.technician_name?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",title:se.technician_name,children:se.technician_name}),n.jsx("div",{className:"text-sm text-gray-500 truncate",children:se.employee_id})]}):n.jsx("span",{className:"text-gray-400",children:"Unassigned"})}),n.jsxs("td",{className:"table-cell whitespace-nowrap",style:{width:"110px"},children:[n.jsx("div",{className:"text-sm text-gray-900",children:new Date(se.created_at).toLocaleDateString()}),n.jsx("div",{className:"text-sm text-gray-500",children:new Date(se.created_at).toLocaleTimeString()})]}),n.jsx("td",{className:"table-cell",onClick:le=>le.stopPropagation(),children:n.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[se.customer_phone&&n.jsx("button",{onClick:le=>Ce(le,se.customer_phone),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Call Customer",children:n.jsx(Sg,{className:"h-4 w-4 text-green-600"})}),at&&se.status!=="completed"&&se.status!=="cancelled"&&n.jsx("button",{onClick:le=>D(le,se),className:"p-1.5 hover:bg-purple-100 rounded transition-colors",title:"Quick Assign",children:n.jsx(dl,{className:"h-4 w-4 text-purple-600"})}),se.status!=="completed"&&se.status!=="cancelled"&&n.jsx("button",{onClick:le=>ye(le,se),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Mark as Completed",children:n.jsx(Ke,{className:"h-4 w-4 text-green-600"})})]})})]},se.id))})]})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(nl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tickets found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first ticket."}),n.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Create First Ticket"]})]})}),((we=(de=q==null?void 0:q.data)==null?void 0:de.tickets)==null?void 0:we.length)>0&&((_e=q==null?void 0:q.data)==null?void 0:_e.pagination)&&n.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>p(Math.min(q.data.pagination.pages,m+1)),disabled:m===q.data.pagination.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:x,onChange:se=>{g(parseInt(se.target.value)),p(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(m-1)*x+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(m*x,q.data.pagination.total)})," ","of ",n.jsx("span",{className:"font-medium",children:q.data.pagination.total})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(q.data.pagination.pages,10)},(se,le)=>{const Fe=q.data.pagination.pages;return Fe<=10||m<=5?le+1:m>=Fe-4?Fe-9+le:m-5+le}).map(se=>n.jsx("button",{onClick:()=>p(se),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${m===se?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:se},se)),n.jsx("button",{onClick:()=>p(Math.min(q.data.pagination.pages,m+1)),disabled:m===q.data.pagination.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})})]}),n.jsx(RR,{isOpen:o,onClose:()=>c(!1),onSuccess:te}),n.jsx(yue,{isOpen:u,onClose:M,ticket:f})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[n.jsx(Eg,{className:"h-24 w-24 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access Tickets."}),n.jsx("p",{className:"text-sm text-gray-500",children:"This page is for staff only."})]})},Ku={getAll:async(e={})=>{try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.area&&t.append("area",e.area),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await me.get(`/odp${r?"?"+r:""}`)}catch(t){return console.error("❌ ODPService error:",t),{data:[],pagination:{}}}},getById:async e=>await me.get(`/odp/${e}`),create:async e=>await me.post("/odp",e),update:async(e,t)=>await me.put(`/odp/${e}`,t),delete:async e=>await me.delete(`/odp/${e}`)},Ps={getPackages:async(e={})=>Ps.getAll(e),getAll:async(e={})=>{try{const t=new URLSearchParams;e.type&&t.append("type",e.type),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order),e.is_active&&t.append("is_active",e.is_active);const r=t.toString();return await me.get(`/packages${r?"?"+r:""}`)}catch(t){return console.error("❌ PackageService error:",t),{data:[],pagination:{}}}},getById:async e=>await me.get(`/packages/${e}`),create:async e=>await me.post("/packages",e),update:async(e,t)=>await me.put(`/packages/${e}`,t),delete:async e=>await me.delete(`/packages/${e}`)},j1e=({ticket:e,onUpdate:t,isLoading:r,preSelectedStatus:a,onStatusPreSelected:s})=>{var ne,oe;const{user:i}=tn(),[l,o]=w.useState(e.status),[c,u]=w.useState(e.assigned_technician_id||"");w.useEffect(()=>{a&&(o(a),s&&s())},[a,s]);const{register:d,handleSubmit:f,formState:{errors:h},reset:m,watch:p,setValue:x}=es(),{data:g,isLoading:y,error:b}=Be("odp-active",()=>Ku.getAll(),{refetchOnWindowFocus:!1,select:J=>{console.log("🔍 ODP API Response:",J);const Y=Array.isArray(J==null?void 0:J.data)?J.data:[];console.log("📦 ODP Array:",Y);const ie=Y.filter(fe=>fe.status==="active");return console.log("✅ Active ODPs:",ie),ie}}),{data:v,isLoading:j,error:N}=Be("packages-active",()=>Ps.getAll(),{refetchOnWindowFocus:!1,enabled:e.type==="upgrade"||e.type==="downgrade",select:J=>Array.isArray(J)?J:[]}),[k,_]=w.useState(null),[S,T]=w.useState(null),[C,E]=w.useState(null),[A,U]=w.useState(null),[V,ae]=w.useState(null),[q,R]=w.useState(null);w.useEffect(()=>{if(l==="completed"){const J=new Date,Y=J.getFullYear(),ie=String(J.getMonth()+1).padStart(2,"0"),fe=String(J.getDate()).padStart(2,"0"),D=String(J.getHours()).padStart(2,"0"),ye=String(J.getMinutes()).padStart(2,"0"),Ce=`${Y}-${ie}-${fe}T${D}:${ye}`;e.type==="installation"&&x("activation_date",Ce),(e.type==="repair"||e.type==="maintenance")&&x("repair_date",Ce)}},[l,e.type,x]);const{data:P,isLoading:B}=Be("available-technicians",()=>_c.getAvailableTechnicians(),{enabled:l==="assigned"}),te=[{value:"open",label:"Open",icon:Kt,color:"text-blue-600",bgColor:"bg-blue-100",description:"Ticket is open and waiting for assignment"},{value:"assigned",label:"Assigned",icon:w1,color:"text-yellow-600",bgColor:"bg-yellow-100",description:"Ticket has been assigned to a technician"},{value:"in_progress",label:"In Progress",icon:w1,color:"text-orange-600",bgColor:"bg-orange-100",description:"Work is currently being performed"},{value:"completed",label:"Completed",icon:Ke,color:"text-green-600",bgColor:"bg-green-100",description:"Work has been completed successfully"},{value:"on_hold",label:"On Hold",icon:rO,color:"text-gray-600",bgColor:"bg-gray-100",description:"Work is temporarily paused"},{value:"cancelled",label:"Cancelled",icon:kt,color:"text-red-600",bgColor:"bg-red-100",description:"Ticket has been cancelled"}],F=(()=>{const J=e.status,Y=i==null?void 0:i.role;e.assigned_technician_id;let fe={open:["assigned","cancelled"],assigned:["in_progress","on_hold","cancelled"],in_progress:["completed","on_hold","cancelled"],on_hold:["in_progress","cancelled"],completed:[],cancelled:[]}[J]||[];return J!=="in_progress"&&J!=="on_hold"&&(fe=fe.filter(D=>D!=="completed")),Y==="admin"||Y==="supervisor"?te.filter(D=>D.value===J?!0:J==="completed"||J==="cancelled"||D.value==="open"?!1:fe.includes(D.value)):Y==="technician"?te.filter(D=>D.value===J||fe.includes(D.value)):Y==="customer_service"?te.filter(D=>D.value===J||fe.includes(D.value)):te.filter(D=>D.value===J||fe.includes(D.value))})(),O=J=>new Promise((Y,ie)=>{const fe=new FileReader;fe.readAsDataURL(J),fe.onload=()=>Y(fe.result),fe.onerror=D=>ie(D)}),M=async J=>{if(console.log("=== FORM SUBMIT STARTED ==="),console.log("Form data:",J),console.log("Selected status:",l),l==="completed"&&e.type==="installation"){if(console.log("🔍 [VALIDATION] Checking required files..."),console.log("🔍 [VALIDATION] otdrFile:",A),console.log("🔍 [VALIDATION] attenuationFile:",V),console.log("🔍 [VALIDATION] modemSnFile:",q),console.log("🔍 [VALIDATION] data.otdr_photo:",J.otdr_photo),console.log("🔍 [VALIDATION] data.attenuation_photo:",J.attenuation_photo),console.log("🔍 [VALIDATION] data.modem_sn_photo:",J.modem_sn_photo),!A){console.log("❌ [VALIDATION] OTDR file missing!"),alert("Foto OTDR is required");return}if(!V){console.log("❌ [VALIDATION] Attenuation file missing!"),alert("Foto Redaman Terakhir is required");return}if(!q){console.log("❌ [VALIDATION] Modem SN file missing!"),alert("Foto SN Modem is required");return}console.log("✅ All required files validated:",{otdr:A.name,attenuation:V.name,modemSn:q.name})}if(l==="assigned"&&e.status==="open"&&!c){alert("Please select a technician when assigning the ticket for the first time");return}const Y=()=>{var et,ot;if(console.log("📝 [AUTO-NOTES] Starting auto-generation..."),console.log("📝 [AUTO-NOTES] Custom notes provided?",!!((et=J.notes)!=null&&et.trim())),J.notes&&J.notes.trim())return console.log("📝 [AUTO-NOTES] Using custom notes"),J.notes;const D=e.customer_name||"Customer",ye=e.customer_code||e.customer_id||"",Ce=e.type||"general",Pe=e.type_name||e.type||"Ticket",Me=e.ticket_number||e.id,ke=e.status,at=l;console.log("📝 [AUTO-NOTES] Context:",{customerName:D,ticketType:Ce,oldStatus:ke,newStatus:at,ticketId:Me});const $e=e.customer_address||"",Z=e.package_name||"",ce=e.bandwidth_down||e.bandwidth_up||"";let de="",we="";if(c&&((ot=P==null?void 0:P.data)!=null&&ot.technicians)){console.log("📝 [AUTO-NOTES] Looking up technician, selectedTechnician:",c),console.log("📝 [AUTO-NOTES] Available technicians:",P.data.technicians.length);const tt=P.data.technicians.find(nt=>nt.id===parseInt(c));tt?(de=tt.full_name,we=tt.employee_id,console.log("📝 [AUTO-NOTES] Found technician:",de)):console.log("📝 [AUTO-NOTES] Technician not found in list")}!de&&e.technician_name&&(de=e.technician_name,we=e.technician_employee_id||"",console.log("📝 [AUTO-NOTES] Using ticket technician:",de));const _e=tt=>{const nt=new Date(tt),_t=String(nt.getDate()).padStart(2,"0"),Zt=String(nt.getMonth()+1).padStart(2,"0"),ge=nt.getFullYear(),dt=String(nt.getHours()).padStart(2,"0"),Cr=String(nt.getMinutes()).padStart(2,"0");return`${_t}/${Zt}/${ge} ${dt}:${Cr}`},se=tt=>{const nt=new Date,_t=new Date(nt.getTime()+tt*6e4);return _e(_t)},le=tt=>({installation:"Dropcore fiber 50m, ONU/ONT, Patchcord LC-SC 3m, Rosette, Cable ties, Weatherproofing kit",maintenance:"OTDR, Power meter, Spare connectors, Cleaning kit, Patchcords",upgrade:"ONU (jika diperlukan), Configuration tools",downgrade:"Configuration tools, Billing system access",relocation:"Dropcore fiber, Patchcords, Cable management tools",troubleshooting:"OTDR, Power meter, Signal tester, Spare parts"})[tt]||"Standard technician toolkit",Fe=tt=>({installation:120,maintenance:90,upgrade:45,downgrade:30,relocation:180,troubleshooting:60})[tt]||60,ze=()=>{if(e.sla_due_date){const tt=new Date(e.sla_due_date),_t=Math.floor((tt-new Date)/(1e3*60*60)),Zt=Math.floor(_t/24);return Zt>1?`${_e(tt)} (${Zt} hari lagi)`:_t>0?`${_e(tt)} (${_t} jam lagi)`:`${_e(tt)} (⚠️ URGENT)`}return"Not set"},Xe=Ce.toLowerCase();if(at==="assigned"){if(console.log("📝 [AUTO-NOTES] Generating ASSIGNED notes, technicianName:",de),ke==="open"&&de){const tt=`📋 TICKET ASSIGNMENT

Tiket ${Pe} (${Me}) berhasil di-assign.

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}${$e?`
Lokasi: ${$e}`:""}${Z?`
Package: ${Z}`:""}

Status berubah: "${ke}" → "Assigned"

Teknisi akan segera menghubungi customer untuk koordinasi jadwal pekerjaan. Estimasi penyelesaian: ${Fe(Xe)} menit setelah mulai dikerjakan.`;return console.log("📝 [AUTO-NOTES] Generated:",tt.substring(0,100)+"..."),tt}else if(de)return`🔄 RE-ASSIGNMENT

Tiket ${Pe} (${Me}) di-assign ulang.

Teknisi Baru: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}

Status: "${ke}" → "Assigned"

Proses penanganan akan dilanjutkan oleh teknisi yang baru. Koordinasi dengan customer akan segera dilakukan.`}if(at==="in_progress"){console.log("📝 [AUTO-NOTES] Generating IN_PROGRESS notes, ticketType:",Xe);const tt=_e(new Date),nt=Fe(Xe),_t=se(nt),Zt=le(Xe);return Xe==="installation"?`🔧 INSTALLATION DIMULAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}${$e?`
Lokasi: ${$e}`:""}${Z&&ce?`
Package: ${Z} (${ce} Mbps)`:Z?`
Package: ${Z}`:""}

Equipment: ${Zt}

Timeline:
- Mulai: ${tt}
- Target selesai: ${_t} (estimasi ${nt} menit)
- SLA Deadline: ${ze()}

Status: "${ke}" → "In Progress"

Pekerjaan pemasangan fiber optic sedang berlangsung. Teknisi sedang melakukan routing kabel dan instalasi perangkat dengan monitoring signal quality.`:Xe==="maintenance"?`🔧 MAINTENANCE DIMULAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}${$e?`
Lokasi: ${$e}`:""}
Issue: ${e.category_name||"Maintenance diperlukan"}

Diagnostic Tools: ${Zt}

Timeline:
- Mulai: ${tt}
- Target resolusi: ${_t} (estimasi ${nt} menit)
- SLA Deadline: ${ze()}

Status: "${ke}" → "In Progress"

Teknisi sedang melakukan troubleshooting dan diagnosis untuk identifikasi akar masalah. Signal testing dan measurement sedang berlangsung.`:Xe==="upgrade"?`📈 UPGRADE SERVICE DIMULAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}${Z?`
New Package: ${Z}`:""}

Configuration Tools: ${Zt}

Timeline:
- Mulai: ${tt}
- Target selesai: ${_t} (estimasi ${nt} menit)
- SLA Deadline: ${ze()}

Status: "${ke}" → "In Progress"

Teknisi sedang melakukan rekonfigurasi bandwidth dan update service plan. Perubahan konfigurasi di ONU dan core network sedang berlangsung.`:Xe==="downgrade"?`📉 DOWNGRADE SERVICE DIMULAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}${Z?`
New Package: ${Z}`:""}

Timeline:
- Mulai: ${tt}
- Target selesai: ${_t} (estimasi ${nt} menit)

Status: "${ke}" → "In Progress"

Teknisi sedang melakukan adjustment bandwidth sesuai package baru. Konfigurasi service plan sedang diupdate di system.`:`🔧 PEKERJAAN DIMULAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}${$e?`
Lokasi: ${$e}`:""}
Tipe: ${Pe}

Equipment: ${Zt}

Timeline:
- Mulai: ${tt}
- Target selesai: ${_t} (estimasi ${nt} menit)
- SLA Deadline: ${ze()}

Status: "${ke}" → "In Progress"

Pekerjaan ${Pe} sedang berlangsung. Teknisi sedang aktif di lokasi customer.`}if(at==="completed"){const tt=_e(new Date);return Xe==="installation"?`✅ INSTALLATION SELESAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}
Completion: ${tt}

Installation Summary:
✓ Fiber optic installed & terminated
✓ ONU configured & activated${Z?`
✓ Service: ${Z}`:""}
✓ Signal testing completed
✓ Speed test passed
✓ Customer demo & acceptance completed

Status: "${ke}" → "Completed"

Instalasi telah selesai dengan sukses. Layanan internet sudah aktif dan customer telah menerima demo penggunaan. Ticket ditutup.`:Xe==="maintenance"?`✅ MAINTENANCE SELESAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}
Completion: ${tt}

Resolution Summary:
✓ Problem identified & resolved
✓ Signal strength restored to normal
✓ Service testing completed
✓ Connectivity stable
✓ Customer confirmation received

Status: "${ke}" → "Completed"

Masalah berhasil diselesaikan. Service kembali normal dan customer confirm satisfied. Ticket ditutup.`:Xe==="upgrade"?`✅ UPGRADE SELESAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}
Completion: ${tt}

Upgrade Summary:
✓ Bandwidth reconfigured${Z?`
✓ New package: ${Z}`:""}
✓ Speed test passed
✓ Billing system synced
✓ Customer notified

Status: "${ke}" → "Completed"

Upgrade service berhasil diselesaikan. Package baru sudah aktif dan speed sesuai target. Ticket ditutup.`:`✅ PEKERJAAN SELESAI

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}
Tipe: ${Pe}
Completion: ${tt}

Status: "${ke}" → "Completed"

${Pe} untuk ${D} telah selesai dikerjakan dengan baik. Semua pekerjaan telah diselesaikan sesuai SLA. Ticket ditutup.`}return at==="on_hold"?`⏸️ PEKERJAAN DITUNDA

Teknisi: ${de}${we?` (${we})`:""}
Customer: ${D}${ye?` (${ye})`:""}
Tipe: ${Pe}

Status: "${ke}" → "On Hold"

Pekerjaan ${Pe} ditunda sementara. Menunggu:
- Informasi tambahan dari customer, atau
- Material/equipment yang diperlukan, atau
- Konfirmasi dari dispatcher/management

Pekerjaan akan dilanjutkan setelah requirement terpenuhi. Ticket tetap di-monitor.`:at==="cancelled"?`❌ TICKET DIBATALKAN

Tiket: ${Pe} (${Me})
Customer: ${D}${ye?` (${ye})`:""}
Cancelled: ${_e(new Date)}

Status: "${ke}" → "Cancelled"

Tiket dibatalkan karena:
- Request dari customer, atau
- Tidak feasible secara teknis, atau
- Duplicate ticket, atau
- Alasan lainnya

Mohon hubungi dispatcher untuk informasi lebih lanjut jika diperlukan.`:at==="open"?`📋 TICKET DIBUKA KEMBALI

Tiket: ${Pe} (${Me})
Customer: ${D}${ye?` (${ye})`:""}${$e?`
Lokasi: ${$e}`:""}

Status: "${ke}" → "Open"

Tiket dibuka kembali dan menunggu assignment ke teknisi. Perlu tindak lanjut segera.
SLA Deadline: ${ze()}`:`📝 STATUS UPDATE

Tiket: ${Pe} (${Me})
Customer: ${D}${ye?` (${ye})`:""}

Status berubah: "${ke}" → "${at}"

${de?`Teknisi: ${de}${we?` (${we})`:""}
`:""}Update pada: ${_e(new Date)}`},ie=()=>{if(J.resolution_notes&&J.resolution_notes.trim())return J.resolution_notes;if(l!=="completed")return;const D=(e.type||"general").toLowerCase(),ye=e.customer_name||"Customer",Ce=e.package_name||"",Pe=e.bandwidth_down||e.bandwidth_up||"";switch(e.technician_name,D){case"installation":return`Installation untuk ${ye} telah selesai dengan sukses. Fiber optic telah terpasang dengan baik dan signal quality dalam kondisi optimal. ONU telah dikonfigurasi${Ce?` untuk package ${Ce}`:""}${Pe?` dengan bandwidth ${Pe} Mbps`:""}. Speed test menunjukkan hasil sesuai spesifikasi. Customer telah menerima perangkat dalam kondisi baik, menerima demo penggunaan layanan, dan menandatangani berita acara serah terima. Layanan internet sudah aktif dan berjalan normal. Tidak ada issue yang ditemukan. Ticket ditutup dengan status completed.`;case"maintenance":case"troubleshooting":return`Issue pada layanan ${ye} berhasil diselesaikan. Root cause telah diidentifikasi dan diperbaiki. Signal strength telah kembali normal dan koneksi stabil. Testing dilakukan untuk memastikan tidak ada packet loss atau latency berlebih. Service telah berjalan dengan baik dan customer confirm bahwa masalah sudah teratasi. Pekerjaan maintenance selesai tanpa kendala. Ticket ditutup dengan status resolved.`;case"upgrade":return`Upgrade package untuk ${ye} berhasil diselesaikan.${Ce?` New package ${Ce}`:" Package baru"}${Pe?` dengan bandwidth ${Pe} Mbps`:""} telah aktif dan berjalan normal. Rekonfigurasi bandwidth dilakukan di ONU dan core network. Speed test menunjukkan hasil sesuai dengan package baru. Billing system telah disinkronisasi dengan perubahan package. Customer telah diberitahu tentang perubahan layanan dan menerima konfirmasi aktivasi. Ticket ditutup dengan status completed.`;case"downgrade":return`Downgrade package untuk ${ye} berhasil diproses.${Ce?` New package ${Ce}`:" Package baru"}${Pe?` dengan bandwidth ${Pe} Mbps`:""} telah aktif. Adjustment bandwidth dilakukan sesuai permintaan customer. Service plan telah diupdate di system dan billing. Layanan berjalan normal dengan konfigurasi baru. Customer confirm perubahan package sesuai dengan yang diinginkan. Ticket ditutup dengan status completed.`;case"relocation":return`Relokasi layanan untuk ${ye} telah selesai. Perangkat telah dipindahkan ke lokasi baru dengan sukses. Fiber optic di-routing ulang dan koneksi telah di-establish dengan baik. Signal quality optimal di lokasi baru. Testing dilakukan dan semua berjalan normal. Customer confirm layanan sudah aktif di lokasi baru dan berfungsi dengan baik. Ticket ditutup dengan status completed.`;default:return`Ticket ${e.type_name||D} untuk ${ye} telah diselesaikan dengan baik. Semua pekerjaan yang diperlukan telah dikerjakan sesuai SLA. Testing telah dilakukan dan hasilnya memuaskan. Customer confirm satisfied dengan hasil pekerjaan. Tidak ada outstanding issue. Ticket ditutup dengan status completed.`}},fe={status:l,notes:Y(),work_notes:J.work_notes||void 0,resolution_notes:ie(),customer_rating:J.customer_rating||void 0,customer_feedback:J.customer_feedback||void 0};if(l==="assigned"&&c&&(fe.assigned_technician_id=parseInt(c,10),console.log("=== FRONTEND: Sending technician assignment ==="),console.log("Selected Technician:",c),console.log("Parsed Technician ID:",fe.assigned_technician_id),console.log("Ticket Current Status:",e.status),console.log("New Status:",l)),console.log("=== FRONTEND: Final Update Data ==="),console.log(JSON.stringify(fe,null,2)),l==="completed"){console.log("🔄 [SUBMIT] Converting files to base64...");const D=A?await O(A):null,ye=V?await O(V):null,Ce=q?await O(q):null;console.log("🔄 [SUBMIT] Files converted:",{otdr:D?"OK":"None",attenuation:ye?"OK":"None",modemSn:Ce?"OK":"None"});const Pe=g==null?void 0:g.find(Me=>Me.name===J.odp_location);fe.completion_data={odp_location:J.odp_location,odp_id:(Pe==null?void 0:Pe.id)||null,odp_distance:J.odp_distance,otdr_photo:D?{filename:A.name,data:D}:null,final_attenuation:J.final_attenuation,attenuation_photo:ye?{filename:V.name,data:ye}:null,wifi_name:J.wifi_name,wifi_password:J.wifi_password,activation_date:J.activation_date,modem_sn_photo:Ce?{filename:q.name,data:Ce}:null,repair_date:J.repair_date,new_category:J.new_category,new_package:J.new_package,upgrade_notes:J.upgrade_notes,downgrade_notes:J.downgrade_notes},console.log("=== FILE UPLOADS ==="),A&&console.log("OTDR Photo:",A.name,A.size,"bytes"),V&&console.log("Attenuation Photo:",V.name,V.size,"bytes"),q&&console.log("Modem SN Photo:",q.name,q.size,"bytes")}await t(fe),m()},I=F.length>1;return e.status==="completed"?n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Status"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ke,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ticket Completed"}),n.jsx("p",{className:"text-gray-600",children:"This ticket has been marked as completed and cannot be modified."}),n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Completed on: ",new Date(e.completed_at).toLocaleString()]})]})})]}):n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Status"})}),n.jsx("div",{className:"card-body",children:n.jsxs("form",{onSubmit:f(M),className:"space-y-6",children:[I&&n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"New Status"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:F.map(J=>{const Y=J.icon,ie=l===J.value,fe=e.status===J.value;return n.jsxs("label",{className:`
                        relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                        ${ie?`border-current ${J.color} ${J.bgColor}`:fe?"border-gray-400 bg-gray-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        ${fe?"opacity-75":""}
                      `,children:[n.jsx("input",{type:"radio",value:J.value,checked:l===J.value,onChange:D=>o(D.target.value),className:"sr-only",disabled:fe}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Y,{className:`h-5 w-5 mr-3 ${ie?J.color:"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:`font-medium ${ie?J.color:"text-gray-900"}`,children:[J.label,fe&&n.jsx("span",{className:"ml-2 text-xs",children:"(Current)"})]}),n.jsx("div",{className:"text-gray-500",children:J.description})]})]})}),ie&&!fe&&n.jsx("div",{className:`flex-shrink-0 ${J.color}`,children:n.jsx(Ke,{className:"h-5 w-5"})})]},J.value)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Status Update Notes"}),n.jsx("textarea",{rows:3,className:"form-input",placeholder:"Optional: Add custom notes (leave empty to auto-generate detailed message)...",...d("notes")})]}),((i==null?void 0:i.role)==="technician"||(i==null?void 0:i.role)==="admin")&&n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Work Notes"}),n.jsx("textarea",{rows:3,className:"form-input",placeholder:"Technical details about work performed...",...d("work_notes")})]}),l==="assigned"&&n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:e.status==="open"?"Assign to Technician *":"Re-assign to Technician (optional)"}),n.jsxs("select",{className:`form-input ${e.status==="open"&&!c?"border-red-500":""}`,value:c,onChange:J=>u(J.target.value),disabled:B,children:[n.jsx("option",{value:"",children:e.assigned_technician_id?"Keep current technician":"Select a technician..."}),(oe=(ne=P==null?void 0:P.data)==null?void 0:ne.technicians)==null?void 0:oe.map(J=>n.jsxs("option",{value:J.id,children:[J.full_name||J.user_full_name," (",J.employee_id||J.employee_code,") - ",J.skill_level]},J.id))]}),e.status==="open"&&!c&&n.jsx("p",{className:"form-error",children:"Technician selection is required for first assignment"})]}),l==="completed"&&n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Resolution Notes"}),n.jsx("textarea",{rows:3,className:"form-input",placeholder:"Optional: Add custom resolution notes (leave empty to auto-generate summary)...",...d("resolution_notes")})]}),l==="completed"&&n.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Completion Details"}),e.type==="installation"&&n.jsxs("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Installation Completion Fields"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Lokasi ODP *"}),n.jsxs("select",{className:`form-input ${h.odp_location?"border-red-500":""}`,...d("odp_location",{required:"Lokasi ODP is required"}),disabled:y,children:[n.jsx("option",{value:"",children:y?"Loading ODP data...":b?"Error loading ODP":!g||g.length===0?"No active ODP available":"Pilih ODP..."}),g==null?void 0:g.map(J=>n.jsxs("option",{value:J.name,children:[J.name," - ",J.location]},J.id))]}),y&&n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"⏳ Loading ODP list..."}),b&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["⚠️ Error: ",b.message||"Failed to load ODP data"]}),!y&&!b&&(g==null?void 0:g.length)===0&&n.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"⚠️ No active ODP found. Please add ODP in Master Data first."}),h.odp_location&&n.jsx("p",{className:"form-error",children:h.odp_location.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Jarak ODP (meter) *"}),n.jsx("input",{type:"number",className:`form-input ${h.odp_distance?"border-red-500":""}`,...d("odp_distance",{required:"Jarak ODP is required"})}),h.odp_distance&&n.jsx("p",{className:"form-error",children:h.odp_distance.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Redaman Terakhir (dB) *"}),n.jsx("input",{type:"number",step:"0.01",className:`form-input ${h.final_attenuation?"border-red-500":""}`,...d("final_attenuation",{required:"Redaman Terakhir is required"})}),h.final_attenuation&&n.jsx("p",{className:"form-error",children:h.final_attenuation.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Nama WiFi *"}),n.jsx("input",{type:"text",className:`form-input ${h.wifi_name?"border-red-500":""}`,...d("wifi_name",{required:"Nama WiFi is required"})}),h.wifi_name&&n.jsx("p",{className:"form-error",children:h.wifi_name.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Password WiFi *"}),n.jsx("input",{type:"text",className:`form-input ${h.wifi_password?"border-red-500":""}`,...d("wifi_password",{required:"Password WiFi is required"})}),h.wifi_password&&n.jsx("p",{className:"form-error",children:h.wifi_password.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Tanggal Aktif *"}),n.jsx("input",{type:"datetime-local",className:`form-input ${h.activation_date?"border-red-500":""}`,...d("activation_date",{required:"Tanggal Aktif is required"})}),h.activation_date&&n.jsx("p",{className:"form-error",children:h.activation_date.message})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"form-label",children:"Foto OTDR *"}),n.jsx("input",{type:"file",id:"otdr-photo-input",accept:"image/*",className:"hidden",ref:d("otdr_photo").ref,name:"otdr_photo",onChange:J=>{var ie;const Y=(ie=J.target.files)==null?void 0:ie[0];if(console.log("📁 OTDR Photo selected:",Y==null?void 0:Y.name),Y){U(Y);const fe=new FileReader;fe.onloadend=()=>{console.log("✅ OTDR Preview generated"),_(fe.result)},fe.readAsDataURL(Y),x("otdr_photo",J.target.files)}}}),k?n.jsxs("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:k,alt:"OTDR Preview",className:"w-full h-48 object-cover"}),n.jsx("button",{type:"button",onClick:()=>window.open(k,"_blank"),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Preview full size",children:n.jsxs("svg",{className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n.jsxs("div",{className:"p-3 bg-white border-t-2 border-green-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("svg",{className:"h-5 w-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-sm font-semibold text-green-700 truncate",title:A==null?void 0:A.name,children:A==null?void 0:A.name})]}),n.jsx("button",{type:"button",onClick:()=>{x("otdr_photo",null),_(null),U(null)},className:"ml-2 text-red-600 hover:text-red-700 flex-shrink-0",title:"Remove file",children:n.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",((A==null?void 0:A.size)/1024).toFixed(1)," KB"]})]})]}):n.jsxs("button",{type:"button",onClick:()=>{console.log("🎯 Triggering OTDR file picker..."),document.getElementById("otdr-photo-input").click()},className:`w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed rounded-lg transition-all ${h.otdr_photo?"border-red-500 bg-red-50 hover:bg-red-100":"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-blue-500"}`,children:[n.jsx(sl,{className:"h-5 w-5 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Klik untuk pilih Foto OTDR"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"form-label",children:"Foto Redaman Terakhir *"}),n.jsx("input",{type:"file",id:"attenuation-photo-input",accept:"image/*",className:"hidden",ref:d("attenuation_photo").ref,name:"attenuation_photo",onChange:J=>{var ie;const Y=(ie=J.target.files)==null?void 0:ie[0];if(console.log("📁 Attenuation Photo selected:",Y==null?void 0:Y.name),Y){ae(Y);const fe=new FileReader;fe.onloadend=()=>{console.log("✅ Attenuation Preview generated"),T(fe.result)},fe.readAsDataURL(Y),x("attenuation_photo",J.target.files)}}}),S?n.jsxs("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:S,alt:"Attenuation Preview",className:"w-full h-48 object-cover"}),n.jsx("button",{type:"button",onClick:()=>window.open(S,"_blank"),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Preview full size",children:n.jsxs("svg",{className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n.jsxs("div",{className:"p-3 bg-white border-t-2 border-green-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("svg",{className:"h-5 w-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-sm font-semibold text-green-700 truncate",title:V==null?void 0:V.name,children:V==null?void 0:V.name})]}),n.jsx("button",{type:"button",onClick:()=>{x("attenuation_photo",null),T(null),ae(null)},className:"ml-2 text-red-600 hover:text-red-700 flex-shrink-0",title:"Remove file",children:n.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",((V==null?void 0:V.size)/1024).toFixed(1)," KB"]})]})]}):n.jsxs("button",{type:"button",onClick:()=>{console.log("🎯 Triggering Attenuation file picker..."),document.getElementById("attenuation-photo-input").click()},className:`w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed rounded-lg transition-all ${h.attenuation_photo?"border-red-500 bg-red-50 hover:bg-red-100":"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-blue-500"}`,children:[n.jsx(sl,{className:"h-5 w-5 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Klik untuk pilih Foto Redaman"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"form-label",children:"Foto SN Modem *"}),n.jsx("input",{type:"file",id:"modem-sn-photo-input",accept:"image/*",className:"hidden",ref:d("modem_sn_photo").ref,name:"modem_sn_photo",onChange:J=>{var ie;const Y=(ie=J.target.files)==null?void 0:ie[0];if(console.log("📁 Modem SN Photo selected:",Y==null?void 0:Y.name),Y){R(Y);const fe=new FileReader;fe.onloadend=()=>{console.log("✅ Modem SN Preview generated"),E(fe.result)},fe.readAsDataURL(Y),x("modem_sn_photo",J.target.files)}}}),C?n.jsxs("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:C,alt:"Modem SN Preview",className:"w-full h-48 object-cover"}),n.jsx("button",{type:"button",onClick:()=>window.open(C,"_blank"),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Preview full size",children:n.jsxs("svg",{className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n.jsxs("div",{className:"p-3 bg-white border-t-2 border-green-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("svg",{className:"h-5 w-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-sm font-semibold text-green-700 truncate",title:q==null?void 0:q.name,children:q==null?void 0:q.name})]}),n.jsx("button",{type:"button",onClick:()=>{x("modem_sn_photo",null),E(null),R(null)},className:"ml-2 text-red-600 hover:text-red-700 flex-shrink-0",title:"Remove file",children:n.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",((q==null?void 0:q.size)/1024).toFixed(1)," KB"]})]})]}):n.jsxs("button",{type:"button",onClick:()=>{console.log("🎯 Triggering Modem SN file picker..."),document.getElementById("modem-sn-photo-input").click()},className:`w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed rounded-lg transition-all ${h.modem_sn_photo?"border-red-500 bg-red-50 hover:bg-red-100":"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-blue-500"}`,children:[n.jsx(sl,{className:"h-5 w-5 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Klik untuk pilih Foto SN Modem"})]})]})]})]}),(e.type==="repair"||e.type==="maintenance")&&n.jsxs("div",{className:"space-y-4 bg-orange-50 p-4 rounded-lg",children:[n.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[e.type==="repair"?"Repair":"Maintenance"," Completion Fields"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Lokasi ODP *"}),n.jsxs("select",{className:`form-input ${h.odp_location?"border-red-500":""}`,...d("odp_location",{required:"Lokasi ODP is required"}),disabled:y,children:[n.jsx("option",{value:"",children:y?"Loading ODP data...":b?"Error loading ODP":!g||g.length===0?"No active ODP available":"Pilih ODP..."}),g==null?void 0:g.map(J=>n.jsxs("option",{value:J.name,children:[J.name," - ",J.location]},J.id))]}),y&&n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"⏳ Loading ODP list..."}),b&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["⚠️ Error: ",b.message||"Failed to load ODP data"]}),!y&&!b&&(g==null?void 0:g.length)===0&&n.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"⚠️ No active ODP found. Please add ODP in Master Data first."}),h.odp_location&&n.jsx("p",{className:"form-error",children:h.odp_location.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Redaman Terakhir (dB) *"}),n.jsx("input",{type:"number",step:"0.01",className:`form-input ${h.final_attenuation?"border-red-500":""}`,...d("final_attenuation",{required:"Redaman Terakhir is required"})}),h.final_attenuation&&n.jsx("p",{className:"form-error",children:h.final_attenuation.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Foto Redaman Terakhir (Optional)"}),n.jsx("input",{type:"file",id:"maintenance-attenuation-photo-input",accept:"image/*",className:"hidden",ref:d("attenuation_photo").ref,name:"attenuation_photo",onChange:J=>{var ie;const Y=(ie=J.target.files)==null?void 0:ie[0];if(console.log("📁 Maintenance Attenuation Photo selected:",Y==null?void 0:Y.name),Y){ae(Y);const fe=new FileReader;fe.onloadend=()=>{console.log("✅ Maintenance Attenuation Preview generated"),T(fe.result)},fe.readAsDataURL(Y),x("attenuation_photo",J.target.files)}}}),S?n.jsxs("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:S,alt:"Attenuation Preview",className:"w-full h-48 object-cover"}),n.jsx("button",{type:"button",onClick:()=>window.open(S,"_blank"),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Preview full size",children:n.jsxs("svg",{className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n.jsxs("div",{className:"p-3 bg-white border-t-2 border-green-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("svg",{className:"h-5 w-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-sm font-semibold text-green-700 truncate",title:V==null?void 0:V.name,children:V==null?void 0:V.name})]}),n.jsx("button",{type:"button",onClick:()=>{x("attenuation_photo",null),T(null),ae(null)},className:"ml-2 text-red-600 hover:text-red-700 flex-shrink-0",title:"Remove file",children:n.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",((V==null?void 0:V.size)/1024).toFixed(1)," KB"]})]})]}):n.jsxs("button",{type:"button",onClick:()=>{console.log("🎯 Triggering Maintenance Attenuation file picker..."),document.getElementById("maintenance-attenuation-photo-input").click()},className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed rounded-lg transition-all border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-orange-500",children:[n.jsx(sl,{className:"h-5 w-5 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Klik untuk pilih Foto Redaman (Optional)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Nama WiFi"}),n.jsx("input",{type:"text",className:"form-input",...d("wifi_name")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Password WiFi"}),n.jsx("input",{type:"text",className:"form-input",...d("wifi_password")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Tanggal Perbaikan *"}),n.jsx("input",{type:"datetime-local",className:`form-input ${h.repair_date?"border-red-500":""}`,...d("repair_date",{required:"Tanggal Perbaikan is required"})}),h.repair_date&&n.jsx("p",{className:"form-error",children:h.repair_date.message})]})]})]}),e.type==="upgrade"&&n.jsxs("div",{className:"space-y-4 bg-green-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:"Upgrade Completion Fields"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Paket Baru *"}),n.jsxs("select",{className:`form-input ${h.new_package?"border-red-500":""}`,...d("new_package",{required:"Paket baru is required"}),disabled:j,children:[n.jsx("option",{value:"",children:j?"Loading packages...":"Pilih Paket Baru..."}),v==null?void 0:v.map(J=>{var Y;return n.jsxs("option",{value:J.name||J.package_name,children:[J.name||J.package_name," - ",J.speed_mbps||J.speed," Mbps - Rp ",(Y=J.price||J.monthly_price)==null?void 0:Y.toLocaleString("id-ID")]},J.id)})]}),N&&n.jsxs("p",{className:"form-error",children:["Error loading packages: ",N.message]}),!j&&v&&v.length===0&&n.jsx("p",{className:"text-xs text-amber-600",children:"No active packages available"}),h.new_package&&n.jsx("p",{className:"form-error",children:h.new_package.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Catatan Upgrade"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"e.g., Dari 100 Mbps ke 200 Mbps",...d("upgrade_notes")})]})]})]}),e.type==="downgrade"&&n.jsxs("div",{className:"space-y-4 bg-amber-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Downgrade Completion Fields"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Paket Baru *"}),n.jsxs("select",{className:`form-input ${h.new_package?"border-red-500":""}`,...d("new_package",{required:"Paket baru is required"}),disabled:j,children:[n.jsx("option",{value:"",children:j?"Loading packages...":"Pilih Paket Baru..."}),v==null?void 0:v.map(J=>{var Y;return n.jsxs("option",{value:J.name||J.package_name,children:[J.name||J.package_name," - ",J.speed_mbps||J.speed," Mbps - Rp ",(Y=J.price||J.monthly_price)==null?void 0:Y.toLocaleString("id-ID")]},J.id)})]}),N&&n.jsxs("p",{className:"form-error",children:["Error loading packages: ",N.message]}),!j&&v&&v.length===0&&n.jsx("p",{className:"text-xs text-amber-600",children:"No active packages available"}),h.new_package&&n.jsx("p",{className:"form-error",children:h.new_package.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Catatan Downgrade"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"e.g., Dari 200 Mbps ke 100 Mbps",...d("downgrade_notes")})]})]})]}),e.type==="wifi_setup"&&n.jsxs("div",{className:"space-y-4 bg-purple-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-900",children:"WiFi Setup Completion Fields"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Nama WiFi *"}),n.jsx("input",{type:"text",className:`form-input ${h.wifi_name?"border-red-500":""}`,...d("wifi_name",{required:"Nama WiFi is required"})}),h.wifi_name&&n.jsx("p",{className:"form-error",children:h.wifi_name.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Password WiFi *"}),n.jsx("input",{type:"text",className:`form-input ${h.wifi_password?"border-red-500":""}`,...d("wifi_password",{required:"Password WiFi is required"})}),h.wifi_password&&n.jsx("p",{className:"form-error",children:h.wifi_password.message})]})]})]})]}),l==="completed"&&(i==null?void 0:i.role)!=="technician"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Customer Rating"}),n.jsxs("select",{className:"form-input",...d("customer_rating"),children:[n.jsx("option",{value:"",children:"No rating"}),n.jsx("option",{value:"5",children:"⭐⭐⭐⭐⭐ Excellent"}),n.jsx("option",{value:"4",children:"⭐⭐⭐⭐ Good"}),n.jsx("option",{value:"3",children:"⭐⭐⭐ Average"}),n.jsx("option",{value:"2",children:"⭐⭐ Poor"}),n.jsx("option",{value:"1",children:"⭐ Very Poor"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Customer Feedback"}),n.jsx("textarea",{rows:2,className:"form-input",placeholder:"Customer comments about the service...",...d("customer_feedback")})]})]}),n.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:n.jsx("button",{type:"submit",disabled:r||!I&&l===e.status,className:"btn-primary",children:r?n.jsxs(n.Fragment,{children:[n.jsx(St,{size:"sm",className:"mr-2"}),"Updating..."]}):"Update Status"})})]})})]})},Fo=({to:e,label:t})=>n.jsxs(No,{to:e,className:"btn-outline",children:[n.jsx(Q5,{className:"h-4 w-4 mr-2"}),t]}),N1e=()=>{var y,b;const{id:e}=K0(),{user:t}=tn(),r=qt(),[a,s]=w.useState("details"),[i,l]=w.useState(null),{data:o,isLoading:c,error:u}=Be(["ticket",e],()=>Un.getTicket(e),{enabled:!!e}),d=jt(v=>Un.updateTicketStatus(e,v),{onSuccess:()=>{r.invalidateQueries(["ticket",e]),r.invalidateQueries(["tickets"]),ee.success("Ticket status updated successfully!")},onError:v=>{var j,N;ee.error(((N=(j=v.response)==null?void 0:j.data)==null?void 0:N.message)||"Failed to update ticket status")}}),f=(y=o==null?void 0:o.data)==null?void 0:y.ticket,h=v=>{const j={open:{class:"badge-info",label:"Open",icon:Kt},assigned:{class:"badge-warning",label:"Assigned",icon:Ft},in_progress:{class:"badge-warning",label:"In Progress",icon:Kt},completed:{class:"badge-success",label:"Completed",icon:Ke},cancelled:{class:"badge-gray",label:"Cancelled",icon:$t},on_hold:{class:"badge-gray",label:"On Hold",icon:Kt}},N=j[v]||j.open,k=N.icon;return n.jsxs("span",{className:`badge ${N.class} inline-flex items-center`,children:[n.jsx(k,{className:"h-3 w-3 mr-1"}),N.label]})},m=v=>{const j={low:{class:"badge-gray",label:"Low"},normal:{class:"badge-info",label:"Normal"},high:{class:"badge-warning",label:"High"},critical:{class:"badge-danger",label:"Critical"}},N=j[v]||j.normal;return n.jsx("span",{className:`badge ${N.class}`,children:N.label})},p=v=>v?new Date(v).toLocaleString():"Not set",x=(v,j)=>{if(!v||!j)return null;const N=new Date(v),_=new Date(j)-N,S=Math.floor(_/(1e3*60*60)),T=Math.floor(_%(1e3*60*60)/(1e3*60));return`${S}h ${T}m`};if(c)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(St,{size:"lg"})});if(u||!f)return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(Fo,{to:"/tickets",label:"Back to Tickets"})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body text-center py-12",children:[n.jsx($t,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ticket Not Found"}),n.jsx("p",{className:"text-gray-500",children:"The ticket you're looking for doesn't exist or you don't have permission to view it."})]})})]});const g=[{id:"details",label:"Details",icon:Pi},{id:"status",label:"Update Status",icon:Kt},{id:"history",label:"History",icon:br}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Fo,{to:"/tickets",label:"Back to Tickets"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(nl,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-lg font-mono font-semibold border border-blue-200",children:f.ticket_number})]}),n.jsx("p",{className:"text-gray-600",children:f.title})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[h(f.status),m(f.priority)]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[f.customer_numeric_id&&n.jsx(No,{to:`/customers/${f.customer_numeric_id}`,className:"card hover:shadow-lg transition-shadow cursor-pointer",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ft,{className:"h-8 w-8 text-blue-600 bg-blue-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.customer_name}),f.customer_code&&n.jsx("p",{className:"text-xs text-gray-500 font-mono",children:f.customer_code})]})]})})}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Kt,{className:"h-8 w-8 text-green-600 bg-green-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Created"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(f.created_at).toLocaleDateString()})]})]})})}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(br,{className:"h-8 w-8 text-orange-600 bg-orange-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"SLA Due"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.sla_due_date?new Date(f.sla_due_date).toLocaleDateString():"Not set"})]})]})})}),f.assigned_technician_id?n.jsx(No,{to:`/technicians/${f.assigned_technician_id}`,className:"card hover:shadow-lg transition-shadow cursor-pointer",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ft,{className:"h-8 w-8 text-purple-600 bg-purple-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Technician"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.technician_name}),n.jsx("p",{className:"text-xs text-gray-500",children:f.employee_id})]})]})})}):n.jsx("div",{className:"card",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ft,{className:"h-8 w-8 text-purple-600 bg-purple-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Technician"}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Unassigned"})]})]})})})]}),!["completed","cancelled"].includes(f.status)&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ke,{className:"h-5 w-5 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quick Actions:"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[f.status==="open"&&t&&n.jsxs("button",{onClick:()=>{d.mutate({status:"assigned",technician_id:t.id,notes:"Self-assigned via quick action"})},disabled:d.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Ft,{className:"h-4 w-4"}),"Assign to Me"]}),f.status==="assigned"&&n.jsxs("button",{onClick:()=>{d.mutate({status:"in_progress",notes:"Started working on ticket"})},disabled:d.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Vp,{className:"h-4 w-4"}),"Start Progress"]}),f.status==="in_progress"&&n.jsxs("button",{onClick:()=>{l("completed"),s("status"),window.scrollTo({top:0,behavior:"smooth"})},disabled:d.isLoading,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Ke,{className:"h-4 w-4"}),"Complete Ticket"]}),["open","assigned","in_progress"].includes(f.status)&&n.jsxs("button",{onClick:()=>{d.mutate({status:"on_hold",notes:"Put on hold via quick action"})},disabled:d.isLoading,className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Kt,{className:"h-4 w-4"}),"Put On Hold"]}),f.status!=="cancelled"&&n.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to cancel this ticket?")&&d.mutate({status:"cancelled",notes:"Cancelled via quick action"})},disabled:d.isLoading,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(kt,{className:"h-4 w-4"}),"Cancel"]})]})]})}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:g.map(v=>{const j=v.icon;return n.jsxs("button",{onClick:()=>s(v.id),className:`
                  flex items-center py-2 px-1 border-b-2 font-medium text-sm
                  ${a===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[n.jsx(j,{className:"h-4 w-4 mr-2"}),v.label]},v.id)})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[a==="details"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ticket Information"})}),n.jsx("div",{className:"card-body",children:n.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Type"}),n.jsx("dd",{className:"text-sm text-gray-900",children:f.service_type_name||f.type})]}),(f.category_name||f.category)&&f.category!=="Not specified"&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Category"}),n.jsx("dd",{className:"text-sm text-gray-900",children:f.category_name||f.category})]}),f.scheduled_date&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Scheduled Date"}),n.jsx("dd",{className:"text-sm text-gray-900",children:p(f.scheduled_date)})]}),f.estimated_duration&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Estimated Duration"}),n.jsxs("dd",{className:"text-sm text-gray-900",children:[f.estimated_duration," minutes"]})]}),f.started_at&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Started At"}),n.jsx("dd",{className:"text-sm text-gray-900",children:p(f.started_at)})]}),f.completed_at&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Completed At"}),n.jsx("dd",{className:"text-sm text-gray-900",children:p(f.completed_at)})]}),f.started_at&&f.completed_at&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Actual Duration"}),n.jsx("dd",{className:"text-sm text-gray-900",children:x(f.started_at,f.completed_at)})]})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Description"})}),n.jsx("div",{className:"card-body",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:f.description})})]}),f.work_notes&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Work Notes"})}),n.jsx("div",{className:"card-body",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:f.work_notes})})]}),f.resolution_notes&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resolution"})}),n.jsxs("div",{className:"card-body",children:[n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:f.resolution_notes}),f.customer_rating&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Customer Rating:"}),n.jsxs("div",{className:"flex items-center",children:["⭐".repeat(f.customer_rating),n.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",f.customer_rating,"/5)"]})]})]}),f.customer_feedback&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Feedback:"}),n.jsxs("p",{className:"text-sm text-gray-900 italic",children:['"',f.customer_feedback,'"']})]})]})]})]}),f.completion_data&&f.status==="completed"&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Completion Details"})}),n.jsxs("div",{className:"card-body",children:[n.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.completion_data.odp_location&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Lokasi ODP"}),n.jsx("dd",{className:"text-sm text-gray-900",children:f.completion_data.odp_location})]}),f.completion_data.odp_distance&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Jarak ODP"}),n.jsxs("dd",{className:"text-sm text-gray-900",children:[f.completion_data.odp_distance," meter"]})]}),f.completion_data.final_attenuation&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Redaman Terakhir"}),n.jsxs("dd",{className:"text-sm text-gray-900",children:[f.completion_data.final_attenuation," dB"]})]}),f.completion_data.wifi_name&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Nama WiFi"}),n.jsx("dd",{className:"text-sm text-gray-900",children:f.completion_data.wifi_name})]}),f.completion_data.wifi_password&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Password WiFi"}),n.jsx("dd",{className:"text-sm text-gray-900 font-mono",children:f.completion_data.wifi_password})]}),f.completion_data.activation_date&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Tanggal Aktif"}),n.jsx("dd",{className:"text-sm text-gray-900",children:p(f.completion_data.activation_date)})]}),f.completion_data.repair_date&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Tanggal Perbaikan"}),n.jsx("dd",{className:"text-sm text-gray-900",children:p(f.completion_data.repair_date)})]}),f.completion_data.new_category&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"New Category"}),n.jsx("dd",{className:"text-sm text-gray-900",children:f.completion_data.new_category})]})]}),(f.completion_data.otdr_photo||f.completion_data.attenuation_photo||f.completion_data.modem_sn_photo)&&n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Foto Dokumentasi"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.completion_data.otdr_photo&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Foto OTDR"}),n.jsxs("a",{href:`${"https://portal.aglis.biz.id/api".replace("/api","")}${f.completion_data.otdr_photo.url}`,target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-300 rounded-lg overflow-hidden hover:border-blue-500 transition-colors",children:[n.jsx("img",{src:`${"https://portal.aglis.biz.id/api".replace("/api","")}${f.completion_data.otdr_photo.url}`,alt:"OTDR Photo",className:"w-full h-32 object-cover",onError:v=>console.error("Failed to load OTDR photo:",f.completion_data.otdr_photo.url)}),n.jsx("div",{className:"p-2 bg-gray-50",children:n.jsx("p",{className:"text-xs text-gray-600 truncate",children:f.completion_data.otdr_photo.filename})})]})]}),f.completion_data.attenuation_photo&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Foto Redaman"}),n.jsxs("a",{href:`${"https://portal.aglis.biz.id/api".replace("/api","")}${f.completion_data.attenuation_photo.url}`,target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-300 rounded-lg overflow-hidden hover:border-blue-500 transition-colors",children:[n.jsx("img",{src:`${"https://portal.aglis.biz.id/api".replace("/api","")}${f.completion_data.attenuation_photo.url}`,alt:"Attenuation Photo",className:"w-full h-32 object-cover",onError:v=>console.error("Failed to load Attenuation photo:",f.completion_data.attenuation_photo.url)}),n.jsx("div",{className:"p-2 bg-gray-50",children:n.jsx("p",{className:"text-xs text-gray-600 truncate",children:f.completion_data.attenuation_photo.filename})})]})]}),f.completion_data.modem_sn_photo&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Foto SN Modem"}),n.jsxs("a",{href:`${"https://portal.aglis.biz.id/api".replace("/api","")}${f.completion_data.modem_sn_photo.url}`,target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-300 rounded-lg overflow-hidden hover:border-blue-500 transition-colors",children:[n.jsx("img",{src:`${"https://portal.aglis.biz.id/api".replace("/api","")}${f.completion_data.modem_sn_photo.url}`,alt:"Modem SN Photo",className:"w-full h-32 object-cover",onError:v=>console.error("Failed to load Modem SN photo:",f.completion_data.modem_sn_photo.url)}),n.jsx("div",{className:"p-2 bg-gray-50",children:n.jsx("p",{className:"text-xs text-gray-600 truncate",children:f.completion_data.modem_sn_photo.filename})})]})]})]})]})]})]})]}),a==="status"&&n.jsx(j1e,{ticket:f,onUpdate:d.mutate,isLoading:d.isLoading,preSelectedStatus:i,onStatusPreSelected:()=>l(null)}),a==="history"&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status History"}),n.jsxs("span",{className:"text-sm text-gray-500",children:[((b=f.status_history)==null?void 0:b.length)||0," changes"]})]})}),n.jsx("div",{className:"card-body",children:f.status_history&&f.status_history.length>0?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),n.jsx("div",{className:"space-y-6",children:f.status_history.map((v,j)=>{const N={open:{icon:Pi,color:"blue",bg:"bg-blue-100",border:"border-blue-200"},assigned:{icon:Ft,color:"indigo",bg:"bg-indigo-100",border:"border-indigo-200"},in_progress:{icon:Vp,color:"yellow",bg:"bg-yellow-100",border:"border-yellow-200"},on_hold:{icon:Kt,color:"purple",bg:"bg-purple-100",border:"border-purple-200"},completed:{icon:Ke,color:"green",bg:"bg-green-100",border:"border-green-200"},cancelled:{icon:kt,color:"red",bg:"bg-red-100",border:"border-red-200"}},k=N[v.new_status]||N.open,_=k.icon,S=f.status_history[j+1],T=S?x(v.created_at,S.created_at):null;return n.jsxs("div",{className:"relative flex items-start space-x-4",children:[n.jsx("div",{className:"relative flex-shrink-0 z-10",children:n.jsx("div",{className:`h-10 w-10 ${k.bg} rounded-full flex items-center justify-center border-2 ${k.border} shadow-sm`,children:n.jsx(_,{className:`h-5 w-5 text-${k.color}-600`})})}),n.jsxs("div",{className:"flex-1 min-w-0 bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.old_status&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:v.old_status.replace("_"," ")}),n.jsx("span",{className:"text-gray-400",children:"→"})]}),h(v.new_status),T&&n.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:["Duration: ",T]})]}),n.jsxs("span",{className:"text-xs text-gray-400",children:["#",j+1]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ft,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-medium",children:v.changed_by_name})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(br,{className:"h-3.5 w-3.5"}),n.jsx("span",{children:p(v.created_at)})]})]}),v.technician_name&&n.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-blue-50 rounded border-l-2 border-blue-400",children:[n.jsx(Ft,{className:"h-4 w-4 text-blue-600"}),n.jsxs("span",{className:"text-sm text-blue-900",children:[n.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",v.technician_name,n.jsxs("span",{className:"text-xs text-blue-600 ml-1",children:["(",v.technician_employee_id,")"]})]})]}),v.notes&&n.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded border-l-2 border-gray-300",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Pi,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:v.notes})]})})]})]},v.id)})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Kt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No status history available"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Status changes will appear here"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[f.package_name&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Information"})}),n.jsxs("div",{className:"card-body space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Jt,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.package_name}),n.jsx("p",{className:"text-sm text-gray-500",children:f.service_type})]})]}),f.bandwidth_down&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Bandwidth"}),n.jsxs("span",{className:"text-sm font-medium",children:[n.jsxs("span",{className:"text-blue-600",children:["↑ ",f.bandwidth_up||f.bandwidth_down]}),n.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),n.jsxs("span",{className:"text-green-600",children:["↓ ",f.bandwidth_down]}),n.jsx("span",{className:"text-gray-900 ml-1",children:"Mbps"})]})]}),f.monthly_price&&n.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Monthly Price"}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Rp ",parseInt(f.monthly_price).toLocaleString("id-ID")]})]})]})]}),f.equipment_needed&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Equipment Needed"})}),n.jsx("div",{className:"card-body",children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:f.equipment_needed})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attachments"})}),n.jsx("div",{className:"card-body",children:f.attachments&&f.attachments.length>0?n.jsx("div",{className:"space-y-2",children:f.attachments.map(v=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Pi,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-900",children:v.original_filename})]}),n.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:n.jsx(ko,{className:"h-4 w-4"})})]},v.id))}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx(sl,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"No attachments"})]})})]})]})]})]})},k1e=({customer:e=null,isOpen:t,onClose:r,onSuccess:a})=>{var v,j;const s=!!e,[i,l]=w.useState({customer_id:"",name:"",ktp:"",phone:"",phone_alt:"",email:"",address:"",latitude:"",longitude:"",odp:"",pic_name:"",pic_position:"",pic_phone:"",business_type:"residential",operating_hours:"",customer_type:"regular",payment_type:"postpaid",service_type:"broadband",package_id:"",subscription_start_date:new Date().toISOString().split("T")[0],billing_cycle:"monthly",ip_address:"",ip_type:"dynamic",notes:""}),[o,c]=w.useState({}),[u,d]=w.useState(!1),[f,h]=w.useState("basic"),{data:m,isLoading:p}=Be("packages-list",()=>Ps.getPackages({is_active:"true"}),{enabled:t,staleTime:3e5});w.useEffect(()=>{l(e?{customer_id:e.customer_id||"",name:e.name||"",ktp:e.ktp||"",phone:e.phone||"",phone_alt:e.phone_alt||"",email:e.email||"",address:e.address||"",latitude:e.latitude||"",longitude:e.longitude||"",odp:e.odp||"",pic_name:e.pic_name||"",pic_position:e.pic_position||"",pic_phone:e.pic_phone||"",business_type:e.business_type||"residential",operating_hours:e.operating_hours||"",customer_type:e.customer_type||"regular",payment_type:e.payment_type||"postpaid",service_type:e.service_type||"broadband",package_id:e.package_id||"",subscription_start_date:e.subscription_start_date?new Date(e.subscription_start_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],billing_cycle:e.billing_cycle||"monthly",ip_address:e.ip_address||"",ip_type:e.ip_type||"dynamic",notes:e.notes||""}:{customer_id:"",name:"",ktp:"",phone:"",phone_alt:"",email:"",address:"",latitude:"",longitude:"",odp:"",pic_name:"",pic_position:"",pic_phone:"",business_type:"residential",operating_hours:"",customer_type:"regular",payment_type:"postpaid",service_type:"broadband",package_id:"",subscription_start_date:new Date().toISOString().split("T")[0],billing_cycle:"monthly",ip_address:"",ip_type:"dynamic",notes:""}),c({})},[e,t]);const x=(N,k)=>{l(_=>({..._,[N]:k})),o[N]&&c(_=>({..._,[N]:null}))},g=()=>{const N={};return i.customer_id.trim()||(N.customer_id="Customer ID is required"),i.name.trim()||(N.name="Name is required"),i.phone.trim()||(N.phone="Phone is required"),i.address.trim()||(N.address="Address is required"),i.package_id||(N.package_id="Package is required"),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(N.email="Invalid email format"),i.ktp&&!/^\d{16}$/.test(i.ktp)&&(N.ktp="KTP must be 16 digits"),i.phone&&!/^[0-9+\-\s()]+$/.test(i.phone)&&(N.phone="Invalid phone format"),i.latitude&&(isNaN(i.latitude)||Math.abs(i.latitude)>90)&&(N.latitude="Invalid latitude (-90 to 90)"),i.longitude&&(isNaN(i.longitude)||Math.abs(i.longitude)>180)&&(N.longitude="Invalid longitude (-180 to 180)"),c(N),Object.keys(N).length===0},y=async N=>{var k,_,S,T;if(N.preventDefault(),!g()){ee.error("Please fix the validation errors");return}d(!0);try{const C={...i,latitude:i.latitude?parseFloat(i.latitude):null,longitude:i.longitude?parseFloat(i.longitude):null,package_id:parseInt(i.package_id)};let E;s?(E=await vr.updateCustomer(e.id,C),ee.success("Customer updated successfully")):(E=await vr.createCustomer(C),ee.success("Customer created successfully")),a==null||a(E.data),r()}catch(C){console.error("Submit error:",C);const E=((_=(k=C.response)==null?void 0:k.data)==null?void 0:_.message)||"Failed to save customer";if(ee.error(E),(T=(S=C.response)==null?void 0:S.data)!=null&&T.errors){const A={};C.response.data.errors.forEach(U=>{A[U.path||U.param]=U.msg}),c(A)}}finally{d(!1)}},b=[{id:"basic",label:"Basic Info",icon:Ft},{id:"contact",label:"Contact & Location",icon:Aa},{id:"service",label:"Service & Package",icon:Jt},{id:"technical",label:"Technical",icon:al}];return t?n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsxs("div",{className:"relative top-4 mx-auto p-0 border w-full max-w-4xl shadow-lg rounded-lg bg-white mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s?"Edit Customer":"Create New Customer"}),n.jsx("p",{className:"text-sm text-gray-500",children:s?"Update customer information":"Fill in the customer details below"})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:b.map(N=>{const k=N.icon;return n.jsxs("button",{onClick:()=>h(N.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${f===N.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(k,{className:"h-4 w-4 mr-2"}),N.label,(N.id==="basic"&&(o.customer_id||o.name||o.ktp)||N.id==="contact"&&(o.phone||o.email||o.address||o.latitude||o.longitude)||N.id==="service"&&o.package_id||N.id==="technical"&&o.ip_address)&&n.jsx($t,{className:"h-3 w-3 ml-1 text-red-500"})]},N.id)})})}),n.jsxs("form",{onSubmit:y,className:"p-6",children:[f==="basic"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer ID *"}),n.jsx("input",{type:"text",value:i.customer_id,onChange:N=>x("customer_id",N.target.value),className:`input-field ${o.customer_id?"border-red-500":""}`,placeholder:"e.g., CUST001",disabled:s}),o.customer_id&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.customer_id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",value:i.name,onChange:N=>x("name",N.target.value),className:`input-field ${o.name?"border-red-500":""}`,placeholder:"Enter full name"}),o.name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KTP Number"}),n.jsx("input",{type:"text",value:i.ktp,onChange:N=>x("ktp",N.target.value),className:`input-field ${o.ktp?"border-red-500":""}`,placeholder:"16 digit KTP number",maxLength:16}),o.ktp&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.ktp})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),n.jsxs("select",{value:i.business_type,onChange:N=>x("business_type",N.target.value),className:"input-field",children:[n.jsx("option",{value:"residential",children:"Residential"}),n.jsx("option",{value:"office",children:"Office"}),n.jsx("option",{value:"shop",children:"Shop"}),n.jsx("option",{value:"factory",children:"Factory"}),n.jsx("option",{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",value:i.operating_hours,onChange:N=>x("operating_hours",N.target.value),className:"input-field",placeholder:"e.g., 08:00-17:00 or 24/7"})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Person in Charge (PIC)"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIC Name"}),n.jsx("input",{type:"text",value:i.pic_name,onChange:N=>x("pic_name",N.target.value),className:"input-field",placeholder:"Contact person name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIC Position"}),n.jsx("input",{type:"text",value:i.pic_position,onChange:N=>x("pic_position",N.target.value),className:"input-field",placeholder:"e.g., Manager, Owner"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIC Phone"}),n.jsx("input",{type:"text",value:i.pic_phone,onChange:N=>x("pic_phone",N.target.value),className:"input-field",placeholder:"PIC phone number"})]})]})]})]}),f==="contact"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Phone *"}),n.jsx("input",{type:"text",value:i.phone,onChange:N=>x("phone",N.target.value),className:`input-field ${o.phone?"border-red-500":""}`,placeholder:"Primary phone number"}),o.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alternative Phone"}),n.jsx("input",{type:"text",value:i.phone_alt,onChange:N=>x("phone_alt",N.target.value),className:"input-field",placeholder:"Alternative phone number"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:i.email,onChange:N=>x("email",N.target.value),className:`input-field ${o.email?"border-red-500":""}`,placeholder:"Email address"}),o.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Address *"}),n.jsx("textarea",{value:i.address,onChange:N=>x("address",N.target.value),className:`input-field ${o.address?"border-red-500":""}`,rows:3,placeholder:"Complete address including RT/RW, Kelurahan, Kecamatan, City, Postal Code"}),o.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.address})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),n.jsx("input",{type:"number",step:"any",value:i.latitude,onChange:N=>x("latitude",N.target.value),className:`input-field ${o.latitude?"border-red-500":""}`,placeholder:"e.g., -6.200000"}),o.latitude&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.latitude})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),n.jsx("input",{type:"number",step:"any",value:i.longitude,onChange:N=>x("longitude",N.target.value),className:`input-field ${o.longitude?"border-red-500":""}`,placeholder:"e.g., 106.816666"}),o.longitude&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.longitude})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ODP"}),n.jsx("input",{type:"text",value:i.odp,onChange:N=>x("odp",N.target.value),className:"input-field",placeholder:"e.g., ODP-JKT-001-A12"})]})]})]}),f==="service"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Type"}),n.jsxs("select",{value:i.customer_type,onChange:N=>x("customer_type",N.target.value),className:"input-field",children:[n.jsx("option",{value:"regular",children:"Regular"}),n.jsx("option",{value:"non-regular",children:"Non-Regular"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),n.jsxs("select",{value:i.payment_type,onChange:N=>x("payment_type",N.target.value),className:"input-field",children:[n.jsx("option",{value:"postpaid",children:"Postpaid"}),n.jsx("option",{value:"prepaid",children:"Prepaid"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),n.jsxs("select",{value:i.service_type,onChange:N=>x("service_type",N.target.value),className:"input-field",children:[n.jsx("option",{value:"broadband",children:"Broadband"}),n.jsx("option",{value:"dedicated",children:"Dedicated"}),n.jsx("option",{value:"corporate",children:"Corporate"}),n.jsx("option",{value:"mitra",children:"Mitra"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Internet Package *"}),p?n.jsx("div",{className:"input-field flex items-center justify-center",children:n.jsx(St,{size:"sm"})}):n.jsxs("select",{value:i.package_id,onChange:N=>x("package_id",N.target.value),className:`input-field ${o.package_id?"border-red-500":""}`,children:[n.jsx("option",{value:"",children:"Select Package"}),(j=(v=m==null?void 0:m.data)==null?void 0:v.packages)==null?void 0:j.map(N=>n.jsxs("option",{value:N.id,children:[N.package_name," - ",N.bandwidth_down," Mbps - ",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(N.monthly_price)]},N.id))]}),o.package_id&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.package_id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscription Start Date"}),n.jsx("input",{type:"date",value:i.subscription_start_date,onChange:N=>x("subscription_start_date",N.target.value),className:"input-field"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Billing Cycle"}),n.jsxs("select",{value:i.billing_cycle,onChange:N=>x("billing_cycle",N.target.value),className:"input-field",children:[n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"quarterly",children:"Quarterly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]})]})]})}),f==="technical"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IP Address"}),n.jsx("input",{type:"text",value:i.ip_address,onChange:N=>x("ip_address",N.target.value),className:"input-field",placeholder:"e.g., 192.168.1.100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IP Type"}),n.jsxs("select",{value:i.ip_type,onChange:N=>x("ip_type",N.target.value),className:"input-field",children:[n.jsx("option",{value:"dynamic",children:"Dynamic"}),n.jsx("option",{value:"static",children:"Static"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{value:i.notes,onChange:N=>x("notes",N.target.value),className:"input-field",rows:4,placeholder:"Additional notes about the customer..."})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 mt-8",children:[n.jsx("button",{type:"button",onClick:r,className:"btn-secondary",disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?n.jsxs(n.Fragment,{children:[n.jsx(St,{size:"sm",className:"mr-2"}),s?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Cg,{className:"h-4 w-4 mr-2"}),s?"Update Customer":"Create Customer"]})})]})]})]})}):null},ga=({isOpen:e,onClose:t,onConfirm:r,title:a="Konfirmasi",message:s="Apakah Anda yakin?",confirmText:i="Ya, Lanjutkan",cancelText:l="Batal",type:o="info",isLoading:c=!1,children:u})=>{if(!e)return null;const d={danger:{icon:$t,bgColor:"bg-red-100",iconColor:"text-red-600",buttonColor:"bg-red-600 hover:bg-red-700",borderColor:"border-red-200"},warning:{icon:Es,bgColor:"bg-yellow-100",iconColor:"text-yellow-600",buttonColor:"bg-yellow-600 hover:bg-yellow-700",borderColor:"border-yellow-200"},success:{icon:Ke,bgColor:"bg-green-100",iconColor:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700",borderColor:"border-green-200"},info:{icon:f0,bgColor:"bg-blue-100",iconColor:"text-blue-600",buttonColor:"bg-blue-600 hover:bg-blue-700",borderColor:"border-blue-200"}},f=d[o]||d.info,h=f.icon,m=()=>{c||r()},p=()=>{c||t()};return n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:p}),n.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[n.jsx("button",{onClick:p,disabled:c,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:n.jsx(hr,{className:"h-6 w-6"})}),n.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:n.jsxs("div",{className:"sm:flex sm:items-start",children:[n.jsx("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${f.bgColor} sm:mx-0 sm:h-10 sm:w-10`,children:n.jsx(h,{className:`h-6 w-6 ${f.iconColor}`})}),n.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 pr-8",children:a}),n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-500",children:s}),u&&n.jsx("div",{className:"mt-3",children:u})]})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-3",children:[n.jsx("button",{type:"button",disabled:c,onClick:m,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white ${f.buttonColor} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):i}),n.jsx("button",{type:"button",disabled:c,onClick:p,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l})]})]})]})]})},_1e=({isOpen:e,onClose:t,onExport:r,totalCount:a=0,filteredCount:s=0,selectedCount:i=0,availableColumns:l=[]})=>{const[o,c]=w.useState("filtered"),[u,d]=w.useState("xlsx"),[f,h]=w.useState(l.filter(j=>j.defaultSelected!==!1).map(j=>j.key)),[m,p]=w.useState(!1),x=j=>{h(N=>N.includes(j)?N.filter(k=>k!==j):[...N,j])},g=()=>{h(l.map(j=>j.key))},y=()=>{h([])},b=async()=>{if(f.length===0){alert("Pilih minimal 1 kolom untuk di-export");return}p(!0);try{await r({type:o,format:u,columns:f})}finally{p(!1),t()}};if(!e)return null;const v=[{value:"all",label:"All Customers",description:`Export semua ${a} customers`,disabled:a===0},{value:"filtered",label:"Filtered Customers",description:`Export ${s} customers yang di-filter`,disabled:s===0},{value:"selected",label:"Selected Customers Only",description:`Export ${i} customers yang dipilih`,disabled:i===0}];return n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsxs("div",{className:"relative top-10 mx-auto p-6 border max-w-3xl shadow-lg rounded-lg bg-white",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"📊 Export Customers"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Customize your export options"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:m,children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"1. Pilih Data yang Akan Di-export"}),n.jsx("div",{className:"space-y-2",children:v.map(j=>n.jsx("button",{type:"button",onClick:()=>c(j.value),disabled:j.disabled||m,className:`w-full p-3 border-2 rounded-lg text-left transition-all ${o===j.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${j.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${o===j.value?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:o===j.value&&n.jsx(mn,{className:"h-3 w-3 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:j.label}),n.jsx("p",{className:"text-xs text-gray-600",children:j.description})]})]})})},j.value))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"2. Pilih Kolom yang Akan Di-export"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:g,disabled:m,className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Pilih Semua"}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsx("button",{type:"button",onClick:y,disabled:m,className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Hapus Semua"})]})]}),n.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-3",children:l.map(j=>n.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.includes(j.key),onChange:()=>x(j.key),disabled:m,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:j.label})]},j.key))}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[f.length," dari ",l.length," kolom dipilih"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"3. Pilih Format File"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>d("xlsx"),disabled:m,className:`flex-1 p-3 border-2 rounded-lg transition-all ${u==="xlsx"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Wp,{className:`h-6 w-6 mx-auto mb-1 ${u==="xlsx"?"text-green-600":"text-gray-400"}`}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Excel (.xlsx)"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Recommended"})]}),n.jsxs("button",{type:"button",onClick:()=>d("csv"),disabled:m,className:`flex-1 p-3 border-2 rounded-lg transition-all ${u==="csv"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Pi,{className:`h-6 w-6 mx-auto mb-1 ${u==="csv"?"text-green-600":"text-gray-400"}`}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"CSV (.csv)"}),n.jsx("p",{className:"text-xs text-gray-500",children:"For data analysis"})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Batal"}),n.jsx("button",{type:"button",onClick:b,disabled:m||f.length===0,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 inline-flex items-center justify-center gap-2",children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ko,{className:"h-4 w-4"}),"Export Now"]})})]})]})]})})},S1e=()=>{var dt,Cr,nn,pr,Vs,Bl,sn;const e=Vi(),t=qt(),{user:r,isAdmin:a,isSupervisor:s}=tn(),[i,l]=w.useState({search:"",customer_type:"",service_type:"",account_status:"",payment_status:"",package_id:""}),[o,c]=w.useState({page:1,limit:10}),[u,d]=w.useState("created_at"),[f,h]=w.useState("DESC"),[m,p]=w.useState(!1),[x,g]=w.useState(null),[y,b]=w.useState(!1),[v,j]=w.useState([]),[N,k]=w.useState(!1),[_,S]=w.useState(null),[T,C]=w.useState(!1),[E,A]=w.useState(null),[U,V]=w.useState(!1),[ae,q]=w.useState(!1),[R,P]=w.useState(!1),[B,te]=w.useState(!1),H=[{key:"no",label:"No",defaultSelected:!0},{key:"customer_id",label:"Customer ID",defaultSelected:!0},{key:"name",label:"Nama",defaultSelected:!0},{key:"phone",label:"Telepon",defaultSelected:!0},{key:"email",label:"Email",defaultSelected:!0},{key:"address",label:"Alamat",defaultSelected:!0},{key:"city",label:"Kota",defaultSelected:!1},{key:"province",label:"Provinsi",defaultSelected:!1},{key:"package_name",label:"Paket",defaultSelected:!0},{key:"monthly_price",label:"Harga Bulanan",defaultSelected:!0},{key:"customer_type",label:"Tipe Customer",defaultSelected:!1},{key:"service_type",label:"Tipe Layanan",defaultSelected:!1},{key:"account_status",label:"Status Akun",defaultSelected:!0},{key:"payment_status",label:"Status Pembayaran",defaultSelected:!0},{key:"outstanding_balance",label:"Outstanding",defaultSelected:!0},{key:"due_date",label:"Jatuh Tempo",defaultSelected:!1},{key:"last_payment_date",label:"Pembayaran Terakhir",defaultSelected:!1},{key:"total_tickets",label:"Total Tickets",defaultSelected:!1},{key:"registration_date",label:"Tanggal Registrasi",defaultSelected:!0},{key:"ip_address",label:"IP Address",defaultSelected:!1},{key:"notes",label:"Catatan",defaultSelected:!1}],{data:F,isLoading:O,refetch:M,error:I}=Be(["customers",i,o,u,f],()=>vr.getCustomers({...i,...o,sort_by:u,sort_order:f}),{keepPreviousData:!0,staleTime:3e4}),{data:ne}=Be("packages-list",()=>Ps.getPackages({is_active:"true"}),{staleTime:3e5}),{data:oe}=Be("customer-stats",()=>vr.getCustomerStats(),{refetchOnWindowFocus:!0,refetchOnMount:"always"}),J=((dt=F==null?void 0:F.data)==null?void 0:dt.customers)||[],Y=((nn=(Cr=F==null?void 0:F.data)==null?void 0:Cr.pagination)==null?void 0:nn.pages)||1,ie=((Vs=(pr=F==null?void 0:F.data)==null?void 0:pr.pagination)==null?void 0:Vs.total)||0,fe=(oe==null?void 0:oe.data)||{total_customers:0,active_customers:0,pending_installation_customers:0,suspended_customers:0,paid_customers:0,unpaid_customers:0};w.useEffect(()=>{const je=()=>{t.invalidateQueries(["customers"]),t.invalidateQueries("customer-stats"),console.log("🔄 Customer list & stats refreshed")};return window.addEventListener("customer-created",je),window.addEventListener("customer-updated",je),()=>{window.removeEventListener("customer-created",je),window.removeEventListener("customer-updated",je)}},[t]);const D=(je,Ue)=>{l(Ot=>({...Ot,[je]:Ue})),c(Ot=>({...Ot,page:1}))},ye=je=>{c(Ue=>({...Ue,page:je}))},Ce=async()=>{if(E)try{await vr.deleteCustomer(E.id),ee.success("Customer berhasil dinonaktifkan"),M(),t.invalidateQueries("customer-stats")}catch(je){ee.error("Gagal menonaktifkan customer"),console.error("Delete customer error:",je)}finally{C(!1),A(null)}},Pe=async je=>{var Ue,Ot;try{let Ir=[];if(je.type==="all"?Ir=((Ue=(await vr.getCustomers({page:1,limit:1e5})).data)==null?void 0:Ue.customers)||[]:je.type==="filtered"?Ir=((Ot=(await vr.getCustomers({...i,page:1,limit:1e5,sort_by:u,sort_order:f})).data)==null?void 0:Ot.customers)||[]:je.type==="selected"&&(Ir=J.filter(We=>v.includes(We.id))),Ir.length===0){ee.error("Tidak ada data untuk di-export");return}const vi=Ir.map((We,Er)=>{const ct={};return je.columns.forEach(Ra=>{var Rr,os;switch(Ra){case"no":ct.No=Er+1;break;case"customer_id":ct["Customer ID"]=We.customer_id||"-";break;case"name":ct.Nama=We.name||"-";break;case"phone":ct.Telepon=We.phone||"-";break;case"email":ct.Email=We.email||"-";break;case"address":ct.Alamat=We.address||"-";break;case"city":ct.Kota=We.city||"-";break;case"province":ct.Provinsi=We.province||"-";break;case"package_name":ct.Paket=We.package_name||"-";break;case"monthly_price":ct["Harga Bulanan"]=de(We.monthly_price||0);break;case"customer_type":ct["Tipe Customer"]=We.customer_type||"-";break;case"service_type":ct["Tipe Layanan"]=We.service_type||"-";break;case"account_status":ct["Status Akun"]=((Rr=We.account_status)==null?void 0:Rr.toUpperCase())||"-";break;case"payment_status":ct["Status Pembayaran"]=((os=We.payment_status)==null?void 0:os.toUpperCase())||"-";break;case"outstanding_balance":ct.Outstanding=de(We.outstanding_balance||0);break;case"due_date":ct["Jatuh Tempo"]=We.due_date?ip(We.due_date):"-";break;case"last_payment_date":ct["Pembayaran Terakhir"]=We.last_payment_date?ip(We.last_payment_date):"-";break;case"total_tickets":ct["Total Tickets"]=We.total_tickets||0;break;case"registration_date":ct["Tanggal Registrasi"]=We.registration_date?ip(We.registration_date):"-";break;case"ip_address":ct["IP Address"]=We.ip_address||"-";break;case"notes":ct.Catatan=We.notes||"-";break;default:break}}),ct}),Ne=`Customers_${je.type}_${new Date().toISOString().split("T")[0]}`;r_(vi,Ne),ee.success(`✅ ${Ir.length} customers exported successfully!`)}catch(Ir){console.error("Enhanced export error:",Ir),ee.error("❌ Gagal export data")}},Me=()=>{M(),p(!1),g(null)},ke=()=>{p(!1),g(null)},at=je=>{u===je?h(f==="ASC"?"DESC":"ASC"):(d(je),h("DESC")),c(Ue=>({...Ue,page:1}))},$e=je=>u!==je?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):f==="ASC"?n.jsx(Bs,{className:"h-4 w-4 text-blue-600"}):n.jsx(Ls,{className:"h-4 w-4 text-blue-600"}),Z=je=>je?je.split("_").map(Ue=>Ue.charAt(0).toUpperCase()+Ue.slice(1)).join(" "):"-",ce=(je,Ue="account")=>{const Ot={account:{active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",suspended:"bg-yellow-100 text-yellow-800",pending_installation:"bg-blue-100 text-blue-800",pending_activation:"bg-purple-100 text-purple-800"},payment:{paid:"bg-green-100 text-green-800",unpaid:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",overdue:"bg-orange-100 text-orange-800"}},vi=(Ot[Ue]||Ot.account)[je]||"bg-gray-100 text-gray-800";return n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${vi}`,children:Z(je)})},de=je=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(je),we=je=>{je.target.checked?(j(J.map(Ue=>Ue.id)),k(!0)):(j([]),k(!1))},_e=je=>{if(v.includes(je))j(v.filter(Ue=>Ue!==je)),k(!1);else{const Ue=[...v,je];j(Ue),Ue.length===J.length&&k(!0)}},se=()=>{if(v.length===0){ee.error("Pilih customer terlebih dahulu");return}V(!0)},le=async()=>{try{let je=0,Ue=0;for(const Ot of v)try{await vr.updateCustomer(Ot,{account_status:"suspended"}),je++}catch(Ir){Ue++,console.error(`Failed to suspend customer ${Ot}:`,Ir)}je>0?(ee.success(`✅ ${je} customer berhasil di-suspend${Ue>0?`, ${Ue} gagal`:""}`),M(),t.invalidateQueries("customer-stats"),j([]),k(!1)):ee.error("Gagal suspend customer")}catch(je){console.error("Bulk suspend error:",je),ee.error("Terjadi kesalahan saat suspend customer")}finally{V(!1)}},Fe=()=>{if(v.length===0){ee.error("Pilih customer terlebih dahulu");return}q(!0)},ze=async()=>{try{let je=0,Ue=0;for(const Ot of v)try{await vr.updateCustomer(Ot,{account_status:"active"}),je++}catch(Ir){Ue++,console.error(`Failed to activate customer ${Ot}:`,Ir)}je>0?(ee.success(`✅ ${je} customer berhasil diaktifkan${Ue>0?`, ${Ue} gagal`:""}`),M(),t.invalidateQueries("customer-stats"),j([]),k(!1)):ee.error("Gagal aktifkan customer")}catch(je){console.error("Bulk activate error:",je),ee.error("Terjadi kesalahan saat aktifkan customer")}finally{q(!1)}},Xe=()=>{if(v.length===0){ee.error("Pilih customer terlebih dahulu");return}P(!0)},et=async()=>{try{let je=0,Ue=0;for(const Ot of v)try{await vr.deleteCustomer(Ot),je++}catch(Ir){Ue++,console.error(`Failed to delete customer ${Ot}:`,Ir)}je>0?(ee.success(`✅ ${je} customer berhasil dihapus${Ue>0?`, ${Ue} gagal`:""}`),M(),t.invalidateQueries("customer-stats"),j([]),k(!1)):ee.error("Gagal hapus customer")}catch(je){console.error("Bulk delete error:",je),ee.error("Terjadi kesalahan saat hapus customer")}finally{P(!1)}},ot=(je,Ue)=>{navigator.clipboard.writeText(je).then(()=>{S(Ue),ee.success(`${Ue} berhasil di-copy!`),setTimeout(()=>S(null),2e3)}).catch(Ot=>{ee.error("Gagal copy ke clipboard"),console.error("Copy error:",Ot)})},tt=async(je,Ue)=>{if(je.stopPropagation(),!!window.confirm(`Suspend customer ${Ue.name}?`))try{await vr.updateCustomer(Ue.id,{account_status:"suspended"}),ee.success(`Customer ${Ue.name} berhasil di-suspend`),M()}catch(Ot){ee.error("Gagal suspend customer"),console.error("Quick suspend error:",Ot)}},nt=async(je,Ue)=>{je.stopPropagation();try{await vr.updateCustomer(Ue.id,{account_status:"active"}),ee.success(`Customer ${Ue.name} berhasil diaktifkan`),M()}catch(Ot){ee.error("Gagal aktifkan customer"),console.error("Quick activate error:",Ot)}},_t=(je,Ue)=>{je.stopPropagation(),window.location.href=`tel:${Ue}`},Zt=(je,Ue)=>{je.stopPropagation(),window.location.href=`mailto:${Ue}`},ge=a||s;return I?n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-500 mb-4",children:n.jsx(ui,{className:"h-12 w-12 mx-auto"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Customers"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Gagal memuat data customer"}),n.jsxs("button",{onClick:()=>M(),className:"btn-primary",children:[n.jsx(Hp,{className:"h-4 w-4 mr-2"}),"Coba Lagi"]})]})}):ge?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Management"}),n.jsx("p",{className:"text-gray-600",children:"Kelola data customer dan informasi layanan"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>te(!0),disabled:O,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:y?n.jsxs(n.Fragment,{children:[n.jsx(qj,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ko,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})}),a&&n.jsxs("button",{onClick:()=>p(!0),className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Customer"]})]})]}),v.length>0&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[v.length," customer dipilih"]}),n.jsx("button",{onClick:()=>{j([]),k(!1)},className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Batal Pilihan"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:Fe,className:"px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm inline-flex items-center",children:[n.jsx(e4,{className:"h-4 w-4 mr-1"}),"Aktifkan"]}),n.jsxs("button",{onClick:se,className:"px-3 py-1.5 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors text-sm inline-flex items-center",children:[n.jsx(t4,{className:"h-4 w-4 mr-1"}),"Suspend"]}),a&&n.jsxs("button",{onClick:Xe,className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm inline-flex items-center",children:[n.jsx(sa,{className:"h-4 w-4 mr-1"}),"Hapus"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:Zn,title:"Total Customer",value:fe.total_customers||0,color:"blue",onClick:()=>{l({search:"",customer_type:"",service_type:"",account_status:"",payment_status:"",package_id:""}),c({...o,page:1})}}),n.jsx(Ve,{icon:ui,title:"Active",value:fe.active_customers||0,color:"green",onClick:()=>{l({...i,account_status:i.account_status==="active"?"":"active",payment_status:""}),c({...o,page:1})}}),n.jsx(Ve,{icon:Kt,title:"Pending Installation",value:fe.pending_installation_customers||0,color:"orange",onClick:()=>{l({...i,account_status:i.account_status==="pending_installation"?"":"pending_installation",payment_status:""}),c({...o,page:1})}}),n.jsx(Ve,{icon:$t,title:"Suspended",value:fe.suspended_customers||0,color:"red",onClick:()=>{l({...i,account_status:i.account_status==="suspended"?"":"suspended",payment_status:""}),c({...o,page:1})}})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Ve,{icon:kt,title:"Unpaid",value:fe.unpaid_customers||0,color:"yellow",onClick:()=>{l({...i,payment_status:i.payment_status==="unpaid"?"":"unpaid",account_status:""}),c({...o,page:1})}}),n.jsx(Ve,{icon:Ke,title:"Paid",value:fe.paid_customers||0,color:"green",onClick:()=>{l({...i,payment_status:i.payment_status==="paid"?"":"paid",account_status:""}),c({...o,page:1})}})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari customer...",value:i.search,onChange:je=>D("search",je.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Layanan"}),n.jsxs("select",{className:"form-input",value:i.service_type,onChange:je=>D("service_type",je.target.value),children:[n.jsx("option",{value:"",children:"Semua Layanan"}),n.jsx("option",{value:"broadband",children:"Broadband"}),n.jsx("option",{value:"dedicated",children:"Dedicated"}),n.jsx("option",{value:"corporate",children:"Corporate"}),n.jsx("option",{value:"mitra",children:"Mitra"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Akun"}),n.jsxs("select",{className:"form-input",value:i.account_status,onChange:je=>D("account_status",je.target.value),children:[n.jsx("option",{value:"",children:"Semua Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"}),n.jsx("option",{value:"suspended",children:"Suspended"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Bayar"}),n.jsxs("select",{className:"form-input",value:i.payment_status,onChange:je=>D("payment_status",je.target.value),children:[n.jsx("option",{value:"",children:"Status Bayar"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"unpaid",children:"Unpaid"}),n.jsx("option",{value:"pending",children:"Pending"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paket"}),n.jsxs("select",{className:"form-input",value:i.package_id,onChange:je=>D("package_id",je.target.value),children:[n.jsx("option",{value:"",children:"Semua Paket"}),(sn=(Bl=ne==null?void 0:ne.data)==null?void 0:Bl.packages)==null?void 0:sn.map(je=>n.jsx("option",{value:je.id,children:je.package_name},je.id))]})]})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Customers",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",ie," total)"]})]})}),n.jsx("div",{className:"card-body p-0",children:O?n.jsx("div",{className:"py-12",children:n.jsx(St,{className:"mx-auto"})}):J.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada customer"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Belum ada data customer. Customer akan dibuat dari pendaftaran yang disetujui."}),n.jsxs("button",{onClick:()=>e("/registrations"),className:"btn-primary inline-flex items-center",children:[n.jsx(dl,{className:"h-4 w-4 mr-2"}),"Lihat Pendaftaran"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell w-12",children:n.jsx("input",{type:"checkbox",checked:N,onChange:we,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",title:"Pilih Semua"})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>at("name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Customer"}),$e("name")]})}),n.jsx("th",{className:"table-header-cell",children:"Kontak"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>at("package_name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Paket"}),$e("package_name")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>at("account_status"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),$e("account_status")]})}),n.jsx("th",{className:"table-header-cell",children:"Tickets"}),n.jsx("th",{className:"table-header-cell",children:"Quick Actions"})]})}),n.jsx("tbody",{className:"table-body",children:J.map(je=>n.jsxs("tr",{onClick:()=>e(`/customers/${je.id}`),className:"group cursor-pointer hover:bg-blue-50 hover:shadow-md hover:border-l-4 hover:border-l-blue-500 transition-all duration-200",title:"Klik untuk lihat detail customer",children:[n.jsx("td",{className:"table-cell",onClick:Ue=>Ue.stopPropagation(),children:n.jsx("input",{type:"checkbox",checked:v.includes(je.id),onChange:()=>_e(je.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:je.name}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[n.jsxs("span",{children:["ID: ",je.customer_id]}),n.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),ot(je.customer_id,"Customer ID")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Customer ID",children:_==="Customer ID"?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-500"})})]})]})}),n.jsxs("td",{className:"table-cell",children:[n.jsxs("div",{className:"flex items-center mb-1 gap-1",children:[n.jsx(Za,{className:"h-3 w-3 text-gray-400"}),n.jsx("span",{children:je.phone}),n.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),ot(je.phone,"Phone")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Phone",children:_==="Phone"?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-500"})})]}),je.email&&n.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-1",children:[n.jsx(na,{className:"h-3 w-3 text-gray-400"}),n.jsx("span",{className:"truncate max-w-[150px]",children:je.email}),n.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),ot(je.email,"Email")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Email",children:_==="Email"?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-500"})})]})]}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"font-medium",children:je.package_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[je.bandwidth_down," Mbps - ",de(je.monthly_price)]})]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"space-y-1",children:[ce(je.account_status,"account"),ce(je.payment_status,"payment")]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:je.total_tickets||0}),n.jsx("div",{className:"text-xs text-gray-500",children:"total"})]})}),n.jsx("td",{className:"table-cell",onClick:Ue=>Ue.stopPropagation(),children:n.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:Ue=>_t(Ue,je.phone),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Call Customer",children:n.jsx(Sg,{className:"h-4 w-4 text-green-600"})}),je.email&&n.jsx("button",{onClick:Ue=>Zt(Ue,je.email),className:"p-1.5 hover:bg-blue-100 rounded transition-colors",title:"Email Customer",children:n.jsx(na,{className:"h-4 w-4 text-blue-600"})}),je.account_status==="active"?n.jsx("button",{onClick:Ue=>tt(Ue,je),className:"p-1.5 hover:bg-yellow-100 rounded transition-colors",title:"Suspend Customer",children:n.jsx(t4,{className:"h-4 w-4 text-yellow-600"})}):n.jsx("button",{onClick:Ue=>nt(Ue,je),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Activate Customer",children:n.jsx(e4,{className:"h-4 w-4 text-green-600"})})]})})]},je.id))})]})}),n.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>ye(o.page-1),disabled:o.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>ye(o.page+1),disabled:o.page===Y,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:o.limit,onChange:je=>c({page:1,limit:parseInt(je.target.value)}),className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(o.page-1)*o.limit+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(o.page*o.limit,ie)})," ","of ",n.jsx("span",{className:"font-medium",children:ie})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>ye(o.page-1),disabled:o.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(Y,10)},(je,Ue)=>Y<=10||o.page<=5?Ue+1:o.page>=Y-4?Y-9+Ue:o.page-5+Ue).map(je=>n.jsx("button",{onClick:()=>ye(je),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o.page===je?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:je},je)),n.jsx("button",{onClick:()=>ye(o.page+1),disabled:o.page===Y,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})})]})})]}),n.jsx(k1e,{customer:x,isOpen:m||!!x,onClose:ke,onSuccess:Me}),n.jsx(ga,{isOpen:T,onClose:()=>{C(!1),A(null)},onConfirm:Ce,title:"⚠️ Nonaktifkan Customer",message:E?`Nonaktifkan customer "${E.name}"?`:"",confirmText:"Ya, Nonaktifkan",cancelText:"Batal",type:"danger",children:E&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["⚠️ Customer akan dinonaktifkan dari sistem",n.jsx("br",{}),"📊 Data historis tetap tersimpan",n.jsx("br",{}),"🔄 Customer dapat diaktifkan kembali nanti"]})})}),n.jsx(ga,{isOpen:U,onClose:()=>V(!1),onConfirm:le,title:"⚠️ Suspend Multiple Customers",message:`Suspend ${v.length} customer yang dipilih?`,confirmText:"Ya, Suspend",cancelText:"Batal",type:"warning",children:n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["⚠️ ",v.length," customer akan di-suspend",n.jsx("br",{}),"🚫 Customer tidak bisa menggunakan layanan",n.jsx("br",{}),"🔄 Status dapat diubah kembali nanti"]})})}),n.jsx(ga,{isOpen:ae,onClose:()=>q(!1),onConfirm:ze,title:"✅ Activate Multiple Customers",message:`Aktifkan ${v.length} customer yang dipilih?`,confirmText:"Ya, Aktifkan",cancelText:"Batal",type:"success",children:n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["✅ ",v.length," customer akan diaktifkan",n.jsx("br",{}),"📡 Customer dapat menggunakan layanan kembali",n.jsx("br",{}),'🎯 Status akun menjadi "Active"']})})}),n.jsx(ga,{isOpen:R,onClose:()=>P(!1),onConfirm:et,title:"🗑️ Hapus Multiple Customers",message:`Hapus ${v.length} customer yang dipilih?`,confirmText:"Ya, Hapus",cancelText:"Batal",type:"danger",children:n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["⚠️ ",n.jsx("strong",{children:"PERINGATAN:"})," ",v.length," customer akan dihapus!",n.jsx("br",{}),"🚫 Customer akan dinonaktifkan dan tidak bisa login",n.jsx("br",{}),"📊 Data historis tetap tersimpan untuk audit",n.jsx("br",{}),"⚠️ Aksi ini membutuhkan konfirmasi admin"]})})}),n.jsx(_1e,{isOpen:B,onClose:()=>te(!1),onExport:Pe,totalCount:fe.total_customers||0,filteredCount:ie,selectedCount:v.length,availableColumns:H})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[n.jsx(Eg,{className:"h-24 w-24 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access Customer Management."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Required role: Admin or Supervisor"})]})},C1e=({isOpen:e,onClose:t,customer:r,onSuccess:a})=>{const[s,i]=w.useState({payment_date:new Date().toISOString().split("T")[0],amount:"",payment_method:"transfer",payment_reference:"",billing_period_start:"",billing_period_end:"",notes:""}),[l,o]=w.useState(!1),[c,u]=w.useState(!0);w.useEffect(()=>{if(r&&c){const y=parseFloat(r.monthly_price)||0,b=parseFloat(r.outstanding_balance)||0,v=y+b;i(_=>({..._,amount:v.toString()}));const j=new Date,N=new Date(j.getFullYear(),j.getMonth(),1),k=new Date(j.getFullYear(),j.getMonth()+1,0);i(_=>({..._,billing_period_start:N.toISOString().split("T")[0],billing_period_end:k.toISOString().split("T")[0]}))}},[r,c]);const d=[{value:"cash",label:"Cash",icon:aO},{value:"transfer",label:"Bank Transfer",icon:_W},{value:"card",label:"Credit/Debit Card",icon:Df},{value:"ewallet",label:"E-Wallet (GoPay, OVO, Dana)",icon:oc}],f=y=>{const{name:b,value:v}=y.target;i(j=>({...j,[b]:v})),b==="amount"&&u(!1)},h=async y=>{if(y.preventDefault(),!s.amount||parseFloat(s.amount)<=0){ee.error("Masukkan jumlah pembayaran yang valid");return}o(!0);try{await a({...s,customer_id:r.id,amount:parseFloat(s.amount)}),i({payment_date:new Date().toISOString().split("T")[0],amount:"",payment_method:"transfer",payment_reference:"",billing_period_start:"",billing_period_end:"",notes:""}),u(!0),t()}catch(b){console.error("Payment submission error:",b)}finally{o(!1)}},m=()=>{u(!0);const y=parseFloat(r.monthly_price)||0,b=parseFloat(r.outstanding_balance)||0,v=y+b;i(j=>({...j,amount:v.toString()}))};if(!e)return null;const p=parseFloat(r==null?void 0:r.monthly_price)||0,x=parseFloat(r==null?void 0:r.outstanding_balance)||0,g=p+x;return n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsxs("div",{className:"relative top-10 mx-auto p-6 border max-w-2xl shadow-lg rounded-lg bg-white",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"💰 Record Payment"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Catat pembayaran untuk ",n.jsx("span",{className:"font-medium",children:r==null?void 0:r.name})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:l,children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(vc,{className:"h-5 w-5 text-blue-600 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Payment Calculation"}),n.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Harga Paket (Monthly):"}),n.jsxs("span",{className:"font-medium",children:["Rp ",p.toLocaleString("id-ID")]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Outstanding Balance:"}),n.jsxs("span",{className:"font-medium",children:["Rp ",x.toLocaleString("id-ID")]})]}),n.jsxs("div",{className:"flex justify-between border-t border-blue-300 pt-2 font-semibold",children:[n.jsx("span",{children:"Total Amount:"}),n.jsxs("span",{children:["Rp ",g.toLocaleString("id-ID")]})]})]}),!c&&n.jsx("button",{type:"button",onClick:m,className:"mt-2 text-xs text-blue-600 hover:text-blue-800 underline",children:"Reset to auto-calculated amount"})]})]})}),n.jsxs("form",{onSubmit:h,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(br,{className:"h-4 w-4 inline mr-1"}),"Tanggal Pembayaran *"]}),n.jsx("input",{type:"date",name:"payment_date",value:s.payment_date,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(vc,{className:"h-4 w-4 inline mr-1"}),"Jumlah Pembayaran (Rp) *"]}),n.jsx("input",{type:"number",name:"amount",value:s.amount,onChange:f,required:!0,min:"0",step:"0.01",placeholder:"Masukkan jumlah pembayaran",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!c&&n.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[n.jsx($t,{className:"h-3 w-3 inline mr-1"}),"Manual amount (auto-calculate disabled)"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metode Pembayaran *"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(y=>{const b=y.icon;return n.jsxs("button",{type:"button",onClick:()=>i(v=>({...v,payment_method:y.value})),className:`p-3 border-2 rounded-lg transition-all ${s.payment_method===y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[n.jsx(b,{className:"h-5 w-5 mx-auto mb-1"}),n.jsx("span",{className:"text-xs font-medium block",children:y.label})]},y.value)})})]}),s.payment_method!=="cash"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Referensi Pembayaran",s.payment_method==="transfer"&&" (No. Rekening / VA)",s.payment_method==="card"&&" (Last 4 digits)",s.payment_method==="ewallet"&&" (Transaction ID)"]}),n.jsx("input",{type:"text",name:"payment_reference",value:s.payment_reference,onChange:f,placeholder:s.payment_method==="transfer"?"e.g. BCA 1234567890":s.payment_method==="card"?"e.g. **** 1234":s.payment_method==="ewallet"?"e.g. TRX-2024-001":"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Periode Awal"}),n.jsx("input",{type:"date",name:"billing_period_start",value:s.billing_period_start,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Periode Akhir"}),n.jsx("input",{type:"date",name:"billing_period_end",value:s.billing_period_end,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan"}),n.jsx("textarea",{name:"notes",value:s.notes,onChange:f,rows:"3",placeholder:"Catatan tambahan (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Batal"}),n.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 inline-flex items-center justify-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vc,{className:"h-4 w-4"}),"Record Payment"]})})]})]})]})})},E1e=({isOpen:e,onClose:t,customer:r,onSuccess:a})=>{const[s,i]=w.useState({equipment_type:"",equipment_master_id:"",brand:"",model:"",serial_number:"",mac_address:"",installation_date:new Date().toISOString().split("T")[0],warranty_expiry:"",status:"active",notes:""}),[l,o]=w.useState({}),[c,u]=w.useState(!1),[d,f]=w.useState("devices"),{data:h,isLoading:m}=Be("equipment-master-all",async()=>{const v=await kc.getAll({limit:1e3});return console.log("🔍 Equipment Master Data Loaded:",{type:Array.isArray(v)?"Array":typeof v,length:(v==null?void 0:v.length)||0,sample:v==null?void 0:v[0],categories:[...new Set((v==null?void 0:v.map(j=>j.category))||[])]}),v},{enabled:e,staleTime:5*60*1e3});w.useEffect(()=>{e&&(i({equipment_type:"",equipment_master_id:"",brand:"",model:"",serial_number:"",mac_address:"",installation_date:new Date().toISOString().split("T")[0],warranty_expiry:"",status:"active",notes:""}),o({}),f("devices"))},[e]),w.useEffect(()=>{if(s.equipment_master_id&&h&&h.length>0){const v=h.find(j=>j.id===parseInt(s.equipment_master_id));if(v){const j=v.equipment_name.split(" "),N=j[0]||"",k=j.slice(1).join(" ")||v.equipment_name;i(_=>({..._,equipment_type:v.equipment_name,brand:N,model:k}))}}},[s.equipment_master_id,h]);const p=v=>{const{name:j,value:N}=v.target;i(k=>({...k,[j]:N})),l[j]&&o(k=>({...k,[j]:""}))},x=()=>{const v={};return s.equipment_type.trim()||(v.equipment_type="Equipment type wajib diisi"),s.brand.trim()||(v.brand="Brand wajib diisi"),s.model.trim()||(v.model="Model wajib diisi"),s.mac_address.trim()&&(/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/.test(s.mac_address)||(v.mac_address="Format MAC address tidak valid (contoh: AA:BB:CC:DD:EE:FF)")),s.warranty_expiry&&s.installation_date&&new Date(s.warranty_expiry)<new Date(s.installation_date)&&(v.warranty_expiry="Warranty expiry harus setelah installation date"),o(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!x()){ee.error("❌ Mohon lengkapi form dengan benar");return}u(!0);try{const j={};Object.keys(s).forEach(N=>{s[N]!==""&&N!=="equipment_master_id"&&(j[N]=s[N])}),await a(j),ee.success("✅ Equipment berhasil ditambahkan"),t()}catch(j){ee.error("❌ Gagal menambahkan equipment"),console.error("Add equipment error:",j)}finally{u(!1)}};if(!e)return null;const y=[{value:"devices",label:"Devices",icon:rp,description:"ONT, Modem, Router, Access Point"},{value:"cables",label:"Cables",icon:X5,description:"Fiber Optic, UTP, Drop Cable"},{value:"accessories",label:"Accessories",icon:Jt,description:"Adapter, Splitter, Connector"},{value:"tools",label:"Tools",icon:ec,description:"Installation & Maintenance Tools"}],b=(h||[]).filter(v=>v.category===d&&v.is_active);return console.log("🔍 Equipment Modal Debug:",{selectedCategory:d,totalEquipment:(h==null?void 0:h.length)||0,filteredCount:b.length,equipmentMasterType:Array.isArray(h)?"Array":typeof h,sampleFiltered:b[0]}),n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Equipment"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Tambah equipment untuk ",r.name]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:m?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(St,{})}):n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Equipment Category *"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:y.map(v=>{const j=v.icon;return n.jsxs("button",{type:"button",onClick:()=>{f(v.value),i(N=>({...N,equipment_master_id:""}))},className:`p-4 border-2 rounded-lg text-center transition-all ${d===v.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[n.jsx(j,{className:`h-6 w-6 mx-auto mb-2 ${d===v.value?"text-blue-600":"text-gray-400"}`}),n.jsx("div",{className:`text-sm font-medium ${d===v.value?"text-blue-900":"text-gray-700"}`,children:v.label}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:v.description})]},v.value)})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"form-label",children:["Select Equipment (Optional)",b.length>0&&n.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",b.length," items tersedia)"]})]}),n.jsxs("select",{name:"equipment_master_id",value:s.equipment_master_id,onChange:p,className:"form-input",children:[n.jsx("option",{value:"",children:b.length>0?"-- Pilih dari Master Data atau isi manual --":"-- Tidak ada equipment di kategori ini --"}),b.map(v=>n.jsxs("option",{value:v.id,children:[v.equipment_name," ",v.unit&&`(${v.unit})`]},v.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.length>0?n.jsx(n.Fragment,{children:"💡 Pilih dari master data untuk auto-fill atau isi form secara manual"}):n.jsxs(n.Fragment,{children:['⚠️ Tidak ada equipment di kategori "',d,'". Silakan isi form secara manual.']})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"form-label",children:"Equipment Type / Name *"}),n.jsx("input",{type:"text",name:"equipment_type",value:s.equipment_type,onChange:p,placeholder:"e.g., ONT Huawei HG8245H, Router TP-Link",className:`form-input ${l.equipment_type?"border-red-500":""}`}),l.equipment_type&&n.jsx("p",{className:"form-error",children:l.equipment_type})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Brand *"}),n.jsx("input",{type:"text",name:"brand",value:s.brand,onChange:p,placeholder:"e.g., Huawei, TP-Link, ZTE",className:`form-input ${l.brand?"border-red-500":""}`}),l.brand&&n.jsx("p",{className:"form-error",children:l.brand})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Model *"}),n.jsx("input",{type:"text",name:"model",value:s.model,onChange:p,placeholder:"e.g., HG8245H, Archer C6",className:`form-input ${l.model?"border-red-500":""}`}),l.model&&n.jsx("p",{className:"form-error",children:l.model})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Serial Number"}),n.jsx("input",{type:"text",name:"serial_number",value:s.serial_number,onChange:p,placeholder:"e.g., SN123456789",className:"form-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"MAC Address"}),n.jsx("input",{type:"text",name:"mac_address",value:s.mac_address,onChange:p,placeholder:"AA:BB:CC:DD:EE:FF",className:`form-input ${l.mac_address?"border-red-500":""}`}),l.mac_address&&n.jsx("p",{className:"form-error",children:l.mac_address})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Installation Date *"}),n.jsx("input",{type:"date",name:"installation_date",value:s.installation_date,onChange:p,max:new Date().toISOString().split("T")[0],className:"form-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Warranty Expiry"}),n.jsx("input",{type:"date",name:"warranty_expiry",value:s.warranty_expiry,onChange:p,min:s.installation_date,className:`form-input ${l.warranty_expiry?"border-red-500":""}`}),l.warranty_expiry&&n.jsx("p",{className:"form-error",children:l.warranty_expiry})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"form-label",children:"Status"}),n.jsxs("select",{name:"status",value:s.status,onChange:p,className:"form-input",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"}),n.jsx("option",{value:"maintenance",children:"Maintenance"}),n.jsx("option",{value:"faulty",children:"Faulty"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"form-label",children:"Notes"}),n.jsx("textarea",{name:"notes",value:s.notes,onChange:p,rows:"3",placeholder:"Additional notes about this equipment...",className:"form-input"})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx($t,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-blue-900",children:[n.jsx("p",{className:"font-medium mb-1",children:"💡 Tips:"}),n.jsxs("ul",{className:"space-y-1 text-blue-800",children:[n.jsx("li",{children:"• Pilih dari master data untuk auto-fill brand & model"}),n.jsx("li",{children:"• Serial number & MAC address opsional tapi recommended"}),n.jsx("li",{children:"• Warranty expiry membantu tracking garansi equipment"}),n.jsx("li",{children:"• Equipment akan muncul di customer equipment list"})]})]})]})})]})}),n.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:t,disabled:c,className:"btn-secondary",children:"Cancel"}),n.jsx("button",{onClick:g,disabled:c||m,className:"btn-primary",children:c?n.jsxs(n.Fragment,{children:[n.jsx(St,{className:"inline w-4 h-4 mr-2"}),"Adding..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Add Equipment"]})})]})]})})},T1e=()=>{var tt,nt,_t,Zt;const{id:e}=K0(),t=Vi(),r=qt(),[a,s]=w.useState("overview"),[i,l]=w.useState(!1),[o,c]=w.useState(!1),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[m,p]=w.useState(!1),[x,g]=w.useState(""),[y,b]=w.useState(""),[v,j]=w.useState(""),[N,k]=w.useState(!1),[_,S]=w.useState(null),[T,C]=w.useState(!1),[E,A]=w.useState(!1),[U,V]=w.useState(!1),{data:ae,isLoading:q,error:R,refetch:P}=Be(["customer",e],()=>vr.getCustomer(e),{enabled:!!e,staleTime:3e4}),{data:B}=Be("packages",Ps.getAll,{refetchOnWindowFocus:!1}),{data:te,isLoading:H}=Be(["customer-tickets",e],()=>Un.getTickets({customer_id:e,limit:100}),{enabled:!!e&&a==="tickets",staleTime:3e4}),F=Array.isArray((tt=te==null?void 0:te.data)==null?void 0:tt.tickets)?te.data.tickets:[];if(w.useEffect(()=>{const ge=pr=>{pr.customer&&pr.customer.id===parseInt(e)&&(r.invalidateQueries(["customer",e]),ee.success("Customer data updated"),console.log("🔄 Customer data refreshed"))},dt=pr=>{pr.customer_id===parseInt(e)&&(r.invalidateQueries(["customer",e]),ee.success("New payment added"),console.log("💰 Payment added"))},Cr=pr=>{pr.customer_id===parseInt(e)&&(r.invalidateQueries(["customer",e]),ee.success("Equipment added"),console.log("🔧 Equipment added"))},nn=pr=>{pr.ticket&&pr.ticket.customer_id===parseInt(e)&&(r.invalidateQueries(["customer-tickets",e]),console.log("🎫 Ticket updated"))};return Ge.on("customer-updated",ge),Ge.on("payment-added",dt),Ge.on("equipment-added",Cr),Ge.on("ticket-updated",nn),Ge.on("ticket-created",nn),()=>{Ge.off("customer-updated",ge),Ge.off("payment-added",dt),Ge.off("equipment-added",Cr),Ge.off("ticket-updated",nn),Ge.off("ticket-created",nn)}},[e,r]),q)return n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})});if(R||!((nt=ae==null?void 0:ae.data)!=null&&nt.customer))return n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-500 mb-4",children:n.jsx($t,{className:"h-12 w-12 mx-auto"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Customer Not Found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Customer yang Anda cari tidak ditemukan"}),n.jsx(Fo,{to:"/customers",label:"Back to Customers"})]});const O=ae.data.customer,M=ae.data.equipment||[],I=ae.data.recent_payments||[],ne=ae.data.service_history||[];ae.data.active_complaints;const oe=ae.data.ticket_stats||{},J=ge=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(ge),Y=ge=>ge?new Date(ge).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",ie=ge=>ge?ge.split("_").map(dt=>dt.charAt(0).toUpperCase()+dt.slice(1)).join(" "):"-",fe=()=>{window.location.href=`tel:${O.phone}`},D=()=>{window.location.href=`mailto:${O.email}`},ye=()=>{const ge=O.phone.replace(/^0/,"62");window.open(`https://wa.me/${ge}`,"_blank")},Ce=()=>{C(!0)},Pe=ge=>{ee.success(`✅ Ticket ${ge.ticket_number} created successfully`),r.invalidateQueries(["customer",e]),r.invalidateQueries("tickets"),C(!1)},Me=()=>{c(!0)},ke=async ge=>{try{await vr.addPayment(O.id,ge),ee.success("✅ Pembayaran berhasil dicatat!"),r.invalidateQueries(["customer",e]);const dt=window.io;dt&&dt.emit("payment-added",{customer_id:O.id})}catch(dt){throw ee.error("❌ Gagal mencatat pembayaran"),console.error("Add payment error:",dt),dt}},at=ge=>{S(ge),k(!0)},$e=async()=>{if(_)try{await vr.deleteEquipment(O.id,_.id),ee.success("✅ Equipment berhasil dihapus!"),r.invalidateQueries(["customer",e])}catch(ge){ee.error("❌ Gagal menghapus equipment"),console.error("Delete equipment error:",ge)}finally{k(!1),S(null)}},Z=async ge=>{try{await vr.addEquipment(O.id,ge),r.invalidateQueries(["customer",e])}catch(dt){throw console.error("Add equipment error:",dt),dt}},ce=()=>{A(!0)},de=async()=>{try{await vr.updateCustomer(O.id,{account_status:"suspended"}),ee.success("✅ Customer suspended successfully"),P(),A(!1)}catch(ge){ee.error("❌ Failed to suspend customer"),console.error("Suspend error:",ge)}},we=()=>{V(!0)},_e=async()=>{try{await vr.updateCustomer(O.id,{account_status:"active"}),ee.success("✅ Customer activated successfully"),P(),V(!1)}catch(ge){ee.error("❌ Failed to activate customer"),console.error("Activate error:",ge)}},se=(ge,dt="account")=>{const Cr={account:{active:{bg:"bg-green-100",text:"text-green-800",icon:Ke},inactive:{bg:"bg-red-100",text:"text-red-800",icon:kt},suspended:{bg:"bg-yellow-100",text:"text-yellow-800",icon:$t},pending_installation:{bg:"bg-blue-100",text:"text-blue-800",icon:Kt},pending_activation:{bg:"bg-purple-100",text:"text-purple-800",icon:Kt}},payment:{paid:{bg:"bg-green-100",text:"text-green-800",icon:Ke},unpaid:{bg:"bg-red-100",text:"text-red-800",icon:kt},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Kt},overdue:{bg:"bg-orange-100",text:"text-orange-800",icon:$t}}},pr=(Cr[dt]||Cr.account)[ge]||{bg:"bg-gray-100",text:"text-gray-800",icon:$t},Vs=pr.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${pr.bg} ${pr.text}`,children:[n.jsx(Vs,{className:"h-3 w-3 mr-1"}),ie(ge)]})},le=async ge=>{if(O!=null&&O.id)try{await vr.updateCustomer(O.id,{payment_status:ge}),ee.success(`Payment status updated to ${ie(ge)}`),P()}catch(dt){console.error("Error updating payment status:",dt),ee.error("Failed to update payment status")}},Fe=async ge=>{if(O!=null&&O.id)try{await vr.updateCustomer(O.id,{account_status:ge}),ee.success(`Account status updated to ${ie(ge)}`),P()}catch(dt){console.error("Error updating account status:",dt),ee.error("Failed to update account status")}},ze=async()=>{if(!(O!=null&&O.id))return;const ge=`Apakah Anda yakin ingin menonaktifkan customer ${O.name}?

Customer ID: ${O.customer_id}

Customer akan dinonaktifkan dan tidak dapat login ke sistem.`;if(window.confirm(ge))try{await vr.deleteCustomer(O.id),ee.success("Customer berhasil dinonaktifkan"),t("/customers")}catch(dt){console.error("Error deleting customer:",dt),ee.error("Gagal menonaktifkan customer")}},Xe=async(ge,dt)=>{if(!(O!=null&&O.id)||!dt.trim()){ee.error("Value cannot be empty");return}try{await vr.updateCustomer(O.id,{[ge]:dt}),ee.success(`${ge.charAt(0).toUpperCase()+ge.slice(1)} updated successfully`),P(),ge==="name"&&d(!1),ge==="phone"&&h(!1),ge==="address"&&p(!1)}catch(Cr){console.error(`Error updating ${ge}:`,Cr),ee.error(`Failed to update ${ge}`)}},et=ge=>{ge==="name"&&(d(!1),g(O.name)),ge==="phone"&&(h(!1),b(O.phone)),ge==="address"&&(p(!1),j(O.address))},ot=[{id:"overview",label:"Overview",icon:Ft},{id:"tickets",label:"Tickets",icon:ui,badge:oe.total_tickets||F.length||null},{id:"service",label:"Service History",icon:Jt},{id:"equipment",label:"Equipment",icon:rp,badge:M.length||null},{id:"payments",label:"Payments",icon:Df,badge:I.length||null}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Fo,{to:"/customers",label:"Back to Customers"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:O.name}),n.jsxs("p",{className:"text-gray-600",children:["Customer ID: ",O.customer_id]})]})]}),n.jsx("div",{className:"flex space-x-3",children:n.jsxs("button",{onClick:Ce,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Full Name"}),u?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:x,onChange:ge=>g(ge.target.value),className:"form-input flex-1 text-sm",autoFocus:!0}),n.jsx("button",{onClick:()=>Xe("name",x),className:"text-green-600 hover:text-green-800",title:"Save",children:n.jsx(Ke,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>et("name"),className:"text-red-600 hover:text-red-800",title:"Cancel",children:n.jsx(kt,{className:"h-4 w-4"})})]}):n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ft,{className:"h-4 w-4 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-900",children:O.name})]}),n.jsx("button",{onClick:()=>{g(O.name),d(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit name",children:n.jsx(di,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Phone Number"}),f?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:y,onChange:ge=>b(ge.target.value),className:"form-input flex-1 text-sm",autoFocus:!0}),n.jsx("button",{onClick:()=>Xe("phone",y),className:"text-green-600 hover:text-green-800",title:"Save",children:n.jsx(Ke,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>et("phone"),className:"text-red-600 hover:text-red-800",title:"Cancel",children:n.jsx(kt,{className:"h-4 w-4"})})]}):n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Za,{className:"h-4 w-4 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-900",children:O.phone})]}),n.jsx("button",{onClick:()=>{b(O.phone),h(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit phone",children:n.jsx(di,{className:"h-4 w-4"})})]})]}),O.email&&n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(na,{className:"h-4 w-4 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-900",children:O.email})]})]}),O.phone_alt&&n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Alternate Phone"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Za,{className:"h-4 w-4 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-900",children:O.phone_alt}),n.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Backup)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Address"}),m?n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("textarea",{value:v,onChange:ge=>j(ge.target.value),className:"form-input flex-1 text-sm",rows:"3",autoFocus:!0}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("button",{onClick:()=>Xe("address",v),className:"text-green-600 hover:text-green-800",title:"Save",children:n.jsx(Ke,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>et("address"),className:"text-red-600 hover:text-red-800",title:"Cancel",children:n.jsx(kt,{className:"h-4 w-4"})})]})]}):n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start flex-1",children:[n.jsx(Aa,{className:"h-4 w-4 text-gray-400 mr-2 mt-0.5"}),n.jsx("span",{className:"text-sm text-gray-900",children:O.address})]}),n.jsx("button",{onClick:()=>{j(O.address),p(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors ml-2 flex-shrink-0",title:"Edit address",children:n.jsx(di,{className:"h-4 w-4"})})]})]})]})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Package Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Package"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:O.package_name})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Bandwidth"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium text-gray-900",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-blue-600",children:"↑"}),n.jsxs("span",{children:[O.bandwidth_up," Mbps"]})]}),n.jsx("span",{className:"text-gray-400",children:"/"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-green-600",children:"↓"}),n.jsxs("span",{children:[O.bandwidth_down," Mbps"]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Price"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:J(O.monthly_price)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"SLA Level"}),n.jsxs("span",{className:`text-sm font-medium ${O.sla_level==="gold"?"text-yellow-600":O.sla_level==="silver"?"text-gray-600":"text-orange-600"}`,children:[n.jsx(On,{className:"h-3 w-3 inline mr-1"}),(_t=O.sla_level)==null?void 0:_t.toUpperCase()]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Service Type"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:O.service_type})]})]})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status & Statistics"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Account Status"}),se(O.account_status,"account")]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Fe("active"),disabled:O.account_status==="active",className:"px-2 py-1 text-xs bg-green-50 text-green-700 rounded hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Active"}),n.jsx("button",{onClick:()=>Fe("suspended"),disabled:O.account_status==="suspended",className:"px-2 py-1 text-xs bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suspend"}),n.jsx("button",{onClick:()=>Fe("inactive"),disabled:O.account_status==="inactive",className:"px-2 py-1 text-xs bg-red-50 text-red-700 rounded hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Payment Status"}),se(O.payment_status,"payment")]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>le("paid"),disabled:O.payment_status==="paid",className:"px-2 py-1 text-xs bg-green-50 text-green-700 rounded hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Paid"}),n.jsx("button",{onClick:()=>le("pending"),disabled:O.payment_status==="pending",className:"px-2 py-1 text-xs bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Pending"}),n.jsx("button",{onClick:()=>le("unpaid"),disabled:O.payment_status==="unpaid",className:"px-2 py-1 text-xs bg-red-50 text-red-700 rounded hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Unpaid"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Total Tickets"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:oe.total_tickets||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Customer Rating"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ad,{className:"h-4 w-4 text-yellow-400 mr-1"}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[O.customer_rating||0,"/5"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Outstanding"}),n.jsx("span",{className:`text-sm font-medium ${parseFloat(O.outstanding_balance)>0?"text-red-600":"text-green-600"}`,children:J(O.outstanding_balance)})]})]})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lu,{className:"h-5 w-5 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quick Actions:"})]}),n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[O.phone&&n.jsxs("button",{onClick:fe,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Sg,{className:"h-4 w-4"}),"Call Customer"]}),O.email&&n.jsxs("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(na,{className:"h-4 w-4"}),"Email Customer"]}),O.phone&&n.jsxs("button",{onClick:ye,className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(PW,{className:"h-4 w-4"}),"WhatsApp"]}),n.jsxs("button",{onClick:Ce,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Pi,{className:"h-4 w-4"}),"Create Ticket"]}),n.jsxs("button",{onClick:Me,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(aO,{className:"h-4 w-4"}),"Add Payment"]}),O.account_status==="active"?n.jsxs("button",{onClick:ce,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(kt,{className:"h-4 w-4"}),"Suspend"]}):O.account_status==="suspended"?n.jsxs("button",{onClick:we,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Ke,{className:"h-4 w-4"}),"Activate"]}):null]})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:ot.map(ge=>{const dt=ge.icon;return n.jsxs("button",{onClick:()=>s(ge.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${a===ge.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(dt,{className:"h-4 w-4 mr-2"}),ge.label,ge.badge&&ge.badge>0&&n.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${a===ge.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:ge.badge})]},ge.id)})})}),n.jsxs("div",{className:"card-body",children:[a==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Jt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Service & Installation"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"ODP Assignment"}),O.odp?n.jsxs(No,{to:`/master-data/odp?search=${O.odp}`,className:"text-sm font-medium text-blue-600 hover:underline flex items-center",children:[n.jsx(Aa,{className:"h-3 w-3 mr-1"}),O.odp]}):n.jsx("span",{className:"text-sm text-gray-400",children:"Not assigned"})]}),O.installation_date&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Installation Date"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:Y(O.installation_date)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Registration Date"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:Y(O.registration_date)})]}),O.last_payment_date&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Last Payment"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:Y(O.last_payment_date)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"IP Address"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:O.ip_address?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"font-mono",children:O.ip_address}),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",O.ip_type,")"]})]}):n.jsx("span",{className:"text-gray-400",children:"Not assigned yet"})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Customer Type"}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O.customer_type==="vip"?"bg-purple-100 text-purple-800":O.customer_type==="corporate"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:((Zt=O.customer_type)==null?void 0:Zt.toUpperCase())||"REGULAR"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Lu,{className:"h-5 w-5 mr-2 text-orange-600"}),"Technical Information"]}),n.jsxs("div",{className:"space-y-3",children:[O.signal_strength!==null&&O.signal_strength!==void 0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Signal Strength"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[O.signal_strength,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:`h-2.5 rounded-full transition-all ${O.signal_strength>=80?"bg-green-500":O.signal_strength>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${O.signal_strength}%`}})})]}),O.signal_quality&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Signal Quality"}),n.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${O.signal_quality==="excellent"?"bg-green-100 text-green-800":O.signal_quality==="good"?"bg-blue-100 text-blue-800":O.signal_quality==="fair"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:O.signal_quality.toUpperCase()})]}),O.assigned_technician_id&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Assigned Technician"}),n.jsxs(No,{to:`/technicians/${O.assigned_technician_id}`,className:"text-sm font-medium text-blue-600 hover:underline flex items-center",children:[n.jsx(Ft,{className:"h-3 w-3 mr-1"}),"View Details"]})]}),O.latitude&&O.longitude&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"GPS Location"}),n.jsxs("button",{onClick:()=>window.open(`https://www.google.com/maps?q=${O.latitude},${O.longitude}`,"_blank"),className:"text-sm font-medium text-blue-600 hover:underline flex items-center",children:[n.jsx(Z5,{className:"h-3 w-3 mr-1"}),"View on Map"]})]}),O.service_quality_score>0&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Service Quality"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:"h-1.5 bg-blue-500 rounded-full",style:{width:`${O.service_quality_score}%`}})}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[O.service_quality_score,"%"]})]})]}),!O.signal_strength&&!O.signal_quality&&!O.assigned_technician_id&&!O.latitude&&!O.service_quality_score&&n.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(Lu,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"No technical data available yet"})]})]})]}),O.notes&&n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx($t,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Internal Notes"]}),n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:O.notes})})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"border-2 border-red-200 rounded-lg p-6 bg-red-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-red-800 mb-1",children:"Danger Zone"}),n.jsx("p",{className:"text-sm text-red-600",children:"Menonaktifkan customer akan membuat customer tidak dapat login dan mengakses layanan."})]}),n.jsxs("button",{onClick:ze,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors inline-flex items-center gap-2 font-medium",children:[n.jsx(sa,{className:"h-4 w-4"}),"Deactivate Customer"]})]})})})]}),a==="tickets"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Customer Tickets"}),n.jsx("p",{className:"text-sm text-gray-600",children:"History semua tiket untuk customer ini"})]}),n.jsxs("button",{onClick:Ce,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Create New Ticket"]})]}),H?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx(St,{})}):F.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(ui,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tickets Found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Customer ini belum memiliki tiket"}),n.jsxs("button",{onClick:Ce,className:"btn-primary inline-flex items-center",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Create First Ticket"]})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell",children:"Ticket Number"}),n.jsx("th",{className:"table-header-cell",children:"Type"}),n.jsx("th",{className:"table-header-cell",children:"Priority"}),n.jsx("th",{className:"table-header-cell",children:"Status"}),n.jsx("th",{className:"table-header-cell",children:"Technician"}),n.jsx("th",{className:"table-header-cell",children:"Created Date"}),n.jsx("th",{className:"table-header-cell text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:F.map(ge=>n.jsxs("tr",{onClick:()=>t(`/tickets/${ge.id}`),className:"cursor-pointer hover:bg-blue-50 transition-colors",title:"Klik untuk lihat detail ticket",children:[n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"font-medium text-blue-600",children:ge.ticket_number}),n.jsx("div",{className:"text-sm text-gray-500 truncate",title:ge.title,children:ge.title})]}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:"capitalize",children:ie(ge.type)})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ge.priority==="critical"?"bg-red-100 text-red-800":ge.priority==="high"?"bg-orange-100 text-orange-800":ge.priority==="normal"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:ie(ge.priority)})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ge.status==="completed"?"bg-green-100 text-green-800":ge.status==="cancelled"?"bg-red-100 text-red-800":ge.status==="in_progress"?"bg-yellow-100 text-yellow-800":ge.status==="on_hold"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:ie(ge.status)})}),n.jsx("td",{className:"table-cell",children:ge.technician_name||"Unassigned"}),n.jsx("td",{className:"table-cell",children:new Date(ge.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"flex items-center justify-center text-gray-400",children:n.jsx(vn,{className:"h-5 w-5"})})})]},ge.id))})]})})]}),a==="service"&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Service History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"History perubahan layanan dan paket customer"})]}),ne.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Service History"}),n.jsx("p",{className:"text-gray-500",children:"Belum ada perubahan layanan untuk customer ini"})]}):n.jsx("div",{className:"space-y-4",children:ne.map((ge,dt)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${ge.action_type==="upgrade"?"bg-green-100":ge.action_type==="downgrade"?"bg-orange-100":ge.action_type==="package_change"?"bg-blue-100":"bg-gray-100"}`,children:n.jsx(Jt,{className:`h-5 w-5 ${ge.action_type==="upgrade"?"text-green-600":ge.action_type==="downgrade"?"text-orange-600":ge.action_type==="package_change"?"text-blue-600":"text-gray-600"}`})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:ie(ge.action_type||"Service Change")}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ge.description||"Perubahan layanan"})]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:Y(ge.change_date||ge.created_at)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-100",children:[ge.previous_package&&n.jsxs("div",{className:"bg-red-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Previous Package"}),n.jsx("p",{className:"font-medium text-gray-900",children:ge.previous_package}),n.jsxs("p",{className:"text-sm text-gray-600",children:[ge.previous_bandwidth," Mbps"]}),n.jsx("p",{className:"text-sm text-gray-900",children:J(ge.previous_price)})]}),ge.new_package&&n.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"New Package"}),n.jsx("p",{className:"font-medium text-gray-900",children:ge.new_package}),n.jsxs("p",{className:"text-sm text-gray-600",children:[ge.new_bandwidth," Mbps"]}),n.jsx("p",{className:"text-sm text-gray-900",children:J(ge.new_price)})]})]}),ge.notes&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded text-sm text-gray-700",children:[n.jsx("strong",{children:"Notes:"})," ",ge.notes]}),ge.processed_by&&n.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Ft,{className:"h-3 w-3"}),n.jsxs("span",{children:["Processed by: ",ge.processed_by_name||ge.processed_by]})]})]},dt))})]}),a==="equipment"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Customer Equipment"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Perangkat yang digunakan oleh customer"})]}),n.jsxs("button",{onClick:()=>l(!0),className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Add Equipment"]})]}),M.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(rp,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Equipment Registered"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Belum ada equipment yang terdaftar untuk customer ini"}),n.jsxs("button",{onClick:()=>l(!0),className:"btn-primary inline-flex items-center",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Add First Equipment"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(ge=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow relative group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[ge.equipment_type==="modem"&&n.jsx(ec,{className:"h-5 w-5 text-blue-500 mr-2"}),ge.equipment_type==="router"&&n.jsx(rp,{className:"h-5 w-5 text-green-500 mr-2"}),ge.equipment_type==="cable"&&n.jsx(X5,{className:"h-5 w-5 text-gray-500 mr-2"}),n.jsx("span",{className:"font-medium text-gray-900 capitalize",children:ge.equipment_type})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ge.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ge.status}),ge.status==="active"&&n.jsx("button",{onClick:()=>at(ge),className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-100 rounded transition-all",title:"Hapus Equipment",children:n.jsx(sa,{className:"h-4 w-4 text-red-600"})})]})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Brand"}),n.jsx("span",{className:"font-medium",children:ge.brand||"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Model"}),n.jsx("span",{className:"font-medium",children:ge.model||"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Serial"}),n.jsx("span",{className:"font-medium text-xs",children:ge.serial_number||"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Installed"}),n.jsx("span",{className:"font-medium",children:Y(ge.installation_date)})]})]}),ge.notes&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsx("p",{className:"text-xs text-gray-600",children:ge.notes})})]},ge.id))})]}),a==="payments"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Payment History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Riwayat pembayaran bulanan customer"})]}),n.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),I.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(Df,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment History"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Belum ada riwayat pembayaran untuk customer ini"}),n.jsxs("button",{onClick:()=>c(!0),className:"btn-primary inline-flex items-center",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Record First Payment"]})]}):n.jsx("div",{className:"space-y-4",children:I.map(ge=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Df,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-gray-900",children:ge.invoice_number}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y(ge.payment_date)})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-lg font-bold text-gray-900",children:J(ge.amount)}),se(ge.payment_status,"payment")]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:ge.payment_method})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Billing Period"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:ge.billing_period||"Monthly"})]})]}),ge.notes&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Notes:"}),n.jsx("p",{className:"text-sm text-gray-700",children:ge.notes})]})]},ge.id))})]})]})]}),n.jsx(E1e,{isOpen:i,onClose:()=>l(!1),customer:O,onSuccess:Z}),n.jsx(C1e,{isOpen:o,onClose:()=>c(!1),customer:O,onSuccess:ke}),n.jsx(ga,{isOpen:N,onClose:()=>{k(!1),S(null)},onConfirm:$e,title:"🗑️ Hapus Equipment",message:_?`Hapus equipment "${_.equipment_type}" - ${_.brand} ${_.model}?`:"",confirmText:"Ya, Hapus",cancelText:"Batal",type:"danger",children:_&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-2",children:[n.jsxs("p",{className:"text-sm text-gray-700",children:["🗑️ Equipment akan dihapus dari customer",n.jsx("br",{}),'📊 Status akan berubah menjadi "Inactive"',n.jsx("br",{}),"📝 Data historis tetap tersimpan",n.jsx("br",{}),"⚠️ Equipment tidak akan muncul di list aktif"]}),_.serial_number&&n.jsxs("p",{className:"text-xs text-gray-600 mt-2 pt-2 border-t border-red-200",children:["Serial: ",n.jsx("span",{className:"font-mono font-medium",children:_.serial_number})]})]})}),n.jsx(ga,{isOpen:E,onClose:()=>A(!1),onConfirm:de,title:"⚠️ Suspend Customer",message:`Suspend customer "${O.name}"?`,confirmText:"Ya, Suspend",cancelText:"Batal",type:"warning",children:n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["⚠️ Account status akan berubah menjadi ",n.jsx("span",{className:"font-semibold text-orange-900",children:'"Suspended"'}),n.jsx("br",{}),"🔒 Customer tidak dapat menggunakan layanan",n.jsx("br",{}),"📋 Data customer tetap tersimpan",n.jsx("br",{}),"✅ Dapat di-activate kembali kapan saja"]})})}),n.jsx(ga,{isOpen:U,onClose:()=>V(!1),onConfirm:_e,title:"✅ Activate Customer",message:`Activate customer "${O.name}"?`,confirmText:"Ya, Activate",cancelText:"Batal",type:"success",children:n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["✅ Account status akan berubah menjadi ",n.jsx("span",{className:"font-semibold text-green-900",children:'"Active"'}),n.jsx("br",{}),"🔓 Customer dapat menggunakan layanan kembali",n.jsx("br",{}),"📡 Layanan akan diaktifkan segera",n.jsx("br",{}),"💰 Billing akan berjalan normal"]})})}),n.jsx(RR,{isOpen:T,onClose:()=>C(!1),onSuccess:Pe,preSelectedCustomer:O})]})},A1e=({isOpen:e,onClose:t,technician:r=null,onSuccess:a,mode:s="create"})=>{const i=s==="view",[l,o]=w.useState({employee_id:"",full_name:"",phone:"",phone_alt:"",email:"",address:"",emergency_contact_name:"",emergency_contact_phone:"",hire_date:new Date().toISOString().split("T")[0],employment_status:"active",position:"technician",department:"field_operations",supervisor_id:"",skill_level:"junior",specializations:[],certifications:[],work_zone:"",max_daily_tickets:8,preferred_shift:"day",current_latitude:"",current_longitude:"",is_available:!0,availability_status:"available"}),[c,u]=w.useState("basic"),[d,f]=w.useState(!1),[h,m]=w.useState({}),p=["fiber_optic","wireless","networking","installation","troubleshooting","enterprise","residential","maintenance"],x=["Jakarta Pusat","Jakarta Selatan","Jakarta Utara","Jakarta Timur","Jakarta Barat","Bogor","Depok","Tangerang","Bekasi"];w.useEffect(()=>{r&&o({employee_id:r.employee_id||"",full_name:r.full_name||"",phone:r.phone||"",phone_alt:r.phone_alt||"",email:r.email||"",address:r.address||"",emergency_contact_name:r.emergency_contact_name||"",emergency_contact_phone:r.emergency_contact_phone||"",hire_date:r.hire_date?r.hire_date.split("T")[0]:new Date().toISOString().split("T")[0],employment_status:r.employment_status||"active",position:r.position||"technician",department:r.department||"field_operations",supervisor_id:r.supervisor_id||"",skill_level:r.skill_level||"junior",specializations:r.specializations||[],certifications:r.certifications||[],work_zone:r.work_zone||"",max_daily_tickets:r.max_daily_tickets||8,preferred_shift:r.preferred_shift||"day",current_latitude:r.current_latitude||"",current_longitude:r.current_longitude||"",is_available:r.is_available!==void 0?r.is_available:!0,availability_status:r.availability_status||"available"})},[r]);const g=k=>{const{name:_,value:S,type:T,checked:C}=k.target;o(E=>({...E,[_]:T==="checkbox"?C:S})),h[_]&&m(E=>({...E,[_]:""}))},y=k=>{o(_=>({..._,specializations:_.specializations.includes(k)?_.specializations.filter(S=>S!==k):[..._.specializations,k]}))},b=()=>{const k={};return l.employee_id.trim()||(k.employee_id="Employee ID is required"),l.full_name.trim()||(k.full_name="Full name is required"),l.phone.trim()||(k.phone="Phone number is required"),l.email.trim()||(k.email="Email is required"),l.work_zone||(k.work_zone="Work zone is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(k.email="Please enter a valid email address"),l.phone&&!/^[0-9+\-\s()]+$/.test(l.phone)&&(k.phone="Please enter a valid phone number"),m(k),Object.keys(k).length===0},v=async k=>{var _,S;if(k.preventDefault(),!b()){ee.error("Please fix the validation errors");return}f(!0);try{const T={...l,max_daily_tickets:parseInt(l.max_daily_tickets),current_latitude:l.current_latitude?parseFloat(l.current_latitude):null,current_longitude:l.current_longitude?parseFloat(l.current_longitude):null,supervisor_id:l.supervisor_id||null,user_id:(r==null?void 0:r.user_id)||1};r?(await _c.updateTechnician(r.id,T),ee.success("Technician updated successfully!")):(await _c.createTechnician(T),ee.success("Technician created successfully!")),a(),t()}catch(T){console.error("Submit error:",T),ee.error(((S=(_=T.response)==null?void 0:_.data)==null?void 0:S.message)||"Failed to save technician")}finally{f(!1)}},j=()=>{o({employee_id:"",full_name:"",phone:"",phone_alt:"",email:"",address:"",emergency_contact_name:"",emergency_contact_phone:"",hire_date:new Date().toISOString().split("T")[0],employment_status:"active",position:"technician",department:"field_operations",supervisor_id:"",skill_level:"junior",specializations:[],certifications:[],work_zone:"",max_daily_tickets:8,preferred_shift:"day",current_latitude:"",current_longitude:"",is_available:!0,availability_status:"available"}),m({}),u("basic"),t()};if(!e)return null;const N=[{id:"basic",label:"Basic Info",icon:Ft},{id:"employment",label:"Employment",icon:br},{id:"skills",label:"Skills & Zone",icon:d0},{id:"location",label:"Location",icon:Aa}];return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s==="view"?"View Technician Details":s==="edit"?"Edit Technician":"Add New Technician"}),n.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex space-x-8 px-6",children:N.map(k=>{const _=k.icon;return n.jsxs("button",{onClick:()=>u(k.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(_,{className:"h-4 w-4 inline mr-2"}),k.label]},k.id)})})}),n.jsxs("form",{onSubmit:v,className:"flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[c==="basic"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee ID *"}),n.jsx("input",{type:"text",name:"employee_id",value:l.employee_id,onChange:g,readOnly:s==="view",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.employee_id?"border-red-300":"border-gray-300"} ${s==="view"?"bg-gray-50 text-gray-600":""}`,placeholder:"TECH001"}),h.employee_id&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[n.jsx($t,{className:"h-4 w-4 mr-1"}),h.employee_id]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",name:"full_name",value:l.full_name,onChange:g,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.full_name?"border-red-300":"border-gray-300"}`,placeholder:"John Doe"}),h.full_name&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[n.jsx($t,{className:"h-4 w-4 mr-1"}),h.full_name]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:g,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.phone?"border-red-300":"border-gray-300"}`,placeholder:"081234567890"}),h.phone&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[n.jsx($t,{className:"h-4 w-4 mr-1"}),h.phone]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alternative Phone"}),n.jsx("input",{type:"tel",name:"phone_alt",value:l.phone_alt,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"082345678901"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",name:"email",value:l.email,onChange:g,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.email?"border-red-300":"border-gray-300"}`,placeholder:"john.doe@company.com"}),h.email&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[n.jsx($t,{className:"h-4 w-4 mr-1"}),h.email]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("textarea",{name:"address",value:l.address,onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Full address..."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Name"}),n.jsx("input",{type:"text",name:"emergency_contact_name",value:l.emergency_contact_name,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Jane Doe"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Phone"}),n.jsx("input",{type:"tel",name:"emergency_contact_phone",value:l.emergency_contact_phone,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"081234567890"})]})]})]}),c==="employment"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date"}),n.jsx("input",{type:"date",name:"hire_date",value:l.hire_date,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employment Status"}),n.jsxs("select",{name:"employment_status",value:l.employment_status,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"}),n.jsx("option",{value:"suspended",children:"Suspended"}),n.jsx("option",{value:"terminated",children:"Terminated"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),n.jsx("input",{type:"text",name:"position",value:l.position,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Technician"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),n.jsx("input",{type:"text",name:"department",value:l.department,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Field Operations"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Shift"}),n.jsxs("select",{name:"preferred_shift",value:l.preferred_shift,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"day",children:"Day Shift"}),n.jsx("option",{value:"night",children:"Night Shift"}),n.jsx("option",{value:"flexible",children:"Flexible"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Daily Tickets"}),n.jsx("input",{type:"number",name:"max_daily_tickets",value:l.max_daily_tickets,onChange:g,min:"1",max:"20",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})}),c==="skills"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skill Level"}),n.jsxs("select",{name:"skill_level",value:l.skill_level,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"junior",children:"Junior"}),n.jsx("option",{value:"senior",children:"Senior"}),n.jsx("option",{value:"expert",children:"Expert"}),n.jsx("option",{value:"specialist",children:"Specialist"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Zone *"}),n.jsxs("select",{name:"work_zone",value:l.work_zone,onChange:g,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.work_zone?"border-red-300":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:"Select Work Zone"}),x.map(k=>n.jsx("option",{value:k,children:k},k))]}),h.work_zone&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[n.jsx($t,{className:"h-4 w-4 mr-1"}),h.work_zone]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:p.map(k=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:l.specializations.includes(k),onChange:()=>y(k),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:k.replace("_"," ")})]},k))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability Status"}),n.jsxs("select",{name:"availability_status",value:l.availability_status,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"busy",children:"Busy"}),n.jsx("option",{value:"break",children:"On Break"}),n.jsx("option",{value:"offline",children:"Offline"})]})]}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"is_available",checked:l.is_available,onChange:g,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Available for assignments"})]})})]})]}),c==="location"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Latitude"}),n.jsx("input",{type:"number",name:"current_latitude",value:l.current_latitude,onChange:g,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"-6.2088"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Longitude"}),n.jsx("input",{type:"number",name:"current_longitude",value:l.current_longitude,onChange:g,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"106.8456"})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx($t,{className:"h-5 w-5 text-blue-400"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Information"}),n.jsx("div",{className:"mt-2 text-sm text-blue-700",children:n.jsx("p",{children:"Current location coordinates will be used for smart assignment and tracking purposes. Leave empty if location is not available."})})]})]})})]})]}),n.jsxs("div",{className:"flex items-center justify-end px-6 py-4 bg-gray-50 border-t border-gray-200 space-x-3",children:[n.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:i?"Close":"Cancel"}),!i&&n.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:d?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Cg,{className:"h-4 w-4 mr-2"}),s==="edit"?"Update":"Create"," Technician"]})})]})]})]})})},P1e=()=>{var B,te;const e=Vi(),t=qt(),[r,a]=w.useState({search:"",employment_status:"",availability_status:"",skill_level:"",work_zone:"",specialization:""}),[s,i]=w.useState(1),[l,o]=w.useState("created_at"),[c,u]=w.useState("DESC"),[d,f]=w.useState(!1),[h,m]=w.useState(null),[p,x]=w.useState("create"),[g,y]=w.useState(10),{data:b,isLoading:v,refetch:j}=Be(["technicians",r,s,g,l,c],()=>_c.getTechnicians({...r,page:s,limit:g,sort_by:l,sort_order:c}),{keepPreviousData:!0}),{data:N}=Be("technician-stats",()=>_c.getTechnicianStats()),k=jt(H=>_c.deleteTechnician(H),{onSuccess:()=>{ee.success("Technician deleted successfully"),j()},onError:H=>{var F,O;ee.error(((O=(F=H.response)==null?void 0:F.data)==null?void 0:O.message)||"Failed to delete technician")}}),_=(H,F)=>{a(O=>({...O,[H]:F})),i(1)},S=()=>{m(null),x("create"),f(!0)},T=(H,F)=>{window.confirm(`Are you sure you want to delete technician "${F}"? This action cannot be undone.`)&&k.mutate(H)},C=()=>{j(),f(!1),m(null)},E=H=>{e(`/technicians/${H.id}`)},A=H=>{l===H?u(c==="ASC"?"DESC":"ASC"):(o(H),u("DESC")),i(1)},U=H=>l!==H?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):c==="ASC"?n.jsx(Bs,{className:"h-4 w-4 text-blue-600"}):n.jsx(Ls,{className:"h-4 w-4 text-blue-600"}),V=H=>{const F={available:{color:"bg-green-100 text-green-800",icon:Ke,label:"Available"},busy:{color:"bg-yellow-100 text-yellow-800",icon:Kt,label:"Busy"},break:{color:"bg-blue-100 text-blue-800",icon:rO,label:"On Break"},offline:{color:"bg-gray-100 text-gray-800",icon:kt,label:"Offline"}},O=F[H]||F.offline,M=O.icon;return n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${O.color}`,children:[n.jsx(M,{className:"h-3 w-3 mr-1"}),O.label]})},ae=H=>{const F={junior:{color:"bg-blue-100 text-blue-800",label:"Junior"},senior:{color:"bg-purple-100 text-purple-800",label:"Senior"},expert:{color:"bg-orange-100 text-orange-800",label:"Expert"},specialist:{color:"bg-red-100 text-red-800",label:"Specialist"}},O=F[H]||F.junior;return n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${O.color}`,children:[n.jsx(d0,{className:"h-3 w-3 mr-1"}),O.label]})},q=((B=b==null?void 0:b.data)==null?void 0:B.technicians)||[],R=((te=b==null?void 0:b.data)==null?void 0:te.pagination)||{},P=(N==null?void 0:N.data)||{};return w.useEffect(()=>{const H=()=>{t.invalidateQueries(["technicians"]),t.invalidateQueries("technician-stats"),console.log("🔄 Technician list & stats refreshed")};return window.addEventListener("technician-created",H),window.addEventListener("technician-updated",H),window.addEventListener("technician-status-changed",H),()=>{window.removeEventListener("technician-created",H),window.removeEventListener("technician-updated",H),window.removeEventListener("technician-status-changed",H)}},[t]),v&&!b?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(St,{size:"lg"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Technician Management"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Kelola teknisi lapangan dan monitor performa"})]}),n.jsxs("button",{onClick:S,className:"mt-4 sm:mt-0 btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Teknisi"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:Zn,title:"Total Teknisi",value:P.total_technicians||0,color:"blue"}),n.jsx(Ve,{icon:Ke,title:"Available",value:P.available_technicians||0,color:"green",onClick:()=>{a({...r,availability_status:r.availability_status==="available"?"":"available"}),i(1)}}),n.jsx(Ve,{icon:Kt,title:"Busy",value:P.busy_technicians||0,color:"yellow",onClick:()=>{a({...r,availability_status:r.availability_status==="busy"?"":"busy"}),i(1)}}),n.jsx(Ve,{icon:kt,title:"Offline",value:P.offline_technicians||0,color:"red",onClick:()=>{a({...r,availability_status:r.availability_status==="offline"?"":"offline"}),i(1)}})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari teknisi...",value:r.search,onChange:H=>_("search",H.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"form-input",value:r.availability_status,onChange:H=>_("availability_status",H.target.value),children:[n.jsx("option",{value:"",children:"Semua Status"}),n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"busy",children:"Busy"}),n.jsx("option",{value:"break",children:"On Break"}),n.jsx("option",{value:"offline",children:"Offline"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skill Level"}),n.jsxs("select",{className:"form-input",value:r.skill_level,onChange:H=>_("skill_level",H.target.value),children:[n.jsx("option",{value:"",children:"Semua Level"}),n.jsx("option",{value:"junior",children:"Junior"}),n.jsx("option",{value:"senior",children:"Senior"}),n.jsx("option",{value:"expert",children:"Expert"}),n.jsx("option",{value:"specialist",children:"Specialist"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Zone"}),n.jsxs("select",{className:"form-input",value:r.work_zone,onChange:H=>_("work_zone",H.target.value),children:[n.jsx("option",{value:"",children:"Semua Zone"}),n.jsx("option",{value:"Jakarta_Pusat",children:"Jakarta Pusat"}),n.jsx("option",{value:"Jakarta_Selatan",children:"Jakarta Selatan"}),n.jsx("option",{value:"Jakarta_Utara",children:"Jakarta Utara"}),n.jsx("option",{value:"Jakarta_Timur",children:"Jakarta Timur"}),n.jsx("option",{value:"Jakarta_Barat",children:"Jakarta Barat"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),n.jsxs("select",{className:"form-input",value:r.specialization,onChange:H=>_("specialization",H.target.value),children:[n.jsx("option",{value:"",children:"Semua Spesialisasi"}),n.jsx("option",{value:"fiber_optic",children:"Fiber Optic"}),n.jsx("option",{value:"wireless",children:"Wireless"}),n.jsx("option",{value:"networking",children:"Networking"}),n.jsx("option",{value:"installation",children:"Installation"}),n.jsx("option",{value:"troubleshooting",children:"Troubleshooting"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment"}),n.jsxs("select",{className:"form-input",value:r.employment_status,onChange:H=>_("employment_status",H.target.value),children:[n.jsx("option",{value:"",children:"Semua"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"}),n.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Technicians",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",R.total||0," total)"]})]})}),n.jsx("div",{className:"card-body p-0",children:q.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No technicians found"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Get started by adding your first technician."}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:S,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Add First Technician"]})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>A("full_name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Technician"}),U("full_name")]})}),n.jsx("th",{className:"table-header-cell",children:"Contact"}),n.jsx("th",{className:"table-header-cell",children:"Skills & Zone"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>A("availability_status"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),U("availability_status")]})}),n.jsx("th",{className:"table-header-cell",children:"Performance"}),n.jsx("th",{className:"table-header-cell text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:q.map(H=>{var F;return n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:n.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:n.jsx(Ft,{className:"h-5 w-5 text-gray-600"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:H.full_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",H.employee_id]})]})]})}),n.jsxs("td",{className:"table-cell",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Za,{className:"h-3 w-3 mr-1 text-gray-400"}),H.phone]}),H.email&&n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(na,{className:"h-3 w-3 mr-1 text-gray-400"}),H.email]})]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"space-y-2",children:[ae(H.skill_level),n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(Aa,{className:"h-4 w-4 mr-1"}),(F=H.work_zone)==null?void 0:F.replace("_"," ")]})]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"space-y-2",children:[V(H.availability_status),n.jsxs("div",{className:"text-xs text-gray-500",children:["Active Tickets: ",H.active_tickets||0,"/",H.max_daily_tickets||8]})]})}),n.jsxs("td",{className:"table-cell",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(ad,{className:"h-4 w-4 mr-1 text-yellow-400"}),H.avg_customer_rating?parseFloat(H.avg_customer_rating).toFixed(1):"N/A"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Completed: ",H.total_tickets_completed||0]})]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>E(H),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"View Details",children:n.jsx(yc,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>T(H.id,H.full_name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Technician",children:n.jsx(sa,{className:"h-4 w-4"})})]})})]},H.id)})})]})}),R&&n.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>i(Math.max(1,s-1)),disabled:s===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>i(Math.min(R.pages,s+1)),disabled:s===R.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:g,onChange:H=>{y(parseInt(H.target.value)),i(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(s-1)*g+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(s*g,R.total)})," ","of ",n.jsx("span",{className:"font-medium",children:R.total})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>i(Math.max(1,s-1)),disabled:s===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(R.pages,10)},(H,F)=>R.pages<=10||s<=5?F+1:s>=R.pages-4?R.pages-9+F:s-5+F).map(H=>n.jsx("button",{onClick:()=>i(H),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s===H?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:H},H)),n.jsx("button",{onClick:()=>i(Math.min(R.pages,s+1)),disabled:s===R.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})})]})})]}),n.jsx(A1e,{isOpen:d,onClose:()=>f(!1),technician:h,onSuccess:C,mode:p})]})},O1e=()=>{var h;const{id:e}=K0(),[t,r]=w.useState("overview"),{data:a,isLoading:s,error:i}=Be(["technician",e],()=>_c.getTechnician(e),{enabled:!!e,staleTime:3e4});if(s)return n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})});if(i||!((h=a==null?void 0:a.data)!=null&&h.technician))return n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-500 mb-4",children:n.jsx($t,{className:"h-12 w-12 mx-auto"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Technician Not Found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Technician yang Anda cari tidak ditemukan"}),n.jsx(Fo,{to:"/technicians",label:"Back to Technicians"})]});const l=a.data.technician,o=a.data.stats||{},c=a.data.recent_tickets||[],u=m=>m?new Date(m).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",d=m=>{const x={available:{color:"green",label:"Available"},on_duty:{color:"blue",label:"On Duty"},off_duty:{color:"gray",label:"Off Duty"},on_leave:{color:"yellow",label:"On Leave"},active:{color:"green",label:"Active"},inactive:{color:"red",label:"Inactive"},suspended:{color:"orange",label:"Suspended"}}[m]||{color:"gray",label:m};return n.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-${x.color}-100 text-${x.color}-800`,children:x.label})},f=[{id:"overview",label:"Overview",icon:Ft},{id:"performance",label:"Performance",icon:d0},{id:"tickets",label:"Recent Tickets",icon:ui}];return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Fo,{to:"/technicians",label:"Back to Technicians"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.full_name}),n.jsxs("p",{className:"text-gray-600",children:["Employee ID: ",l.employee_id]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Za,{className:"h-5 w-5 text-blue-600 mr-2"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Za,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm",children:l.phone_number||"-"})]}),n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(na,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm",children:l.email||"-"})]}),n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Aa,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm",children:l.work_zone||"-"})]})]})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(ui,{className:"h-5 w-5 text-green-600 mr-2"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Availability"}),d(l.availability_status)]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Employment"}),d(l.employment_status)]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Skill Level"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:l.skill_level})]})]})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(ad,{className:"h-5 w-5 text-yellow-600 mr-2"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Performance"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Rating"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ad,{className:"h-4 w-4 text-yellow-400 fill-current"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 ml-1",children:o.avg_rating?o.avg_rating.toFixed(1):"N/A"})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Total Tickets"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.total_tickets||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.completed_tickets||0})]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:f.map(m=>{const p=m.icon;return n.jsxs("button",{onClick:()=>r(m.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${t===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(p,{className:"h-4 w-4 mr-2"}),m.label]},m.id)})})}),n.jsxs("div",{className:"p-6",children:[t==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Full Name"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.full_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Employee ID"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.employee_id})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Hire Date"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:u(l.hire_date)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Max Daily Tickets"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.max_daily_tickets||"-"})]})]})]}),l.specializations&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Specializations"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.specializations.map((m,p)=>n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:m},p))})]})]}),t==="performance"&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(d0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Performance Metrics"}),n.jsx("p",{className:"text-gray-500",children:"Detailed performance analytics will be displayed here."})]}),t==="tickets"&&n.jsx("div",{children:c.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ui,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Recent Tickets"}),n.jsx("p",{className:"text-gray-500",children:"No tickets assigned to this technician yet."})]}):n.jsx("div",{className:"space-y-4",children:c.map(m=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-900",children:m.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description}),n.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[n.jsx(br,{className:"h-3 w-3 mr-1"}),u(m.created_at)]})]}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.status==="completed"?"bg-green-100 text-green-800":m.status==="in_progress"?"bg-blue-100 text-blue-800":m.status==="assigned"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:m.status.replace("_"," ")})]})},m.id))})})]})]})]})},Xx={getAll:async()=>await me.get("/inventory"),getById:async e=>await me.get(`/inventory/${e}`),create:async e=>await me.post("/inventory",e),update:async(e,t)=>await me.put(`/inventory/${e}`,t),delete:async e=>await me.delete(`/inventory/${e}`),adjustStock:async(e,t)=>await me.post(`/inventory/${e}/adjust`,t)},D1e=({item:e,onClose:t,onSuccess:r})=>{const a=!!e,{register:s,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=es({defaultValues:e||{item_code:"",name:"",category:"",description:"",unit:"pcs",unit_price:"",minimum_stock:10,current_stock:0,location:"",supplier:"",is_active:!0}});w.useEffect(()=>{e&&c(e)},[e,c]);const u=jt(f=>a?Xx.update(e.id,f):Xx.create(f),{onSuccess:()=>{ee.success(a?"Item berhasil diupdate":"Item berhasil ditambahkan"),r()},onError:f=>{var h,m;ee.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Terjadi kesalahan")}}),d=f=>{const h={...f,is_active:f.is_active==="true"||f.is_active===!0,unit_price:parseFloat(f.unit_price)||0,minimum_stock:parseInt(f.minimum_stock)||0,current_stock:parseInt(f.current_stock)||0};u.mutate(h)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Item":"Tambah Item Baru"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:i(d),className:"p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kode Item ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"INV-001",...s("item_code",{required:"Kode item wajib diisi",minLength:{value:3,message:"Kode minimal 3 karakter"}})}),l.item_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.item_code.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Item ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"Nama item",...s("name",{required:"Nama item wajib diisi"})}),l.name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name.message})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Kategori & Satuan"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kategori ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{className:"input-field",...s("category",{required:"Kategori wajib dipilih"}),children:[n.jsx("option",{value:"",children:"Pilih Kategori"}),n.jsx("option",{value:"Hardware",children:"Hardware"}),n.jsx("option",{value:"Cable",children:"Cable"}),n.jsx("option",{value:"Network Equipment",children:"Network Equipment"}),n.jsx("option",{value:"Tools",children:"Tools"}),n.jsx("option",{value:"Accessories",children:"Accessories"}),n.jsx("option",{value:"Consumables",children:"Consumables"})]}),l.category&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Satuan ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"pcs, meter, box",...s("unit",{required:"Satuan wajib diisi"})}),l.unit&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.unit.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Harga Satuan (Rp)"}),n.jsx("input",{type:"number",className:"input-field",placeholder:"0",step:"0.01",...s("unit_price")})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Stok"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Stok Minimal ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",className:"input-field",min:"0",...s("minimum_stock",{required:"Stok minimal wajib diisi",min:{value:0,message:"Tidak boleh negatif"}})}),l.minimum_stock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.minimum_stock.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stok Saat Ini"}),n.jsx("input",{type:"number",className:"input-field",min:"0",...s("current_stock",{min:{value:0,message:"Tidak boleh negatif"}})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Lokasi & Supplier"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lokasi"}),n.jsx("input",{type:"text",className:"input-field",placeholder:"Gudang A, Rak 1",...s("location")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier"}),n.jsx("input",{type:"text",className:"input-field",placeholder:"Nama supplier",...s("supplier")})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi"}),n.jsx("textarea",{className:"input-field",rows:"2",placeholder:"Deskripsi item",...s("description")})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"true",...s("is_active"),className:"mr-2"}),"Active"]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"false",...s("is_active"),className:"mr-2"}),"Inactive"]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":a?"Update Item":"Tambah Item"})]})]})]})})},F1e=()=>{var C;const[e,t]=w.useState(""),[r,a]=w.useState("all"),[s,i]=w.useState("all"),[l,o]=w.useState(!1),[c,u]=w.useState(null),d=qt(),{data:f,isLoading:h}=Be(["inventory-items"],Xx.getAll,{refetchOnWindowFocus:!1}),m=Array.isArray(f)?f:((C=f==null?void 0:f.data)==null?void 0:C.items)||(f==null?void 0:f.items)||[],p=jt(E=>Xx.delete(E),{onSuccess:()=>{ee.success("Item berhasil dihapus"),d.invalidateQueries(["inventory-items"])},onError:E=>{var A,U;ee.error(((U=(A=E.response)==null?void 0:A.data)==null?void 0:U.message)||"Gagal menghapus item")}}),x=(m==null?void 0:m.filter(E=>{var ae,q;const A=((ae=E.name)==null?void 0:ae.toLowerCase().includes(e.toLowerCase()))||((q=E.item_code)==null?void 0:q.toLowerCase().includes(e.toLowerCase())),U=r==="all"||E.category===r,V=s==="all"||s==="low"&&E.current_stock<=E.minimum_stock||s==="available"&&E.current_stock>E.minimum_stock;return A&&U&&V}))||[],g=(m==null?void 0:m.length)||0,y=(m==null?void 0:m.filter(E=>E.is_active).length)||0,b=(m==null?void 0:m.filter(E=>E.current_stock<=E.minimum_stock).length)||0,v=(m==null?void 0:m.reduce((E,A)=>E+A.current_stock*(A.unit_price||0),0))||0,j=[...new Set((m==null?void 0:m.map(E=>E.category).filter(Boolean))||[])],N=()=>{u(null),o(!0)},k=E=>{u(E),o(!0)},_=(E,A)=>{window.confirm(`Apakah Anda yakin ingin menghapus item "${A}"?`)&&p.mutate(E)},S=()=>{o(!1),u(null)},T=()=>{d.invalidateQueries(["inventory-items"]),S()};return h?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),n.jsx("p",{className:"text-gray-600",children:"Kelola stok barang dan peralatan"})]}),n.jsxs("button",{onClick:N,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Item"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:Jt,title:"Total Items",value:g,color:"blue"}),n.jsx(Ve,{icon:Jt,title:"Active Items",value:y,color:"green"}),n.jsx(Ve,{icon:Es,title:"Low Stock",value:b,color:"red"}),n.jsx(Ve,{icon:Jt,title:"Total Value",value:`Rp ${v.toLocaleString("id-ID")}`,color:"purple"})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Cari item...",className:"input-field pl-10",value:e,onChange:E=>t(E.target.value)})]}),n.jsxs("select",{className:"input-field",value:r,onChange:E=>a(E.target.value),children:[n.jsx("option",{value:"all",children:"Semua Kategori"}),j.map(E=>n.jsx("option",{value:E,children:E},E))]}),n.jsxs("select",{className:"input-field",value:s,onChange:E=>i(E.target.value),children:[n.jsx("option",{value:"all",children:"Semua Status"}),n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"low",children:"Low Stock"})]})]})}),n.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada item"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan item pertama"}),n.jsxs("button",{onClick:N,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Item"]})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kode"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(E=>{const A=E.current_stock<=E.minimum_stock;return n.jsxs("tr",{className:`hover:bg-gray-50 ${A?"bg-red-50":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.item_code})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),E.description&&n.jsx("div",{className:"text-xs text-gray-500",children:E.description})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:E.category||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[E.current_stock," ",E.unit,A&&n.jsxs("span",{className:"ml-2 text-xs text-red-600",children:["(Min: ",E.minimum_stock,")"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:E.unit_price?`Rp ${parseInt(E.unit_price).toLocaleString("id-ID")}`:"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:E.location||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A?n.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Low Stock"}):n.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Available"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>k(E),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Item",children:n.jsx(di,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>_(E.id,E.name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Item",children:n.jsx(sa,{className:"h-4 w-4"})})]})})]},E.id)})})]})})}),l&&n.jsx(D1e,{item:c,onClose:S,onSuccess:T})]})},ib={getAll:async(e={})=>await me.get("/inventory-stock",{params:e}),getById:async e=>await me.get(`/inventory-stock/${e}`),update:async(e,t)=>await me.put(`/inventory-stock/${e}`,t),getLowStockAlerts:async()=>await me.get("/inventory-stock/alerts/low-stock"),getValueByCategory:async()=>await me.get("/inventory-stock/reports/value-by-category"),getStats:async()=>await me.get("/inventory-stock/stats")},I1e=()=>{const e=qt(),[t,r]=w.useState(""),[a,s]=w.useState("all"),[i,l]=w.useState(!1),[o,c]=w.useState(1),[u,d]=w.useState("equipment_name"),[f,h]=w.useState("asc"),[m,p]=w.useState(10),{data:x,isLoading:g}=Be(["inventory-stock",a,i,o,m,u,f,t],()=>ib.getAll({category:a!=="all"?a:void 0,low_stock:i?"true":void 0,search:t||void 0,page:o,limit:m,sort_by:u,sort_order:f}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),{data:y}=Be("low-stock-alerts",ib.getLowStockAlerts,{refetchOnWindowFocus:!1}),{data:b}=Be("inventory-stats",ib.getStats,{refetchOnWindowFocus:!0,refetchOnMount:"always"}),v=Array.isArray(x==null?void 0:x.data)?x.data:[],j=Array.isArray(y==null?void 0:y.data)?y.data:[],N=(x==null?void 0:x.pagination)||{},k=(b==null?void 0:b.data)||{},_=parseInt(k.total_items)||0,S=parseFloat(k.total_value)||0,T=parseInt(k.low_stock_count)||0,C=parseInt(k.total_categories)||0;w.useEffect(()=>{const R=()=>{e.invalidateQueries(["inventory-stock"]),e.invalidateQueries("inventory-stats"),e.invalidateQueries("low-stock-alerts"),console.log("🔄 Inventory list & stats refreshed")};return window.addEventListener("inventory-updated",R),window.addEventListener("stock-changed",R),()=>{window.removeEventListener("inventory-updated",R),window.removeEventListener("stock-changed",R)}},[e]);const E=R=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(R),A=R=>({devices:"bg-blue-100 text-blue-800",cables:"bg-green-100 text-green-800",accessories:"bg-yellow-100 text-yellow-800",tools:"bg-purple-100 text-purple-800"})[R]||"bg-gray-100 text-gray-800",U=R=>{u===R?h(f==="asc"?"desc":"asc"):(d(R),h("asc")),c(1)},V=R=>u!==R?n.jsx($s,{className:"h-4 w-4"}):f==="asc"?n.jsx(Bs,{className:"h-4 w-4"}):n.jsx(Ls,{className:"h-4 w-4"}),ae=R=>{r(R.target.value),c(1)},q=(R,P)=>{R==="category"?s(P):R==="lowStock"&&l(P),c(1)};return g&&o===1?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Stock"}),n.jsx("p",{className:"text-gray-600",children:"Kelola stok equipment dan tools"})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{title:"Total Items",value:_,icon:Jt,color:"blue"}),n.jsx(Ve,{title:"Total Nilai",value:S,icon:vc,color:"green",format:"currency"}),n.jsx(Ve,{title:"Low Stock",value:T,icon:Es,color:"red",onClick:()=>{l(!i),c(1)}}),n.jsx(Ve,{title:"Kategori",value:C,icon:eh,color:"purple"})]}),j.length>0&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(Es,{className:"h-5 w-5 text-yellow-600"}),n.jsxs("h3",{className:"font-semibold text-yellow-800",children:["Peringatan Stock Menipis (",j.length," item)"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:j.map(R=>n.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-yellow-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.equipment_name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Stock: ",R.current_stock," ",R.unit," (Min: ",R.minimum_stock,")"]})]}),n.jsxs("span",{className:"text-xs text-red-600 font-semibold",children:["-",R.shortage]})]},R.id))})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari equipment...",value:t,onChange:ae})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),n.jsxs("select",{className:"form-input",value:a,onChange:R=>q("category",R.target.value),children:[n.jsx("option",{value:"all",children:"Semua Kategori"}),n.jsx("option",{value:"devices",children:"Devices"}),n.jsx("option",{value:"cables",children:"Cables"}),n.jsx("option",{value:"accessories",children:"Accessories"}),n.jsx("option",{value:"tools",children:"Tools"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),n.jsx("select",{className:"form-input",value:"all",onChange:R=>{},children:n.jsx("option",{value:"all",children:"Semua Supplier"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Stock"}),n.jsxs("select",{className:"form-input",value:i?"low":"all",onChange:R=>q("lowStock",R.target.value==="low"),children:[n.jsx("option",{value:"all",children:"Semua Stock"}),n.jsx("option",{value:"low",children:"Low Stock Only"})]})]})]})}),v.length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada inventory stock"}),n.jsx("p",{className:"text-gray-500",children:"Data inventory stock tidak ditemukan"})]}):n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Inventory",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",N.totalRecords||0," total)"]})]})}),n.jsxs("div",{className:"card-body p-0",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("equipment_name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Equipment"}),V("equipment_name")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("category"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Kategori"}),V("category")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("current_stock"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Stock"}),V("current_stock")]})}),n.jsx("th",{className:"table-header-cell text-right cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("unit_cost"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Unit Cost"}),V("unit_cost")]})}),n.jsx("th",{className:"table-header-cell text-right cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("total_value"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Total Value"}),V("total_value")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("supplier_name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Supplier"}),V("supplier_name")]})}),n.jsx("th",{className:"table-header-cell text-center",children:"Status"})]})}),n.jsx("tbody",{className:"table-body",children:v.map(R=>n.jsxs("tr",{children:[n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.equipment_name}),n.jsx("div",{className:"text-xs text-gray-500 font-mono",children:R.equipment_code})]}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${A(R.category)}`,children:R.category})}),n.jsxs("td",{className:"table-cell whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[R.current_stock," ",R.unit]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Min: ",R.minimum_stock]})]}),n.jsx("td",{className:"table-cell whitespace-nowrap text-sm text-gray-900 text-right",children:E(R.unit_cost)}),n.jsx("td",{className:"table-cell whitespace-nowrap text-right",children:n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:E(R.total_value)})}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"text-sm text-gray-900",children:R.supplier_name}),n.jsx("div",{className:"text-xs text-gray-500",children:R.supplier_contact})]}),n.jsx("td",{className:"table-cell whitespace-nowrap text-center",children:R.is_low_stock?n.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Low Stock"}):n.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Stock OK"})})]},R.id))})]})}),n.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>c(Math.min(N.totalPages||1,o+1)),disabled:o===(N.totalPages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:m,onChange:R=>{p(parseInt(R.target.value)),c(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(o-1)*m+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(o*m,N.totalRecords||0)})," ","of ",n.jsx("span",{className:"font-medium",children:N.totalRecords||0})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(N.totalPages||1,10)},(R,P)=>{const B=N.totalPages||1;return B<=10||o<=5?P+1:o>=B-4?B-9+P:o-5+P}).map(R=>n.jsx("button",{onClick:()=>c(R),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===R?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:R},R)),n.jsx("button",{onClick:()=>c(Math.min(N.totalPages||1,o+1)),disabled:o===(N.totalPages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})]})]})]})},R1e=({package:e,onClose:t})=>{const r=qt(),a=!!e,{register:s,handleSubmit:i,formState:{errors:l}}=es({defaultValues:e||{name:"",type:"broadband",speed_mbps:"",price:"",description:""}}),o=jt(u=>a?Ps.update(e.id,u):Ps.create(u),{onSuccess:()=>{r.invalidateQueries("packages"),yt.success(`Paket berhasil ${a?"diupdate":"ditambahkan"}`),t()},onError:u=>{var d,f;yt.error(((f=(d=u.response)==null?void 0:d.data)==null?void 0:f.message)||`Gagal ${a?"mengupdate":"menambahkan"} paket`)}}),c=u=>{o.mutate({...u,speed_mbps:parseInt(u.speed_mbps),price:parseFloat(u.price)})};return n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?"Edit Paket":"Tambah Paket Baru"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:i(c),className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Paket *"}),n.jsx("input",{type:"text",...s("name",{required:"Nama paket wajib diisi"}),className:"input",placeholder:"Contoh: Paket Home 10 Mbps"}),l.name&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.name.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Paket *"}),n.jsxs("select",{...s("type",{required:"Tipe paket wajib dipilih"}),className:"input",children:[n.jsx("option",{value:"broadband",children:"Broadband"}),n.jsx("option",{value:"dedicated",children:"Dedicated"}),n.jsx("option",{value:"corporate",children:"Corporate"})]}),l.type&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.type.message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kecepatan (Mbps) *"}),n.jsx("input",{type:"number",...s("speed_mbps",{required:"Kecepatan wajib diisi",min:{value:1,message:"Minimal 1 Mbps"}}),className:"input",placeholder:"10"}),l.speed_mbps&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.speed_mbps.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Harga (Rp) *"}),n.jsx("input",{type:"number",...s("price",{required:"Harga wajib diisi",min:{value:0,message:"Harga tidak boleh negatif"}}),className:"input",placeholder:"250000"}),l.price&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.price.message})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi"}),n.jsx("textarea",{...s("description"),rows:3,className:"input",placeholder:"Deskripsi paket (opsional)"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 btn-outline",disabled:o.isLoading,children:"Batal"}),n.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:o.isLoading,children:o.isLoading?"Menyimpan...":a?"Update":"Simpan"})]})]})]})})},M1e=()=>{const e=qt(),[t,r]=w.useState(""),[a,s]=w.useState("all"),[i,l]=w.useState(!1),[o,c]=w.useState(null),[u,d]=w.useState("type"),[f,h]=w.useState("asc"),[m,p]=w.useState(1),[x,g]=w.useState(10),{data:y,isLoading:b}=Be(["packages",a,t,u,f,m,x],()=>Ps.getAll({type:a!=="all"?a:void 0,search:t||void 0,page:m,limit:x,sort_by:u,sort_order:f}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),v=(y==null?void 0:y.data)||[],j=(y==null?void 0:y.pagination)||{},{data:N}=Be("all-packages-stats",()=>Ps.getAll({page:1,limit:100}),{refetchOnWindowFocus:!1}),k=(N==null?void 0:N.data)||[],_=k.length,S=k.filter(H=>H.type==="broadband").length,T=k.filter(H=>H.type==="dedicated").length,C=k.filter(H=>H.type==="corporate").length,E=jt(Ps.delete,{onSuccess:()=>{e.invalidateQueries("packages"),e.invalidateQueries("all-packages-stats"),yt.success("Paket berhasil dihapus")},onError:H=>{var F,O;yt.error(((O=(F=H.response)==null?void 0:F.data)==null?void 0:O.message)||"Gagal menghapus paket")}}),A=()=>{c(null),l(!0)},U=H=>{c(H),l(!0)},V=async(H,F)=>{window.confirm(`Apakah Anda yakin ingin menghapus paket "${F}"?`)&&E.mutate(H)},ae=H=>{u===H?h(f==="asc"?"desc":"asc"):(d(H),h("asc")),p(1)},q=H=>u!==H?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):f==="asc"?n.jsx(Bs,{className:"h-4 w-4"}):n.jsx(Ls,{className:"h-4 w-4"}),R=H=>{r(H.target.value),p(1)},P=H=>{s(H),p(1)},B=H=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(H),te=H=>({broadband:"bg-green-100 text-green-800",dedicated:"bg-purple-100 text-purple-800",corporate:"bg-orange-100 text-orange-800"})[H]||"bg-gray-100 text-gray-800";return b&&m===1?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Paket Langganan"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola paket internet untuk pelanggan"})]}),n.jsxs("button",{onClick:A,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Paket"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:ec,title:"Total Paket",value:_,color:"blue"}),n.jsx(Ve,{icon:ec,title:"Broadband",value:S,color:"green"}),n.jsx(Ve,{icon:ec,title:"Dedicated",value:T,color:"purple"}),n.jsx(Ve,{icon:ec,title:"Corporate",value:C,color:"orange"})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari paket...",value:t,onChange:R})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipe Paket"}),n.jsxs("select",{className:"form-input",value:a,onChange:H=>P(H.target.value),children:[n.jsx("option",{value:"all",children:"Semua Tipe"}),n.jsx("option",{value:"broadband",children:"Broadband"}),n.jsx("option",{value:"dedicated",children:"Dedicated"}),n.jsx("option",{value:"corporate",children:"Corporate"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Speed Range"}),n.jsx("select",{className:"form-input",value:"all",onChange:H=>{},children:n.jsx("option",{value:"all",children:"Semua Kecepatan"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Range"}),n.jsx("select",{className:"form-input",value:"all",onChange:H=>{},children:n.jsx("option",{value:"all",children:"Semua Harga"})})]})]})}),v.length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(ec,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada paket"}),n.jsx("p",{className:"text-gray-500 mb-4",children:t||a!=="all"?"Tidak ada paket yang sesuai dengan filter":"Mulai dengan menambahkan paket langganan pertama"}),!t&&a==="all"&&n.jsxs("button",{onClick:A,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Paket"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Packages",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",j.total||0," total)"]})]})}),n.jsx("div",{className:"card-body p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ae("name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Package Name"}),q("name")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ae("type"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Type"}),q("type")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ae("speed_mbps"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Speed"}),q("speed_mbps")]})}),n.jsx("th",{className:"table-header-cell",children:"Description"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors text-right",onClick:()=>ae("price"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Monthly Price"}),q("price")]})}),n.jsx("th",{className:"table-header-cell text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:v.map(H=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${te(H.type)}`,children:H.type?H.type.charAt(0).toUpperCase()+H.type.slice(1):"Unknown"})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsxs("div",{className:"text-sm font-semibold text-blue-600",children:[H.speed_mbps," Mbps"]})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm text-gray-900 truncate",title:H.description,style:{maxWidth:"300px"},children:H.description||"-"})}),n.jsxs("td",{className:"table-cell whitespace-nowrap text-right",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:B(H.price)}),n.jsx("div",{className:"text-xs text-gray-500",children:"/bulan"})]}),n.jsx("td",{className:"table-cell text-center",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>U(H),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Package",children:n.jsx(di,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>V(H.id,H.name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Package",disabled:E.isLoading,children:n.jsx(sa,{className:"h-4 w-4"})})]})})]},H.id))})]})})})]}),n.jsx("div",{className:"bg-white shadow rounded-lg",children:n.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>p(Math.min(j.pages||1,m+1)),disabled:m===(j.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:x,onChange:H=>{g(parseInt(H.target.value)),p(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(m-1)*x+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(m*x,j.total||0)})," ","of ",n.jsx("span",{className:"font-medium",children:j.total||0})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(j.pages||1,10)},(H,F)=>{const O=j.pages||1;return O<=10||m<=5?F+1:m>=O-4?O-9+F:m-5+F}).map(H=>n.jsx("button",{onClick:()=>p(H),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${m===H?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:H},H)),n.jsx("button",{onClick:()=>p(Math.min(j.pages||1,m+1)),disabled:m===(j.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})})]}),i&&n.jsx(R1e,{package:o,onClose:()=>{l(!1),c(null)}})]})},L1e={getAll:async(e={})=>{try{const t=new URLSearchParams;e.service_type&&t.append("service_type",e.service_type),e.package_type&&t.append("package_type",e.package_type),e.is_free&&t.append("is_free",e.is_free),e.is_active&&t.append("is_active",e.is_active),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await me.get(`/pricelist${r?"?"+r:""}`)}catch(t){return console.error("❌ PricelistService error:",t),{data:[],pagination:{},summary:[]}}},getById:async e=>await me.get(`/pricelist/${e}`),getByServiceType:async(e,t={})=>await me.get(`/pricelist/by-service/${e}`,{params:t}),create:async e=>await me.post("/pricelist",e),update:async(e,t)=>await me.put(`/pricelist/${e}`,t),delete:async e=>await me.delete(`/pricelist/${e}`),getSummary:async()=>await me.get("/pricelist/reports/summary")},$1e=()=>{const[e,t]=w.useState(""),[r,a]=w.useState("all"),[s,i]=w.useState("all"),[l,o]=w.useState("all"),[c,u]=w.useState("base_price"),[d,f]=w.useState("desc"),[h,m]=w.useState({}),[p,x]=w.useState(10),g=[{code:"installation",name:"Installation"},{code:"repair",name:"Repair"},{code:"maintenance",name:"Maintenance"},{code:"upgrade",name:"Upgrade"},{code:"downgrade",name:"Downgrade"},{code:"wifi_setup",name:"WiFi Setup"},{code:"dismantle",name:"Dismantle"}],{data:y,isLoading:b}=Be(["pricelist-all",r,s,l,e,c,d],()=>L1e.getAll({is_active:"true",service_type:r!=="all"?r:void 0,package_type:s!=="all"?s:void 0,is_free:l!=="all"?l:void 0,search:e||void 0,page:1,limit:1e3,sort_by:c,sort_order:d}),{refetchOnWindowFocus:!1}),v=(y==null?void 0:y.data)||[];y!=null&&y.summary;const j=v.length,N=v.filter(q=>q.is_free).length,k=v.filter(q=>!q.is_free).length,_=[...new Set(v.map(q=>q.service_type_code))].length,S=v.reduce((q,R)=>(q[R.service_type_code]||(q[R.service_type_code]={type_name:R.type_name,items:[]}),q[R.service_type_code].items.push(R),q),{}),T=q=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(q),C=q=>{c===q?f(d==="asc"?"desc":"asc"):(u(q),f("asc"))},E=q=>c!==q?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):d==="asc"?n.jsx(Bs,{className:"h-4 w-4"}):n.jsx(Ls,{className:"h-4 w-4"}),A=q=>{t(q.target.value)},U=(q,R)=>{q==="serviceType"?a(R):q==="package"?i(R):q==="isFree"&&o(R)},V=q=>h[q]||1,ae=(q,R)=>{m(P=>({...P,[q]:R}))};return b?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Price List"}),n.jsx("p",{className:"text-gray-600",children:"Daftar harga service dan biaya tambahan"})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{title:"Total Items",value:j,icon:Zo,color:"blue"}),n.jsx(Ve,{title:"Service Types",value:_,icon:vc,color:"purple"}),n.jsx(Ve,{title:"Gratis",value:N,icon:EW,color:"green"}),n.jsx(Ve,{title:"Berbayar",value:k,icon:Df,color:"yellow"})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari harga service...",value:e,onChange:A})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),n.jsxs("select",{className:"form-input",value:r,onChange:q=>U("serviceType",q.target.value),children:[n.jsx("option",{value:"all",children:"Semua Service Type"}),g.map(q=>n.jsx("option",{value:q.code,children:q.name},q.code))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Package"}),n.jsxs("select",{className:"form-input",value:s,onChange:q=>U("package",q.target.value),children:[n.jsx("option",{value:"all",children:"Semua Paket"}),n.jsx("option",{value:"bronze",children:"Bronze"}),n.jsx("option",{value:"silver",children:"Silver"}),n.jsx("option",{value:"gold",children:"Gold"}),n.jsx("option",{value:"platinum",children:"Platinum"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Harga"}),n.jsxs("select",{className:"form-input",value:l,onChange:q=>U("isFree",q.target.value),children:[n.jsx("option",{value:"all",children:"Semua Harga"}),n.jsx("option",{value:"true",children:"Gratis"}),n.jsx("option",{value:"false",children:"Berbayar"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rows Per Table"}),n.jsxs("select",{className:"form-input",value:p,onChange:q=>{x(parseInt(q.target.value)),m({})},children:[n.jsx("option",{value:"5",children:"5 rows"}),n.jsx("option",{value:"10",children:"10 rows"}),n.jsx("option",{value:"25",children:"25 rows"}),n.jsx("option",{value:"50",children:"50 rows"})]})]})]})}),Object.keys(S).length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(Zo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada price list"}),n.jsx("p",{className:"text-gray-500",children:"Data price list tidak ditemukan"})]}):n.jsx("div",{className:"space-y-6",children:Object.entries(S).map(([q,R])=>{const P=V(q),B=R.items.length,te=Math.ceil(B/p),H=(P-1)*p,F=H+p,O=R.items.slice(H,F);return n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[R.type_name,n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",B," items)"]})]})}),n.jsxs("div",{className:"card-body p-0",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>C("price_name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Nama Service"}),E("price_name")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>C("category_name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Kategori"}),E("category_name")]})}),n.jsx("th",{className:"table-header-cell",children:"Deskripsi"}),n.jsx("th",{className:"table-header-cell",children:"Paket"}),n.jsx("th",{className:"table-header-cell text-right cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>C("base_price"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Harga"}),E("base_price")]})}),n.jsx("th",{className:"table-header-cell",children:"Notes"})]})}),n.jsx("tbody",{className:"table-body",children:O.map(M=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.price_name})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:M.category_name||"-"})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm text-gray-900 truncate",style:{maxWidth:"200px"},title:M.description,children:M.description||"-"})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:M.applies_to_package&&M.applies_to_package!=="all"?n.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800 uppercase",children:M.applies_to_package}):n.jsx("span",{className:"text-xs text-gray-500",children:"All"})}),n.jsx("td",{className:"table-cell whitespace-nowrap text-right",children:M.is_free?n.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"🆓 GRATIS"}):n.jsx("div",{className:"text-sm font-bold text-gray-900",children:T(M.base_price)})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-xs text-gray-600 italic truncate",style:{maxWidth:"150px"},title:M.notes,children:M.notes||"-"})})]},M.id))})]})}),te>1&&n.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>ae(q,Math.max(1,P-1)),disabled:P===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>ae(q,Math.min(te,P+1)),disabled:P===te,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:H+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(F,B)})," of"," ",n.jsx("span",{className:"font-medium",children:B})," results"]})}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>ae(q,Math.max(1,P-1)),disabled:P===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:te},(M,I)=>I+1).map(M=>n.jsx("button",{onClick:()=>ae(q,M),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${P===M?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:M},M)),n.jsx("button",{onClick:()=>ae(q,Math.min(te,P+1)),disabled:P===te,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})]})]},q)})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("span",{className:"text-2xl",children:"💡"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Informasi Price List"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Price list ini dapat dilihat oleh public untuk transparansi harga"}),n.jsx("li",{children:"• Harga dapat berbeda tergantung paket yang dilanggan customer"}),n.jsx("li",{children:"• Service yang ditandai GRATIS tidak dikenakan biaya tambahan"}),n.jsx("li",{children:"• Biaya kabel tambahan dan spare part dikenakan terpisah jika diperlukan"})]})]})]})})]})},B1e=({equipment:e,onClose:t,onSuccess:r})=>{const a=!!e,{register:s,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=es({defaultValues:e||{equipment_code:"",equipment_name:"",category:"",description:"",unit:"pcs",is_active:!0}});w.useEffect(()=>{e&&c(e)},[e,c]);const u=jt(f=>a?kc.update(e.id,f):kc.create(f),{onSuccess:()=>{ee.success(a?"Equipment berhasil diupdate":"Equipment berhasil ditambahkan"),r()},onError:f=>{var h,m;ee.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Terjadi kesalahan")}}),d=f=>{const h={...f,is_active:f.is_active==="true"||f.is_active===!0};u.mutate(h)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Equipment":"Tambah Equipment Baru"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:i(d),className:"p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kode Equipment ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"EQ-001",...s("equipment_code",{required:"Kode equipment wajib diisi",minLength:{value:3,message:"Kode minimal 3 karakter"}})}),l.equipment_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.equipment_code.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Equipment ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"Optical Fiber Cable",...s("equipment_name",{required:"Nama equipment wajib diisi"})}),l.equipment_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.equipment_name.message})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Detail Produk"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kategori ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{className:"input-field",...s("category",{required:"Kategori wajib dipilih"}),children:[n.jsx("option",{value:"",children:"Pilih Kategori"}),n.jsx("option",{value:"devices",children:"Devices"}),n.jsx("option",{value:"cables",children:"Cables"}),n.jsx("option",{value:"connectors",children:"Connectors"}),n.jsx("option",{value:"tools",children:"Tools"}),n.jsx("option",{value:"accessories",children:"Accessories"})]}),l.category&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field",placeholder:"pcs, meter, roll",...s("unit")})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi"}),n.jsx("textarea",{className:"input-field",rows:"2",placeholder:"Deskripsi singkat equipment",...s("description")})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"true",...s("is_active"),className:"mr-2"}),"Active"]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"false",...s("is_active"),className:"mr-2"}),"Inactive"]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":a?"Update Equipment":"Tambah Equipment"})]})]})]})})},U1e=()=>{const[e,t]=w.useState(""),[r,a]=w.useState("all"),[s,i]=w.useState("all"),[l,o]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState("equipment_name"),[h,m]=w.useState("asc"),[p,x]=w.useState(1),[g,y]=w.useState(10),b=qt(),{data:v,isLoading:j}=Be(["equipment-list",r,s,e,d,h,p,g],()=>kc.getAll({category:r!=="all"?r:void 0,status:s!=="all"?s:void 0,search:e||void 0,page:p,limit:g,sort_by:d,sort_order:h}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),N=v||[],k={},{data:_}=Be("all-equipment-stats",()=>kc.getAll({page:1,limit:1e3}),{refetchOnWindowFocus:!1}),S=_||[],T=S.length,C=S.filter(I=>I.is_active).length,E=S.filter(I=>!I.is_active).length,A=[...new Set(S.map(I=>I.category).filter(Boolean))],U=A.length,V=jt(I=>kc.delete(I),{onSuccess:()=>{ee.success("Equipment berhasil dihapus"),b.invalidateQueries(["equipment-list"]),b.invalidateQueries("all-equipment-stats")},onError:I=>{var ne,oe;ee.error(((oe=(ne=I.response)==null?void 0:ne.data)==null?void 0:oe.message)||"Gagal menghapus equipment")}}),ae=()=>{u(null),o(!0)},q=I=>{u(I),o(!0)},R=(I,ne)=>{window.confirm(`Apakah Anda yakin ingin menghapus equipment "${ne}"?`)&&V.mutate(I)},P=()=>{o(!1),u(null)},B=()=>{b.invalidateQueries(["equipment-list"]),b.invalidateQueries("all-equipment-stats"),P()},te=I=>{d===I?m(h==="asc"?"desc":"asc"):(f(I),m("asc")),x(1)},H=I=>d!==I?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):h==="asc"?n.jsx(Bs,{className:"h-4 w-4"}):n.jsx(Ls,{className:"h-4 w-4"}),F=I=>{t(I.target.value),x(1)},O=(I,ne)=>{I==="category"?a(ne):I==="status"&&i(ne),x(1)},M=I=>({devices:"bg-blue-100 text-blue-800",cables:"bg-green-100 text-green-800",accessories:"bg-yellow-100 text-yellow-800",tools:"bg-purple-100 text-purple-800"})[I]||"bg-gray-100 text-gray-800";return j&&p===1?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Equipment Management"}),n.jsx("p",{className:"text-gray-600",children:"Kelola data Equipment"})]}),n.jsxs("button",{onClick:ae,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Equipment"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:Jt,title:"Total Equipment",value:T,color:"blue"}),n.jsx(Ve,{icon:Jt,title:"Active",value:C,color:"green"}),n.jsx(Ve,{icon:Jt,title:"Inactive",value:E,color:"red"}),n.jsx(Ve,{icon:Jt,title:"Categories",value:U,color:"purple"})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari equipment...",value:e,onChange:F})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),n.jsxs("select",{className:"form-input",value:r,onChange:I=>O("category",I.target.value),children:[n.jsx("option",{value:"all",children:"Semua Kategori"}),A.map(I=>n.jsx("option",{value:I,children:I},I))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"form-input",value:s,onChange:I=>O("status",I.target.value),children:[n.jsx("option",{value:"all",children:"Semua Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Type"}),n.jsx("select",{className:"form-input",value:"all",onChange:I=>{},children:n.jsx("option",{value:"all",children:"Semua Unit"})})]})]})}),N.length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada equipment"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan equipment pertama"}),n.jsxs("button",{onClick:ae,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Equipment"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Equipment",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",k.total||0," total)"]})]})}),n.jsx("div",{className:"card-body p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"900px"},children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("equipment_code"),style:{width:"140px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Kode"}),H("equipment_code")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("equipment_name"),style:{width:"280px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Nama Equipment"}),H("equipment_name")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("category"),style:{width:"130px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Kategori"}),H("category")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("unit"),style:{width:"80px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Unit"}),H("unit")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("is_active"),style:{width:"100px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),H("is_active")]})}),n.jsx("th",{className:"table-header-cell text-center",style:{width:"100px"},children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:N.map(I=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-mono text-gray-900 truncate",children:I.equipment_code})}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:I.equipment_name}),I.description&&n.jsx("div",{className:"text-xs text-gray-500 truncate",title:I.description,children:I.description})]}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${M(I.category)}`,children:I.category||"-"})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:I.unit||"pcs"})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${I.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.is_active?"Active":"Inactive"})}),n.jsx("td",{className:"table-cell text-center",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>q(I),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Equipment",children:n.jsx(di,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>R(I.id,I.equipment_name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Equipment",children:n.jsx(sa,{className:"h-4 w-4"})})]})})]},I.id))})]})})})]}),n.jsx("div",{className:"bg-white shadow rounded-lg",children:n.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>x(Math.min(k.pages||1,p+1)),disabled:p===(k.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:g,onChange:I=>{y(parseInt(I.target.value)),x(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(p-1)*g+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(p*g,k.total||0)})," ","of ",n.jsx("span",{className:"font-medium",children:k.total||0})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(k.pages||1,10)},(I,ne)=>{const oe=k.pages||1;return oe<=10||p<=5?ne+1:p>=oe-4?oe-9+ne:p-5+ne}).map(I=>n.jsx("button",{onClick:()=>x(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${p===I?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I},I)),n.jsx("button",{onClick:()=>x(Math.min(k.pages||1,p+1)),disabled:p===(k.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})})]}),l&&n.jsx(B1e,{equipment:c,onClose:P,onSuccess:B})]})},z1e=({odp:e,onClose:t,onSuccess:r})=>{const a=!!e,{register:s,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=es({defaultValues:e||{name:"",location:"",area:"",latitude:"",longitude:"",total_ports:8,used_ports:0,status:"active",notes:""}});w.useEffect(()=>{e&&c(e)},[e,c]);const u=jt(f=>a?Ku.update(e.id,f):Ku.create(f),{onSuccess:()=>{ee.success(a?"ODP berhasil diupdate":"ODP berhasil ditambahkan"),r()},onError:f=>{var h,m;ee.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Terjadi kesalahan")}}),d=f=>{u.mutate(f)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit ODP":"Tambah ODP Baru"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:i(d),className:"p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama ODP ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",...s("name",{required:"Nama ODP wajib diisi",minLength:{value:3,message:"Nama minimal 3 karakter"}})}),l.name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area"}),n.jsx("input",{type:"text",className:"input-field",placeholder:"Contoh: Area A, Zona 1",...s("area")})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Lokasi"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lokasi ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{className:"input-field",rows:"2",placeholder:"Alamat lengkap lokasi ODP",...s("location",{required:"Lokasi wajib diisi"})}),l.location&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.location.message})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),n.jsx("input",{type:"text",className:"input-field",placeholder:"-6.200000",...s("latitude",{pattern:{value:/^-?\d+\.?\d*$/,message:"Format latitude tidak valid"}})}),l.latitude&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.latitude.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),n.jsx("input",{type:"text",className:"input-field",placeholder:"106.816666",...s("longitude",{pattern:{value:/^-?\d+\.?\d*$/,message:"Format longitude tidak valid"}})}),l.longitude&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.longitude.message})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Kapasitas"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Total Ports ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",className:"input-field",min:"1",...s("total_ports",{required:"Total ports wajib diisi",min:{value:1,message:"Minimal 1 port"},valueAsNumber:!0})}),l.total_ports&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.total_ports.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Used Ports"}),n.jsx("input",{type:"number",className:"input-field",min:"0",...s("used_ports",{min:{value:0,message:"Tidak boleh negatif"},valueAsNumber:!0})}),l.used_ports&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.used_ports.message})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{className:"input-field",...s("status",{required:"Status wajib dipilih"}),children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"full",children:"Full"}),n.jsx("option",{value:"maintenance",children:"Maintenance"}),n.jsx("option",{value:"inactive",children:"Inactive"})]}),l.status&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.status.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan"}),n.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Catatan tambahan tentang ODP ini",...s("notes")})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":a?"Update ODP":"Tambah ODP"})]})]})]})})},W1e=()=>{const[e,t]=w.useState(""),[r,a]=w.useState("all"),[s,i]=w.useState("all"),[l,o]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState("name"),[h,m]=w.useState("asc"),[p,x]=w.useState(1),[g,y]=w.useState(10),b=qt(),{data:v,isLoading:j}=Be(["odps",r,s,e,d,h,p,g],()=>Ku.getAll({status:r!=="all"?r:void 0,area:s!=="all"?s:void 0,search:e||void 0,page:p,limit:g,sort_by:d,sort_order:h}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),N=(v==null?void 0:v.data)||[],k=(v==null?void 0:v.pagination)||{},{data:_}=Be("all-odps-stats",()=>Ku.getAll({page:1,limit:1e3}),{refetchOnWindowFocus:!1}),S=(_==null?void 0:_.data)||[],T=S.length,C=S.filter(M=>M.status==="active").length,E=S.filter(M=>M.status==="full").length,A=S.filter(M=>M.status==="maintenance").length,U=[...new Set(S.map(M=>M.area).filter(Boolean))],V=jt(M=>Ku.delete(M),{onSuccess:()=>{ee.success("ODP berhasil dihapus"),b.invalidateQueries("odps"),b.invalidateQueries("all-odps-stats")},onError:M=>{var I,ne;ee.error(((ne=(I=M.response)==null?void 0:I.data)==null?void 0:ne.message)||"Gagal menghapus ODP")}}),ae=()=>{u(null),o(!0)},q=M=>{u(M),o(!0)},R=(M,I)=>{window.confirm(`Apakah Anda yakin ingin menghapus ODP "${I}"?`)&&V.mutate(M)},P=()=>{o(!1),u(null)},B=()=>{b.invalidateQueries("odps"),b.invalidateQueries("all-odps-stats"),P()},te=M=>{d===M?m(h==="asc"?"desc":"asc"):(f(M),m("asc")),x(1)},H=M=>d!==M?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):h==="asc"?n.jsx(Bs,{className:"h-4 w-4"}):n.jsx(Ls,{className:"h-4 w-4"}),F=M=>{t(M.target.value),x(1)},O=(M,I)=>{M==="status"?a(I):M==="area"&&i(I),x(1)};return j&&p===1?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ODP Management"}),n.jsx("p",{className:"text-gray-600",children:"Kelola data Optical Distribution Point"})]}),n.jsxs("button",{onClick:ae,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah ODP"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:Aa,title:"Total ODP",value:T,color:"blue"}),n.jsx(Ve,{icon:Aa,title:"Active",value:C,color:"green"}),n.jsx(Ve,{icon:Aa,title:"Full",value:E,color:"red"}),n.jsx(Ve,{icon:Aa,title:"Maintenance",value:A,color:"yellow"})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari ODP...",value:e,onChange:F})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Area"}),n.jsxs("select",{className:"form-input",value:s,onChange:M=>O("area",M.target.value),children:[n.jsx("option",{value:"all",children:"Semua Area"}),U.map(M=>n.jsx("option",{value:M,children:M},M))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"form-input",value:r,onChange:M=>O("status",M.target.value),children:[n.jsx("option",{value:"all",children:"Semua Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"full",children:"Full"}),n.jsx("option",{value:"maintenance",children:"Maintenance"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),n.jsx("select",{className:"form-input",value:"all",onChange:M=>{},children:n.jsx("option",{value:"all",children:"Semua Kapasitas"})})]})]})}),N.length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(Aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada ODP"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan ODP pertama"}),n.jsxs("button",{onClick:ae,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah ODP"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All ODPs",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",k.total||0," total)"]})]})}),n.jsx("div",{className:"card-body p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"900px"},children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("name"),style:{width:"140px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Nama ODP"}),H("name")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("location"),style:{width:"230px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Lokasi"}),H("location")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("area"),style:{width:"130px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Area"}),H("area")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("used_ports"),style:{width:"120px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Kapasitas"}),H("used_ports")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("status"),style:{width:"90px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),H("status")]})}),n.jsx("th",{className:"table-header-cell text-center",style:{width:"110px"},children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:N.map(M=>{var I,ne;return n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.name})}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"text-sm text-gray-900 truncate",title:M.location,children:M.location}),M.latitude&&M.longitude&&n.jsxs("div",{className:"text-xs text-gray-500 font-mono truncate",children:[parseFloat(M.latitude).toFixed(6),", ",parseFloat(M.longitude).toFixed(6)]})]}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:M.area||"-"})}),n.jsxs("td",{className:"table-cell",children:[n.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[M.used_ports||0," / ",M.total_ports||0," ports"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all ${M.used_ports/M.total_ports*100>=90?"bg-red-600":M.used_ports/M.total_ports*100>=70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${M.used_ports/M.total_ports*100}%`}})})]}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${M.status==="active"?"bg-green-100 text-green-800":M.status==="full"?"bg-red-100 text-red-800":M.status==="maintenance"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:((I=M.status)==null?void 0:I.charAt(0).toUpperCase())+((ne=M.status)==null?void 0:ne.slice(1))})}),n.jsx("td",{className:"table-cell text-center",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>q(M),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit ODP",children:n.jsx(di,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>R(M.id,M.name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete ODP",children:n.jsx(sa,{className:"h-4 w-4"})})]})})]},M.id)})})]})})})]}),n.jsx("div",{className:"bg-white shadow rounded-lg",children:n.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>x(Math.min(k.pages||1,p+1)),disabled:p===(k.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:g,onChange:M=>{y(parseInt(M.target.value)),x(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(p-1)*g+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(p*g,k.total||0)})," ","of ",n.jsx("span",{className:"font-medium",children:k.total||0})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(k.pages||1,10)},(M,I)=>{const ne=k.pages||1;return ne<=10||p<=5?I+1:p>=ne-4?ne-9+I:p-5+I}).map(M=>n.jsx("button",{onClick:()=>x(M),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${p===M?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:M},M)),n.jsx("button",{onClick:()=>x(Math.min(k.pages||1,p+1)),disabled:p===(k.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})})]}),l&&n.jsx(z1e,{odp:c,onClose:P,onSuccess:B})]})},V1e=({serviceType:e,onClose:t,onSuccess:r})=>{const a=!!e,{register:s,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=es({defaultValues:e||{type_code:"",type_name:"",description:"",icon:"",default_duration:120,is_active:!0,display_order:0}});w.useEffect(()=>{e&&c(e)},[e,c]);const u=jt(f=>a?bo.update(e.id,f):bo.create(f),{onSuccess:()=>{ee.success(a?"Service type berhasil diupdate":"Service type berhasil ditambahkan"),r()},onError:f=>{var h,m;ee.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Terjadi kesalahan")}}),d=f=>{u.mutate(f)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Service Type":"Tambah Service Type Baru"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:i(d),className:"p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., installation, repair",...s("type_code",{required:"Type code wajib diisi",pattern:{value:/^[a-z_]+$/,message:"Gunakan lowercase dan underscore"}}),disabled:a}),l.type_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.type_code.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., Installation, Repair",...s("type_name",{required:"Type name wajib diisi",minLength:{value:3,message:"Minimal 3 karakter"}})}),l.type_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.type_name.message})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Deskripsi service type",...s("description")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Konfigurasi"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),n.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., wrench, tool",...s("icon")}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lucide icon name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Default Duration (minutes) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",className:"input-field",min:"1",...s("default_duration",{required:"Duration wajib diisi",min:{value:1,message:"Minimal 1 menit"},valueAsNumber:!0})}),l.default_duration&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.default_duration.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),n.jsx("input",{type:"number",className:"input-field",min:"0",...s("display_order",{min:{value:0,message:"Minimal 0"},valueAsNumber:!0})})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",...s("is_active")}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Service type aktif dan dapat digunakan"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":a?"Update Service Type":"Tambah Service Type"})]})]})]})})},H1e=()=>{const[e,t]=w.useState(""),[r,a]=w.useState("all"),[s,i]=w.useState(!1),[l,o]=w.useState(null),[c,u]=w.useState(1),[d,f]=w.useState("display_order"),[h,m]=w.useState("asc"),[p,x]=w.useState(10),g=qt(),{data:y,isLoading:b}=Be(["service-types",c,p,d,h,e,r],()=>bo.getAll({page:c,limit:p,sort_by:d,sort_order:h,search:e||void 0,active_only:r==="active"?"true":r==="inactive"?"false":void 0}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),v=(y==null?void 0:y.data)||[],j=(y==null?void 0:y.pagination)||{},{data:N}=Be("all-service-types-stats",()=>bo.getAll({page:1,limit:1e3}),{refetchOnWindowFocus:!1}),k=(N==null?void 0:N.data)||[],_=k.length,S=k.filter(te=>te.is_active).length,T=k.filter(te=>!te.is_active).length,C=jt(te=>bo.delete(te),{onSuccess:()=>{ee.success("Service type berhasil dihapus"),g.invalidateQueries("service-types"),g.invalidateQueries("all-service-types-stats")},onError:te=>{var H,F;ee.error(((F=(H=te.response)==null?void 0:H.data)==null?void 0:F.message)||"Gagal menghapus service type")}}),E=()=>{o(null),i(!0)},A=te=>{o(te),i(!0)},U=(te,H)=>{window.confirm(`Apakah Anda yakin ingin menghapus service type "${H}"?`)&&C.mutate(te)},V=()=>{i(!1),o(null)},ae=()=>{g.invalidateQueries("service-types"),g.invalidateQueries("all-service-types-stats"),V()},q=te=>{d===te?m(h==="asc"?"desc":"asc"):(f(te),m("asc")),u(1)},R=te=>d!==te?n.jsx($s,{className:"h-4 w-4"}):h==="asc"?n.jsx(Bs,{className:"h-4 w-4"}):n.jsx(Ls,{className:"h-4 w-4"}),P=te=>{t(te.target.value),u(1)},B=te=>{a(te),u(1)};return b&&c===1?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Service Types Management"}),n.jsx("p",{className:"text-gray-600",children:"Kelola jenis layanan yang tersedia"})]}),n.jsxs("button",{onClick:E,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Service Type"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:al,title:"Total Types",value:_,color:"blue"}),n.jsx(Ve,{icon:al,title:"Active",value:S,color:"green"}),n.jsx(Ve,{icon:$t,title:"Inactive",value:T,color:"red"}),n.jsx(Ve,{icon:al,title:"Avg Duration",value:k.length>0?Math.round(k.reduce((te,H)=>te+H.default_duration,0)/k.length):0,color:"purple",suffix:" min"})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari service type...",value:e,onChange:P})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"form-input",value:r,onChange:te=>B(te.target.value),children:[n.jsx("option",{value:"all",children:"Semua Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),n.jsx("select",{className:"form-input",value:"all",onChange:te=>{},children:n.jsx("option",{value:"all",children:"Semua Duration"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),n.jsx("select",{className:"form-input",value:"all",onChange:te=>{},children:n.jsx("option",{value:"all",children:"Semua Order"})})]})]})}),v.length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(al,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada service type"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan service type pertama"}),n.jsxs("button",{onClick:E,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Service Type"]})]}):n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Service Types",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",j.total||0," total)"]})]})}),n.jsxs("div",{className:"card-body p-0",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("display_order"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Order"}),R("display_order")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("type_code"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Type Code"}),R("type_code")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("type_name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Type Name"}),R("type_name")]})}),n.jsx("th",{className:"table-header-cell",children:"Description"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("default_duration"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Duration"}),R("default_duration")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>q("is_active"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),R("is_active")]})}),n.jsx("th",{className:"table-header-cell text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:v.map(te=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.display_order})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-mono text-gray-900",children:te.type_code})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.type_name})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm text-gray-900",children:te.description||"-"})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[te.default_duration," min"]})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${te.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.is_active?"Active":"Inactive"})}),n.jsx("td",{className:"table-cell text-center",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>A(te),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Service Type",children:n.jsx(di,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>U(te.id,te.type_name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Service Type",children:n.jsx(sa,{className:"h-4 w-4"})})]})})]},te.id))})]})}),n.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>u(Math.max(1,c-1)),disabled:c===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>u(Math.min(j.pages||1,c+1)),disabled:c===(j.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:p,onChange:te=>{x(parseInt(te.target.value)),u(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(c-1)*p+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(c*p,j.total||0)})," ","of ",n.jsx("span",{className:"font-medium",children:j.total||0})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>u(Math.max(1,c-1)),disabled:c===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(j.pages||1,10)},(te,H)=>{const F=j.pages||1;return F<=10||c<=5?H+1:c>=F-4?F-9+H:c-5+H}).map(te=>n.jsx("button",{onClick:()=>u(te),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${c===te?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:te},te)),n.jsx("button",{onClick:()=>u(Math.min(j.pages||1,c+1)),disabled:c===(j.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})]})]}),s&&n.jsx(V1e,{serviceType:l,onClose:V,onSuccess:ae})]})},q1e=({category:e,onClose:t,onSuccess:r})=>{const a=!!e,{register:s,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=es({defaultValues:e||{service_type_code:"",category_code:"",category_name:"",description:"",estimated_duration:120,sla_multiplier:1,requires_checklist:!1,is_active:!0,display_order:0}}),{data:u}=Be("service-types",()=>bo.getAll(!0),{refetchOnWindowFocus:!1});w.useEffect(()=>{e&&c(e)},[e,c]);const d=jt(h=>a?C0.update(e.id,h):C0.create(h),{onSuccess:()=>{ee.success(a?"Category berhasil diupdate":"Category berhasil ditambahkan"),r()},onError:h=>{var m,p;ee.error(((p=(m=h.response)==null?void 0:m.data)==null?void 0:p.message)||"Terjadi kesalahan")}}),f=h=>{d.mutate(h)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Service Category":"Tambah Service Category Baru"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:i(f),className:"p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Service Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{className:"input-field",...s("service_type_code",{required:"Service type wajib dipilih"}),disabled:a,children:[n.jsx("option",{value:"",children:"Pilih Service Type..."}),u==null?void 0:u.map(h=>n.jsx("option",{value:h.type_code,children:h.type_name},h.type_code))]}),l.service_type_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.service_type_code.message})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., fiber_installation",...s("category_code",{required:"Category code wajib diisi",pattern:{value:/^[a-z_]+$/,message:"Gunakan lowercase dan underscore"}}),disabled:a}),l.category_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category_code.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., Fiber Installation",...s("category_name",{required:"Category name wajib diisi",minLength:{value:3,message:"Minimal 3 karakter"}})}),l.category_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category_name.message})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Deskripsi category",...s("description")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Konfigurasi"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Estimated Duration (minutes) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",className:"input-field",min:"1",...s("estimated_duration",{required:"Duration wajib diisi",min:{value:1,message:"Minimal 1 menit"},valueAsNumber:!0})}),l.estimated_duration&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.estimated_duration.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SLA Multiplier"}),n.jsx("input",{type:"number",className:"input-field",step:"0.1",min:"0.1",max:"10",...s("sla_multiplier",{min:{value:.1,message:"Minimal 0.1"},max:{value:10,message:"Maksimal 10"},valueAsNumber:!0})}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Default: 1.0"}),l.sla_multiplier&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.sla_multiplier.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),n.jsx("input",{type:"number",className:"input-field",min:"0",...s("display_order",{min:{value:0,message:"Minimal 0"},valueAsNumber:!0})})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",...s("is_active")}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),n.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"Category aktif dan dapat digunakan"}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",...s("requires_checklist")}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Requires Checklist"})]}),n.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"Category memerlukan checklist khusus"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":a?"Update Category":"Tambah Category"})]})]})]})})},K1e=()=>{const[e,t]=w.useState(""),[r,a]=w.useState("all"),[s,i]=w.useState("all"),[l,o]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState("display_order"),[h,m]=w.useState("asc"),[p,x]=w.useState({}),[g,y]=w.useState(10),b=qt(),{data:v}=Be("service-types-filter",()=>bo.getAll({page:1,limit:100}),{refetchOnWindowFocus:!1}),j=(v==null?void 0:v.data)||[],{data:N,isLoading:k}=Be(["service-categories-all",r,s,e,d,h],()=>C0.getAll({service_type_code:r!=="all"?r:void 0,active_only:s==="active"?"true":s==="inactive"?"false":void 0,search:e||void 0,page:1,limit:1e3,sort_by:d,sort_order:h}),{refetchOnWindowFocus:!1}),_=(N==null?void 0:N.data)||[],S=_.length,T=_.filter(I=>I.is_active).length,C=_.filter(I=>!I.is_active).length,E=[...new Set(_.map(I=>I.service_type_code))].length,A=_.reduce((I,ne)=>(I[ne.service_type_code]||(I[ne.service_type_code]={type_name:ne.service_type_name,categories:[]}),I[ne.service_type_code].categories.push(ne),I),{}),U=jt(I=>C0.delete(I),{onSuccess:()=>{ee.success("Category berhasil dihapus"),b.invalidateQueries("service-categories"),b.invalidateQueries("service-categories-all")},onError:I=>{var ne,oe;ee.error(((oe=(ne=I.response)==null?void 0:ne.data)==null?void 0:oe.message)||"Gagal menghapus category")}}),V=()=>{u(null),o(!0)},ae=I=>{u(I),o(!0)},q=(I,ne)=>{window.confirm(`Apakah Anda yakin ingin menghapus category "${ne}"?`)&&U.mutate(I)},R=()=>{o(!1),u(null)},P=()=>{b.invalidateQueries("service-categories"),b.invalidateQueries("service-categories-all"),R()},B=I=>{d===I?m(h==="asc"?"desc":"asc"):(f(I),m("asc"))},te=I=>d!==I?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):h==="asc"?n.jsx(Bs,{className:"h-4 w-4"}):n.jsx(Ls,{className:"h-4 w-4"}),H=I=>{t(I.target.value)},F=(I,ne)=>{I==="serviceType"?a(ne):I==="status"&&i(ne)},O=I=>p[I]||1,M=(I,ne)=>{x(oe=>({...oe,[I]:ne}))};return k?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Service Categories Management"}),n.jsx("p",{className:"text-gray-600",children:"Kelola kategori layanan berdasarkan service type"})]}),n.jsxs("button",{onClick:V,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Category"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:Zo,title:"Total Categories",value:S,color:"blue"}),n.jsx(Ve,{icon:Zo,title:"Active",value:T,color:"green"}),n.jsx(Ve,{icon:Zo,title:"Inactive",value:C,color:"red"}),n.jsx(Ve,{icon:Zo,title:"Service Types",value:E,color:"purple"})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari category...",value:e,onChange:H})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),n.jsxs("select",{className:"form-input",value:r,onChange:I=>F("serviceType",I.target.value),children:[n.jsx("option",{value:"all",children:"Semua Service Type"}),j.map(I=>n.jsx("option",{value:I.type_code,children:I.type_name},I.type_code))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"form-input",value:s,onChange:I=>F("status",I.target.value),children:[n.jsx("option",{value:"all",children:"Semua Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rows Per Table"}),n.jsxs("select",{className:"form-input",value:g,onChange:I=>{y(parseInt(I.target.value)),x({})},children:[n.jsx("option",{value:"5",children:"5 rows"}),n.jsx("option",{value:"10",children:"10 rows"}),n.jsx("option",{value:"25",children:"25 rows"}),n.jsx("option",{value:"50",children:"50 rows"})]})]})]})}),Object.keys(A).length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(Zo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada category"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan category pertama"}),n.jsxs("button",{onClick:V,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah Category"]})]}):n.jsx("div",{className:"space-y-6",children:Object.entries(A).map(([I,ne])=>{const oe=O(I),J=ne.categories.length,Y=Math.ceil(J/g),ie=(oe-1)*g,fe=ie+g,D=ne.categories.slice(ie,fe);return n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[ne.type_name,n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",J," categories)"]})]})}),n.jsxs("div",{className:"card-body p-0",children:[n.jsx("div",{className:"overflow-x-auto w-full",children:n.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"900px"},children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("display_order"),style:{width:"50px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"#"}),te("display_order")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("category_code"),style:{width:"150px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Code"}),te("category_code")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("category_name"),style:{width:"170px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Category Name"}),te("category_name")]})}),n.jsx("th",{className:"table-header-cell",style:{width:"200px"},children:"Description"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("estimated_duration"),style:{width:"100px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Duration"}),te("estimated_duration")]})}),n.jsx("th",{className:"table-header-cell",style:{width:"70px"},children:"SLA"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("is_active"),style:{width:"90px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),te("is_active")]})}),n.jsx("th",{className:"table-header-cell text-center",style:{width:"100px"},children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:D.map(ye=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.display_order})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-mono text-gray-900",children:ye.category_code})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.category_name})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-sm text-gray-900 truncate",title:ye.description,style:{maxWidth:"200px"},children:ye.description||"-"})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[ye.estimated_duration," min"]})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:["×",ye.sla_multiplier]})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${ye.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ye.is_active?"Active":"Inactive"})}),n.jsx("td",{className:"table-cell text-center",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>ae(ye),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Category",children:n.jsx(di,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>q(ye.id,ye.category_name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Category",children:n.jsx(sa,{className:"h-4 w-4"})})]})})]},ye.id))})]})}),Y>1&&n.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>M(I,Math.max(1,oe-1)),disabled:oe===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>M(I,Math.min(Y,oe+1)),disabled:oe===Y,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:ie+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(fe,J)})," of"," ",n.jsx("span",{className:"font-medium",children:J})," results"]})}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>M(I,Math.max(1,oe-1)),disabled:oe===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Y},(ye,Ce)=>Ce+1).map(ye=>n.jsx("button",{onClick:()=>M(I,ye),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${oe===ye?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ye},ye)),n.jsx("button",{onClick:()=>M(I,Math.min(Y,oe+1)),disabled:oe===Y,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})]})]},I)})}),l&&n.jsx(q1e,{category:c,onClose:R,onSuccess:P})]})},Ns={getAll:async(e={})=>{try{const t=new URLSearchParams;e.role&&t.append("role",e.role),e.status&&t.append("status",e.status),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await me.get(`/users${r?"?"+r:""}`)}catch(t){return console.error("❌ UserService error:",t),{data:[],pagination:{}}}},getById:async e=>await me.get(`/users/${e}`),create:async e=>await me.post("/users",e),update:async(e,t)=>await me.put(`/users/${e}`,t),delete:async e=>await me.delete(`/users/${e}`),updatePassword:async(e,t)=>await me.put(`/users/${e}/password`,t),resetPassword:async(e,t)=>await me.post(`/users/${e}/reset-password`,{new_password:t}),getActivityLogs:async(e={})=>{try{const t=new URLSearchParams;e.user_id&&t.append("user_id",e.user_id),e.target_user_id&&t.append("target_user_id",e.target_user_id),e.action&&t.append("action",e.action),e.limit&&t.append("limit",e.limit),e.page&&t.append("page",e.page);const r=t.toString();return await me.get(`/users/activity-logs/list${r?"?"+r:""}`)}catch(t){return console.error("❌ Get activity logs error:",t),{data:[]}}},unlockAccount:async e=>await me.post(`/users/${e}/unlock`),getLockStatus:async e=>await me.get(`/users/${e}/lock-status`)},G1e=({user:e,onClose:t,onSuccess:r})=>{var g;const a=!!e,[s,i]=w.useState(!1),{register:l,handleSubmit:o,formState:{errors:c,isSubmitting:u},reset:d,watch:f}=es({defaultValues:e||{username:"",email:"",full_name:"",phone:"",role:"customer_service",password:"",confirm_password:"",is_active:!0}}),h=f("role"),{data:m}=Be(["rolePermissions",h],()=>Up.getRolePermissions(h),{enabled:!!h&&h!=="admin"&&!a,staleTime:5*60*1e3});w.useEffect(()=>{e&&d(e)},[e,d]);const p=jt(y=>a?Ns.update(e.id,y):Ns.create(y),{onSuccess:()=>{ee.success(a?"User berhasil diupdate":"User berhasil ditambahkan"),r()},onError:y=>{var b,v;ee.error(((v=(b=y.response)==null?void 0:b.data)==null?void 0:v.message)||"Terjadi kesalahan")}}),x=y=>{if(!a&&y.password!==y.confirm_password){ee.error("Password tidak cocok");return}const b={...y,is_active:y.is_active==="true"||y.is_active===!0};delete b.confirm_password,a&&!b.password&&delete b.password,p.mutate(b)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-12 h-12 rounded-full ${a?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-blue-500 to-indigo-600"} flex items-center justify-center text-white shadow-lg`,children:a?n.jsx(ZS,{className:"h-6 w-6"}):n.jsx(dl,{className:"h-6 w-6"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit User":"Tambah User Baru"}),n.jsx("p",{className:"text-sm text-gray-600",children:a?"Perbarui informasi user":"Lengkapi form untuk membuat user baru"})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-white rounded-lg",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:o(x),className:"p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Ft,{className:"h-5 w-5 mr-2 text-blue-600"}),"Informasi Dasar"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Username ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"username",disabled:a,...l("username",{required:"Username wajib diisi",minLength:{value:3,message:"Username minimal 3 karakter"},pattern:{value:/^[a-zA-Z0-9_]+$/,message:"Username hanya boleh huruf, angka, dan underscore"}})}),c.username&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.username.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Lengkap ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"input-field",placeholder:"Nama lengkap",...l("full_name",{required:"Nama lengkap wajib diisi"})}),c.full_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.full_name.message})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(na,{className:"h-5 w-5 mr-2 text-blue-600"}),"Informasi Kontak"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",className:"input-field",placeholder:"email@example.com",...l("email",{required:"Email wajib diisi",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Format email tidak valid"}})}),c.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"text",className:"input-field",placeholder:"08123456789",...l("phone")})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(On,{className:"h-5 w-5 mr-2 text-blue-600"}),"Role & Akses"]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Role ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{className:"input-field",...l("role",{required:"Role wajib dipilih"}),children:[n.jsx("option",{value:"",children:"Pilih Role"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"supervisor",children:"Supervisor"}),n.jsx("option",{value:"technician",children:"Technician"}),n.jsx("option",{value:"customer_service",children:"Customer Service"})]}),c.role&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.role.message}),!a&&h&&n.jsx("div",{className:"mt-4",children:h==="admin"?n.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(On,{className:"h-5 w-5 text-purple-600 mt-0.5 mr-2 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-semibold text-purple-900 mb-1",children:"Admin Access"}),n.jsxs("p",{className:"text-sm text-purple-800",children:["Admin memiliki ",n.jsx("strong",{children:"akses penuh"})," ke semua fitur sistem (100% permissions)."]})]})]})}):(g=m==null?void 0:m.data)!=null&&g.permissions?n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-start flex-1",children:[n.jsx(f0,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:[h==="supervisor"?"Supervisor":h==="technician"?"Technician":"Customer Service"," Permissions"]}),n.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:["User akan mendapat ",n.jsxs("strong",{children:[m.data.permissions.length," permissions"]})]}),!s&&n.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-xs text-blue-600 hover:text-blue-800 font-medium underline",children:"Lihat detail permissions →"})]})]})}),s&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[n.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:m.data.permissions.map((y,b)=>n.jsxs("div",{className:"flex items-center text-sm text-blue-800",children:[n.jsx(Ke,{className:"h-3 w-3 text-green-600 mr-2 flex-shrink-0"}),n.jsx("span",{children:y.description||y.name})]},b))}),n.jsx("button",{type:"button",onClick:()=>i(!1),className:"text-xs text-blue-600 hover:text-blue-800 font-medium underline mt-2",children:"← Sembunyikan detail"})]})]}):h&&n.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(f0,{className:"h-5 w-5 text-gray-500 mr-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading permissions..."})]})})}),!a&&n.jsx("div",{className:"mt-3",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["💡 Untuk mengatur permissions lebih detail, kunjungi"," ",n.jsx("a",{href:"/permissions",target:"_blank",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Permission Management"})]})})]}),!a&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(h0,{className:"h-5 w-5 mr-2 text-blue-600"}),"Password"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",className:"input-field",placeholder:"Password",...l("password",{required:a?!1:"Password wajib diisi",minLength:{value:6,message:"Password minimal 6 karakter"}})}),c.password&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",className:"input-field",placeholder:"Confirm password",...l("confirm_password",{required:a?!1:"Konfirmasi password wajib diisi"})}),c.confirm_password&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.confirm_password.message})]})]})]}),a&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(h0,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Catatan Password"}),n.jsx("p",{className:"text-sm text-blue-800",children:'Untuk mengubah password, gunakan fitur "Reset Password" di tabel user atau menu "Change Password" di halaman profil.'})]})]})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:["Status Akun ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("label",{className:"flex items-center cursor-pointer p-3 bg-white border-2 border-gray-300 rounded-lg hover:border-green-400 transition-all",children:[n.jsx("input",{type:"radio",value:"true",...l("is_active"),className:"mr-3 w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),n.jsxs("label",{className:"flex items-center cursor-pointer p-3 bg-white border-2 border-gray-300 rounded-lg hover:border-red-400 transition-all",children:[n.jsx("input",{type:"radio",value:"false",...l("is_active"),className:"mr-3 w-4 h-4 text-red-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Inactive"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t-2 border-gray-200 bg-gray-50 -mx-6 -mb-6 px-6 py-4 rounded-b-lg",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Batal"}),n.jsx("button",{type:"submit",className:`btn-primary ${a?"bg-green-600 hover:bg-green-700":""}`,disabled:u,children:u?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Menyimpan..."]}):n.jsxs("span",{className:"flex items-center",children:[a?n.jsx(ZS,{className:"h-4 w-4 mr-2"}):n.jsx(dl,{className:"h-4 w-4 mr-2"}),a?"Update User":"Tambah User"]})})]})]})]})})},Q1e=({user:e,onClose:t,onSuccess:r})=>{const[a,s]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(!1),[u,d]=w.useState(!1),f=jt(()=>Ns.resetPassword(e.id,a),{onSuccess:x=>{l(x.data.temporary_password),ee.success("Password berhasil direset!"),r()},onError:x=>{var g,y;ee.error(((y=(g=x.response)==null?void 0:g.data)==null?void 0:y.message)||"Gagal reset password")}}),h=()=>{const g="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let y="";for(let b=0;b<12;b++)y+=g.charAt(Math.floor(Math.random()*g.length));s(y),c(!0)},m=x=>{if(x.preventDefault(),!a||a.length<6){ee.error("Password minimal 6 karakter");return}f.mutate()},p=()=>{navigator.clipboard.writeText(i),d(!0),ee.success("Password copied to clipboard!"),setTimeout(()=>d(!1),2e3)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hj,{className:"h-6 w-6 text-blue-600 mr-2"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reset Password"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(hr,{className:"h-6 w-6"})})]}),i?n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:n.jsx(mn,{className:"h-8 w-8 text-green-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Password Berhasil Direset!"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Berikut adalah password sementara untuk user ",n.jsx("strong",{children:e.username})]})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",className:"form-input font-mono",value:i,readOnly:!0}),n.jsx("button",{onClick:p,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Copy to clipboard",children:u?n.jsx(mn,{className:"h-5 w-5 text-green-600"}):n.jsx(Ts,{className:"h-5 w-5"})})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:["📝 ",n.jsx("strong",{children:"Important:"})," Pastikan Anda menyalin dan menyimpan password ini. Kirimkan ke user melalui channel yang aman (email, WhatsApp, dll)."]})}),n.jsx("button",{onClick:t,className:"w-full btn-primary",children:"Selesai"})]}):n.jsxs("form",{onSubmit:m,className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"User:"})," ",e.full_name," (",e.username,")"]}),n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Email:"})," ",e.email]})]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["New Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:o?"text":"password",className:"form-input",placeholder:"Enter new password",value:a,onChange:x=>s(x.target.value),minLength:6,required:!0}),n.jsx("button",{type:"button",onClick:h,className:"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:"Generate Random Password"}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:x=>c(x.target.checked),className:"mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Show password"})]})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:["⚠️ ",n.jsx("strong",{children:"Warning:"})," User akan menggunakan password ini untuk login. Pastikan Anda menyimpan dan mengirimkan password ini ke user dengan aman."]})}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:f.isLoading,children:"Batal"}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:f.isLoading,children:f.isLoading?"Resetting...":"Reset Password"})]})]})]})})},X1e=({user:e,onClose:t,onSuccess:r})=>{var d;const[a,s]=w.useState(""),[i,l]=w.useState(!1),o=a===e.username,c=jt(()=>Ns.delete(e.id),{onSuccess:()=>{ee.success(`User "${e.full_name}" berhasil dihapus`),r(),t()},onError:f=>{var h,m;ee.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Gagal menghapus user")}}),u=()=>{if(!o){ee.error("Konfirmasi username tidak sesuai");return}c.mutate()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(Es,{className:"h-6 w-6 text-red-600"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Confirm Deletion"}),n.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c.isLoading,children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-medium text-blue-600",children:(d=e.full_name)==null?void 0:d.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:e.full_name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["@",e.username]})]})]}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{className:"text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]}),n.jsxs("p",{className:"text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Role:"})," ",e.role]}),e.phone&&n.jsxs("p",{className:"text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",e.phone]})]})]}),n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex",children:[n.jsx(Es,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Warning"}),n.jsx("div",{className:"mt-2 text-sm text-red-700",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"User akan di-soft delete (data masih bisa di-restore)"}),n.jsx("li",{children:"User tidak bisa login setelah dihapus"}),n.jsx("li",{children:"Data terkait seperti tickets & logs akan tetap ada"})]})})]})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",n.jsx("span",{className:"font-mono font-bold text-red-600",children:e.username})," to confirm:"]}),n.jsx("input",{type:"text",className:`form-input ${o?"border-green-500 focus:ring-green-500":"border-red-300 focus:ring-red-500"}`,placeholder:e.username,value:a,onChange:f=>s(f.target.value),autoFocus:!0,disabled:c.isLoading}),o&&n.jsxs("div",{className:"mt-2 flex items-center text-sm text-green-600",children:[n.jsx(Ke,{className:"h-4 w-4 mr-1"}),"Username confirmed"]})]}),n.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i,onChange:f=>l(f.target.checked),className:"mr-2",disabled:c.isLoading}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Permanent Delete (Hard Delete)"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Data akan dihapus permanent dan tidak bisa di-restore. Hanya untuk kasus khusus!"})]})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 p-6 bg-gray-50 rounded-b-lg border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:c.isLoading,children:"Cancel"}),n.jsx("button",{onClick:u,className:`btn-danger ${o?"":"opacity-50 cursor-not-allowed"}`,disabled:!o||c.isLoading,children:c.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):n.jsxs("span",{className:"flex items-center",children:[n.jsx(sa,{className:"h-4 w-4 mr-2"}),i?"Permanent Delete":"Delete User"]})})]})]})})},Y1e=({user:e,onClose:t})=>{var s;if(!e)return null;const r=i=>i?new Date(i).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",a=i=>{const l={admin:"bg-purple-100 text-purple-800 border-purple-200",supervisor:"bg-blue-100 text-blue-800 border-blue-200",technician:"bg-green-100 text-green-800 border-green-200",customer_service:"bg-yellow-100 text-yellow-800 border-yellow-200"},o={admin:"Admin",supervisor:"Supervisor",technician:"Technician",customer_service:"Customer Service"};return n.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full border ${l[i]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:o[i]||i})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-start p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:(s=e.full_name)==null?void 0:s.charAt(0).toUpperCase()}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.full_name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["@",e.username]})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-white rounded-lg",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[a(e.role),e.is_active?n.jsxs("span",{className:"px-3 py-1 inline-flex items-center text-sm font-semibold rounded-full bg-green-100 text-green-800 border border-green-200",children:[n.jsx(Ke,{className:"h-4 w-4 mr-1"}),"Active"]}):n.jsxs("span",{className:"px-3 py-1 inline-flex items-center text-sm font-semibold rounded-full bg-gray-100 text-gray-800 border border-gray-200",children:[n.jsx(kt,{className:"h-4 w-4 mr-1"}),"Inactive"]})]})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Ft,{className:"h-5 w-5 mr-2 text-blue-600"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(na,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Email"}),e.email_verified?n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:[n.jsx(eO,{className:"h-3 w-3 mr-1"}),"Verified"]}):n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:[n.jsx(na,{className:"h-3 w-3 mr-1"}),"Not Verified"]})]}),n.jsx("p",{className:"text-sm text-gray-900 font-medium break-all mt-1",children:e.email}),e.email_verified_at&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Verified: ",r(e.email_verified_at)]})]})]})}),n.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Za,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Phone"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:e.phone||"Not provided"})]})]})})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(On,{className:"h-5 w-5 mr-2 text-blue-600"}),"Account Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(br,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Created At"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r(e.created_at)})]})]})}),n.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Kt,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Last Login"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r(e.last_login)})]})]})})]})]}),e.role==="technician"&&e.employee_id&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Technician Details"}),n.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Employee ID"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:e.employee_id})]}),e.availability_status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Availability"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium capitalize",children:e.availability_status})]})]})})]}),n.jsx("div",{className:"pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["User ID: ",n.jsx("span",{className:"font-mono font-medium text-gray-700",children:e.id})]})})]}),n.jsx("div",{className:"flex justify-end p-6 bg-gray-50 border-t border-gray-200",children:n.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})},J1e=({onClose:e,onSuccess:t})=>{const[r,a]=w.useState(null),[s,i]=w.useState([]),[l,o]=w.useState([]),[c,u]=w.useState(!1),d=m=>{const p=m.target.files[0];if(!p)return;const x=p.name.split(".").pop().toLowerCase();if(!["csv","xlsx","xls"].includes(x)){ee.error("Format file harus CSV atau Excel");return}a(p);const g=new FileReader;g.onload=y=>{try{const b=new Uint8Array(y.target.result),v=Rw(b,{type:"array"}),j=v.SheetNames[0],N=v.Sheets[j],k=ks.sheet_to_json(N);if(k.length===0){ee.error("File kosong atau format tidak valid");return}const _=k.map((C,E)=>{var U,V,ae,q,R,P,B;const A=[];return(!C.Username||C.Username.length<3)&&A.push("Username invalid (min 3 chars)"),(!C.Email||!C.Email.includes("@"))&&A.push("Email invalid"),C["Full Name"]||A.push("Full Name required"),(!C.Role||!["admin","supervisor","technician","customer_service"].includes(C.Role.toLowerCase()))&&A.push("Role invalid"),(!C.Password||C.Password.length<6)&&A.push("Password invalid (min 6 chars)"),{rowNumber:E+2,data:{username:(U=C.Username)==null?void 0:U.trim(),email:(V=C.Email)==null?void 0:V.trim(),full_name:(ae=C["Full Name"])==null?void 0:ae.trim(),phone:((q=C.Phone)==null?void 0:q.trim())||"",role:(R=C.Role)==null?void 0:R.toLowerCase().trim(),password:(P=C.Password)==null?void 0:P.trim(),is_active:((B=C.Status)==null?void 0:B.toLowerCase())!=="inactive"},errors:A,isValid:A.length===0}});i(_),o(_);const S=_.filter(C=>C.isValid).length,T=_.filter(C=>!C.isValid).length;T>0?ee.warning(`${S} valid, ${T} invalid rows`):ee.success(`${S} users ready to import`)}catch(b){ee.error("Gagal membaca file: "+b.message)}},g.readAsArrayBuffer(p)},f=()=>{const m=[{Username:"johndoe","Full Name":"John Doe",Email:"john.doe@example.com",Phone:"081234567890",Role:"technician",Password:"password123",Status:"active"},{Username:"janedoe","Full Name":"Jane Doe",Email:"jane.doe@example.com",Phone:"081234567891",Role:"customer_service",Password:"password456",Status:"active"}],p=ks.json_to_sheet(m),x=ks.book_new();ks.book_append_sheet(x,p,"Users Template"),p["!cols"]=[{wch:15},{wch:20},{wch:25},{wch:15},{wch:20},{wch:15},{wch:10}],Jk(x,"import-users-template.xlsx"),ee.success("Template downloaded!")},h=async()=>{var y,b;const m=s.filter(v=>v.isValid);if(m.length===0){ee.error("Tidak ada user valid untuk diimport");return}if(!window.confirm(`Import ${m.length} users?`))return;u(!0);let p=0,x=0;const g=[];for(const v of m)try{await Ns.create(v.data),p++}catch(j){x++,g.push(`Row ${v.rowNumber}: ${((b=(y=j.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed"}`)}u(!1),p>0&&(ee.success(`${p} users berhasil diimport!`),t(),x===0&&e()),x>0&&(ee.error(`${x} users gagal diimport`),console.error("Import errors:",g))};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(sl,{className:"h-6 w-6 text-blue-600 mr-2"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Import Users"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"📋 Instructions:"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"Download template Excel/CSV"}),n.jsx("li",{children:"Fill in user data (Username, Full Name, Email, Phone, Role, Password, Status)"}),n.jsx("li",{children:"Upload file (Excel or CSV format)"}),n.jsx("li",{children:"Review validation results"}),n.jsx("li",{children:'Click "Import" to create users'})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Download Template"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get the Excel template with example data"})]}),n.jsxs("button",{onClick:f,className:"btn-outline flex items-center",children:[n.jsx(ko,{className:"h-4 w-4 mr-2"}),"Download Template"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File (CSV or Excel)"}),n.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:n.jsxs("div",{className:"space-y-1 text-center",children:[n.jsx(Wp,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"flex text-sm text-gray-600",children:[n.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[n.jsx("span",{children:"Upload a file"}),n.jsx("input",{type:"file",className:"sr-only",accept:".csv,.xlsx,.xls",onChange:d,disabled:c})]}),n.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"CSV or XLSX up to 10MB"}),r&&n.jsxs("p",{className:"text-sm text-green-600 font-medium mt-2",children:["✓ ",r.name]})]})})]}),l.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Validation Results:"}),n.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Row"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Username"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Email"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Role"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((m,p)=>n.jsxs("tr",{className:m.isValid?"bg-green-50":"bg-red-50",children:[n.jsx("td",{className:"px-4 py-2 text-sm",children:m.rowNumber}),n.jsx("td",{className:"px-4 py-2 text-sm",children:m.data.username}),n.jsx("td",{className:"px-4 py-2 text-sm",children:m.data.email}),n.jsx("td",{className:"px-4 py-2 text-sm",children:m.data.role}),n.jsx("td",{className:"px-4 py-2 text-sm",children:m.isValid?n.jsxs("span",{className:"inline-flex items-center text-xs text-green-700",children:[n.jsx(Ke,{className:"h-3 w-3 mr-1"}),"Valid"]}):n.jsxs("span",{className:"inline-flex items-center text-xs text-red-700",title:m.errors.join(", "),children:[n.jsx(kt,{className:"h-3 w-3 mr-1"}),m.errors[0]]})})]},p))})]})}),n.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ke,{className:"h-5 w-5 text-green-600 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Valid Rows"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:l.filter(m=>m.isValid).length})]})]})}),n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(kt,{className:"h-5 w-5 text-red-600 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Invalid Rows"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:l.filter(m=>!m.isValid).length})]})]})})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx($t,{className:"h-5 w-5 text-yellow-600 mt-0.5 mr-2"}),n.jsxs("div",{className:"text-sm text-yellow-800",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Required Columns:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Username"})," - Minimal 3 karakter, unique"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Full Name"})," - Nama lengkap user"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Email"})," - Format email valid, unique"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Phone"})," - Nomor telepon (optional)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Role"})," - admin, supervisor, technician, atau customer_service"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Password"})," - Minimal 6 karakter"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Status"})," - active atau inactive (default: active)"]})]})]})]})})]}),n.jsxs("div",{className:"flex justify-between p-6 bg-gray-50 border-t border-gray-200",children:[n.jsxs("button",{onClick:f,className:"btn-outline flex items-center",children:[n.jsx(ko,{className:"h-4 w-4 mr-2"}),"Download Template"]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:c,children:"Cancel"}),n.jsx("button",{onClick:h,className:"btn-primary",disabled:c||l.filter(m=>m.isValid).length===0,children:c?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):n.jsxs("span",{className:"flex items-center",children:[n.jsx(sl,{className:"h-4 w-4 mr-2"}),"Import ",l.filter(m=>m.isValid).length," Users"]})})]})]})]})})},Z1e=({targetUserId:e=null,limit:t=20})=>{const{data:r,isLoading:a}=Be(["activity-logs",e],()=>Ns.getActivityLogs({target_user_id:e,limit:t}),{refetchInterval:3e4,refetchOnWindowFocus:!1}),s=Array.isArray(r==null?void 0:r.data)?r.data:[],i=u=>{switch(u){case"created":return n.jsx(Ft,{className:"h-4 w-4 text-green-600"});case"updated":return n.jsx(di,{className:"h-4 w-4 text-blue-600"});case"deleted":case"deleted_permanent":return n.jsx(sa,{className:"h-4 w-4 text-red-600"});case"restored":return n.jsx(MW,{className:"h-4 w-4 text-green-600"});case"password_reset":return n.jsx(Hj,{className:"h-4 w-4 text-orange-600"});default:return n.jsx(ui,{className:"h-4 w-4 text-gray-600"})}},l=u=>{switch(u){case"created":case"restored":return"bg-green-50 border-green-200 text-green-800";case"updated":return"bg-blue-50 border-blue-200 text-blue-800";case"deleted":case"deleted_permanent":return"bg-red-50 border-red-200 text-red-800";case"password_reset":return"bg-orange-50 border-orange-200 text-orange-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},o=u=>({created:"Created User",updated:"Updated User",deleted:"Deleted User",deleted_permanent:"Permanently Deleted",restored:"Restored User",password_reset:"Reset Password"})[u]||u,c=u=>{const d=new Date(u),h=new Date-d,m=Math.floor(h/1e3),p=Math.floor(m/60),x=Math.floor(p/60),g=Math.floor(x/24);return m<60?"Just now":p<60?`${p}m ago`:x<24?`${x}h ago`:g<7?`${g}d ago`:d.toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})};return a?n.jsx("div",{className:"flex justify-center items-center p-8",children:n.jsx(St,{size:"sm"})}):n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(ui,{className:"h-5 w-5 mr-2 text-blue-600"}),"Recent Activity"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[s.length," activities"]})]})}),n.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:s.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(ui,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-sm text-gray-500",children:"No activity logs yet"})]}):s.map(u=>n.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:i(u.action)}),n.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(u.action)}),n.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded border ${l(u.action)}`,children:u.action})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:u.performer_name||"System"})," → ",n.jsxs("span",{className:"font-medium",children:["@",u.target_username]})]}),u.details&&Object.keys(u.details).length>0&&n.jsx("div",{className:"mt-2 text-xs text-gray-500 bg-gray-50 rounded p-2",children:Object.entries(u.details).map(([d,f])=>n.jsxs("span",{className:"mr-3",children:[n.jsxs("strong",{children:[d,":"]})," ",JSON.stringify(f)]},d))}),n.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[n.jsx(Kt,{className:"h-3 w-3 mr-1"}),c(u.created_at)]})]})]})},u.id))})]})},ewe=()=>{const{user:e,isAdmin:t,isSupervisor:r}=tn(),[a,s]=w.useState(""),[i,l]=w.useState("all"),[o,c]=w.useState("all"),[u,d]=w.useState("all"),[f,h]=w.useState(!1),[m,p]=w.useState(null),[x,g]=w.useState(!1),[y,b]=w.useState(null),[v,j]=w.useState(!1),[N,k]=w.useState(null),[_,S]=w.useState([]),[T,C]=w.useState(!1),[E,A]=w.useState(null),[U,V]=w.useState(!1),[ae,q]=w.useState(null),[R,P]=w.useState(!1),[B,te]=w.useState("created_at"),[H,F]=w.useState("desc"),[O,M]=w.useState(1),[I,ne]=w.useState(10),oe=qt(),{data:J,isLoading:Y}=Be(["users-list",i,o,u,a,B,H,O,I],()=>Ns.getAll({role:i!=="all"?i:void 0,status:o!=="all"?o:void 0,search:a||void 0,page:O,limit:I,sort_by:B,sort_order:H}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),ie=Array.isArray(J==null?void 0:J.data)?J.data:[],fe=(J==null?void 0:J.pagination)||{},D=ie.filter(Ne=>{if(u==="all")return!0;const We=Ne.last_login?new Date(Ne.last_login):null,ct=We?Math.floor((new Date-We)/(1e3*60*60*24)):null;switch(u){case"today":return ct===0;case"week":return ct!==null&&ct<=7;case"month":return ct!==null&&ct<=30;case"never":return We===null;default:return!0}}),{data:ye}=Be("all-users-stats",()=>Ns.getAll({page:1,limit:1e3}),{refetchOnWindowFocus:!1}),Ce=Array.isArray(ye==null?void 0:ye.data)?ye.data:[],Pe=Ce.length,Me=Ce.filter(Ne=>Ne.is_active).length,ke=Ce.filter(Ne=>Ne.role==="admin").length,at=Ce.filter(Ne=>Ne.role==="technician").length,$e=()=>{p(null),h(!0)},Z=Ne=>{p(Ne),h(!0)},ce=Ne=>{b(Ne),g(!0)},de=()=>{g(!1),b(null)},we=()=>{oe.invalidateQueries(["users-list"])},_e=Ne=>{k(Ne),j(!0)},se=()=>{j(!1),k(null)},le=()=>{oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")},Fe=async Ne=>{var We,Er;if(window.confirm(`Unlock account for ${Ne.full_name}? This will reset all failed login attempts.`))try{await Ns.unlockAccount(Ne.id),ee.success(`Account unlocked for ${Ne.full_name}`),oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")}catch(ct){ee.error(((Er=(We=ct.response)==null?void 0:We.data)==null?void 0:Er.message)||"Failed to unlock account")}},ze=Ne=>{if(Ne.target.checked){const We=D.filter(Er=>Er.id!==(e==null?void 0:e.id)).map(Er=>Er.id);S(We),C(!0)}else S([]),C(!1)},Xe=Ne=>{S(We=>{if(We.includes(Ne)){const Er=We.filter(ct=>ct!==Ne);return C(!1),Er}else return[...We,Ne]})},et=async()=>{if(_.length===0){ee.error("Pilih minimal 1 user untuk dihapus");return}if(window.confirm(`Hapus ${_.length} users yang dipilih?`))try{await Promise.all(_.map(Ne=>Ns.delete(Ne))),ee.success(`${_.length} users berhasil dihapus`),S([]),C(!1),oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")}catch{ee.error("Gagal menghapus beberapa users")}},ot=async()=>{if(_.length===0){ee.error("Pilih minimal 1 user untuk dinonaktifkan");return}if(window.confirm(`Nonaktifkan ${_.length} users yang dipilih?`))try{await Promise.all(_.map(Ne=>Ns.update(Ne,{is_active:!1}))),ee.success(`${_.length} users berhasil dinonaktifkan`),S([]),C(!1),oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")}catch{ee.error("Gagal menonaktifkan beberapa users")}},tt=async()=>{if(_.length===0){ee.error("Pilih minimal 1 user untuk diaktifkan");return}try{await Promise.all(_.map(Ne=>Ns.update(Ne,{is_active:!0}))),ee.success(`${_.length} users berhasil diaktifkan`),S([]),C(!1),oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")}catch{ee.error("Gagal mengaktifkan beberapa users")}},nt=(Ne,We)=>{navigator.clipboard.writeText(Ne),A(We),ee.success("Copied to clipboard!"),setTimeout(()=>A(null),2e3)},_t=Ne=>{q(Ne),V(!0)},Zt=()=>{V(!1),q(null)},ge=()=>{P(!0)},dt=()=>{P(!1)},Cr=()=>{oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")},nn=()=>{const Ne=D.map(Rr=>({Username:Rr.username,"Full Name":Rr.full_name,Email:Rr.email,Phone:Rr.phone||"-",Role:Rr.role,Status:Rr.is_active?"Active":"Inactive","Last Login":Rr.last_login?new Date(Rr.last_login).toLocaleString("id-ID"):"Never","Created At":new Date(Rr.created_at).toLocaleString("id-ID")})),We=ks.json_to_sheet(Ne),Er=ks.book_new();ks.book_append_sheet(Er,We,"Users");const ct=Ne.reduce((Rr,os)=>{var L;return Math.max(Rr,((L=os["Full Name"])==null?void 0:L.length)||0)},10);We["!cols"]=[{wch:15},{wch:ct},{wch:25},{wch:15},{wch:15},{wch:10},{wch:20},{wch:20}];const Ra=`users-export-${new Date().toISOString().split("T")[0]}.xlsx`;Jk(Er,Ra),ee.success(`Exported ${Ne.length} users to ${Ra}`)},pr=()=>{const Ne=D.map(L=>({Username:L.username,"Full Name":L.full_name,Email:L.email,Phone:L.phone||"-",Role:L.role,Status:L.is_active?"Active":"Inactive","Last Login":L.last_login?new Date(L.last_login).toLocaleString("id-ID"):"Never","Created At":new Date(L.created_at).toLocaleString("id-ID")})),We=ks.json_to_sheet(Ne),Er=ks.sheet_to_csv(We),ct=new Blob([Er],{type:"text/csv;charset=utf-8;"}),Ra=document.createElement("a"),Rr=URL.createObjectURL(ct),os=`users-export-${new Date().toISOString().split("T")[0]}.csv`;Ra.setAttribute("href",Rr),Ra.setAttribute("download",os),Ra.style.visibility="hidden",document.body.appendChild(Ra),Ra.click(),document.body.removeChild(Ra),ee.success(`Exported ${Ne.length} users to ${os}`)},Vs=()=>{h(!1),p(null)},Bl=()=>{oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats"),Vs()},sn=Ne=>{B===Ne?F(H==="asc"?"desc":"asc"):(te(Ne),F("asc")),M(1)},je=Ne=>B!==Ne?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):H==="asc"?n.jsx(Bs,{className:"h-4 w-4"}):n.jsx(Ls,{className:"h-4 w-4"}),Ue=Ne=>{s(Ne.target.value),M(1)},Ot=(Ne,We)=>{Ne==="role"?l(We):Ne==="status"?c(We):Ne==="lastLogin"&&d(We),M(1)},Ir=Ne=>{ne(parseInt(Ne)),M(1)},vi=Ne=>{const We={admin:"bg-purple-100 text-purple-800",supervisor:"bg-blue-100 text-blue-800",technician:"bg-green-100 text-green-800",customer_service:"bg-yellow-100 text-yellow-800"},Er={admin:"Admin",supervisor:"Supervisor",technician:"Technician",customer_service:"Customer Service"};return n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${We[Ne]||"bg-gray-100 text-gray-800"}`,children:Er[Ne]||Ne})};return!t&&!r?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[n.jsx(Eg,{className:"h-24 w-24 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access User Management."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Required role: Admin or Supervisor"})]}):Y&&O===1?n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),n.jsx("p",{className:"text-gray-600",children:"Kelola pengguna sistem dan akses"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[t&&n.jsxs("button",{onClick:ge,className:"btn-outline flex items-center",children:[n.jsx(sl,{className:"h-4 w-4 mr-2"}),"Import"]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("button",{className:"btn-outline flex items-center",children:[n.jsx(ko,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[n.jsxs("button",{onClick:nn,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center transition-colors rounded-t-lg",children:[n.jsx(Wp,{className:"h-4 w-4 mr-2 text-green-600"}),"Export to Excel"]}),n.jsxs("button",{onClick:pr,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center transition-colors rounded-b-lg",children:[n.jsx(Wp,{className:"h-4 w-4 mr-2 text-blue-600"}),"Export to CSV"]})]})]}),_.length>0&&t&&n.jsxs("div",{className:"flex items-center space-x-2 mr-4 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[_.length," selected"]}),n.jsx("button",{onClick:tt,className:"text-xs px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",title:"Activate selected users",children:"Activate"}),n.jsx("button",{onClick:ot,className:"text-xs px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors",title:"Deactivate selected users",children:"Deactivate"}),n.jsx("button",{onClick:et,className:"text-xs px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",title:"Delete selected users",children:"Delete"}),n.jsx("button",{onClick:()=>{S([]),C(!1)},className:"text-xs px-2 py-1 text-gray-600 hover:text-gray-800",title:"Clear selection",children:"✕"})]}),n.jsxs("button",{onClick:$e,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:Vn,title:"Total Users",value:Pe,color:"blue"}),n.jsx(Ve,{icon:Vn,title:"Active Users",value:Me,color:"green"}),n.jsx(Ve,{icon:Vn,title:"Admins",value:ke,color:"purple"}),n.jsx(Ve,{icon:Vn,title:"Technicians",value:at,color:"orange"})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari user...",value:a,onChange:Ue})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),n.jsxs("select",{className:"form-input",value:i,onChange:Ne=>Ot("role",Ne.target.value),children:[n.jsx("option",{value:"all",children:"Semua Role"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"supervisor",children:"Supervisor"}),n.jsx("option",{value:"technician",children:"Technician"}),n.jsx("option",{value:"customer_service",children:"Customer Service"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"form-input",value:o,onChange:Ne=>Ot("status",Ne.target.value),children:[n.jsx("option",{value:"all",children:"Semua Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Login"}),n.jsxs("select",{className:"form-input",value:u,onChange:Ne=>Ot("lastLogin",Ne.target.value),children:[n.jsx("option",{value:"all",children:"Semua Waktu"}),n.jsx("option",{value:"today",children:"Hari Ini"}),n.jsx("option",{value:"week",children:"7 Hari Terakhir"}),n.jsx("option",{value:"month",children:"30 Hari Terakhir"}),n.jsx("option",{value:"never",children:"Belum Pernah"})]})]})]})}),ie.length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(Vn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada user"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan user pertama"}),n.jsxs("button",{onClick:$e,className:"btn-primary",children:[n.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]}):D.length===0?n.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[n.jsx(Fa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada hasil"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Coba ubah filter atau search keyword"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Users",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",fe.total||0," total)"]})]})}),n.jsx("div",{className:"card-body p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"950px"},children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[t&&n.jsx("th",{className:"table-header-cell",style:{width:"50px"},children:n.jsx("input",{type:"checkbox",checked:T,onChange:ze,className:"cursor-pointer"})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>sn("full_name"),style:{width:"200px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"User"}),je("full_name")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>sn("email"),style:{width:"180px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Email"}),je("email")]})}),n.jsx("th",{className:"table-header-cell",style:{width:"120px"},children:"Phone"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>sn("role"),style:{width:"130px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Role"}),je("role")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>sn("last_login"),style:{width:"100px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Last Login"}),je("last_login")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>sn("is_active"),style:{width:"90px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),je("is_active")]})}),n.jsx("th",{className:"table-header-cell text-center",style:{width:"100px"},children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:D.map(Ne=>{var We;return n.jsxs("tr",{className:_.includes(Ne.id)?"bg-blue-50":"",children:[t&&n.jsx("td",{className:"table-cell",children:Ne.id!==(e==null?void 0:e.id)?n.jsx("input",{type:"checkbox",checked:_.includes(Ne.id),onChange:()=>Xe(Ne.id),className:"cursor-pointer"}):n.jsx("span",{className:"text-gray-300",children:"-"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:n.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-blue-600",children:(We=Ne.full_name)==null?void 0:We.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("button",{onClick:()=>_t(Ne),className:"text-sm font-medium text-blue-600 hover:text-blue-800 truncate cursor-pointer text-left",style:{maxWidth:"130px"},title:"Click to view details",children:Ne.full_name}),n.jsxs("div",{className:"text-xs text-gray-500 truncate",style:{maxWidth:"130px"},children:["@",Ne.username]})]})]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center group",children:[n.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm text-gray-900 truncate",title:Ne.email,children:Ne.email}),Ne.email_verified?n.jsx(eO,{className:"h-4 w-4 text-green-600 ml-1 flex-shrink-0",title:"Email verified"}):n.jsx(na,{className:"h-4 w-4 text-gray-400 ml-1 flex-shrink-0",title:"Email not verified"})]}),n.jsx("button",{onClick:()=>nt(Ne.email,`email-${Ne.id}`),className:"ml-2 opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all flex-shrink-0",title:"Copy email",children:E===`email-${Ne.id}`?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-400"})})]})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:Ne.phone?n.jsxs("div",{className:"flex items-center group",children:[n.jsx("div",{className:"text-sm text-gray-900 flex-1",children:Ne.phone}),n.jsx("button",{onClick:()=>nt(Ne.phone,`phone-${Ne.id}`),className:"ml-2 opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all",title:"Copy phone",children:E===`phone-${Ne.id}`?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-400"})})]}):n.jsx("div",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:vi(Ne.role)}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:Ne.last_login?new Date(Ne.last_login).toLocaleDateString("id-ID",{day:"2-digit",month:"short"}):"Never"})}),n.jsx("td",{className:"table-cell whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Ne.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Ne.is_active?"Active":"Inactive"})}),n.jsx("td",{className:"table-cell text-center",children:n.jsxs("div",{className:"flex justify-center space-x-1",children:[(t||r)&&n.jsx("button",{onClick:()=>Z(Ne),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit User",children:n.jsx(di,{className:"h-4 w-4"})}),t&&Ne.id!==(e==null?void 0:e.id)&&n.jsx("button",{onClick:()=>ce(Ne),className:"inline-flex items-center justify-center w-8 h-8 text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded-md transition-colors",title:"Reset Password",children:n.jsx(Hj,{className:"h-4 w-4"})}),t&&Ne.id!==(e==null?void 0:e.id)&&(Ne.failed_login_attempts>0||Ne.locked_until)&&n.jsx("button",{onClick:()=>Fe(Ne),className:"inline-flex items-center justify-center w-8 h-8 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-md transition-colors",title:`Unlock Account (${Ne.failed_login_attempts||0} failed attempts)`,children:n.jsx(BW,{className:"h-4 w-4"})}),t&&Ne.id!==(e==null?void 0:e.id)&&n.jsx("button",{onClick:()=>_e(Ne),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete User",children:n.jsx(sa,{className:"h-4 w-4"})}),Ne.id===(e==null?void 0:e.id)&&n.jsx("span",{className:"text-xs text-gray-400 px-2",title:"Cannot modify yourself",children:"-"})]})})]},Ne.id)})})]})})})]}),n.jsx("div",{className:"bg-white shadow rounded-lg",children:n.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>M(Math.max(1,O-1)),disabled:O===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>M(Math.min(fe.pages||1,O+1)),disabled:O===(fe.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:I,onChange:Ne=>Ir(Ne.target.value),className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(O-1)*I+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(O*I,fe.total||0)})," ","of ",n.jsx("span",{className:"font-medium",children:fe.total||0})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>M(Math.max(1,O-1)),disabled:O===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min(fe.pages||1,10)},(Ne,We)=>fe.pages<=10||O<=5?We+1:O>=fe.pages-4?fe.pages-9+We:O-5+We).map(Ne=>n.jsx("button",{onClick:()=>M(Ne),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${O===Ne?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:Ne},Ne)),n.jsx("button",{onClick:()=>M(Math.min(fe.pages||1,O+1)),disabled:O===(fe.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})})]}),f&&n.jsx(G1e,{user:m,onClose:Vs,onSuccess:Bl}),x&&y&&n.jsx(Q1e,{user:y,onClose:de,onSuccess:we}),v&&N&&n.jsx(X1e,{user:N,onClose:se,onSuccess:le}),U&&ae&&n.jsx(Y1e,{user:ae,onClose:Zt}),R&&n.jsx(J1e,{onClose:dt,onSuccess:Cr}),(t||r)&&n.jsx(Z1e,{limit:15})]})},twe=()=>{var _,S,T;const{user:e}=tn(),t=qt(),[r,a]=w.useState("supervisor"),[s,i]=w.useState({}),[l,o]=w.useState(!1),c=(e==null?void 0:e.role)==="admin",{data:u,isLoading:d,refetch:f}=Be("permissionMatrix",Up.getPermissionMatrix,{onError:C=>{var E,A;ee.error(((A=(E=C.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to load permissions")}}),h=jt(({role:C,permissions:E})=>Up.updateRolePermissions(C,E),{onSuccess:()=>{ee.success("Permissions updated successfully!"),i({}),o(!1),t.invalidateQueries("permissionMatrix")},onError:C=>{var E,A;ee.error(((A=(E=C.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to update permissions")}}),m=((_=u==null?void 0:u.data)==null?void 0:_.permissions)||[],p=((S=u==null?void 0:u.data)==null?void 0:S.matrix)||{},x=m.reduce((C,E)=>(C[E.resource]||(C[E.resource]=[]),C[E.resource].push(E),C),{}),g=C=>{var E;return s[C]!==void 0?s[C]:((E=p[r])==null?void 0:E[C])||!1},y=C=>{const E=g(C);i({...s,[C]:!E}),o(!0)},b=()=>{const C=Object.entries(s).map(([E,A])=>({permissionId:m.find(V=>V.name===E).id,granted:A}));h.mutate({role:r,permissions:C})},v=()=>{i({}),o(!1)};if(!c)return n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[n.jsx(Es,{className:"h-24 w-24 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to manage permissions."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Required role: Admin"})]});if(d)return n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})});const j=[{value:"supervisor",label:"Supervisor",color:"blue"},{value:"technician",label:"Technician",color:"green"},{value:"customer_service",label:"Customer Service",color:"yellow"}],N={dashboard:"Dashboard",analytics:"Analytics",tickets:"Tickets",customers:"Customers",registrations:"Registrations",technicians:"Technicians",inventory:"Inventory",users:"Users",permissions:"Permissions",reports:"Reports"},k={view:"View",create:"Create",edit:"Edit",delete:"Delete",assign:"Assign",close:"Close",verify:"Verify",approve:"Approve",reject:"Reject",schedule:"Schedule",transactions:"Transactions",reset_password:"Reset Password",manage:"Manage",export:"Export"};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[n.jsx(On,{className:"h-8 w-8 mr-3 text-purple-600"}),"Permission Management"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Configure role-based access control for the system"})]}),n.jsxs("button",{onClick:()=>f(),disabled:d,className:"btn-secondary",children:[n.jsx(Hp,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(h0,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-semibold mb-1",children:"About Permissions:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Admin"})," role always has full access to all features"]}),n.jsx("li",{children:"Customize permissions for Supervisor, Technician, and Customer Service roles"}),n.jsx("li",{children:"Changes take effect immediately after saving"}),n.jsx("li",{children:"Be careful when revoking permissions - it may affect user workflows"})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Role to Manage"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:j.map(C=>n.jsx("button",{onClick:()=>{l?window.confirm("You have unsaved changes. Are you sure you want to switch roles?")&&(a(C.value),i({}),o(!1)):a(C.value)},className:`p-4 rounded-lg border-2 transition-all ${r===C.value?`border-${C.color}-500 bg-${C.color}-50`:"border-gray-200 hover:border-gray-300 bg-white"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:C.label}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Object.values(p[C.value]||{}).filter(Boolean).length," permissions"]})]}),r===C.value&&n.jsx(Ke,{className:`h-6 w-6 text-${C.color}-600`})]})},C.value))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Permissions for ",(T=j.find(C=>C.value===r))==null?void 0:T.label]}),l&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("span",{className:"text-sm text-orange-600 font-medium flex items-center",children:[n.jsx(Es,{className:"h-4 w-4 mr-1"}),"Unsaved changes"]}),n.jsx("button",{onClick:v,className:"btn-secondary text-sm",children:"Reset"}),n.jsx("button",{onClick:b,disabled:h.isLoading,className:"btn-primary text-sm",children:h.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):n.jsxs("span",{className:"flex items-center",children:[n.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]}),n.jsx("div",{className:"p-6 space-y-6",children:Object.entries(x).map(([C,E])=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(On,{className:"h-5 w-5 mr-2 text-blue-600"}),N[C]||C]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:E.map(A=>{const U=g(A.name),V=s[A.name]!==void 0;return n.jsxs("div",{className:`flex items-center justify-between p-3 bg-white rounded-lg border-2 transition-all ${V?"border-orange-300 bg-orange-50":U?"border-green-200 hover:border-green-300":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("div",{className:"flex items-center flex-1",children:n.jsxs("label",{className:"flex items-center cursor-pointer flex-1",children:[n.jsx("input",{type:"checkbox",checked:U,onChange:()=>y(A.name),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:k[A.action]||A.action}),n.jsx("p",{className:"text-xs text-gray-500",children:A.description})]})]})}),U?n.jsx(Ke,{className:"h-5 w-5 text-green-600 flex-shrink-0 ml-2"}):n.jsx(kt,{className:"h-5 w-5 text-gray-300 flex-shrink-0 ml-2"})]},A.id)})})]},C))})]}),n.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 border border-purple-200",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(On,{className:"h-6 w-6 text-purple-600 mt-1 mr-3 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Permission Summary"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[j.map(C=>{const E=p[C.value]||{},A=Object.values(E).filter(Boolean).length,U=m.length;return n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:C.label}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[A,n.jsxs("span",{className:"text-sm text-gray-500",children:["/",U]})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(A/U*100),"% access"]})]},C.value)}),n.jsxs("div",{className:"bg-purple-100 rounded-lg p-4 border border-purple-300",children:[n.jsx("p",{className:"text-xs text-purple-700 font-medium",children:"Admin"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:[m.length,n.jsxs("span",{className:"text-sm text-purple-600",children:["/",m.length]})]}),n.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"100% access (always)"})]})]})]})]})}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Es,{className:"h-5 w-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-yellow-800",children:[n.jsx("p",{className:"font-semibold mb-1",children:"Important Notes:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Admin role cannot be modified and always has full access"}),n.jsx("li",{children:"Removing critical permissions may prevent users from doing their jobs"}),n.jsx("li",{children:"Test permission changes with a test account before applying to all users"}),n.jsx("li",{children:"Permission changes take effect immediately - active users may need to refresh"})]})]})]})})]})},rwe=()=>{var E,A;const{user:e,setUser:t}=tn(),r=qt(),[a,s]=w.useState("profile"),[i,l]=w.useState(!1),[o,c]=w.useState(!1),[u,d]=w.useState(!1),{data:f,isLoading:h}=Be("profile",Of.getProfile,{onError:U=>{var V,ae;ee.error(((ae=(V=U.response)==null?void 0:V.data)==null?void 0:ae.message)||"Failed to load profile")}}),{register:m,handleSubmit:p,formState:{errors:x},reset:g}=es({defaultValues:{full_name:"",email:"",phone:""}}),{register:y,handleSubmit:b,formState:{errors:v},reset:j,watch:N}=es({defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}});w.useEffect(()=>{var U;if((U=f==null?void 0:f.data)!=null&&U.user){const V=f.data.user;g({full_name:V.full_name||"",email:V.email||"",phone:V.phone||""})}},[f,g]);const k=jt(U=>Of.updateProfile(U),{onSuccess:U=>{var V;ee.success("Profile updated successfully!"),r.invalidateQueries("profile"),(V=U.data)!=null&&V.user&&t({...e,...U.data.user})},onError:U=>{var V,ae;ee.error(((ae=(V=U.response)==null?void 0:V.data)==null?void 0:ae.message)||"Failed to update profile")}}),_=jt(U=>Of.changePassword(U),{onSuccess:()=>{ee.success("Password changed successfully!"),j(),l(!1),c(!1),d(!1)},onError:U=>{var V,ae;ee.error(((ae=(V=U.response)==null?void 0:V.data)==null?void 0:ae.message)||"Failed to change password")}}),S=U=>{k.mutate(U)},T=U=>{if(U.newPassword!==U.confirmPassword){ee.error("New password and confirmation do not match");return}_.mutate({currentPassword:U.currentPassword,newPassword:U.newPassword})};if(h)return n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})});const C=(E=f==null?void 0:f.data)==null?void 0:E.user;return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),n.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]})}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-100",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:(A=C==null?void 0:C.full_name)==null?void 0:A.charAt(0).toUpperCase()}),n.jsxs("div",{className:"ml-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:C==null?void 0:C.full_name}),n.jsxs("p",{className:"text-gray-600",children:["@",C==null?void 0:C.username]}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full border ${(C==null?void 0:C.role)==="admin"?"bg-purple-100 text-purple-800 border-purple-200":(C==null?void 0:C.role)==="supervisor"?"bg-blue-100 text-blue-800 border-blue-200":(C==null?void 0:C.role)==="technician"?"bg-green-100 text-green-800 border-green-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}`,children:(C==null?void 0:C.role)==="admin"?"Admin":(C==null?void 0:C.role)==="supervisor"?"Supervisor":(C==null?void 0:C.role)==="technician"?"Technician":"Customer Service"})})]})]})}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsx("button",{onClick:()=>s("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="profile"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ft,{className:"h-5 w-5 mr-2"}),"Edit Profile"]})}),n.jsx("button",{onClick:()=>s("password"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="password"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(XS,{className:"h-5 w-5 mr-2"}),"Change Password"]})})]})}),n.jsxs("div",{className:"max-w-3xl",children:[a==="profile"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Ft,{className:"h-5 w-5 mr-2 text-blue-600"}),"Personal Information"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your personal details and contact information"})]}),n.jsxs("form",{onSubmit:p(S),className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ft,{className:"h-4 w-4 mr-2 text-gray-400"}),"Full Name ",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),n.jsx("input",{type:"text",className:"input-field",placeholder:"Enter your full name",...m("full_name",{required:"Full name is required"})}),x.full_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.full_name.message})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(na,{className:"h-4 w-4 mr-2 text-gray-400"}),"Email Address ",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),n.jsx("input",{type:"email",className:"input-field",placeholder:"email@example.com",...m("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email format"}})}),x.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.email.message})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Za,{className:"h-4 w-4 mr-2 text-gray-400"}),"Phone Number"]})}),n.jsx("input",{type:"text",className:"input-field",placeholder:"08123456789",...m("phone")})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-5 border border-blue-200",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(On,{className:"h-4 w-4 mr-2 text-blue-600"}),"Username (Cannot be changed)"]})}),n.jsx("input",{type:"text",className:"input-field bg-gray-100 cursor-not-allowed",value:(C==null?void 0:C.username)||"",disabled:!0})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:n.jsx("button",{type:"submit",disabled:k.isLoading,className:"btn-primary",children:k.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):n.jsxs("span",{className:"flex items-center",children:[n.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})})]})]}),a==="password"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(h0,{className:"h-5 w-5 mr-2 text-blue-600"}),"Change Password"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your password to keep your account secure"})]}),n.jsxs("form",{onSubmit:b(T),className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:i?"text":"password",className:"input-field pr-10",placeholder:"Enter current password",...y("currentPassword",{required:"Current password is required"})}),n.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?n.jsx(tp,{className:"h-5 w-5"}):n.jsx(yc,{className:"h-5 w-5"})})]}),v.currentPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.currentPassword.message})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["New Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:o?"text":"password",className:"input-field pr-10",placeholder:"Enter new password (min 6 characters)",...y("newPassword",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),n.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?n.jsx(tp,{className:"h-5 w-5"}):n.jsx(yc,{className:"h-5 w-5"})})]}),v.newPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.newPassword.message})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm New Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:u?"text":"password",className:"input-field pr-10",placeholder:"Re-enter new password",...y("confirmPassword",{required:"Please confirm your password",validate:U=>U===N("newPassword")||"Passwords do not match"})}),n.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?n.jsx(tp,{className:"h-5 w-5"}):n.jsx(yc,{className:"h-5 w-5"})})]}),v.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.confirmPassword.message})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(h0,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-semibold mb-1",children:"Password Security Tips:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Use at least 6 characters"}),n.jsx("li",{children:"Include uppercase and lowercase letters"}),n.jsx("li",{children:"Add numbers and special characters"}),n.jsx("li",{children:"Don't reuse old passwords"})]})]})]})}),n.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:n.jsx("button",{type:"submit",disabled:_.isLoading,className:"btn-primary bg-green-600 hover:bg-green-700",children:_.isLoading?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing Password..."]}):n.jsxs("span",{className:"flex items-center",children:[n.jsx(XS,{className:"h-4 w-4 mr-2"}),"Change Password"]})})})]})]})]})]})},Tr={requestOTP:async(e,t)=>{try{return await me.post("/registrations/public/request-otp",{phone:e,full_name:t})}catch(r){throw r}},verifyOTP:async(e,t)=>{try{return await me.post("/registrations/public/verify-otp",{phone:e,otp:t})}catch(r){throw r}},submitRegistration:async e=>{try{return await me.post("/registrations/public",e)}catch(t){throw t}},trackStatus:async e=>{try{return await me.get(`/registrations/public/status/${e}`)}catch(t){throw t}},getAll:async(e={})=>{try{const t=new URLSearchParams(e).toString();return await me.get(`/registrations?${t}`)}catch(t){throw t}},getStats:async()=>{try{return await me.get("/registrations/stats")}catch(e){throw e}},getById:async e=>{try{return await me.get(`/registrations/${e}`)}catch(t){throw t}},updateStatus:async(e,t)=>{try{return await me.put(`/registrations/${e}/status`,t)}catch(r){throw r}},createCustomer:async e=>{try{return await me.post(`/registrations/${e}/create-customer`)}catch(t){throw t}}},awe=()=>{const e=Vi(),[t,r]=w.useState(1),[a,s]=w.useState(!1),[i,l]=w.useState(!1),[o,c]=w.useState(""),[u,d]=w.useState(!1),[f,h]=w.useState(0),[m,p]=w.useState(null),[x,g]=w.useState(""),[y,b]=w.useState(!1),v=w.useRef(null),{register:j,handleSubmit:N,formState:{errors:k},watch:_,setValue:S,trigger:T}=es({mode:"onChange",defaultValues:{service_type:"broadband",preferred_time_slot:"morning"}}),C=_("phone"),E=_("full_name"),A=_("id_card_photo"),{data:U,isLoading:V}=Be("packages-broadband",()=>Ps.getAll(),{select:O=>(Array.isArray(O==null?void 0:O.data)?O.data:[]).filter(I=>I.type==="broadband")});w.useEffect(()=>{if(f>0){const O=setTimeout(()=>h(f-1),1e3);return()=>clearTimeout(O)}},[f]),w.useEffect(()=>{(async()=>{try{const M=await me.get("/auth/recaptcha-config");M.data&&(b(M.data.enabled),g(M.data.siteKey))}catch(M){console.error("Failed to fetch reCAPTCHA config:",M),b(!1)}})()},[]);const ae=O=>{p(O)},q=async()=>{var M,I,ne;if(!await T(["phone","full_name"])){ee.error("Mohon lengkapi nama dan nomor WhatsApp");return}try{const oe=await Tr.requestOTP(C,E);oe.success&&(l(!0),h(60),ee.success(oe.message||"Kode OTP telah dikirim ke WhatsApp Anda"),(M=oe.data)!=null&&M.otp&&(console.log("Dev mode OTP:",oe.data.otp),ee.info(`Dev mode - OTP: ${oe.data.otp}`,{duration:1e4})))}catch(oe){ee.error(((ne=(I=oe.response)==null?void 0:I.data)==null?void 0:ne.message)||"Gagal mengirim OTP")}},R=async()=>{var O,M,I,ne;if(o.length!==6){ee.error("Kode OTP harus 6 digit");return}try{(await Tr.verifyOTP(C,o)).success&&(s(!0),S("whatsapp_verified","true"),ee.success("WhatsApp berhasil diverifikasi!"))}catch(oe){const J=((M=(O=oe.response)==null?void 0:O.data)==null?void 0:M.message)||"Kode OTP salah",Y=(ne=(I=oe.response)==null?void 0:I.data)==null?void 0:ne.attemptsLeft;Y!==void 0?ee.error(`${J}. Sisa percobaan: ${Y}`):ee.error(J)}},P=O=>new Promise((M,I)=>{const ne=new FileReader;ne.readAsDataURL(O),ne.onload=()=>M(ne.result),ne.onerror=oe=>I(oe)}),B=async O=>{var M,I,ne,oe,J;if(!a){ee.error("Mohon verifikasi nomor WhatsApp terlebih dahulu");return}if(y&&!m){ee.error("Mohon selesaikan verifikasi reCAPTCHA"),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});return}d(!0);try{let Y=null;(M=O.id_card_photo)!=null&&M[0]&&(Y=await P(O.id_card_photo[0]));const ie={...O,id_card_photo:Y,whatsapp_verified:"true",recaptchaToken:m,id_card_number:O.id_card_number||null,rt:O.rt||null,rw:O.rw||null,kelurahan:O.kelurahan||null,kecamatan:O.kecamatan||null,postal_code:O.postal_code||null,address_notes:O.address_notes||null,preferred_installation_date:O.preferred_installation_date||null,notes:O.notes||null,referral_code:O.referral_code||null,package_id:parseInt(O.package_id)};console.log("🚀 SUBMITTING REGISTRATION - FULL DATA:"),console.log(JSON.stringify(ie,null,2)),console.log("📊 Data Keys:",Object.keys(ie)),console.log("📊 package_id type:",typeof ie.package_id,"=",ie.package_id);const fe=await Tr.submitRegistration(ie);fe.success&&(ee.success("Pendaftaran berhasil!"),e(`/track/${fe.data.registration_number}`,{state:{fromRegistration:!0}}))}catch(Y){console.error("❌ REGISTRATION SUBMIT ERROR:",{message:Y.message,response:(I=Y.response)==null?void 0:I.data,status:(ne=Y.response)==null?void 0:ne.status}),v.current&&(v.current.reset(),p(null)),ee.error(((J=(oe=Y.response)==null?void 0:oe.data)==null?void 0:J.message)||"Gagal submit pendaftaran")}finally{d(!1)}},te=async O=>{O&&(O.preventDefault(),O.stopPropagation());let M=[];if(t===1){if(M=["full_name","email","phone"],!await T(M))return;if(!a){ee.error("Mohon verifikasi nomor WhatsApp terlebih dahulu!",{icon:"⚠️",duration:4e3});return}}else if(t===2){if(M=["address","city"],!await T(M))return}else if(t===3&&(M=["package_id"],!await T(M)))return;r(t+1),window.scrollTo({top:0,behavior:"smooth"})},H=()=>{r(t-1),window.scrollTo({top:0,behavior:"smooth"})},F=[{number:1,title:"Data Pribadi",icon:Ft},{number:2,title:"Alamat",icon:Aa},{number:3,title:"Pilih Paket",icon:Jt},{number:4,title:"Konfirmasi",icon:Zm}];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-10 w-auto"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AGLIS"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Daftar Sekarang"})]})]}),n.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Sudah Terdaftar? Login"})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"relative",children:n.jsx("div",{className:"flex items-center justify-between mb-8",children:F.map((O,M)=>{const I=O.icon,ne=t===O.number,oe=t>O.number;return n.jsxs(vt.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`
                      w-12 h-12 rounded-full flex items-center justify-center font-semibold transition-all
                      ${oe?"bg-green-500 text-white":ne?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-200 text-gray-400"}
                    `,children:oe?n.jsx(mn,{className:"h-6 w-6"}):n.jsx(I,{className:"h-6 w-6"})}),n.jsx("div",{className:"mt-2 text-center",children:n.jsx("p",{className:`text-sm font-medium ${ne?"text-blue-600":"text-gray-500"}`,children:O.title})})]}),M<F.length-1&&n.jsx("div",{className:`
                      h-1 flex-1 mx-2 rounded transition-all
                      ${t>O.number?"bg-green-500":"bg-gray-200"}
                    `})]},O.number)})})}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:n.jsxs("form",{onSubmit:N(B),children:[t===1&&n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Data Pribadi & Verifikasi WhatsApp"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Lengkapi data pribadi dan verifikasi nomor WhatsApp Anda"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap *"}),n.jsx("input",{type:"text",className:`form-input ${k.full_name?"border-red-500":""}`,placeholder:"Masukkan nama lengkap sesuai KTP",...j("full_name",{required:"Nama lengkap wajib diisi",minLength:{value:3,message:"Nama minimal 3 karakter"}})}),k.full_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.full_name.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",className:`form-input ${k.email?"border-red-500":""}`,placeholder:"contoh@email.com",...j("email",{required:"Email wajib diisi",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Format email tidak valid"}})}),k.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.email.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nomor WhatsApp *",a&&n.jsxs("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:[n.jsx(On,{className:"inline h-4 w-4 mr-1"}),"Terverifikasi"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"tel",className:`form-input flex-1 ${k.phone?"border-red-500":a?"border-green-500 bg-green-50":""}`,placeholder:"08123456789",disabled:a,...j("phone",{required:"Nomor WhatsApp wajib diisi",pattern:{value:/^(\+62|62|0)[0-9]{9,12}$/,message:"Format nomor tidak valid (contoh: 081234567890)"}})}),!a&&n.jsx("button",{type:"button",onClick:q,disabled:f>0||!C,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap",children:f>0?`${f}s`:"Kirim OTP"})]}),k.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.phone.message}),n.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[n.jsx(Za,{className:"inline h-3 w-3 mr-1"}),"Pastikan nomor WhatsApp aktif untuk verifikasi"]})]}),i&&!a&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(oc,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Masukkan kode OTP yang dikirim ke WhatsApp Anda"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value.replace(/\D/g,"").slice(0,6)),className:"form-input flex-1 text-center text-2xl font-bold tracking-widest",placeholder:"000000",maxLength:6}),n.jsx("button",{type:"button",onClick:R,disabled:o.length!==6,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap",children:"Verifikasi"})]}),f===0&&n.jsx("button",{type:"button",onClick:q,className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Kirim ulang OTP"})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor KTP (Opsional)"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"3201012345678901",...j("id_card_number",{pattern:{value:/^[0-9]{16}$/,message:"Nomor KTP harus 16 digit"}})}),k.id_card_number&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.id_card_number.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto KTP (Opsional)"}),n.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:n.jsxs("div",{className:"space-y-1 text-center",children:[n.jsx(sl,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("div",{className:"flex text-sm text-gray-600",children:n.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[n.jsx("span",{children:"Upload foto KTP"}),n.jsx("input",{type:"file",accept:"image/*",className:"sr-only",...j("id_card_photo")})]})}),n.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"}),(A==null?void 0:A[0])&&n.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["✓ ",A[0].name]})]})})]})]})]}),t===2&&n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alamat Lengkap"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Pastikan alamat yang Anda masukkan adalah lokasi instalasi"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alamat Lengkap *"}),n.jsx("textarea",{rows:3,className:`form-input ${k.address?"border-red-500":""}`,placeholder:"Jl. Contoh No. 123",...j("address",{required:"Alamat wajib diisi",minLength:{value:10,message:"Alamat terlalu pendek"}})}),k.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.address.message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RT"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"001",...j("rt")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RW"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"005",...j("rw")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kelurahan"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"Nama Kelurahan",...j("kelurahan")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kecamatan"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"Nama Kecamatan",...j("kecamatan")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kota *"}),n.jsx("input",{type:"text",className:`form-input ${k.city?"border-red-500":""}`,placeholder:"Jakarta",...j("city",{required:"Kota wajib diisi"})}),k.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.city.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kode Pos"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"12345",...j("postal_code",{pattern:{value:/^[0-9]{5}$/,message:"Kode pos harus 5 digit"}})}),k.postal_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.postal_code.message})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patokan/Catatan Alamat"}),n.jsx("textarea",{rows:2,className:"form-input",placeholder:"Dekat minimarket, rumah cat biru, dll",...j("address_notes")})]})]})]}),t===3&&n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pilih Paket Internet"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Pilih paket yang sesuai dengan kebutuhan Anda"})]}),n.jsxs("div",{className:"space-y-4",children:[V?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading packages..."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:U==null?void 0:U.map(O=>{var M;return n.jsxs("label",{className:`
                            relative flex cursor-pointer rounded-lg border-2 p-6 transition-all
                            ${_("package_id")===O.id.toString()?"border-blue-600 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-blue-300 bg-white"}
                          `,children:[n.jsx("input",{type:"radio",value:O.id,className:"sr-only",...j("package_id",{required:"Pilih salah satu paket"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:O.name||O.package_name}),_("package_id")===O.id.toString()&&n.jsx(Zm,{className:"h-6 w-6 text-blue-600"})]}),n.jsxs("div",{className:"flex items-baseline mb-3",children:[n.jsx("span",{className:"text-3xl font-bold text-blue-600",children:O.speed_mbps||O.speed}),n.jsx("span",{className:"text-gray-600 ml-2",children:"Mbps"})]}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["Rp ",(M=O.price||O.monthly_price)==null?void 0:M.toLocaleString("id-ID")]}),n.jsx("span",{className:"text-gray-600 ml-2",children:"/bulan"})]}),O.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-3",children:O.description})]})]},O.id)})}),k.package_id&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:k.package_id.message}),n.jsxs("div",{className:"mt-6 pt-6 border-t",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Instalasi yang Diinginkan (Opsional)"}),n.jsx("input",{type:"date",className:"form-input",min:new Date().toISOString().split("T")[0],...j("preferred_installation_date")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waktu Instalasi yang Diinginkan"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"morning",label:"Pagi (08:00-12:00)"},{value:"afternoon",label:"Siang (12:00-16:00)"},{value:"evening",label:"Sore (16:00-18:00)"}].map(O=>n.jsxs("label",{className:`
                            relative flex cursor-pointer rounded-lg border-2 p-4 text-center transition-all
                            ${_("preferred_time_slot")===O.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                          `,children:[n.jsx("input",{type:"radio",value:O.value,className:"sr-only",...j("preferred_time_slot")}),n.jsx("span",{className:"text-sm font-medium text-gray-900 w-full",children:O.label})]},O.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan Tambahan (Opsional)"}),n.jsx("textarea",{rows:3,className:"form-input",placeholder:"Permintaan khusus, pertanyaan, dll",...j("notes")})]})]})]}),t===4&&n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Konfirmasi Data"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Periksa kembali data Anda sebelum submit"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Pribadi"}),n.jsxs("dl",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("dt",{className:"text-gray-600",children:"Nama:"}),n.jsx("dd",{className:"font-medium text-gray-900",children:_("full_name")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("dt",{className:"text-gray-600",children:"Email:"}),n.jsx("dd",{className:"font-medium text-gray-900",children:_("email")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("dt",{className:"text-gray-600",children:"WhatsApp:"}),n.jsxs("dd",{className:"font-medium text-green-600 flex items-center",children:[_("phone"),n.jsx(On,{className:"inline h-4 w-4 ml-2"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alamat"}),n.jsx("p",{className:"text-gray-900",children:_("address")}),(_("rt")||_("rw"))&&n.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["RT ",_("rt")||"-"," / RW ",_("rw")||"-"]}),n.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[_("kelurahan"),", ",_("kecamatan"),", ",_("city")," ",_("postal_code")]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border-2 border-blue-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Paket yang Dipilih"}),(()=>{var M;const O=U==null?void 0:U.find(I=>I.id===parseInt(_("package_id")));return O?n.jsxs("div",{children:[n.jsx("p",{className:"text-xl font-bold text-gray-900",children:O.name||O.package_name}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:[O.speed_mbps||O.speed," Mbps"]}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900 mt-2",children:["Rp ",(M=O.price||O.monthly_price)==null?void 0:M.toLocaleString("id-ID"),"/bulan"]})]}):n.jsx("p",{className:"text-gray-500",children:"Belum memilih paket"})})()]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx($t,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"Penting!"}),n.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:["• Tim kami akan menghubungi Anda untuk verifikasi data",n.jsx("br",{}),"• Survey lokasi akan dilakukan sebelum instalasi",n.jsx("br",{}),"• Instalasi akan dijadwalkan setelah survey selesai",n.jsx("br",{}),"• Pastikan nomor WhatsApp aktif untuk komunikasi"]})]})]})}),y&&x&&n.jsx("div",{className:"flex justify-center",children:n.jsx(NO,{ref:v,sitekey:x,onChange:ae,onExpired:()=>p(null),onErrored:()=>{p(null),ee.error("reCAPTCHA error. Please refresh the page.")},theme:"light"})}),y&&!m&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(On,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-blue-800",children:"Mohon selesaikan verifikasi reCAPTCHA di atas sebelum submit"})})]})})]})]}),n.jsxs("div",{className:"bg-gray-50 px-8 py-6 border-t flex justify-between",children:[t>1&&n.jsxs("button",{type:"button",onClick:H,className:"inline-flex items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[n.jsx(Q5,{className:"h-5 w-5 mr-2"}),"Kembali"]}),n.jsx("div",{className:"ml-auto",children:t<4?n.jsxs("button",{type:"button",onClick:te,className:"inline-flex items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:["Selanjutnya",n.jsx(NW,{className:"h-5 w-5 ml-2"})]}):n.jsx("button",{type:"submit",disabled:u||y&&!m,className:"inline-flex items-center px-8 py-3 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Memproses..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Zm,{className:"h-5 w-5 mr-2"}),"Daftar Sekarang"]})})})]})]})}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-gray-600",children:["Butuh bantuan? Hubungi kami di"," ",n.jsxs("a",{href:"https://wa.me/6281316003245",className:"text-blue-600 hover:text-blue-700 font-medium inline-flex items-center gap-1",children:[n.jsx(Za,{className:"h-4 w-4"}),"WhatsApp: 0813-1600-3245"]})]})})]})]})},jA=()=>{const{registrationNumber:e}=K0(),[t,r]=w.useState(e||""),[a,s]=w.useState(e||""),{data:i,isLoading:l,error:o,refetch:c}=Be(["track-registration",a],()=>Tr.trackStatus(a),{enabled:!!a,retry:!1,select:x=>x.data}),u=x=>{x.preventDefault(),t.trim()&&(s(t.trim()),c())};w.useEffect(()=>{if(!a||!i)return;Ge.connect();const x=g=>{console.log("📡 [TrackingPage] Registration update received:",g),(g.registration_number===a||g.registration_number===i.registration_number||g.email===a||g.email===i.email)&&(console.log("✅ [TrackingPage] Update is for current registration, refetching..."),c())};return Ge.on("registration_updated",x),Ge.on("registration_status_changed",x),console.log("🔌 [TrackingPage] Socket listeners setup for:",a),()=>{console.log("🔌 [TrackingPage] Removing socket listeners"),Ge.off("registration_updated",x),Ge.off("registration_status_changed",x)}},[a,i,c]);const d=x=>{const g={pending_verification:{label:"Menunggu Verifikasi",icon:Kt,color:"yellow",description:"Data Anda sedang dalam proses verifikasi oleh tim kami"},verified:{label:"Terverifikasi",icon:Vn,color:"blue",description:"Data Anda telah diverifikasi. Menunggu jadwal survey"},survey_scheduled:{label:"Survey Dijadwalkan",icon:br,color:"indigo",description:"Survey lokasi telah dijadwalkan"},survey_completed:{label:"Survey Selesai",icon:ep,color:"purple",description:"Survey lokasi telah selesai. Menunggu persetujuan"},approved:{label:"Disetujui",icon:Ke,color:"green",description:"Pendaftaran Anda telah disetujui! Instalasi akan segera dijadwalkan"},customer_created:{label:"Customer Telah Dibuat",icon:Ke,color:"green",description:"Selamat! Anda telah terdaftar sebagai customer. Instalasi akan segera dijadwalkan"},rejected:{label:"Ditolak",icon:kt,color:"red",description:"Pendaftaran Anda ditolak"},cancelled:{label:"Dibatalkan",icon:kt,color:"gray",description:"Pendaftaran dibatalkan"}};return g[x]||g.pending_verification},f=(x,g)=>{const y=["pending_verification","verified","survey_scheduled","survey_completed","approved","customer_created"],b=y.indexOf(x),v=y.indexOf(g);return x==="rejected"||x==="cancelled"?v<=b?"completed":"pending":v<b?"completed":v===b?"current":"pending"},h=x=>({pending_verification:{title:"Langkah Selanjutnya",items:["Tim kami akan melakukan verifikasi data (1-2 hari kerja)","Pastikan nomor WhatsApp Anda aktif","Anda akan dihubungi untuk jadwal survey lokasi"],color:"blue"},verified:{title:"Menunggu Jadwal Survey",items:["Tim akan menghubungi Anda untuk jadwal survey","Pastikan lokasi mudah diakses","Siapkan denah lokasi jika diperlukan"],color:"blue"},survey_scheduled:{title:"Persiapan Survey",items:["Pastikan ada yang bisa menerima tim survey","Siapkan akses ke lokasi instalasi","Berikan informasi teknis lokasi jika ada"],color:"indigo"},survey_completed:{title:"Menunggu Persetujuan",items:["Survey lokasi telah selesai dilakukan","Tim sedang review hasil survey","Anda akan dihubungi untuk hasil persetujuan"],color:"purple"},approved:{title:"Selamat! Pendaftaran Disetujui",items:["Tim kami akan segera menghubungi untuk jadwal instalasi","Pastikan nomor WhatsApp Anda aktif","Proses pembuatan account customer sedang berlangsung"],color:"green"},customer_created:{title:"Menunggu Jadwal Instalasi",items:["Selamat! Anda sudah terdaftar sebagai customer","Tim instalasi akan menghubungi untuk jadwal","Pastikan nomor WhatsApp aktif dan lokasi siap diakses"],color:"green"}})[x],m=i?d(i.status):null,p=(m==null?void 0:m.icon)||Kt;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-12 w-auto"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AGLIS"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Lacak Status Pendaftaran"})]})]})})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cek Status Pendaftaran"}),n.jsxs("form",{onSubmit:u,className:"flex gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",value:t,onChange:x=>r(x.target.value),placeholder:"Masukkan nomor registrasi atau email",className:"form-input w-full"})}),n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[n.jsx(Fa,{className:"h-5 w-5 mr-2"}),"Cari"]})]})]}),l&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Mencari data..."})]}),o&&a&&!l&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx(kt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Data Tidak Ditemukan"}),n.jsx("p",{className:"text-gray-600",children:"Pendaftaran dengan nomor/email tersebut tidak ditemukan."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Pastikan Anda memasukkan nomor registrasi atau email yang benar."})]}),i&&!l&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:`
                px-8 py-6 border-b-4
                ${m.color==="green"?"bg-green-50 border-green-500":m.color==="yellow"?"bg-yellow-50 border-yellow-500":m.color==="blue"?"bg-blue-50 border-blue-500":m.color==="red"?"bg-red-50 border-red-500":"bg-gray-50 border-gray-500"}
              `,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`
                      p-3 rounded-full
                      ${m.color==="green"?"bg-green-500":m.color==="yellow"?"bg-yellow-500":m.color==="blue"?"bg-blue-500":m.color==="red"?"bg-red-500":"bg-gray-500"}
                    `,children:n.jsx(p,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Status Pendaftaran"}),n.jsx("p",{className:`
                        text-2xl font-bold
                        ${m.color==="green"?"text-green-700":m.color==="yellow"?"text-yellow-700":m.color==="blue"?"text-blue-700":m.color==="red"?"text-red-700":"text-gray-700"}
                      `,children:m.label}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Nomor Registrasi"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:i.registration_number})]})]})}),n.jsxs("div",{className:"p-8 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Ft,{className:"h-5 w-5 mr-2 text-blue-600"}),"Informasi Pribadi"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ft,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Nama"}),n.jsx("p",{className:"font-medium text-gray-900",children:i.full_name})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(na,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-900",children:i.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Za,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"WhatsApp"}),n.jsxs("p",{className:"font-medium text-green-600 flex items-center",children:[i.phone,n.jsx(On,{className:"h-4 w-4 ml-1"})]})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Jt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Paket yang Dipilih"]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[n.jsx("p",{className:"text-xl font-bold text-gray-900",children:i.package_name}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:[new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i.monthly_price),"/bulan"]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Aa,{className:"h-5 w-5 mr-2 text-blue-600"}),"Alamat Instalasi"]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("p",{className:"text-gray-900",children:i.address||"Belum tersedia"}),i.city&&n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:i.city})]})]}),i.status==="survey_scheduled"&&i.survey_scheduled_date&&n.jsx("div",{className:"bg-indigo-50 border-l-4 border-indigo-500 p-6 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(br,{className:"h-6 w-6 text-indigo-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-indigo-900 mb-2",children:"📅 Survey Telah Dijadwalkan"}),n.jsx("p",{className:"text-indigo-800 text-lg font-semibold",children:new Date(i.survey_scheduled_date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),n.jsx("p",{className:"text-indigo-700 text-sm mt-2",children:"Mohon siapkan akses lokasi untuk tim survey kami"})]})]})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(br,{className:"h-5 w-5 mr-2 text-blue-600"}),"Timeline"]}),n.jsx("div",{className:"space-y-4",children:[{status:"pending_verification",label:"Pendaftaran Diterima",date:i.created_at},{status:"verified",label:"Data Diverifikasi",date:i.verified_at},{status:"survey_scheduled",label:"Survey Dijadwalkan",date:i.survey_scheduled_date},{status:"survey_completed",label:"Survey Selesai",date:null},{status:"approved",label:"Disetujui",date:i.approved_at},{status:"customer_created",label:"Customer Dibuat",date:null}].map((x,g)=>{const y=f(i.status,x.status);return n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:`
                            w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0
                            ${y==="completed"?"bg-green-500 text-white":y==="current"?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-200 text-gray-400"}
                          `,children:y==="completed"?n.jsx(Ke,{className:"h-6 w-6"}):n.jsx("div",{className:"w-3 h-3 bg-current rounded-full"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`font-medium ${y==="current"?"text-blue-600":"text-gray-900"}`,children:x.label}),x.date&&n.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.date).toLocaleString("id-ID")})]})]},g)})})]}),i.status==="rejected"&&i.rejection_reason&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx($t,{className:"h-6 w-6 text-red-600 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Alasan Penolakan"}),n.jsx("p",{className:"text-red-800",children:i.rejection_reason})]})]})}),h(i.status)&&n.jsxs("div",{className:`
                    border rounded-lg p-6
                    ${h(i.status).color==="green"?"bg-green-50 border-green-200":h(i.status).color==="blue"?"bg-blue-50 border-blue-200":h(i.status).color==="indigo"?"bg-indigo-50 border-indigo-200":h(i.status).color==="purple"?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}
                  `,children:[n.jsxs("h4",{className:`
                      font-semibold mb-3 flex items-center
                      ${h(i.status).color==="green"?"text-green-900":h(i.status).color==="blue"?"text-blue-900":h(i.status).color==="indigo"?"text-indigo-900":h(i.status).color==="purple"?"text-purple-900":"text-gray-900"}
                    `,children:[n.jsx(Ke,{className:"h-5 w-5 mr-2"}),h(i.status).title]}),n.jsx("ul",{className:`
                      space-y-2
                      ${h(i.status).color==="green"?"text-green-800":h(i.status).color==="blue"?"text-blue-800":h(i.status).color==="indigo"?"text-indigo-800":h(i.status).color==="purple"?"text-purple-800":"text-gray-800"}
                    `,children:h(i.status).items.map((x,g)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx(Ke,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:x})]},g))})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Butuh Bantuan?"}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("a",{href:"https://wa.me/6281316003245",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-6 border border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors w-full max-w-sm",children:[n.jsx(Za,{className:"h-6 w-6 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Chat dengan kami"})]})]})})]})]}),!a&&!l&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[n.jsx(Fa,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lacak Pendaftaran Anda"}),n.jsx("p",{className:"text-gray-600",children:"Masukkan nomor registrasi atau email untuk melihat status pendaftaran"})]})]})]})},nwe=()=>{var Ra,Rr,os,L,G,z,W,Q,X,pe;const e=Vi(),t=qt(),{user:r,isAdmin:a,isSupervisor:s,isCustomerService:i}=tn(),[l,o]=w.useState(1),[c,u]=w.useState(10),[d,f]=w.useState(null),[h,m]=w.useState(!1),[p,x]=w.useState(null),[g,y]=w.useState(""),[b,v]=w.useState(""),[j,N]=w.useState(""),[k,_]=w.useState("created_at"),[S,T]=w.useState("DESC"),[C,E]=w.useState(!1),[A,U]=w.useState({search:"",status:"",dateFilter:""}),[V,ae]=w.useState([]),[q,R]=w.useState(!1),[P,B]=w.useState(null),[te,H]=w.useState(!1),[F,O]=w.useState(null),[M,I]=w.useState(!1),[ne,oe]=w.useState(!1),[J,Y]=w.useState(!1),[ie,fe]=w.useState(!1),[D,ye]=w.useState(null),[Ce,Pe]=w.useState(""),[Me,ke]=w.useState(new Date().toISOString().split("T")[0]),at=K=>K?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(K):"-",{data:$e,isLoading:Z}=Be(["registrations",A,l,c,k,S],()=>Tr.getAll({...A,page:l,limit:c,sort_by:k,sort_order:S}),{keepPreviousData:!0}),{data:ce}=Be("registration-stats",()=>Tr.getStats(),{select:K=>K.data}),de=jt(({id:K,data:re})=>Tr.updateStatus(K,re),{onSuccess:K=>{var re;t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),x(null),y(""),v(""),N(""),(re=K==null?void 0:K.data)!=null&&re.registration&&f(K.data.registration),ee.success("Status berhasil diupdate")},onError:K=>{var re,ue;ee.error(((ue=(re=K.response)==null?void 0:re.data)==null?void 0:ue.message)||"Gagal update status")}}),we=jt(K=>Tr.createCustomer(K),{onSuccess:K=>{t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),ee.success("Customer dan ticket instalasi berhasil dibuat!"),m(!1),f(null)},onError:K=>{var re,ue;ee.error(((ue=(re=K.response)==null?void 0:re.data)==null?void 0:ue.message)||"Gagal membuat customer")}}),_e=()=>{if(!d)return;let K={status:p,notes:g};if(p==="rejected"){if(!b.trim()){ee.error("Alasan penolakan wajib diisi");return}K.rejection_reason=b}if(p==="survey_scheduled"){if(!j){ee.error("Tanggal survey wajib diisi");return}K.survey_scheduled_date=j}if(p==="survey_completed"){if(!g.trim()){ee.error("Hasil survey wajib diisi");return}K.notes=g}de.mutate({id:d.id,data:K})},se=K=>{O(K),H(!0)},le=()=>{F&&(we.mutate(F.id),H(!1),O(null))},Fe=K=>{k===K?T(S==="ASC"?"DESC":"ASC"):(_(K),T("DESC")),o(1)},ze=K=>k!==K?n.jsx($s,{className:"h-4 w-4 text-gray-400"}):S==="ASC"?n.jsx(Bs,{className:"h-4 w-4 text-blue-600"}):n.jsx(Ls,{className:"h-4 w-4 text-blue-600"}),Xe=K=>{const re={pending_verification:{label:"Pending",color:"bg-yellow-100 text-yellow-800"},verified:{label:"Verified",color:"bg-blue-100 text-blue-800"},survey_scheduled:{label:"Survey Scheduled",color:"bg-indigo-100 text-indigo-800"},survey_completed:{label:"Survey Done",color:"bg-purple-100 text-purple-800"},approved:{label:"Approved",color:"bg-green-100 text-green-800"},customer_created:{label:"Customer Created",color:"bg-emerald-100 text-emerald-800"},rejected:{label:"Rejected",color:"bg-red-100 text-red-800"}},ue=re[K]||re.pending_verification;return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ue.color}`,children:ue.label})},et=async()=>{var K;try{E(!0);const ue=((K=(await Tr.getAll({...A,page:1,limit:1e4,sort_by:k,sort_order:S})).data)==null?void 0:K.registrations)||[];if(ue.length===0){ee.error("Tidak ada data untuk di-export");return}const he=Oe=>({pending_verification:"Pending",verified:"Verified",survey_scheduled:"Survey Scheduled",survey_completed:"Survey Done",approved:"Approved",customer_created:"Customer Created",rejected:"Rejected",cancelled:"Cancelled"})[Oe]||Oe,Ee=ue.map((Oe,De)=>({No:De+1,"Registration Number":Oe.registration_number,"Tanggal Daftar":no(Oe.created_at),"Nama Lengkap":Oe.full_name,Email:Oe.email||"-",WhatsApp:Oe.phone||"-","Alamat Lengkap":Oe.address||"-",Kota:Oe.city||"-",Package:Oe.package_name||"-","Harga Bulanan":b1e(Oe.monthly_price),Status:he(Oe.status),"Verified Date":Oe.verified_at?no(Oe.verified_at):"-","Survey Scheduled":Oe.survey_scheduled_date?no(Oe.survey_scheduled_date):"-","Approved Date":Oe.approved_at?no(Oe.approved_at):"-","Rejection Reason":Oe.rejection_reason||"-","Preferred Install Date":Oe.preferred_installation_date?ip(Oe.preferred_installation_date):"-"})),Le=r_(Ee,"Registrations_Export","Registrations Data");ee.success(`✅ ${Le.rows} registrations berhasil di-export!`)}catch(re){console.error("Export error:",re),ee.error("Gagal export data. Silakan coba lagi.")}finally{E(!1)}},ot=K=>{K.target.checked?(ae(ct.map(re=>re.id)),R(!0)):(ae([]),R(!1))},tt=K=>{if(V.includes(K))ae(V.filter(re=>re!==K)),R(!1);else{const re=[...V,K];ae(re),re.length===ct.length&&R(!0)}},nt=async()=>{if(V.length===0){ee.error("Pilih registration terlebih dahulu");return}if(window.confirm(`Verify ${V.length} registration yang dipilih?`))try{let K=0,re=0;for(const ue of V)try{await Tr.updateStatus(ue,"verified",{notes:"Bulk verified"}),K++}catch(he){re++,console.error(`Failed to verify registration ${ue}:`,he)}K>0?(ee.success(`✅ ${K} registration berhasil di-verify${re>0?`, ${re} gagal`:""}`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),ae([]),R(!1)):ee.error("Gagal verify registration")}catch(K){console.error("Bulk verify error:",K),ee.error("Terjadi kesalahan saat verify registration")}},_t=async()=>{if(V.length===0){ee.error("Pilih registration terlebih dahulu");return}const K=window.prompt("Alasan reject (akan diterapkan ke semua):");if(K&&window.confirm(`⚠️ Reject ${V.length} registration?`))try{let re=0,ue=0;for(const he of V)try{await Tr.updateStatus(he,"rejected",{rejection_reason:K,notes:"Bulk rejected"}),re++}catch(Ee){ue++,console.error(`Failed to reject registration ${he}:`,Ee)}re>0?(ee.success(`✅ ${re} registration berhasil di-reject${ue>0?`, ${ue} gagal`:""}`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),ae([]),R(!1)):ee.error("Gagal reject registration")}catch(re){console.error("Bulk reject error:",re),ee.error("Terjadi kesalahan saat reject registration")}},Zt=(K,re)=>{navigator.clipboard.writeText(K).then(()=>{B(re),ee.success(`${re} berhasil di-copy!`),setTimeout(()=>B(null),2e3)}).catch(ue=>{ee.error("Gagal copy ke clipboard"),console.error("Copy error:",ue)})},ge=(K,re)=>{K.stopPropagation(),ye(re),I(!0)},dt=async()=>{if(D)try{await Tr.updateStatus(D.id,"verified",{notes:"Quick verified"}),ee.success(`Registration ${D.registration_number} verified`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),I(!1),ye(null)}catch(K){ee.error("Failed to verify registration"),console.error("Quick verify error:",K)}},Cr=(K,re)=>{K.stopPropagation(),ye(re),Pe(""),oe(!0)},nn=async()=>{if(D){if(!Ce.trim()){ee.error("Alasan reject wajib diisi");return}try{await Tr.updateStatus(D.id,"rejected",{rejection_reason:Ce,notes:"Quick rejected"}),ee.success(`Registration ${D.registration_number} rejected`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),oe(!1),ye(null),Pe("")}catch(K){ee.error("Failed to reject registration"),console.error("Quick reject error:",K)}}},pr=(K,re)=>{K.stopPropagation(),window.location.href=`tel:${re}`},Vs=(K,re)=>{K.stopPropagation(),window.location.href=`mailto:${re}`},Bl=(K,re)=>{K.stopPropagation(),O(re),H(!0)},sn=(K,re)=>{K.stopPropagation(),ye(re),Y(!0)},je=async()=>{if(D)try{await Tr.updateStatus(D.id,"approved",{notes:"Quick approved"}),ee.success(`Registration ${D.registration_number} approved`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),Y(!1),ye(null)}catch(K){ee.error("Failed to approve registration"),console.error("Quick approve error:",K)}},Ue=(K,re)=>{K.stopPropagation(),ye(re),ke(new Date().toISOString().split("T")[0]),fe(!0)},Ot=async()=>{if(D){if(!Me){ee.error("Tanggal survey wajib diisi");return}try{await Tr.updateStatus(D.id,"survey_scheduled",{survey_date:Me,notes:"Survey scheduled via quick action"}),ee.success(`Survey scheduled for ${D.registration_number}`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),fe(!1),ye(null)}catch(K){ee.error("Failed to schedule survey"),console.error("Quick schedule survey error:",K)}}},Ir=a||s||i,vi=a||s||i,Ne=a||s,We=ce||{},Er=((Rr=(Ra=$e==null?void 0:$e.data)==null?void 0:Ra.pagination)==null?void 0:Rr.total)||0,ct=((os=$e==null?void 0:$e.data)==null?void 0:os.registrations)||[];return w.useEffect(()=>{const K=he=>{console.log("🔄 Registration update received:",he),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),ee.success("Data registrasi telah diperbarui!")},re=he=>{var Ee;console.log("✨ New registration received:",he),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),ee.success(`Pendaftaran baru dari ${((Ee=he.registration)==null?void 0:Ee.full_name)||"customer"}!`,{duration:4e3,icon:"🎉"})},ue=he=>{console.log("👤 Customer created:",he),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats")};return Ge.on("new_registration",re),Ge.on("registration-updated",K),Ge.on("registration_updated",K),Ge.on("customer-created",ue),Ge.on("registration_status_changed",K),console.log("📡 Socket.IO listeners registered for registrations"),()=>{Ge.off("new_registration",re),Ge.off("registration-updated",K),Ge.off("registration_updated",K),Ge.off("customer-created",ue),Ge.off("registration_status_changed",K),console.log("📡 Socket.IO listeners cleaned up")}},[t]),Ir?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pendaftaran Customer"}),n.jsx("p",{className:"text-gray-600",children:"Kelola pendaftaran customer baru dari public form"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:et,disabled:C||Z,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:C?n.jsxs(n.Fragment,{children:[n.jsx(qj,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ko,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})}),n.jsxs(No,{to:"/registration-analytics",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[n.jsx(zp,{className:"-ml-1 mr-2 h-5 w-5"}),"Analytics"]}),n.jsxs("a",{href:"/register",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[n.jsx(dl,{className:"h-4 w-4 mr-2"}),"Form Pendaftaran"]})]})]}),V.length>0&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[V.length," registration dipilih"]}),n.jsx("button",{onClick:()=>{ae([]),R(!1)},className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Batal Pilihan"})]}),n.jsxs("div",{className:"flex gap-2",children:[vi&&n.jsxs("button",{onClick:nt,className:"px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm inline-flex items-center",children:[n.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Verify"]}),Ne&&n.jsxs("button",{onClick:_t,className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm inline-flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Ve,{icon:Vj,title:"Total Pendaftaran",value:We.total_registrations||0,color:"blue"}),n.jsx(Ve,{icon:Kt,title:"Need Review",value:(parseInt(We.pending_verification)||0)+(parseInt(We.verified)||0),color:"yellow",onClick:()=>{const K=A.status==="pending_verification"||A.status==="verified";U({...A,status:K?"":"pending_verification",dateFilter:""}),o(1)}}),n.jsx(Ve,{icon:br,title:"Survey",value:(parseInt(We.survey_scheduled)||0)+(parseInt(We.survey_completed)||0),color:"indigo",onClick:()=>{const K=A.status==="survey_scheduled"||A.status==="survey_completed";U({...A,status:K?"":"survey_scheduled",dateFilter:""}),o(1)}}),n.jsx(Ve,{icon:Ke,title:"Approved",value:We.approved||0,color:"green",onClick:()=>{U({...A,status:A.status==="approved"?"":"approved",dateFilter:""}),o(1)}})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(Ve,{icon:Eu,title:"Customer Created",value:We.customer_created||0,color:"emerald",onClick:()=>{U({...A,status:A.status==="customer_created"?"":"customer_created",dateFilter:""}),o(1)}}),n.jsx(Ve,{icon:kt,title:"Rejected",value:We.rejected||0,color:"red",onClick:()=>{U({...A,status:A.status==="rejected"?"":"rejected",dateFilter:""}),o(1)}}),n.jsx(Ve,{icon:br,title:"Today's New",value:We.today_registrations||0,color:"orange",onClick:()=>{U({...A,status:"",dateFilter:A.dateFilter==="today"?"":"today"}),o(1)}})]}),n.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Cari nama, email, nomor...",className:"form-input pl-10",value:A.search,onChange:K=>U({...A,search:K.target.value})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"form-input",value:A.status,onChange:K=>U({...A,status:K.target.value}),children:[n.jsx("option",{value:"",children:"Semua Status"}),n.jsx("option",{value:"pending_verification",children:"Pending Verification"}),n.jsx("option",{value:"verified",children:"Verified"}),n.jsx("option",{value:"survey_scheduled",children:"Survey Scheduled"}),n.jsx("option",{value:"survey_completed",children:"Survey Completed"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"customer_created",children:"Customer Created"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Registrations",n.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",Er," total)"]})]})}),n.jsxs("div",{className:"card-body p-0",children:[Z?n.jsx("div",{className:"py-12",children:n.jsx(St,{className:"mx-auto"})}):((L=$e==null?void 0:$e.data)==null?void 0:L.registrations.length)===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(dl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Belum ada pendaftaran"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Pendaftaran akan muncul setelah customer mengisi form pendaftaran"}),n.jsxs("a",{href:"/register",target:"_blank",rel:"noopener noreferrer",className:"btn-primary inline-flex items-center",children:[n.jsx(dl,{className:"h-4 w-4 mr-2"}),"Buka Form Pendaftaran"]})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header-cell w-12",children:n.jsx("input",{type:"checkbox",checked:q,onChange:ot,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",title:"Pilih Semua"})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Fe("registration_number"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Nomor Registrasi"}),ze("registration_number")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Fe("full_name"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Customer"}),ze("full_name")]})}),n.jsx("th",{className:"table-header-cell",children:"Paket"}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Fe("status"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),ze("status")]})}),n.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Fe("created_at"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Tanggal"}),ze("created_at")]})}),n.jsx("th",{className:"table-header-cell",children:"Quick Actions"})]})}),n.jsx("tbody",{className:"table-body",children:(G=$e==null?void 0:$e.data)==null?void 0:G.registrations.map(K=>n.jsxs("tr",{onClick:()=>e(`/registrations/${K.id}`),className:"group cursor-pointer hover:bg-blue-50 hover:shadow-md hover:border-l-4 hover:border-l-green-500 transition-all duration-200",title:"Klik untuk lihat detail registrasi",children:[n.jsx("td",{className:"table-cell",onClick:re=>re.stopPropagation(),children:n.jsx("input",{type:"checkbox",checked:V.includes(K.id),onChange:()=>tt(K.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),n.jsxs("td",{className:"table-cell",children:[n.jsxs("div",{className:"font-medium text-blue-600 flex items-center gap-1",children:[n.jsx("span",{children:K.registration_number}),n.jsx("button",{onClick:re=>{re.stopPropagation(),Zt(K.registration_number,"Registration Number")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Registration Number",children:P==="Registration Number"?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-500"})})]}),n.jsx("div",{className:"text-sm text-gray-500",children:new Date(K.created_at).toLocaleDateString("id-ID")})]}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"font-medium text-gray-900",children:K.full_name}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1 gap-1",children:[n.jsx(Za,{className:"h-3 w-3"}),n.jsx("span",{children:K.phone}),n.jsx("button",{onClick:re=>{re.stopPropagation(),Zt(K.phone,"Phone")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Phone",children:P==="Phone"?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-500"})})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-1",children:[n.jsx(na,{className:"h-3 w-3"}),n.jsx("span",{className:"truncate max-w-[150px]",children:K.email}),n.jsx("button",{onClick:re=>{re.stopPropagation(),Zt(K.email,"Email")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Email",children:P==="Email"?n.jsx(mn,{className:"h-3 w-3 text-green-600"}):n.jsx(Ts,{className:"h-3 w-3 text-gray-500"})})]})]}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"font-medium",children:K.package_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[at(K.monthly_price),"/bln"]})]}),n.jsx("td",{className:"table-cell",children:Xe(K.status)}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"text-sm text-gray-900",children:new Date(K.created_at).toLocaleDateString("id-ID")}),n.jsx("div",{className:"text-sm text-gray-500",children:new Date(K.created_at).toLocaleTimeString("id-ID")})]}),n.jsx("td",{className:"table-cell",onClick:re=>re.stopPropagation(),children:n.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[K.phone&&n.jsx("button",{onClick:re=>pr(re,K.phone),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Call Customer",children:n.jsx(Sg,{className:"h-4 w-4 text-green-600"})}),K.email&&n.jsx("button",{onClick:re=>Vs(re,K.email),className:"p-1.5 hover:bg-blue-100 rounded transition-colors",title:"Email Customer",children:n.jsx(na,{className:"h-4 w-4 text-blue-600"})}),vi&&K.status==="pending_verification"&&n.jsx("button",{onClick:re=>ge(re,K),className:"p-1.5 hover:bg-blue-100 rounded transition-colors",title:"Quick Verify",children:n.jsx(Vn,{className:"h-4 w-4 text-blue-600"})}),Ne&&!["customer_created","rejected","cancelled"].includes(K.status)&&n.jsx("button",{onClick:re=>Cr(re,K),className:"p-1.5 hover:bg-red-100 rounded transition-colors",title:"Quick Reject",children:n.jsx(kt,{className:"h-4 w-4 text-red-600"})}),K.status==="verified"&&n.jsx("button",{onClick:re=>sn(re,K),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Quick Approve",children:n.jsx(Ke,{className:"h-4 w-4 text-green-600"})}),K.status==="verified"&&n.jsx("button",{onClick:re=>Ue(re,K),className:"p-1.5 hover:bg-orange-100 rounded transition-colors",title:"Quick Schedule Survey",children:n.jsx(br,{className:"h-4 w-4 text-orange-600"})}),K.status==="approved"&&!K.customer_id&&n.jsx("button",{onClick:re=>Bl(re,K),className:"p-1.5 hover:bg-purple-100 rounded transition-colors",title:"Quick Create Customer",children:n.jsx(Eu,{className:"h-4 w-4 text-purple-600"})})]})})]},K.id))})]})}),((W=(z=$e==null?void 0:$e.data)==null?void 0:z.registrations)==null?void 0:W.length)>0&&((Q=$e==null?void 0:$e.data)==null?void 0:Q.pagination)&&n.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>o(Math.max(1,l-1)),disabled:l===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>o(Math.min($e.data.pagination.pages,l+1)),disabled:l===$e.data.pagination.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),n.jsxs("select",{value:c,onChange:K=>{u(parseInt(K.target.value)),o(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),n.jsx("div",{className:"border-l border-gray-300 h-6"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(l-1)*c+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(l*c,$e.data.pagination.total)})," ","of ",n.jsx("span",{className:"font-medium",children:$e.data.pagination.total})," results"]})]}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsx("button",{onClick:()=>o(Math.max(1,l-1)),disabled:l===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ss,{className:"h-5 w-5"})}),Array.from({length:Math.min($e.data.pagination.pages,10)},(K,re)=>{const ue=$e.data.pagination.pages;return ue<=10||l<=5?re+1:l>=ue-4?ue-9+re:l-5+re}).map(K=>n.jsx("button",{onClick:()=>o(K),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${l===K?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:K},K)),n.jsx("button",{onClick:()=>o(Math.min($e.data.pagination.pages,l+1)),disabled:l===$e.data.pagination.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vn,{className:"h-5 w-5"})})]})})]})]})})]}),h&&d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 bg-white border-b px-8 py-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Detail Pendaftaran"}),n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(kt,{className:"h-6 w-6"})})]})}),n.jsxs("div",{className:"p-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 mt-1",children:Xe(d.status)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Nomor Registrasi"}),n.jsx("p",{className:"text-lg font-bold text-blue-600 mt-1",children:d.registration_number})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Pribadi"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Nama Lengkap"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.full_name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"WhatsApp"}),n.jsxs("p",{className:"font-medium text-green-600 flex items-center",children:[d.phone,n.jsx(On,{className:"h-4 w-4 ml-1",title:"Verified"})]})]}),d.id_card_number&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Nomor KTP"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.id_card_number})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alamat"}),n.jsx("p",{className:"text-gray-900",children:d.address}),(d.rt||d.rw)&&n.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["RT ",d.rt||"-"," / RW ",d.rw||"-"]}),n.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[d.kelurahan,", ",d.kecamatan,", ",d.city," ",d.postal_code]}),d.address_notes&&n.jsxs("p",{className:"text-gray-600 text-sm mt-2 italic",children:["Catatan: ",d.address_notes]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Paket"}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[n.jsx("p",{className:"text-xl font-bold text-gray-900",children:d.package_name}),n.jsxs("p",{className:"text-lg text-gray-600 mt-1",children:[d.bandwidth_down," Mbps"]}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:["Rp ",(X=d.monthly_price)==null?void 0:X.toLocaleString("id-ID"),"/bulan"]})]})]}),!["rejected"].includes(d.status)&&d.status!=="customer_created"&&n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:d.status==="approved"&&!d.customer_id?"Create Customer":"Available Actions"}),d.status==="pending_verification"&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",style:{borderColor:p==="verified"?"#10b981":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"verified",checked:p==="verified",onChange:K=>x(K.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"✅ Verify - Verifikasi Data"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Data sudah diperiksa dan valid"})]})]}),n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors",style:{borderColor:p==="rejected"?"#ef4444":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"rejected",checked:p==="rejected",onChange:K=>x(K.target.value),className:"h-4 w-4 text-red-600 focus:ring-red-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"❌ Reject - Tolak Pendaftaran"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Data tidak valid atau tidak memenuhi syarat"})]})]})]})}),d.status==="verified"&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",style:{borderColor:p==="approved"?"#10b981":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"approved",checked:p==="approved",onChange:K=>x(K.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"✅ Approve - Setujui Langsung"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Skip survey, langsung create customer (Fast Track)"})]})]}),n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-indigo-50 transition-colors",style:{borderColor:p==="survey_scheduled"?"#6366f1":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"survey_scheduled",checked:p==="survey_scheduled",onChange:K=>x(K.target.value),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"📅 Schedule Survey"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Jadwalkan survey lokasi terlebih dahulu"})]})]}),n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors",style:{borderColor:p==="rejected"?"#ef4444":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"rejected",checked:p==="rejected",onChange:K=>x(K.target.value),className:"h-4 w-4 text-red-600 focus:ring-red-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"❌ Reject - Tolak Pendaftaran"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Data tidak memenuhi syarat"})]})]})]})}),d.status==="survey_scheduled"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-indigo-50 border-2 border-indigo-200 rounded-lg p-4 mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"📅 Survey Scheduled"}),n.jsx("p",{className:"text-sm text-indigo-700 mt-1",children:"Survey telah dijadwalkan. Setelah survey dilakukan, update status di bawah ini."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",style:{borderColor:p==="survey_completed"?"#10b981":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"survey_completed",checked:p==="survey_completed",onChange:K=>x(K.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"✅ Survey Completed"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Survey sudah selesai, lokasi feasible untuk instalasi"})]})]}),n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors",style:{borderColor:p==="rejected"?"#ef4444":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"rejected",checked:p==="rejected",onChange:K=>x(K.target.value),className:"h-4 w-4 text-red-600 focus:ring-red-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"❌ Reject - Tidak Feasible"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Lokasi tidak memungkinkan untuk instalasi"})]})]})]})]}),d.status==="survey_completed"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:"✅ Survey Completed"}),n.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Survey sudah selesai. Pilih tindakan selanjutnya di bawah ini."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",style:{borderColor:p==="approved"?"#10b981":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"approved",checked:p==="approved",onChange:K=>x(K.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"✅ Approve - Setujui Pendaftaran"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Lokasi feasible, siap untuk create customer"})]})]}),n.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors",style:{borderColor:p==="rejected"?"#ef4444":"#e5e7eb"},children:[n.jsx("input",{type:"radio",name:"action",value:"rejected",checked:p==="rejected",onChange:K=>x(K.target.value),className:"h-4 w-4 text-red-600 focus:ring-red-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"❌ Reject - Tidak Feasible"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Hasil survey menunjukkan lokasi tidak layak"})]})]})]})]}),d.status==="approved"&&!d.customer_id&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-medium text-purple-900",children:"🎉 Registration Approved!"}),n.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Pendaftaran sudah disetujui. Klik tombol di bawah untuk membuat data customer dan ticket instalasi."})]}),n.jsx("button",{onClick:()=>se(d),disabled:we.isLoading,className:"w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 transition-colors inline-flex items-center justify-center",children:we.isLoading?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(HomeIcon,{className:"h-5 w-5 mr-2"}),"Buat Customer & Ticket Instalasi"]})})]}),p&&d.status!=="approved"&&n.jsxs("div",{className:"mt-6 space-y-4",children:[p==="survey_scheduled"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tanggal Survey ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"datetime-local",value:j,onChange:K=>N(K.target.value),className:"form-input",min:new Date().toISOString().slice(0,16)})]}),p==="survey_completed"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hasil Survey ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{rows:4,value:g,onChange:K=>y(K.target.value),className:"form-input",placeholder:"Contoh: Survey completed successfully. ODP distance: 50m. Cable needed: 60m. No obstacles found. Location is feasible for installation."}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 Tips: Sebutkan jarak ODP, panjang kabel needed, hambatan (jika ada), dan kesimpulan kelayakan instalasi."})]}),p==="rejected"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Alasan Penolakan ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{rows:3,value:b,onChange:K=>v(K.target.value),className:"form-input",placeholder:"Jelaskan alasan penolakan secara detail..."})]}),p!=="survey_completed"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan (Opsional)"}),n.jsx("textarea",{rows:2,value:g,onChange:K=>y(K.target.value),className:"form-input",placeholder:"Tambahkan catatan tambahan..."})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{onClick:()=>{x(null),y(""),v(""),N("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Batal"}),n.jsx("button",{onClick:_e,disabled:de.isLoading,className:`
                              px-6 py-2 rounded-lg text-white transition-colors inline-flex items-center
                              ${p==="rejected"?"bg-red-600 hover:bg-red-700":p==="survey_scheduled"?"bg-indigo-600 hover:bg-indigo-700":"bg-green-600 hover:bg-green-700"}
                              disabled:bg-gray-400 disabled:cursor-not-allowed
                            `,children:de.isLoading?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ke,{className:"h-5 w-5 mr-2"}),"Konfirmasi"]})})]})]})]})]})]})})]}),n.jsx(ga,{isOpen:te,onClose:()=>{H(!1),O(null)},onConfirm:le,title:"🏠 Buat Customer & Ticket Instalasi",message:F?`Apakah Anda yakin ingin membuat customer dan ticket instalasi untuk "${F.full_name}"?`:"",confirmText:"Ya, Buat Customer",cancelText:"Batal",type:"success",isLoading:we.isLoading,children:F&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:[n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Nama:"}),n.jsx("span",{className:"font-medium text-gray-900",children:F.full_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"No. HP:"}),n.jsx("span",{className:"font-medium text-gray-900",children:F.phone||"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Paket:"}),n.jsx("span",{className:"font-medium text-gray-900",children:F.service_package||"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Alamat:"}),n.jsxs("span",{className:"font-medium text-gray-900 text-right ml-2",children:[(pe=F.installation_address)==null?void 0:pe.substring(0,40),"..."]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:n.jsxs("p",{className:"text-xs text-gray-600",children:["✅ Customer baru akan dibuat",n.jsx("br",{}),"🎫 Ticket instalasi akan otomatis dibuatkan",n.jsx("br",{}),"📧 Notifikasi akan dikirim"]})})]})}),n.jsx(ga,{isOpen:M,onClose:()=>{I(!1),ye(null)},onConfirm:dt,title:"✅ Verifikasi Data",message:D?`Verifikasi data pendaftaran dari "${D.full_name}"?`:"",confirmText:"Ya, Verifikasi",cancelText:"Batal",type:"info",children:D&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["✅ Status akan berubah menjadi ",n.jsx("span",{className:"font-semibold text-blue-900",children:'"Verified"'}),n.jsx("br",{}),"📋 Data sudah diperiksa dan valid"]})})}),n.jsx(ga,{isOpen:J,onClose:()=>{Y(!1),ye(null)},onConfirm:je,title:"✅ Approve Registrasi",message:D?`Setujui pendaftaran dari "${D.full_name}"?`:"",confirmText:"Ya, Approve",cancelText:"Batal",type:"success",children:D&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["✅ Status akan berubah menjadi ",n.jsx("span",{className:"font-semibold text-green-900",children:'"Approved"'}),n.jsx("br",{}),"🎉 Pendaftaran disetujui"]})})}),n.jsx(ga,{isOpen:ie,onClose:()=>{fe(!1),ye(null)},onConfirm:Ot,title:"📅 Jadwalkan Survey",message:D?`Jadwalkan survey untuk "${D.full_name}"`:"",confirmText:"Ya, Jadwalkan",cancelText:"Batal",type:"warning",children:D&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Survey *"}),n.jsx("input",{type:"date",value:Me,onChange:K=>ke(K.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),n.jsx(ga,{isOpen:ne,onClose:()=>{oe(!1),ye(null),Pe("")},onConfirm:nn,title:"❌ Reject Registrasi",message:D?`Tolak pendaftaran dari "${D.full_name}"?`:"",confirmText:"Ya, Reject",cancelText:"Batal",type:"danger",children:D&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alasan Reject *"}),n.jsx("textarea",{value:Ce,onChange:K=>Pe(K.target.value),rows:3,placeholder:"Tuliskan alasan reject...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none"})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[n.jsx(Eg,{className:"h-24 w-24 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access Registrations."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Required role: Admin, Supervisor, or Customer Service"})]})},swe=()=>{var se;const{id:e}=K0(),t=Vi(),r=qt(),{user:a}=tn(),[s,i]=w.useState("details"),[l,o]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(""),[p,x]=w.useState(""),[g,y]=w.useState(!1),[b,v]=w.useState(!1),[j,N]=w.useState(!1),[k,_]=w.useState(""),[S,T]=w.useState(!1),[C,E]=w.useState(!1),[A,U]=w.useState(new Date().toISOString().split("T")[0]),{data:V,isLoading:ae,error:q}=Be(["registration",e],()=>Tr.getById(e),{enabled:!!e,staleTime:3e4}),{data:R}=Be("packages",Ps.getAll,{refetchOnWindowFocus:!1}),P=V==null?void 0:V.data,B=(se=R==null?void 0:R.data)==null?void 0:se.find(le=>le.id===(P==null?void 0:P.package_id)),te=(a==null?void 0:a.role)==="admin",H=(a==null?void 0:a.role)==="supervisor",F=(a==null?void 0:a.role)==="customer_service",O=te||H||F,M=te||H||F,I=te||H||F,ne=te||H||F;w.useEffect(()=>{P&&["verified","survey_scheduled","survey_completed"].includes(P.status)&&i("actions")},[P]);const oe=jt(({id:le,data:Fe})=>Tr.updateStatus(le,Fe),{onSuccess:()=>{ee.success("Status berhasil diupdate"),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations"),o(""),u(""),f(""),m(""),x("")},onError:le=>{var Fe,ze;ee.error(((ze=(Fe=le.response)==null?void 0:Fe.data)==null?void 0:ze.message)||"Gagal update status")}}),J=jt(le=>Tr.createCustomer(le),{onSuccess:le=>{ee.success("Customer dan ticket instalasi berhasil dibuat!"),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations"),r.invalidateQueries("customers"),r.invalidateQueries("tickets")},onError:le=>{var Fe,ze;console.error("❌ CREATE CUSTOMER ERROR:",le),ee.error(((ze=(Fe=le.response)==null?void 0:Fe.data)==null?void 0:ze.message)||"Gagal membuat customer")}}),Y=()=>{if(!P)return;let le={status:l,notes:p};if(l==="rejected"){if(!c.trim()){ee.error("Alasan penolakan wajib diisi");return}le.rejection_reason=c}if(l==="survey_scheduled"){if(!d){ee.error("Tanggal survey wajib diisi");return}le.survey_scheduled_date=d}if(l==="survey_completed"){if(!h.trim()){ee.error("Hasil survey wajib diisi");return}le.survey_notes=h,le.survey_result="feasible"}oe.mutate({id:P.id,data:le})},ie=()=>{y(!0)},fe=()=>{J.mutate(P.id),y(!1)},D=()=>{v(!0)},ye=async()=>{try{await Tr.updateStatus(P.id,{status:"verified",notes:"Quick verified via detail page"}),ee.success(`✅ Registration ${P.registration_number} verified`),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations"),v(!1)}catch(le){ee.error("❌ Failed to verify registration"),console.error("Quick verify error:",le)}},Ce=()=>{_(""),N(!0)},Pe=async()=>{if(!k.trim()){ee.error("⚠️ Alasan reject wajib diisi");return}try{await Tr.updateStatus(P.id,{status:"rejected",rejection_reason:k,notes:k}),ee.success(`✅ Registration ${P.registration_number} rejected`),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations"),N(!1),_("")}catch(le){ee.error("❌ Failed to reject registration"),console.error("Quick reject error:",le)}},Me=()=>{T(!0)},ke=async()=>{try{await Tr.updateStatus(P.id,{status:"approved",notes:"Quick approved via detail page"}),ee.success(`✅ Registration ${P.registration_number} approved`),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations"),T(!1)}catch(le){ee.error("❌ Failed to approve registration"),console.error("Quick approve error:",le)}},at=()=>{U(new Date().toISOString().split("T")[0]),E(!0)},$e=async()=>{if(!A){ee.error("Tanggal survey wajib diisi");return}try{await Tr.updateStatus(P.id,{status:"survey_scheduled",survey_date:A,notes:`Survey scheduled for ${A}`}),ee.success(`✅ Survey scheduled for ${P.registration_number}`),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations"),E(!1)}catch(le){ee.error("❌ Failed to schedule survey"),console.error("Quick schedule survey error:",le)}},Z=le=>le?le.replace(/_/g," ").split(" ").map(Fe=>Fe.charAt(0).toUpperCase()+Fe.slice(1)).join(" "):"-",ce=le=>{const Fe={pending_verification:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Kt},verified:{color:"bg-blue-100 text-blue-800 border-blue-300",icon:Ke},survey_scheduled:{color:"bg-indigo-100 text-indigo-800 border-indigo-300",icon:br},survey_completed:{color:"bg-purple-100 text-purple-800 border-purple-300",icon:ep},approved:{color:"bg-green-100 text-green-800 border-green-300",icon:Vn},customer_created:{color:"bg-emerald-100 text-emerald-800 border-emerald-300",icon:Eu},rejected:{color:"bg-red-100 text-red-800 border-red-300",icon:kt}},ze=Fe[le]||Fe.pending_verification,Xe=ze.icon;return n.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium border ${ze.color}`,children:[n.jsx(Xe,{className:"h-4 w-4"}),Z(le)]})},de=le=>le?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(le):"-",we=le=>le?new Date(le).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-";if(ae)return n.jsx("div",{className:"flex justify-center items-center min-h-96",children:n.jsx(St,{})});if(q||!P)return n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-500 mb-4",children:n.jsx($t,{className:"h-12 w-12 mx-auto"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Registration Not Found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Pendaftaran tidak ditemukan"}),n.jsx(Fo,{to:"/registrations",label:"Back to Registrations"})]});const _e=[{id:"details",label:"Details",icon:Pi},{id:"actions",label:"Actions",icon:al},{id:"timeline",label:"Timeline",icon:br}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Fo,{to:"/registrations",label:"Back to Registrations"}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[P.registration_number," - ",P.full_name]}),n.jsx("p",{className:"text-gray-600",children:"Pendaftaran Customer Baru"})]})]}),n.jsx("div",{children:ce(P.status)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"card",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ft,{className:"h-8 w-8 text-blue-600 bg-blue-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer"}),n.jsx("p",{className:"text-base font-semibold text-gray-900 truncate",children:P.full_name}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Za,{className:"h-3 w-3"}),P.phone]})]})]})})}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(na,{className:"h-8 w-8 text-green-600 bg-green-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Email"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:P.email}),P.whatsapp_verified&&n.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"h-3 w-3"}),"WhatsApp Verified"]})]})]})})}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Jt,{className:"h-8 w-8 text-purple-600 bg-purple-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Package"}),n.jsx("p",{className:"text-base font-semibold text-gray-900 truncate",children:(B==null?void 0:B.name)||"Loading..."}),n.jsx("p",{className:"text-xs text-gray-500",children:B?de(B.price)+"/bln":"-"})]})]})})}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(br,{className:"h-8 w-8 text-orange-600 bg-orange-100 rounded-lg p-2 mr-3"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Created"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:we(P.created_at)}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(P.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]})})})]}),!["customer_created","rejected","cancelled"].includes(P.status)&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ke,{className:"h-5 w-5 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quick Actions:"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[O&&P.status==="pending_verification"&&n.jsxs("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Vn,{className:"h-4 w-4"}),"Quick Verify"]}),I&&P.status==="verified"&&n.jsxs("button",{onClick:Me,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Ke,{className:"h-4 w-4"}),"Quick Approve"]}),O&&P.status==="verified"&&n.jsxs("button",{onClick:at,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(br,{className:"h-4 w-4"}),"Schedule Survey"]}),ne&&P.status==="approved"&&!P.customer_id&&n.jsxs("button",{onClick:ie,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(Eu,{className:"h-4 w-4"}),"Create Customer"]}),M&&!["customer_created","rejected","cancelled"].includes(P.status)&&n.jsxs("button",{onClick:Ce,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[n.jsx(kt,{className:"h-4 w-4"}),"Quick Reject"]})]})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:_e.map(le=>{const Fe=le.icon;return n.jsxs("button",{onClick:()=>i(le.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${s===le.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Fe,{className:"h-4 w-4 mr-2"}),le.label]},le.id)})})}),n.jsxs("div",{className:"card-body",children:[s==="details"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Pribadi"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ft,{className:"h-5 w-5 text-gray-400 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Nama Lengkap"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.full_name})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(na,{className:"h-5 w-5 text-gray-400 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.email})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Za,{className:"h-5 w-5 text-gray-400 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-gray-900",children:P.phone}),P.whatsapp_verified&&n.jsx(Ke,{className:"h-4 w-4 text-green-500",title:"Verified"})]})]})]}),P.id_card_number&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Pi,{className:"h-5 w-5 text-gray-400 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Nomor KTP"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.id_card_number})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alamat"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Aa,{className:"h-5 w-5 text-gray-400 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Alamat Lengkap"}),n.jsx("p",{className:"text-gray-900",children:P.address})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pl-8",children:[P.rt&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"RT"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.rt})]}),P.rw&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"RW"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.rw})]}),P.kelurahan&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Kelurahan"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.kelurahan})]}),P.kecamatan&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Kecamatan"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.kecamatan})]}),P.city&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Kota"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.city})]}),P.postal_code&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Kode Pos"}),n.jsx("p",{className:"font-medium text-gray-900",children:P.postal_code})]})]}),P.address_notes&&n.jsxs("div",{className:"pl-8 pt-2 border-t",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Catatan Alamat"}),n.jsx("p",{className:"text-sm text-gray-700 italic",children:P.address_notes})]})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Paket"}),B?n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(Jt,{className:"h-10 w-10 text-blue-600 bg-white rounded-lg p-2 shadow-sm"}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-xl font-semibold text-gray-900",children:B.name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.description}),n.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Kecepatan"}),n.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[B.speed_mbps," Mbps"]})]}),n.jsx("div",{className:"h-8 w-px bg-gray-300"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Harga Bulanan"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:de(B.price)})]}),n.jsx("div",{className:"h-8 w-px bg-gray-300"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Tipe"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:B.type})]})]})]})]})}),P.preferred_installation_date&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 flex items-start gap-3",children:[n.jsx(br,{className:"h-5 w-5 text-blue-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Preferensi Instalasi"}),n.jsxs("p",{className:"font-medium text-gray-900",children:[we(P.preferred_installation_date),P.preferred_time_slot&&n.jsxs("span",{className:"ml-2 text-gray-600",children:["(",P.preferred_time_slot==="morning"?"Pagi":P.preferred_time_slot==="afternoon"?"Siang":"Sore",")"]})]})]})]}),P.notes&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Catatan Customer"}),n.jsxs("p",{className:"text-gray-900 italic",children:['"',P.notes,'"']})]})]}):n.jsx("p",{className:"text-gray-500 text-sm",children:"Paket tidak ditemukan"})]}),(P.survey_scheduled_date||P.survey_notes)&&n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Survey"}),n.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 border border-indigo-200",children:[P.survey_scheduled_date&&n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx(br,{className:"h-5 w-5 text-indigo-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tanggal Survey"}),n.jsx("p",{className:"font-medium text-gray-900",children:new Date(P.survey_scheduled_date).toLocaleString("id-ID")})]})]}),P.survey_notes&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Pi,{className:"h-5 w-5 text-indigo-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Hasil Survey"}),n.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:P.survey_notes})]})]})]})]})]}),s==="actions"&&n.jsxs("div",{className:"space-y-6",children:[P.status==="approved"&&!P.customer_id&&n.jsxs("div",{children:[n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded mb-6",children:[n.jsx("p",{className:"font-medium text-blue-900",children:"🎉 Registration Approved!"}),n.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"Pendaftaran sudah disetujui. Klik tombol di bawah untuk membuat data customer dan ticket instalasi."})]}),n.jsxs("button",{onClick:ie,disabled:J.isLoading,className:"w-full px-6 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors inline-flex items-center justify-center gap-2 text-lg font-medium",children:[n.jsx(Eu,{className:"h-6 w-6"}),J.isLoading?"Creating Customer...":"Buat Customer & Ticket Instalasi"]})]}),P.customer_id&&n.jsxs("div",{children:[n.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded mb-6",children:[n.jsx("p",{className:"font-medium text-green-900",children:"✅ Customer Sudah Dibuat!"}),n.jsx("p",{className:"text-sm text-green-800 mt-1",children:"Customer dan installation ticket sudah dibuat."})]}),n.jsxs("button",{onClick:()=>t(`/customers/${P.customer_id}`),className:"w-full btn btn-primary py-4 text-lg",children:[n.jsx(Ft,{className:"h-6 w-6 mr-2"}),"Lihat Customer Detail"]})]}),P.status==="rejected"&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(kt,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Registration ",Z(P.status)]}),n.jsx("p",{className:"text-gray-500",children:"Tidak ada tindakan yang tersedia"}),P.rejection_reason&&n.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4 max-w-2xl mx-auto",children:[n.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Alasan:"}),n.jsxs("p",{className:"text-red-800",children:['"',P.rejection_reason,'"']})]})]}),!["approved","customer_created","rejected"].includes(P.status)&&n.jsxs("div",{children:[P.status==="pending_verification"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"⏳ Pending Verification"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Pendaftaran menunggu verifikasi data. Pilih tindakan di bawah ini."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="verified"?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"verified",checked:l==="verified",onChange:()=>o("verified"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vn,{className:`h-5 w-5 mr-3 ${l==="verified"?"text-blue-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="verified"?"text-blue-600":"text-gray-900"}`,children:"Verifikasi Data"}),n.jsx("div",{className:"text-gray-500",children:"Data sudah diperiksa dan valid"})]})]})}),l==="verified"&&n.jsx("div",{className:"flex-shrink-0 text-blue-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]}),n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"rejected",checked:l==="rejected",onChange:()=>o("rejected"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(kt,{className:`h-5 w-5 mr-3 ${l==="rejected"?"text-red-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="rejected"?"text-red-600":"text-gray-900"}`,children:"Tolak Pendaftaran"}),n.jsx("div",{className:"text-gray-500",children:"Data tidak valid atau tidak memenuhi syarat"})]})]})}),l==="rejected"&&n.jsx("div",{className:"flex-shrink-0 text-red-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]})]})]}),P.status==="verified"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"✅ Data Verified"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Data sudah diverifikasi. Pilih langkah selanjutnya."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="approved"?"border-green-500 text-green-600 bg-green-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"approved",checked:l==="approved",onChange:()=>o("approved"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ke,{className:`h-5 w-5 mr-3 ${l==="approved"?"text-green-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="approved"?"text-green-600":"text-gray-900"}`,children:"Approve Langsung"}),n.jsx("div",{className:"text-gray-500",children:"Fast track: Skip survey"})]})]})}),l==="approved"&&n.jsx("div",{className:"flex-shrink-0 text-green-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]}),n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="survey_scheduled"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"survey_scheduled",checked:l==="survey_scheduled",onChange:()=>o("survey_scheduled"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(br,{className:`h-5 w-5 mr-3 ${l==="survey_scheduled"?"text-indigo-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="survey_scheduled"?"text-indigo-600":"text-gray-900"}`,children:"Schedule Survey"}),n.jsx("div",{className:"text-gray-500",children:"Perlu survey lokasi & coverage"})]})]})}),l==="survey_scheduled"&&n.jsx("div",{className:"flex-shrink-0 text-indigo-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]}),n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"rejected",checked:l==="rejected",onChange:()=>o("rejected"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(kt,{className:`h-5 w-5 mr-3 ${l==="rejected"?"text-red-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject Pendaftaran"}),n.jsx("div",{className:"text-gray-500",children:"Tidak ada coverage atau tidak layak"})]})]})}),l==="rejected"&&n.jsx("div",{className:"flex-shrink-0 text-red-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]})]})]}),P.status==="survey_scheduled"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-4 rounded",children:[n.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"📅 Survey Scheduled"}),n.jsxs("p",{className:"text-sm text-indigo-700 mt-1",children:["Survey telah dijadwalkan pada ",new Date(P.survey_scheduled_date).toLocaleString("id-ID"),". Setelah survey dilakukan, update status di bawah ini."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="survey_completed"?"border-purple-500 text-purple-600 bg-purple-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"survey_completed",checked:l==="survey_completed",onChange:()=>o("survey_completed"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ep,{className:`h-5 w-5 mr-3 ${l==="survey_completed"?"text-purple-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="survey_completed"?"text-purple-600":"text-gray-900"}`,children:"Survey Completed"}),n.jsx("div",{className:"text-gray-500",children:"Lokasi feasible untuk instalasi"})]})]})}),l==="survey_completed"&&n.jsx("div",{className:"flex-shrink-0 text-purple-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]}),n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"rejected",checked:l==="rejected",onChange:()=>o("rejected"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(kt,{className:`h-5 w-5 mr-3 ${l==="rejected"?"text-red-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject - Tidak Feasible"}),n.jsx("div",{className:"text-gray-500",children:"Lokasi tidak memungkinkan"})]})]})}),l==="rejected"&&n.jsx("div",{className:"flex-shrink-0 text-red-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]})]})]}),P.status==="survey_completed"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:[n.jsx("p",{className:"text-sm font-medium text-green-900",children:"✅ Survey Completed"}),n.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Survey sudah selesai. Pilih tindakan selanjutnya di bawah ini."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="approved"?"border-green-500 text-green-600 bg-green-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"approved",checked:l==="approved",onChange:()=>o("approved"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ke,{className:`h-5 w-5 mr-3 ${l==="approved"?"text-green-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="approved"?"text-green-600":"text-gray-900"}`,children:"Approve Pendaftaran"}),n.jsx("div",{className:"text-gray-500",children:"Lokasi feasible, siap create customer"})]})]})}),l==="approved"&&n.jsx("div",{className:"flex-shrink-0 text-green-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]}),n.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[n.jsx("input",{type:"radio",name:"action",value:"rejected",checked:l==="rejected",onChange:()=>o("rejected"),className:"sr-only"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(kt,{className:`h-5 w-5 mr-3 ${l==="rejected"?"text-red-600":"text-gray-400"}`}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:`font-medium ${l==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject - Tidak Feasible"}),n.jsx("div",{className:"text-gray-500",children:"Lokasi tidak layak untuk instalasi"})]})]})}),l==="rejected"&&n.jsx("div",{className:"flex-shrink-0 text-red-600",children:n.jsx(Ke,{className:"h-5 w-5"})})]})]})]}),l&&n.jsxs("div",{className:"space-y-6 mt-6",children:[l==="rejected"&&n.jsxs("div",{children:[n.jsxs("label",{className:"form-label",children:["Alasan Penolakan ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:c,onChange:le=>u(le.target.value),rows:6,className:"form-input",placeholder:"Jelaskan alasan penolakan dengan detail..."}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contoh: Lokasi tidak ada coverage ODP, jarak terlalu jauh, atau data tidak valid"})]}),l==="survey_scheduled"&&n.jsxs("div",{children:[n.jsxs("label",{className:"form-label",children:["Tanggal & Waktu Survey ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"datetime-local",value:d,onChange:le=>f(le.target.value),className:"form-input"})]}),l==="survey_completed"&&n.jsxs("div",{children:[n.jsxs("label",{className:"form-label",children:["Hasil Survey ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:h,onChange:le=>m(le.target.value),rows:8,className:"form-input",placeholder:"Jelaskan hasil survey dengan detail..."}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Informasi: Lokasi ODP, jarak ke customer, panjang kabel, hambatan, dan kesimpulan feasibility"})]}),(l==="verified"||l==="approved"||l==="survey_scheduled")&&n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Catatan (Opsional)"}),n.jsx("textarea",{value:p,onChange:le=>x(le.target.value),rows:3,className:"form-input",placeholder:"Tambahkan catatan jika diperlukan..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{onClick:()=>{o(""),u(""),f(""),m(""),x("")},className:"btn-secondary",children:"Batal"}),n.jsx("button",{onClick:Y,disabled:oe.isLoading||l==="rejected"&&!c||l==="survey_scheduled"&&!d||l==="survey_completed"&&!h,className:"btn-primary",children:oe.isLoading?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-block animate-spin mr-2",children:"⏳"}),"Processing..."]}):"Konfirmasi"})]})]})]})]}),s==="timeline"&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-6",children:"Approval Timeline"}),n.jsxs("div",{className:"border-l-4 border-gray-200 pl-6 space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-green-500 border-4 border-white shadow"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(Ke,{className:"h-4 w-4 text-green-600"}),"Pendaftaran Dibuat"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(P.created_at).toLocaleString("id-ID")})]})]}),P.verified_at&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-blue-500 border-4 border-white shadow"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(Vn,{className:"h-4 w-4 text-blue-600"}),"Data Diverifikasi"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(P.verified_at).toLocaleString("id-ID")}),P.verification_notes&&n.jsx("div",{className:"mt-2 bg-blue-50 rounded p-3 border-l-2 border-blue-400",children:n.jsxs("p",{className:"text-sm text-blue-900 italic",children:['"',P.verification_notes,'"']})})]})]}),P.survey_scheduled_date&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-indigo-500 border-4 border-white shadow"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4 text-indigo-600"}),"Survey Dijadwalkan"]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Scheduled for: ",new Date(P.survey_scheduled_date).toLocaleString("id-ID")]})]})]}),P.survey_completed_date&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-purple-500 border-4 border-white shadow"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(ep,{className:"h-4 w-4 text-purple-600"}),"Survey Selesai"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(P.survey_completed_date).toLocaleString("id-ID")}),P.survey_notes&&n.jsxs("div",{className:"mt-2 bg-purple-50 rounded p-3 border-l-2 border-purple-400",children:[n.jsx("p",{className:"text-sm font-medium text-purple-900 mb-1",children:"Hasil Survey:"}),n.jsxs("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:['"',P.survey_notes,'"']})]})]})]}),P.approved_at&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-green-500 border-4 border-white shadow"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(Ke,{className:"h-4 w-4 text-green-600"}),"Pendaftaran Disetujui"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(P.approved_at).toLocaleString("id-ID")}),P.approval_notes&&n.jsx("div",{className:"mt-2 bg-green-50 rounded p-3 border-l-2 border-green-400",children:n.jsxs("p",{className:"text-sm text-green-900 italic",children:['"',P.approval_notes,'"']})})]})]}),P.rejection_reason&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-red-500 border-4 border-white shadow"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(kt,{className:"h-4 w-4 text-red-600"}),"Pendaftaran Ditolak"]}),n.jsxs("div",{className:"mt-2 bg-red-50 rounded p-3 border-l-2 border-red-400",children:[n.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Alasan:"}),n.jsxs("p",{className:"text-sm text-red-800",children:['"',P.rejection_reason,'"']})]})]})]}),P.customer_id&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-purple-500 border-4 border-white shadow"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(Eu,{className:"h-4 w-4 text-purple-600"}),"Customer Created"]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Customer ID: ",P.customer_id]}),n.jsx("button",{onClick:()=>t(`/customers/${P.customer_id}`),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"→ View Customer Detail"})]})]})]})]})]})]}),n.jsx(ga,{isOpen:g,onClose:()=>y(!1),onConfirm:fe,title:"🏠 Buat Customer & Ticket Instalasi",message:P?`Apakah Anda yakin ingin membuat customer dan ticket instalasi untuk "${P.full_name}"?`:"",confirmText:"Ya, Buat Customer",cancelText:"Batal",type:"success",isLoading:J.isLoading,children:P&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:[n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Nama:"}),n.jsx("span",{className:"font-medium text-gray-900",children:P.full_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"No. HP:"}),n.jsx("span",{className:"font-medium text-gray-900",children:P.phone||"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Paket:"}),n.jsx("span",{className:"font-medium text-gray-900",children:(B==null?void 0:B.name)||"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Harga:"}),n.jsxs("span",{className:"font-medium text-gray-900",children:["Rp ",new Intl.NumberFormat("id-ID").format((B==null?void 0:B.price)||0),"/bulan"]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:n.jsxs("p",{className:"text-xs text-gray-600",children:["✅ Customer baru akan dibuat di sistem",n.jsx("br",{}),"🎫 Ticket instalasi akan otomatis dibuatkan",n.jsx("br",{}),"📧 Notifikasi akan dikirim ke teknisi",n.jsx("br",{}),"🔗 Status registrasi akan di-update"]})})]})}),n.jsx(ga,{isOpen:b,onClose:()=>v(!1),onConfirm:ye,title:"✅ Verifikasi Data Registrasi",message:P?`Verifikasi data pendaftaran dari "${P.full_name}"?`:"",confirmText:"Ya, Verifikasi",cancelText:"Batal",type:"info",children:P&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["✅ Status akan berubah menjadi ",n.jsx("span",{className:"font-semibold text-blue-900",children:'"Verified"'}),n.jsx("br",{}),"📋 Data sudah diperiksa dan valid",n.jsx("br",{}),"⏭️ Registrasi siap untuk diproses lebih lanjut"]})})}),n.jsx(ga,{isOpen:S,onClose:()=>T(!1),onConfirm:ke,title:"✅ Approve Registrasi",message:P?`Setujui pendaftaran dari "${P.full_name}"?`:"",confirmText:"Ya, Approve",cancelText:"Batal",type:"success",children:P&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:n.jsxs("p",{className:"text-sm text-gray-700",children:["✅ Status akan berubah menjadi ",n.jsx("span",{className:"font-semibold text-green-900",children:'"Approved"'}),n.jsx("br",{}),"🎉 Pendaftaran disetujui",n.jsx("br",{}),"⏭️ Siap untuk dibuat customer & ticket instalasi"]})})}),n.jsx(ga,{isOpen:C,onClose:()=>E(!1),onConfirm:$e,title:"📅 Jadwalkan Survey",message:P?`Jadwalkan survey untuk "${P.full_name}"`:"",confirmText:"Ya, Jadwalkan",cancelText:"Batal",type:"warning",children:P&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Survey *"}),n.jsx("input",{type:"date",value:A,onChange:le=>U(le.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),n.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["📅 Status akan berubah menjadi ",n.jsx("span",{className:"font-semibold",children:'"Survey Scheduled"'})]})]})}),n.jsx(ga,{isOpen:j,onClose:()=>{N(!1),_("")},onConfirm:Pe,title:"❌ Reject Registrasi",message:P?`Tolak pendaftaran dari "${P.full_name}"?`:"",confirmText:"Ya, Reject",cancelText:"Batal",type:"danger",children:P&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alasan Reject *"}),n.jsx("textarea",{value:k,onChange:le=>_(le.target.value),rows:3,placeholder:"Tuliskan alasan reject...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none"}),n.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["❌ Status akan berubah menjadi ",n.jsx("span",{className:"font-semibold",children:'"Rejected"'})]})]})})]})},Em=({icon:e,title:t,value:r,subtitle:a,trend:s,color:i="blue"})=>{const l={blue:"bg-blue-500 text-blue-600 bg-blue-50",green:"bg-green-500 text-green-600 bg-green-50",yellow:"bg-yellow-500 text-yellow-600 bg-yellow-50",red:"bg-red-500 text-red-600 bg-red-50",purple:"bg-purple-500 text-purple-600 bg-purple-50",indigo:"bg-indigo-500 text-indigo-600 bg-indigo-50"},[o,c,u]=(l[i]||l.blue).split(" ");return n.jsx("div",{className:`${u} rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:t}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:r}),a&&n.jsx("p",{className:"text-sm text-gray-600",children:a}),s&&n.jsxs("div",{className:`flex items-center mt-2 text-sm ${s>0?"text-green-600":"text-red-600"}`,children:[s>0?n.jsx(kW,{className:"h-4 w-4 mr-1"}):n.jsx(jW,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[Math.abs(s),"% vs last period"]})]})]}),n.jsx("div",{className:`${o} p-3 rounded-lg`,children:n.jsx(e,{className:"h-6 w-6 text-white"})})]})})},iwe=()=>{const[e,t]=w.useState(30),{data:r}=Be(["registration-analytics-overview",e],()=>me.get(`/registration-analytics/overview?timeframe=${e}`),{select:d=>d.data}),{data:a}=Be(["registration-trends",e],()=>me.get(`/registration-analytics/trends?days=${e}`),{select:d=>d.data}),{data:s}=Be("registration-package-popularity",()=>me.get("/registration-analytics/package-popularity"),{select:d=>d.data}),{data:i}=Be("registration-funnel",()=>me.get("/registration-analytics/funnel"),{select:d=>d.data}),l=(r==null?void 0:r.funnel)||{},o=(r==null?void 0:r.time_metrics)||{},c=(i==null?void 0:i.map(d=>({stage:d.stage,count:parseInt(d.count),percentage:parseFloat(d.percentage)||0})))||[],u=[{name:"Pending",value:parseInt(l.pending)||0,color:"#EAB308"},{name:"Verified",value:parseInt(l.verified)||0,color:"#3B82F6"},{name:"Survey Scheduled",value:parseInt(l.survey_scheduled)||0,color:"#6366F1"},{name:"Survey Done",value:parseInt(l.survey_completed)||0,color:"#8B5CF6"},{name:"Approved",value:parseInt(l.approved)||0,color:"#10B981"},{name:"Rejected",value:parseInt(l.rejected)||0,color:"#EF4444"}].filter(d=>d.value>0);return n.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Registration Analytics"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Analisis pendaftaran customer baru"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Periode:"}),[7,30,60,90].map(d=>n.jsxs("button",{onClick:()=>t(d),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e===d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d," Hari"]},d))]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsx(Em,{icon:Zn,title:"Total Registrations",value:l.total_registrations||0,color:"blue"}),n.jsx(Em,{icon:Ke,title:"Approved",value:l.approved||0,subtitle:`${l.approval_rate||0}% approval rate`,color:"green"}),n.jsx(Em,{icon:eh,title:"Conversion Rate",value:`${l.conversion_rate||0}%`,subtitle:`${l.converted_to_customer||0} customers`,color:"purple"}),n.jsx(Em,{icon:Kt,title:"Avg Approval Time",value:`${o.avg_approval_time_hours||0}h`,subtitle:"From registration",color:"indigo"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status Distribution"}),n.jsx(ni,{width:"100%",height:300,children:n.jsxs(Rx,{children:[n.jsx(_0,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,percent:f})=>`${d}: ${(f*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((d,f)=>n.jsx(Co,{fill:d.color},`cell-${f}`))}),n.jsx(ai,{})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversion Funnel"}),n.jsx(ni,{width:"100%",height:300,children:n.jsxs(hk,{data:c,children:[n.jsx(go,{strokeDasharray:"3 3"}),n.jsx(vo,{dataKey:"stage",angle:-45,textAnchor:"end",height:100}),n.jsx(yo,{}),n.jsx(ai,{}),n.jsx(S0,{dataKey:"count",fill:"#3B82F6"})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Trends"}),n.jsx(ni,{width:"100%",height:300,children:n.jsxs(fk,{data:a||[],children:[n.jsx(go,{strokeDasharray:"3 3"}),n.jsx(vo,{dataKey:"date",tickFormatter:d=>new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"short"})}),n.jsx(yo,{}),n.jsx(ai,{labelFormatter:d=>new Date(d).toLocaleDateString("id-ID")}),n.jsx(_o,{}),n.jsx(si,{type:"monotone",dataKey:"total",stroke:"#3B82F6",strokeWidth:2,name:"Total"}),n.jsx(si,{type:"monotone",dataKey:"approved",stroke:"#10B981",strokeWidth:2,name:"Approved"}),n.jsx(si,{type:"monotone",dataKey:"rejected",stroke:"#EF4444",strokeWidth:2,name:"Rejected"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Popularity"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Package"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Speed"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Registrations"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Approved"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Rate"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s==null?void 0:s.map((d,f)=>{var h;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.package_name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[d.bandwidth_down," Mbps"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:["Rp ",(h=d.monthly_price)==null?void 0:h.toLocaleString("id-ID")]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsx("div",{className:"text-sm font-semibold text-blue-600",children:d.registration_count||0})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsx("div",{className:"text-sm font-semibold text-green-600",children:d.approved_count||0})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[d.approval_rate||0,"%"]})})]},f)})})]})})]})]})})};class lwe{async getAll(t={}){const r=new URLSearchParams;return t.category&&r.append("category",t.category),t.type&&r.append("type",t.type),t.is_active!==void 0&&r.append("is_active",t.is_active),(await me.get(`/notification-templates?${r.toString()}`)).data}async getById(t){return(await me.get(`/notification-templates/${t}`)).data}async preview(t){return(await me.get(`/notification-templates/${t}/preview`)).data}async create(t){return(await me.post("/notification-templates",t)).data}async update(t,r){return(await me.put(`/notification-templates/${t}`,r)).data}async delete(t){return(await me.delete(`/notification-templates/${t}`)).data}async render(t,r){return(await me.post("/notification-templates/render",{template_code:t,data:r})).data}async getCategories(){return(await me.get("/notification-templates/metadata/categories")).data}async getTypes(){return(await me.get("/notification-templates/metadata/types")).data}async getStats(t){return(await me.get(`/notification-templates/${t}/stats`)).data}}const Pu=new lwe,owe=({template:e,onClose:t,onSuccess:r})=>{const a=!!e,[s,i]=w.useState({template_code:(e==null?void 0:e.template_code)||"",template_name:(e==null?void 0:e.template_name)||"",description:(e==null?void 0:e.description)||"",category:(e==null?void 0:e.category)||"ticket",type:(e==null?void 0:e.type)||"",priority:(e==null?void 0:e.priority)||"normal",title_template:(e==null?void 0:e.title_template)||"",message_template:(e==null?void 0:e.message_template)||"",variables:(e==null?void 0:e.variables)||[],example_data:(e==null?void 0:e.example_data)||{},channels:(e==null?void 0:e.channels)||["web","mobile"],icon:(e==null?void 0:e.icon)||"",color:(e==null?void 0:e.color)||"",action_url_template:(e==null?void 0:e.action_url_template)||"",is_active:(e==null?void 0:e.is_active)!==void 0?e.is_active:!0}),[l,o]=w.useState(""),[c,u]=w.useState({});w.useEffect(()=>{const x=v=>{const j=/\{\{(\w+)\}\}/g,N=[];let k;for(;(k=j.exec(v))!==null;)N.includes(k[1])||N.push(k[1]);return N},g=x(s.title_template),y=x(s.message_template),b=[...new Set([...g,...y])];i(v=>({...v,variables:b}))},[s.title_template,s.message_template]);const d=jt(x=>a?Pu.update(e.id,x):Pu.create(x),{onSuccess:()=>{ee.success(a?"Template updated successfully":"Template created successfully"),r()},onError:x=>{var g,y,b,v;ee.error(((y=(g=x.response)==null?void 0:g.data)==null?void 0:y.message)||"Failed to save template"),(v=(b=x.response)==null?void 0:b.data)!=null&&v.errors&&u(x.response.data.errors)}}),f=x=>{x.preventDefault(),u({});const g={};if(s.template_code||(g.template_code="Template code is required"),s.template_name||(g.template_name="Template name is required"),s.type||(g.type="Type is required"),s.title_template||(g.title_template="Title template is required"),s.message_template||(g.message_template="Message template is required"),Object.keys(g).length>0){u(g);return}d.mutate(s)},h=(x,g)=>{i(y=>({...y,[x]:g})),c[x]&&u(y=>({...y,[x]:null}))},m=x=>{i(g=>({...g,channels:g.channels.includes(x)?g.channels.filter(y=>y!==x):[...g.channels,x]}))},p=(x,g)=>{i(y=>({...y,example_data:{...y.example_data,[x]:g}}))};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?"Edit Template":"Create Template"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsx("form",{onSubmit:f,className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Code *"}),n.jsx("input",{type:"text",value:s.template_code,onChange:x=>h("template_code",x.target.value.toUpperCase().replace(/\s/g,"_")),disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:"TICKET_ASSIGNED"}),c.template_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.template_code})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name *"}),n.jsx("input",{type:"text",value:s.template_name,onChange:x=>h("template_name",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tiket Ditugaskan"}),c.template_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.template_name})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:s.description,onChange:x=>h("description",x.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Description of this template..."})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsxs("select",{value:s.category,onChange:x=>h("category",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"ticket",children:"Ticket"}),n.jsx("option",{value:"customer",children:"Customer"}),n.jsx("option",{value:"system",children:"System"}),n.jsx("option",{value:"payment",children:"Payment"}),n.jsx("option",{value:"technician",children:"Technician"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),n.jsx("input",{type:"text",value:s.type,onChange:x=>h("type",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ticket_assigned"}),c.type&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.type})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),n.jsxs("select",{value:s.priority,onChange:x=>h("priority",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title Template *",n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Use ","{{"," variable ","}"," for placeholders"]})]}),n.jsx("input",{type:"text",value:s.title_template,onChange:x=>h("title_template",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"Tiket Baru #{{ticket_number}}"}),c.title_template&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.title_template})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Message Template *",n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Use ","{{"," variable ","}"," for placeholders"]})]}),n.jsx("textarea",{value:s.message_template,onChange:x=>h("message_template",x.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"Anda mendapat tiket baru {{ticket_type}} untuk {{customer_name}}"}),c.message_template&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.message_template})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Variables (Auto-detected)"}),!s.variables||s.variables.length===0?n.jsxs("p",{className:"text-sm text-gray-500 italic",children:["No variables detected. Use ","{{"," variable ","}"," syntax in templates."]}):n.jsx("div",{className:"space-y-2",children:s.variables.map(x=>{var g;return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm font-mono bg-purple-100 text-purple-700 px-2 py-1 rounded",children:`{{${x}}}`}),n.jsx("input",{type:"text",value:((g=s.example_data)==null?void 0:g[x])||"",onChange:y=>p(x,y.target.value),placeholder:`Example value for ${x}`,className:"flex-1 px-3 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},x)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Channels"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["web","mobile","email","sms"].map(x=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.channels.includes(x),onChange:()=>m(x),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700 capitalize",children:x})]},x))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon (Lucide icon name)"}),n.jsx("input",{type:"text",value:s.icon,onChange:x=>h("icon",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"check-circle"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),n.jsx("input",{type:"text",value:s.color,onChange:x=>h("color",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"blue"})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.is_active,onChange:x=>h("is_active",x.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})})]})}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:d.isLoading,children:"Cancel"}),n.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:d.isLoading,children:d.isLoading?"Saving...":a?"Update Template":"Create Template"})]})]})})},cwe=({previewData:e,onClose:t})=>{const{template:r,preview:a}=e;return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Template Preview"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Template Info"}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.template_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Code:"}),n.jsx("span",{className:"text-sm font-mono bg-gray-200 px-2 py-0.5 rounded",children:r.template_code})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Category:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:r.category})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Priority:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:r.priority})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Rendered Output"}),n.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase",children:"Title"}),n.jsx("p",{className:"text-base font-semibold text-gray-900 mt-1",children:a.title})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase",children:"Message"}),n.jsx("p",{className:"text-sm text-gray-800 mt-1",children:a.message})]}),a.action_url&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[n.jsx("label",{className:"text-xs font-semibold text-blue-700 uppercase",children:"Action URL"}),n.jsx("p",{className:"text-sm text-blue-600 mt-1 break-all",children:a.action_url})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Templates"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Title Template"}),n.jsx("p",{className:"text-sm font-mono bg-gray-50 p-2 rounded mt-1",children:r.title_template})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Message Template"}),n.jsx("p",{className:"text-sm font-mono bg-gray-50 p-2 rounded mt-1",children:r.message_template})]})]})]}),r.example_data&&Object.keys(r.example_data).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Example Data"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsx("pre",{className:"text-xs font-mono text-gray-800 whitespace-pre-wrap",children:JSON.stringify(r.example_data,null,2)})})]})]}),n.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:n.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})})]})})},uwe=()=>{const e=qt(),[t,r]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState("all"),[o,c]=w.useState(!1),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[m,p]=w.useState(null),[x,g]=w.useState(null),{data:y,isLoading:b,error:v}=Be(["notification-templates",a,i],()=>Pu.getAll({category:a||void 0,is_active:i==="all"?void 0:i==="active"}),{refetchOnWindowFocus:!1}),j=y||[],N=jt(R=>Pu.delete(R),{onSuccess:()=>{e.invalidateQueries("notification-templates"),ee.success("Template berhasil dihapus"),h(!1),p(null)},onError:R=>{var P,B;ee.error(((B=(P=R.response)==null?void 0:P.data)==null?void 0:B.message)||"Gagal menghapus template")}}),k=jt(async R=>{const P={...R,template_code:`${R.template_code}_COPY`,template_name:`${R.template_name} (Copy)`,id:void 0,created_at:void 0,updated_at:void 0,created_by:void 0,updated_by:void 0,created_by_username:void 0,updated_by_username:void 0};return Pu.create(P)},{onSuccess:()=>{e.invalidateQueries("notification-templates"),ee.success("Template berhasil diduplikasi")},onError:R=>{var P,B;ee.error(((B=(P=R.response)==null?void 0:P.data)==null?void 0:B.message)||"Gagal menduplikasi template")}}),_=j.filter(R=>{var B;return R.template_name.toLowerCase().includes(t.toLowerCase())||R.template_code.toLowerCase().includes(t.toLowerCase())||((B=R.description)==null?void 0:B.toLowerCase().includes(t.toLowerCase()))}),S=()=>{p(null),c(!0)},T=R=>{p(R),c(!0)},C=async R=>{try{const P=await Pu.preview(R.id);g(P),d(!0)}catch(P){console.error("❌ Preview error:",P),ee.error("Gagal memuat preview")}},E=R=>{p(R),h(!0)},A=R=>{k.mutate(R)},U=()=>{m&&N.mutate(m.id)},V=[...new Set(j.map(R=>R.category).filter(Boolean))],ae={low:"bg-gray-100 text-gray-700",normal:"bg-blue-100 text-blue-700",high:"bg-orange-100 text-orange-700",urgent:"bg-red-100 text-red-700"},q={ticket:"text-blue-600",customer:"text-green-600",system:"text-red-600",payment:"text-purple-600",technician:"text-yellow-600"};return n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notification Templates"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage reusable notification templates"})]}),n.jsxs("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Gt,{className:"h-5 w-5"}),n.jsx("span",{children:"Create Template"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"relative",children:[n.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search templates...",value:t,onChange:R=>r(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsx("div",{children:n.jsxs("select",{value:a,onChange:R=>s(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Categories"}),V.map(R=>n.jsx("option",{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))]})}),n.jsx("div",{children:n.jsxs("select",{value:i,onChange:R=>l(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active Only"}),n.jsx("option",{value:"inactive",children:"Inactive Only"})]})})]}),n.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm text-gray-600",children:[n.jsxs("span",{children:[_.length," templates found"]}),n.jsx("span",{children:"•"}),n.jsxs("span",{children:[j.filter(R=>R.is_active).length," active"]}),n.jsx("span",{children:"•"}),n.jsxs("span",{children:[V.length," categories"]})]})]}),b?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading templates..."})]}):_.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[n.jsx(Pi,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No templates found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:t||a?"Try adjusting your filters":"Create your first notification template"}),!t&&!a&&n.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Template"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map(R=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.template_name}),R.is_active?n.jsx(Ke,{className:"h-5 w-5 text-green-500"}):n.jsx(kt,{className:"h-5 w-5 text-gray-400"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:R.description}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs font-mono bg-gray-100 text-gray-700 px-2 py-1 rounded",children:R.template_code}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${q[R.category]||"text-gray-600"} bg-gray-100`,children:R.category}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ae[R.priority]}`,children:R.priority})]})]})})}),n.jsxs("div",{className:"p-4 space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Title Template"}),n.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono bg-gray-50 p-2 rounded",children:R.title_template})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Message Template"}),n.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono bg-gray-50 p-2 rounded",children:R.message_template})]}),R.variables&&R.variables.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Variables"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:R.variables.map(P=>n.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:`{{${P}}}`},P))})]})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>C(R),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:n.jsx(yc,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>T(R),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:n.jsx(IW,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>A(R),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Duplicate",children:n.jsx(Ts,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>E(R),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:n.jsx(sa,{className:"h-5 w-5"})})]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(R.created_at).toLocaleDateString()})]})]},R.id))}),o&&n.jsx(owe,{template:m,onClose:()=>{c(!1),p(null)},onSuccess:()=>{e.invalidateQueries("notification-templates"),c(!1),p(null)}}),u&&x&&n.jsx(cwe,{previewData:x,onClose:()=>{d(!1),g(null)}}),f&&n.jsx(ga,{title:"Delete Template",message:`Are you sure you want to delete "${m==null?void 0:m.template_name}"? This action cannot be undone.`,confirmText:"Delete",confirmClass:"bg-red-600 hover:bg-red-700",onConfirm:U,onCancel:()=>{h(!1),p(null)},isLoading:N.isLoading})]})};class dwe{async trackView(t,r={}){return(await me.post("/notification-analytics/track/view",{notification_id:t,metadata:r})).data}async trackRead(t){return(await me.post("/notification-analytics/track/read",{notification_id:t})).data}async trackClick(t){return(await me.post("/notification-analytics/track/click",{notification_id:t})).data}async getOverview(t={}){const r=new URLSearchParams;return t.start_date&&r.append("start_date",t.start_date),t.end_date&&r.append("end_date",t.end_date),t.type&&r.append("type",t.type),t.priority&&r.append("priority",t.priority),(await me.get(`/notification-analytics/overview?${r.toString()}`)).data}async getByType(t={}){const r=new URLSearchParams;return t.start_date&&r.append("start_date",t.start_date),t.end_date&&r.append("end_date",t.end_date),(await me.get(`/notification-analytics/by-type?${r.toString()}`)).data}async getByPriority(t={}){const r=new URLSearchParams;return t.start_date&&r.append("start_date",t.start_date),t.end_date&&r.append("end_date",t.end_date),(await me.get(`/notification-analytics/by-priority?${r.toString()}`)).data}async getTrend(t=30){return(await me.get(`/notification-analytics/trend?days=${t}`)).data}async getDeviceStats(){return(await me.get("/notification-analytics/devices")).data}async getTopPerforming(t=10){return(await me.get(`/notification-analytics/top-performing?limit=${t}`)).data}}const hu=new dwe,fwe=()=>{const[e,t]=w.useState("30"),[r,a]=w.useState(""),[s,i]=w.useState(""),{data:l,isLoading:o}=Be(["notification-analytics-overview",r,s],()=>hu.getOverview({type:r||void 0,priority:s||void 0}),{refetchOnWindowFocus:!1}),{data:c,isLoading:u}=Be(["notification-analytics-trend",e],()=>hu.getTrend(parseInt(e)),{refetchOnWindowFocus:!1}),{data:d}=Be(["notification-analytics-by-type"],()=>hu.getByType(),{refetchOnWindowFocus:!1}),{data:f}=Be(["notification-analytics-by-priority"],()=>hu.getByPriority(),{refetchOnWindowFocus:!1}),{data:h}=Be(["notification-analytics-devices"],()=>hu.getDeviceStats(),{refetchOnWindowFocus:!1}),{data:m}=Be(["notification-analytics-top"],()=>hu.getTopPerforming(5),{refetchOnWindowFocus:!1}),p=(l==null?void 0:l.data)||{},x=(c==null?void 0:c.data)||[],g=(d==null?void 0:d.data)||[],y=(f==null?void 0:f.data)||[],b=(h==null?void 0:h.data)||[],v=(m==null?void 0:m.data)||[],j=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],N=S=>S?new Intl.NumberFormat("id-ID").format(S):"0",k=S=>S?`${parseFloat(S).toFixed(1)}%`:"0%",_=S=>S?S<60?`${Math.round(S)}s`:S<3600?`${Math.round(S/60)}m`:`${(S/3600).toFixed(1)}h`:"-";return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notification Analytics"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Track engagement and performance metrics"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),n.jsxs("select",{value:e,onChange:S=>t(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"7",children:"Last 7 days"}),n.jsx("option",{value:"14",children:"Last 14 days"}),n.jsx("option",{value:"30",children:"Last 30 days"}),n.jsx("option",{value:"60",children:"Last 60 days"}),n.jsx("option",{value:"90",children:"Last 90 days"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),n.jsxs("select",{value:r,onChange:S=>a(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Types"}),g.map(S=>n.jsx("option",{value:S.type,children:S.type},S.type))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsxs("select",{value:s,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Priorities"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"urgent",children:"Urgent"})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Sent"}),n.jsx(eh,{className:"h-5 w-5 text-blue-600"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:N(p.total_sent)}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Notifications delivered"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"View Rate"}),n.jsx(yc,{className:"h-5 w-5 text-green-600"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:k(p.view_rate)}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[N(p.total_viewed)," viewed"]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Read Rate"}),n.jsx(Zm,{className:"h-5 w-5 text-purple-600"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:k(p.read_rate)}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[N(p.total_read)," read"]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Click Rate"}),n.jsx(DW,{className:"h-5 w-5 text-orange-600"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:k(p.click_rate)}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[N(p.total_clicked)," clicks"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Avg Time to View"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_(p.avg_time_to_view)})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Avg Time to Read"}),n.jsx("p",{className:"text-2xl font-bold text-purple-700",children:_(p.avg_time_to_read)})]}),n.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Avg Time to Click"}),n.jsx("p",{className:"text-2xl font-bold text-orange-700",children:_(p.avg_time_to_click)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Daily Trend"}),n.jsx(br,{className:"h-5 w-5 text-gray-400"})]}),u?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsx(ni,{width:"100%",height:300,children:n.jsxs(fk,{data:x.slice().reverse(),children:[n.jsx(go,{strokeDasharray:"3 3"}),n.jsx(vo,{dataKey:"date",tickFormatter:S=>new Date(S).toLocaleDateString("id-ID",{month:"short",day:"numeric"})}),n.jsx(yo,{}),n.jsx(ai,{labelFormatter:S=>new Date(S).toLocaleDateString("id-ID")}),n.jsx(_o,{}),n.jsx(si,{type:"monotone",dataKey:"total_sent",stroke:"#3B82F6",name:"Sent"}),n.jsx(si,{type:"monotone",dataKey:"total_viewed",stroke:"#10B981",name:"Viewed"}),n.jsx(si,{type:"monotone",dataKey:"total_read",stroke:"#8B5CF6",name:"Read"}),n.jsx(si,{type:"monotone",dataKey:"total_clicked",stroke:"#F59E0B",name:"Clicked"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"By Priority"}),n.jsx(zp,{className:"h-5 w-5 text-gray-400"})]}),n.jsx(ni,{width:"100%",height:300,children:n.jsxs(hk,{data:y,children:[n.jsx(go,{strokeDasharray:"3 3"}),n.jsx(vo,{dataKey:"priority"}),n.jsx(yo,{}),n.jsx(ai,{}),n.jsx(_o,{}),n.jsx(S0,{dataKey:"total_sent",fill:"#3B82F6",name:"Sent"}),n.jsx(S0,{dataKey:"total_read",fill:"#8B5CF6",name:"Read"})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribution by Type"}),n.jsx(RW,{className:"h-5 w-5 text-gray-400"})]}),n.jsx(ni,{width:"100%",height:300,children:n.jsxs(Rx,{children:[n.jsx(_0,{data:g,dataKey:"total_sent",nameKey:"type",cx:"50%",cy:"50%",outerRadius:100,label:S=>`${S.type.split("_")[0]}: ${S.total_sent}`,children:g.map((S,T)=>n.jsx(Co,{fill:j[T%j.length]},`cell-${T}`))}),n.jsx(ai,{})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Device Distribution"}),n.jsx(oc,{className:"h-5 w-5 text-gray-400"})]}),b.length>0?n.jsx(ni,{width:"100%",height:300,children:n.jsxs(Rx,{children:[n.jsx(_0,{data:b,dataKey:"total",nameKey:"device_type",cx:"50%",cy:"50%",outerRadius:100,label:S=>`${S.device_type}: ${S.total}`,children:b.map((S,T)=>n.jsx(Co,{fill:j[T%j.length]},`cell-${T}`))}),n.jsx(ai,{})]})}):n.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No device data available"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Notifications"}),v.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Type"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Title"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Priority"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Users"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Reads"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Clicks"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Click Rate"})]})}),n.jsx("tbody",{children:v.map((S,T)=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"text-xs font-mono bg-gray-100 text-gray-700 px-2 py-1 rounded",children:S.type})}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:S.title}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S.priority==="urgent"?"bg-red-100 text-red-700":S.priority==="high"?"bg-orange-100 text-orange-700":S.priority==="normal"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:S.priority})}),n.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:N(S.unique_users)}),n.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:N(S.total_reads)}),n.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:N(S.total_clicks)}),n.jsx("td",{className:"py-3 px-4 text-sm text-right font-semibold text-green-600",children:k(S.click_rate)})]},S.id))})]})}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No performance data available"})]})]})};class hwe{async getAdvancedSettings(){return(await me.get("/notification-settings/advanced")).data}async updateAdvancedSettings(t){return(await me.put("/notification-settings/advanced",t)).data}async updateTypeSettings(t,r){return(await me.put(`/notification-settings/type/${t}`,r)).data}async registerDevice(t){return(await me.post("/notification-settings/devices/register",t)).data}async unregisterDevice(t){return(await me.post("/notification-settings/devices/unregister",{device_token:t})).data}async getDevices(){return(await me.get("/notification-settings/devices")).data}}const Tm=new hwe,mwe=()=>{const e=qt(),[t,r]=w.useState("channels"),{data:a,isLoading:s}=Be("notification-settings-advanced",()=>Tm.getAdvancedSettings(),{refetchOnWindowFocus:!1}),{data:i}=Be("notification-devices",()=>Tm.getDevices(),{refetchOnWindowFocus:!1}),l=(a==null?void 0:a.data)||{},o=(i==null?void 0:i.data)||[],c=jt(m=>Tm.updateAdvancedSettings(m),{onSuccess:()=>{e.invalidateQueries("notification-settings-advanced"),ee.success("Settings updated successfully")},onError:m=>{var p,x;ee.error(((x=(p=m.response)==null?void 0:p.data)==null?void 0:x.message)||"Failed to update settings")}}),u=jt(m=>Tm.unregisterDevice(m),{onSuccess:()=>{e.invalidateQueries("notification-devices"),ee.success("Device unregistered successfully")},onError:m=>{var p,x;ee.error(((x=(p=m.response)==null?void 0:p.data)==null?void 0:x.message)||"Failed to unregister device")}}),d=(m,p)=>{c.mutate({[m]:p})},f=m=>{window.confirm("Are you sure you want to unregister this device?")&&u.mutate(m)},h=[{id:"channels",label:"Channels",icon:Ai},{id:"quiet-hours",label:"Quiet Hours",icon:tO},{id:"filters",label:"Filters",icon:J5},{id:"cleanup",label:"Auto-Cleanup",icon:sa},{id:"devices",label:"Devices",icon:oc}];return s?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Customize your notification preferences"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("div",{className:"flex space-x-8 px-6",children:h.map(m=>{const p=m.icon;return n.jsxs("button",{onClick:()=>r(m.id),className:`flex items-center space-x-2 py-4 border-b-2 transition-colors ${t===m.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[n.jsx(p,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:m.label})]},m.id)})})}),n.jsxs("div",{className:"p-6",children:[t==="channels"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Channels"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose which channels you want to receive notifications through"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Z5,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Web Notifications"}),n.jsx("p",{className:"text-sm text-gray-600",children:"In-app notifications"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.web_notifications,onChange:m=>d("web_notifications",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),n.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(oc,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Mobile Push"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Push notifications on mobile"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.mobile_push,onChange:m=>d("mobile_push",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),n.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(na,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive via email"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.email_notifications,onChange:m=>d("email_notifications",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),n.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(OW,{className:"h-6 w-6 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"SMS Notifications"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive via SMS"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.sms_notifications,onChange:m=>d("sms_notifications",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),t==="quiet-hours"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quiet Hours"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Set times when you don't want to receive non-urgent notifications"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Enable Quiet Hours"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Only urgent notifications will be delivered"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.quiet_hours_enabled,onChange:m=>d("quiet_hours_enabled",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.quiet_hours_enabled&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),n.jsx("input",{type:"time",value:l.quiet_hours_start||"22:00",onChange:m=>d("quiet_hours_start",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),n.jsx("input",{type:"time",value:l.quiet_hours_end||"07:00",onChange:m=>d("quiet_hours_end",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-6",children:n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Do Not Disturb"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pause all notifications temporarily"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.dnd_enabled,onChange:m=>d("dnd_enabled",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]})]}),t==="filters"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Priority Filters"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose which priority levels you want to receive"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Urgent Priority"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Critical notifications"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.show_urgent_priority,onChange:m=>d("show_urgent_priority",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"High Priority"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Important notifications"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.show_high_priority,onChange:m=>d("show_high_priority",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Normal Priority"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Standard notifications"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.show_normal_priority,onChange:m=>d("show_normal_priority",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Low Priority"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Informational notifications"})]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.show_low_priority,onChange:m=>d("show_low_priority",m.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),t==="cleanup"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Auto-Cleanup"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Automatically manage old notifications"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto-Archive After (days)"}),n.jsx("input",{type:"number",min:"0",value:l.auto_archive_after_days||30,onChange:m=>d("auto_archive_after_days",parseInt(m.target.value)),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Read notifications will be archived automatically. Set to 0 to disable."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto-Delete After (days)"}),n.jsx("input",{type:"number",min:"0",value:l.auto_delete_after_days||90,onChange:m=>d("auto_delete_after_days",parseInt(m.target.value)),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Archived notifications will be deleted permanently. Set to 0 to disable."})]})]})]}),t==="devices"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registered Devices"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Manage devices registered for push notifications"})]}),o.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(oc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No devices registered"}),n.jsx("p",{className:"text-gray-600",children:"Install the mobile app to receive push notifications"})]}):n.jsx("div",{className:"space-y-4",children:o.map(m=>n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(oc,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:m.device_name||`${m.device_type} Device`}),n.jsxs("p",{className:"text-sm text-gray-600",children:[m.device_model," • ",m.os_version]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last active: ",new Date(m.last_active_at).toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[m.is_active&&n.jsxs("span",{className:"flex items-center space-x-1 text-sm text-green-600",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx("span",{children:"Active"})]}),n.jsx("button",{onClick:()=>f(m.device_token),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Unregister device",children:n.jsx(sa,{className:"h-5 w-5"})})]})]},m.id))})]})]})]})]})};function pwe(){const{user:e,loading:t}=tn();return t?n.jsx(St,{}):n.jsx(vW,{children:n.jsx(xW,{children:n.jsxs(h$,{children:[n.jsx(Et,{path:"/login",element:e?n.jsx(Gh,{to:"/dashboard",replace:!0}):n.jsx(vq,{})}),n.jsx(Et,{path:"/register",element:n.jsx(awe,{})}),n.jsx(Et,{path:"/track",element:n.jsx(jA,{})}),n.jsx(Et,{path:"/track/:registrationNumber",element:n.jsx(jA,{})}),n.jsxs(Et,{path:"/*",element:e?n.jsx(bH,{}):n.jsx(Gh,{to:"/login",replace:!0}),children:[n.jsx(Et,{path:"dashboard",element:n.jsx(Mq,{})}),n.jsx(Et,{path:"analytics",element:n.jsx(vue,{})}),n.jsx(Et,{path:"tickets",element:n.jsx(w1e,{})}),n.jsx(Et,{path:"tickets/:id",element:n.jsx(N1e,{})}),n.jsx(Et,{path:"customers",element:n.jsx(S1e,{})}),n.jsx(Et,{path:"customers/:id",element:n.jsx(T1e,{})}),n.jsx(Et,{path:"registrations",element:n.jsx(nwe,{})}),n.jsx(Et,{path:"registrations/:id",element:n.jsx(swe,{})}),n.jsx(Et,{path:"registration-analytics",element:n.jsx(iwe,{})}),n.jsx(Et,{path:"technicians",element:n.jsx(P1e,{})}),n.jsx(Et,{path:"technicians/:id",element:n.jsx(O1e,{})}),n.jsx(Et,{path:"inventory",element:n.jsx(F1e,{})}),n.jsx(Et,{path:"inventory-stock",element:n.jsx(I1e,{})}),n.jsx(Et,{path:"master-data/service-types",element:n.jsx(H1e,{})}),n.jsx(Et,{path:"master-data/service-categories",element:n.jsx(K1e,{})}),n.jsx(Et,{path:"master-data/packages",element:n.jsx(M1e,{})}),n.jsx(Et,{path:"master-data/price-list",element:n.jsx($1e,{})}),n.jsx(Et,{path:"master-data/equipment",element:n.jsx(U1e,{})}),n.jsx(Et,{path:"master-data/odp",element:n.jsx(W1e,{})}),n.jsx(Et,{path:"notifications/templates",element:n.jsx(uwe,{})}),n.jsx(Et,{path:"notifications/analytics",element:n.jsx(fwe,{})}),n.jsx(Et,{path:"notifications/settings",element:n.jsx(mwe,{})}),n.jsx(Et,{path:"users",element:n.jsx(ewe,{})}),n.jsx(Et,{path:"permissions",element:n.jsx(twe,{})}),n.jsx(Et,{path:"profile",element:n.jsx(rwe,{})}),n.jsx(Et,{path:"",element:n.jsx(Gh,{to:"/dashboard",replace:!0})})]}),n.jsx(Et,{path:"*",element:n.jsx(Gh,{to:"/dashboard",replace:!0})})]})})})}const xwe=new H$({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});lb.createRoot(document.getElementById("root")).render(n.jsx(vt.StrictMode,{children:n.jsxs(Y$,{client:xwe,children:[n.jsx(w$,{children:n.jsxs(bz,{children:[n.jsx(pwe,{}),n.jsx(VB,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}}}})]})}),n.jsx(rB.ReactQueryDevtools,{initialIsOpen:!1})]})}));
//# sourceMappingURL=index-BxYfAk_c.js.map
