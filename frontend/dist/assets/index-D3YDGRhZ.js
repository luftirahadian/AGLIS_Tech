var DM=Object.defineProperty;var FM=(e,t,r)=>t in e?DM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Nv=(e,t,r)=>FM(e,typeof t!="symbol"?t+"":t,r);function IM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var RM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Es(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fA={exports:{}},Rx={},hA={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=Symbol.for("react.element"),MM=Symbol.for("react.portal"),LM=Symbol.for("react.fragment"),$M=Symbol.for("react.strict_mode"),BM=Symbol.for("react.profiler"),UM=Symbol.for("react.provider"),zM=Symbol.for("react.context"),WM=Symbol.for("react.forward_ref"),VM=Symbol.for("react.suspense"),HM=Symbol.for("react.memo"),KM=Symbol.for("react.lazy"),K_=Symbol.iterator;function qM(e){return e===null||typeof e!="object"?null:(e=K_&&e[K_]||e["@@iterator"],typeof e=="function"?e:null)}var mA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pA=Object.assign,xA={};function od(e,t,r){this.props=e,this.context=t,this.refs=xA,this.updater=r||mA}od.prototype.isReactComponent={};od.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};od.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gA(){}gA.prototype=od.prototype;function Sw(e,t,r){this.props=e,this.context=t,this.refs=xA,this.updater=r||mA}var Ew=Sw.prototype=new gA;Ew.constructor=Sw;pA(Ew,od.prototype);Ew.isPureReactComponent=!0;var q_=Array.isArray,vA=Object.prototype.hasOwnProperty,Cw={current:null},yA={key:!0,ref:!0,__self:!0,__source:!0};function bA(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)vA.call(t,n)&&!yA.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:O0,type:e,key:i,ref:l,props:a,_owner:Cw.current}}function GM(e,t){return{$$typeof:O0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tw(e){return typeof e=="object"&&e!==null&&e.$$typeof===O0}function XM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var G_=/\/+/g;function _v(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XM(""+e.key):t.toString(36)}function vm(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case O0:case MM:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+_v(l,0):n,q_(a)?(r="",e!=null&&(r=e.replace(G_,"$&/")+"/"),vm(a,t,r,"",function(u){return u})):a!=null&&(Tw(a)&&(a=GM(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(G_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",q_(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+_v(i,o);l+=vm(i,t,r,c,a)}else if(c=qM(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+_v(i,o++),l+=vm(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function bh(e,t,r){if(e==null)return e;var n=[],a=0;return vm(e,n,"","",function(i){return t.call(r,i,a++)}),n}function QM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ia={current:null},ym={transition:null},YM={ReactCurrentDispatcher:ia,ReactCurrentBatchConfig:ym,ReactCurrentOwner:Cw};function wA(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:bh,forEach:function(e,t,r){bh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bh(e,function(){t++}),t},toArray:function(e){return bh(e,function(t){return t})||[]},only:function(e){if(!Tw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=od;gt.Fragment=LM;gt.Profiler=BM;gt.PureComponent=Sw;gt.StrictMode=$M;gt.Suspense=VM;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YM;gt.act=wA;gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pA({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Cw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)vA.call(t,c)&&!yA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:O0,type:e.type,key:a,ref:i,props:n,_owner:l}};gt.createContext=function(e){return e={$$typeof:zM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UM,_context:e},e.Consumer=e};gt.createElement=bA;gt.createFactory=function(e){var t=bA.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:WM,render:e}};gt.isValidElement=Tw;gt.lazy=function(e){return{$$typeof:KM,_payload:{_status:-1,_result:e},_init:QM}};gt.memo=function(e,t){return{$$typeof:HM,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=ym.transition;ym.transition={};try{e()}finally{ym.transition=t}};gt.unstable_act=wA;gt.useCallback=function(e,t){return ia.current.useCallback(e,t)};gt.useContext=function(e){return ia.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return ia.current.useDeferredValue(e)};gt.useEffect=function(e,t){return ia.current.useEffect(e,t)};gt.useId=function(){return ia.current.useId()};gt.useImperativeHandle=function(e,t,r){return ia.current.useImperativeHandle(e,t,r)};gt.useInsertionEffect=function(e,t){return ia.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return ia.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return ia.current.useMemo(e,t)};gt.useReducer=function(e,t,r){return ia.current.useReducer(e,t,r)};gt.useRef=function(e){return ia.current.useRef(e)};gt.useState=function(e){return ia.current.useState(e)};gt.useSyncExternalStore=function(e,t,r){return ia.current.useSyncExternalStore(e,t,r)};gt.useTransition=function(){return ia.current.useTransition()};gt.version="18.3.1";hA.exports=gt;var w=hA.exports;const yt=Es(w),jA=IM({__proto__:null,default:yt},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JM=w,ZM=Symbol.for("react.element"),eL=Symbol.for("react.fragment"),tL=Object.prototype.hasOwnProperty,rL=JM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nL={key:!0,ref:!0,__self:!0,__source:!0};function NA(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)tL.call(t,n)&&!nL.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ZM,type:e,key:i,ref:l,props:a,_owner:rL.current}}Rx.Fragment=eL;Rx.jsx=NA;Rx.jsxs=NA;fA.exports=Rx;var s=fA.exports,Gy={},_A={exports:{}},Ga={},kA={exports:{}},SA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,U){var te=H.length;H.push(U);e:for(;0<te;){var K=te-1>>>1,D=H[K];if(0<a(D,U))H[K]=U,H[te]=D,te=K;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var U=H[0],te=H.pop();if(te!==U){H[0]=te;e:for(var K=0,D=H.length,L=D>>>1;K<L;){var F=2*(K+1)-1,O=H[F],re=F+1,oe=H[re];if(0>a(O,te))re<D&&0>a(oe,O)?(H[K]=oe,H[re]=te,K=re):(H[K]=O,H[F]=te,K=F);else if(re<D&&0>a(oe,te))H[K]=oe,H[re]=te,K=re;else break e}}return U}function a(H,U){var te=H.sortIndex-U.sortIndex;return te!==0?te:H.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(H){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=H)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function N(H){if(x=!1,v(H),!p)if(r(c)!==null)p=!0,z(_);else{var U=r(u);U!==null&&R(N,U.startTime-H)}}function _(H,U){p=!1,x&&(x=!1,y(E),E=-1),m=!0;var te=h;try{for(v(U),f=r(c);f!==null&&(!(f.expirationTime>U)||H&&!A());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var D=K(f.expirationTime<=U);U=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),v(U)}else n(c);f=r(c)}if(f!==null)var L=!0;else{var F=r(u);F!==null&&R(N,F.startTime-U),L=!1}return L}finally{f=null,h=te,m=!1}}var j=!1,k=null,E=-1,T=5,C=-1;function A(){return!(e.unstable_now()-C<T)}function S(){if(k!==null){var H=e.unstable_now();C=H;var U=!0;try{U=k(!0,H)}finally{U?B():(j=!1,k=null)}}else j=!1}var B;if(typeof b=="function")B=function(){b(S)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Y=M.port2;M.port1.onmessage=S,B=function(){Y.postMessage(null)}}else B=function(){g(S,0)};function z(H){k=H,j||(j=!0,B())}function R(H,U){E=g(function(){H(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,z(_))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(H){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var te=h;h=U;try{return H()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,U){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=h;h=H;try{return U()}finally{h=te}},e.unstable_scheduleCallback=function(H,U,te){var K=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?K+te:K):te=K,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,H={id:d++,callback:U,priorityLevel:H,startTime:te,expirationTime:D,sortIndex:-1},te>K?(H.sortIndex=te,t(u,H),r(c)===null&&H===r(u)&&(x?(y(E),E=-1):x=!0,R(N,te-K))):(H.sortIndex=D,t(c,H),p||m||(p=!0,z(_))),H},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(H){var U=h;return function(){var te=h;h=U;try{return H.apply(this,arguments)}finally{h=te}}}})(SA);kA.exports=SA;var aL=kA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sL=w,Wa=aL;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EA=new Set,Lf={};function Rc(e,t){Lu(e,t),Lu(e+"Capture",t)}function Lu(e,t){for(Lf[e]=t,e=0;e<t.length;e++)EA.add(t[e])}var cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xy=Object.prototype.hasOwnProperty,iL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X_={},Q_={};function lL(e){return Xy.call(Q_,e)?!0:Xy.call(X_,e)?!1:iL.test(e)?Q_[e]=!0:(X_[e]=!0,!1)}function oL(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cL(e,t,r,n){if(t===null||typeof t>"u"||oL(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function la(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kn[e]=new la(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kn[t]=new la(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kn[e]=new la(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kn[e]=new la(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kn[e]=new la(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kn[e]=new la(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kn[e]=new la(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kn[e]=new la(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kn[e]=new la(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aw=/[\-:]([a-z])/g;function Pw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Aw,Pw);kn[t]=new la(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Aw,Pw);kn[t]=new la(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Aw,Pw);kn[t]=new la(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kn[e]=new la(e,1,!1,e.toLowerCase(),null,!1,!1)});kn.xlinkHref=new la("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kn[e]=new la(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ow(e,t,r,n){var a=kn.hasOwnProperty(t)?kn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cL(t,r,a,n)&&(r=null),n||a===null?lL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yl=sL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wh=Symbol.for("react.element"),su=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),Dw=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),CA=Symbol.for("react.provider"),TA=Symbol.for("react.context"),Fw=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Jy=Symbol.for("react.suspense_list"),Iw=Symbol.for("react.memo"),Dl=Symbol.for("react.lazy"),AA=Symbol.for("react.offscreen"),Y_=Symbol.iterator;function Md(e){return e===null||typeof e!="object"?null:(e=Y_&&e[Y_]||e["@@iterator"],typeof e=="function"?e:null)}var gr=Object.assign,kv;function nf(e){if(kv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);kv=t&&t[1]||""}return`
`+kv+e}var Sv=!1;function Ev(e,t){if(!e||Sv)return"";Sv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Sv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nf(e):""}function uL(e){switch(e.tag){case 5:return nf(e.type);case 16:return nf("Lazy");case 13:return nf("Suspense");case 19:return nf("SuspenseList");case 0:case 2:case 15:return e=Ev(e.type,!1),e;case 11:return e=Ev(e.type.render,!1),e;case 1:return e=Ev(e.type,!0),e;default:return""}}function Zy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case iu:return"Fragment";case su:return"Portal";case Qy:return"Profiler";case Dw:return"StrictMode";case Yy:return"Suspense";case Jy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TA:return(e.displayName||"Context")+".Consumer";case CA:return(e._context.displayName||"Context")+".Provider";case Fw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Iw:return t=e.displayName||null,t!==null?t:Zy(e.type)||"Memo";case Dl:t=e._payload,e=e._init;try{return Zy(e(t))}catch{}}return null}function dL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zy(t);case 8:return t===Dw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fL(e){var t=PA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jh(e){e._valueTracker||(e._valueTracker=fL(e))}function OA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=PA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function e1(e,t){var r=t.checked;return gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function J_(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=io(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DA(e,t){t=t.checked,t!=null&&Ow(e,"checked",t,!1)}function t1(e,t){DA(e,t);var r=io(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?r1(e,t.type,r):t.hasOwnProperty("defaultValue")&&r1(e,t.type,io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Z_(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function r1(e,t,r){(t!=="number"||qm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var af=Array.isArray;function yu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+io(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function n1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ek(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Oe(92));if(af(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:io(r)}}function FA(e,t){var r=io(t.value),n=io(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nh,RA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nh=Nh||document.createElement("div"),Nh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $f(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hL=["Webkit","ms","Moz","O"];Object.keys(mf).forEach(function(e){hL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mf[t]=mf[e]})});function MA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mf.hasOwnProperty(e)&&mf[e]?(""+t).trim():t+"px"}function LA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=MA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var mL=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s1(e,t){if(t){if(mL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function i1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l1=null;function Rw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var o1=null,bu=null,wu=null;function rk(e){if(e=I0(e)){if(typeof o1!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=Ux(t),o1(e.stateNode,e.type,t))}}function $A(e){bu?wu?wu.push(e):wu=[e]:bu=e}function BA(){if(bu){var e=bu,t=wu;if(wu=bu=null,rk(e),t)for(e=0;e<t.length;e++)rk(t[e])}}function UA(e,t){return e(t)}function zA(){}var Cv=!1;function WA(e,t,r){if(Cv)return e(t,r);Cv=!0;try{return UA(e,t,r)}finally{Cv=!1,(bu!==null||wu!==null)&&(zA(),BA())}}function Bf(e,t){var r=e.stateNode;if(r===null)return null;var n=Ux(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Oe(231,t,typeof r));return r}var c1=!1;if(cl)try{var Ld={};Object.defineProperty(Ld,"passive",{get:function(){c1=!0}}),window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{c1=!1}function pL(e,t,r,n,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var pf=!1,Gm=null,Xm=!1,u1=null,xL={onError:function(e){pf=!0,Gm=e}};function gL(e,t,r,n,a,i,l,o,c){pf=!1,Gm=null,pL.apply(xL,arguments)}function vL(e,t,r,n,a,i,l,o,c){if(gL.apply(this,arguments),pf){if(pf){var u=Gm;pf=!1,Gm=null}else throw Error(Oe(198));Xm||(Xm=!0,u1=u)}}function Mc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function VA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nk(e){if(Mc(e)!==e)throw Error(Oe(188))}function yL(e){var t=e.alternate;if(!t){if(t=Mc(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return nk(a),e;if(i===n)return nk(a),t;i=i.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?e:t}function HA(e){return e=yL(e),e!==null?KA(e):null}function KA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KA(e);if(t!==null)return t;e=e.sibling}return null}var qA=Wa.unstable_scheduleCallback,ak=Wa.unstable_cancelCallback,bL=Wa.unstable_shouldYield,wL=Wa.unstable_requestPaint,Pr=Wa.unstable_now,jL=Wa.unstable_getCurrentPriorityLevel,Mw=Wa.unstable_ImmediatePriority,GA=Wa.unstable_UserBlockingPriority,Qm=Wa.unstable_NormalPriority,NL=Wa.unstable_LowPriority,XA=Wa.unstable_IdlePriority,Mx=null,Ni=null;function _L(e){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(Mx,e,void 0,(e.current.flags&128)===128)}catch{}}var Ys=Math.clz32?Math.clz32:EL,kL=Math.log,SL=Math.LN2;function EL(e){return e>>>=0,e===0?32:31-(kL(e)/SL|0)|0}var _h=64,kh=4194304;function sf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ym(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=sf(o):(i&=l,i!==0&&(n=sf(i)))}else l=r&~a,l!==0?n=sf(l):i!==0&&(n=sf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ys(t),a=1<<r,n|=e[r],t&=~a;return n}function CL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ys(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=CL(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function d1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QA(){var e=_h;return _h<<=1,!(_h&4194240)&&(_h=64),e}function Tv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function D0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ys(t),e[t]=r}function AL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ys(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Lw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ys(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Rt=0;function YA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JA,$w,ZA,eP,tP,f1=!1,Sh=[],Gl=null,Xl=null,Ql=null,Uf=new Map,zf=new Map,Ll=[],PL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sk(e,t){switch(e){case"focusin":case"focusout":Gl=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":Uf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zf.delete(t.pointerId)}}function $d(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=I0(t),t!==null&&$w(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function OL(e,t,r,n,a){switch(t){case"focusin":return Gl=$d(Gl,e,t,r,n,a),!0;case"dragenter":return Xl=$d(Xl,e,t,r,n,a),!0;case"mouseover":return Ql=$d(Ql,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Uf.set(i,$d(Uf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,zf.set(i,$d(zf.get(i)||null,e,t,r,n,a)),!0}return!1}function rP(e){var t=zo(e.target);if(t!==null){var r=Mc(t);if(r!==null){if(t=r.tag,t===13){if(t=VA(r),t!==null){e.blockedOn=t,tP(e.priority,function(){ZA(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=h1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);l1=n,r.target.dispatchEvent(n),l1=null}else return t=I0(r),t!==null&&$w(t),e.blockedOn=r,!1;t.shift()}return!0}function ik(e,t,r){bm(e)&&r.delete(t)}function DL(){f1=!1,Gl!==null&&bm(Gl)&&(Gl=null),Xl!==null&&bm(Xl)&&(Xl=null),Ql!==null&&bm(Ql)&&(Ql=null),Uf.forEach(ik),zf.forEach(ik)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,f1||(f1=!0,Wa.unstable_scheduleCallback(Wa.unstable_NormalPriority,DL)))}function Wf(e){function t(a){return Bd(a,e)}if(0<Sh.length){Bd(Sh[0],e);for(var r=1;r<Sh.length;r++){var n=Sh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gl!==null&&Bd(Gl,e),Xl!==null&&Bd(Xl,e),Ql!==null&&Bd(Ql,e),Uf.forEach(t),zf.forEach(t),r=0;r<Ll.length;r++)n=Ll[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ll.length&&(r=Ll[0],r.blockedOn===null);)rP(r),r.blockedOn===null&&Ll.shift()}var ju=yl.ReactCurrentBatchConfig,Jm=!0;function FL(e,t,r,n){var a=Rt,i=ju.transition;ju.transition=null;try{Rt=1,Bw(e,t,r,n)}finally{Rt=a,ju.transition=i}}function IL(e,t,r,n){var a=Rt,i=ju.transition;ju.transition=null;try{Rt=4,Bw(e,t,r,n)}finally{Rt=a,ju.transition=i}}function Bw(e,t,r,n){if(Jm){var a=h1(e,t,r,n);if(a===null)$v(e,t,n,Zm,r),sk(e,n);else if(OL(a,e,t,r,n))n.stopPropagation();else if(sk(e,n),t&4&&-1<PL.indexOf(e)){for(;a!==null;){var i=I0(a);if(i!==null&&JA(i),i=h1(e,t,r,n),i===null&&$v(e,t,n,Zm,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else $v(e,t,n,null,r)}}var Zm=null;function h1(e,t,r,n){if(Zm=null,e=Rw(n),e=zo(e),e!==null)if(t=Mc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=VA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zm=e,null}function nP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jL()){case Mw:return 1;case GA:return 4;case Qm:case NL:return 16;case XA:return 536870912;default:return 16}default:return 16}}var Wl=null,Uw=null,wm=null;function aP(){if(wm)return wm;var e,t=Uw,r=t.length,n,a="value"in Wl?Wl.value:Wl.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return wm=a.slice(e,1<n?1-n:void 0)}function jm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eh(){return!0}function lk(){return!1}function Xa(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Eh:lk,this.isPropagationStopped=lk,this}return gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),t}var cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zw=Xa(cd),F0=gr({},cd,{view:0,detail:0}),RL=Xa(F0),Av,Pv,Ud,Lx=gr({},F0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ww,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ud&&(Ud&&e.type==="mousemove"?(Av=e.screenX-Ud.screenX,Pv=e.screenY-Ud.screenY):Pv=Av=0,Ud=e),Av)},movementY:function(e){return"movementY"in e?e.movementY:Pv}}),ok=Xa(Lx),ML=gr({},Lx,{dataTransfer:0}),LL=Xa(ML),$L=gr({},F0,{relatedTarget:0}),Ov=Xa($L),BL=gr({},cd,{animationName:0,elapsedTime:0,pseudoElement:0}),UL=Xa(BL),zL=gr({},cd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),WL=Xa(zL),VL=gr({},cd,{data:0}),ck=Xa(VL),HL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qL[e])?!!t[e]:!1}function Ww(){return GL}var XL=gr({},F0,{key:function(e){if(e.key){var t=HL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ww,charCode:function(e){return e.type==="keypress"?jm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QL=Xa(XL),YL=gr({},Lx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uk=Xa(YL),JL=gr({},F0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ww}),ZL=Xa(JL),e9=gr({},cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),t9=Xa(e9),r9=gr({},Lx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n9=Xa(r9),a9=[9,13,27,32],Vw=cl&&"CompositionEvent"in window,xf=null;cl&&"documentMode"in document&&(xf=document.documentMode);var s9=cl&&"TextEvent"in window&&!xf,sP=cl&&(!Vw||xf&&8<xf&&11>=xf),dk=" ",fk=!1;function iP(e,t){switch(e){case"keyup":return a9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lu=!1;function i9(e,t){switch(e){case"compositionend":return lP(t);case"keypress":return t.which!==32?null:(fk=!0,dk);case"textInput":return e=t.data,e===dk&&fk?null:e;default:return null}}function l9(e,t){if(lu)return e==="compositionend"||!Vw&&iP(e,t)?(e=aP(),wm=Uw=Wl=null,lu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sP&&t.locale!=="ko"?null:t.data;default:return null}}var o9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o9[e.type]:t==="textarea"}function oP(e,t,r,n){$A(n),t=ep(t,"onChange"),0<t.length&&(r=new zw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gf=null,Vf=null;function c9(e){yP(e,0)}function $x(e){var t=uu(e);if(OA(t))return e}function u9(e,t){if(e==="change")return t}var cP=!1;if(cl){var Dv;if(cl){var Fv="oninput"in document;if(!Fv){var mk=document.createElement("div");mk.setAttribute("oninput","return;"),Fv=typeof mk.oninput=="function"}Dv=Fv}else Dv=!1;cP=Dv&&(!document.documentMode||9<document.documentMode)}function pk(){gf&&(gf.detachEvent("onpropertychange",uP),Vf=gf=null)}function uP(e){if(e.propertyName==="value"&&$x(Vf)){var t=[];oP(t,Vf,e,Rw(e)),WA(c9,t)}}function d9(e,t,r){e==="focusin"?(pk(),gf=t,Vf=r,gf.attachEvent("onpropertychange",uP)):e==="focusout"&&pk()}function f9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $x(Vf)}function h9(e,t){if(e==="click")return $x(t)}function m9(e,t){if(e==="input"||e==="change")return $x(t)}function p9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ai=typeof Object.is=="function"?Object.is:p9;function Hf(e,t){if(ai(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Xy.call(t,a)||!ai(e[a],t[a]))return!1}return!0}function xk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gk(e,t){var r=xk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xk(r)}}function dP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fP(){for(var e=window,t=qm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qm(e.document)}return t}function Hw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x9(e){var t=fP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dP(r.ownerDocument.documentElement,r)){if(n!==null&&Hw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=gk(r,i);var l=gk(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g9=cl&&"documentMode"in document&&11>=document.documentMode,ou=null,m1=null,vf=null,p1=!1;function vk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;p1||ou==null||ou!==qm(n)||(n=ou,"selectionStart"in n&&Hw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vf&&Hf(vf,n)||(vf=n,n=ep(m1,"onSelect"),0<n.length&&(t=new zw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ou)))}function Ch(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cu={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},Iv={},hP={};cl&&(hP=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function Bx(e){if(Iv[e])return Iv[e];if(!cu[e])return e;var t=cu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hP)return Iv[e]=t[r];return e}var mP=Bx("animationend"),pP=Bx("animationiteration"),xP=Bx("animationstart"),gP=Bx("transitionend"),vP=new Map,yk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(e,t){vP.set(e,t),Rc(t,[e])}for(var Rv=0;Rv<yk.length;Rv++){var Mv=yk[Rv],v9=Mv.toLowerCase(),y9=Mv[0].toUpperCase()+Mv.slice(1);go(v9,"on"+y9)}go(mP,"onAnimationEnd");go(pP,"onAnimationIteration");go(xP,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(gP,"onTransitionEnd");Lu("onMouseEnter",["mouseout","mouseover"]);Lu("onMouseLeave",["mouseout","mouseover"]);Lu("onPointerEnter",["pointerout","pointerover"]);Lu("onPointerLeave",["pointerout","pointerover"]);Rc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b9=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function bk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vL(n,t,void 0,e),e.currentTarget=null}function yP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;bk(a,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;bk(a,o,u),i=c}}}if(Xm)throw e=u1,Xm=!1,u1=null,e}function Gt(e,t){var r=t[b1];r===void 0&&(r=t[b1]=new Set);var n=e+"__bubble";r.has(n)||(bP(t,e,2,!1),r.add(n))}function Lv(e,t,r){var n=0;t&&(n|=4),bP(r,e,n,t)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Kf(e){if(!e[Th]){e[Th]=!0,EA.forEach(function(r){r!=="selectionchange"&&(b9.has(r)||Lv(r,!1,e),Lv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Th]||(t[Th]=!0,Lv("selectionchange",!1,t))}}function bP(e,t,r,n){switch(nP(t)){case 1:var a=FL;break;case 4:a=IL;break;default:a=Bw}r=a.bind(null,t,r,e),a=void 0,!c1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $v(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=zo(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}WA(function(){var u=i,d=Rw(r),f=[];e:{var h=vP.get(e);if(h!==void 0){var m=zw,p=e;switch(e){case"keypress":if(jm(r)===0)break e;case"keydown":case"keyup":m=QL;break;case"focusin":p="focus",m=Ov;break;case"focusout":p="blur",m=Ov;break;case"beforeblur":case"afterblur":m=Ov;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ok;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=LL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ZL;break;case mP:case pP:case xP:m=UL;break;case gP:m=t9;break;case"scroll":m=RL;break;case"wheel":m=n9;break;case"copy":case"cut":case"paste":m=WL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uk}var x=(t&4)!==0,g=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var b=u,v;b!==null;){v=b;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,y!==null&&(N=Bf(b,y),N!=null&&x.push(qf(b,N,v)))),g)break;b=b.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==l1&&(p=r.relatedTarget||r.fromElement)&&(zo(p)||p[ul]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?zo(p):null,p!==null&&(g=Mc(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=ok,N="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=uk,N="onPointerLeave",y="onPointerEnter",b="pointer"),g=m==null?h:uu(m),v=p==null?h:uu(p),h=new x(N,b+"leave",m,r,d),h.target=g,h.relatedTarget=v,N=null,zo(d)===u&&(x=new x(y,b+"enter",p,r,d),x.target=v,x.relatedTarget=g,N=x),g=N,m&&p)t:{for(x=m,y=p,b=0,v=x;v;v=Qc(v))b++;for(v=0,N=y;N;N=Qc(N))v++;for(;0<b-v;)x=Qc(x),b--;for(;0<v-b;)y=Qc(y),v--;for(;b--;){if(x===y||y!==null&&x===y.alternate)break t;x=Qc(x),y=Qc(y)}x=null}else x=null;m!==null&&wk(f,h,m,x,!1),p!==null&&g!==null&&wk(f,g,p,x,!0)}}e:{if(h=u?uu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=u9;else if(hk(h))if(cP)_=m9;else{_=f9;var j=d9}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=h9);if(_&&(_=_(e,u))){oP(f,_,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&r1(h,"number",h.value)}switch(j=u?uu(u):window,e){case"focusin":(hk(j)||j.contentEditable==="true")&&(ou=j,m1=u,vf=null);break;case"focusout":vf=m1=ou=null;break;case"mousedown":p1=!0;break;case"contextmenu":case"mouseup":case"dragend":p1=!1,vk(f,r,d);break;case"selectionchange":if(g9)break;case"keydown":case"keyup":vk(f,r,d)}var k;if(Vw)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else lu?iP(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(sP&&r.locale!=="ko"&&(lu||E!=="onCompositionStart"?E==="onCompositionEnd"&&lu&&(k=aP()):(Wl=d,Uw="value"in Wl?Wl.value:Wl.textContent,lu=!0)),j=ep(u,E),0<j.length&&(E=new ck(E,e,null,r,d),f.push({event:E,listeners:j}),k?E.data=k:(k=lP(r),k!==null&&(E.data=k)))),(k=s9?i9(e,r):l9(e,r))&&(u=ep(u,"onBeforeInput"),0<u.length&&(d=new ck("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}yP(f,t)})}function qf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ep(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Bf(e,r),i!=null&&n.unshift(qf(e,i,a)),i=Bf(e,t),i!=null&&n.push(qf(e,i,a))),e=e.return}return n}function Qc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wk(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Bf(r,i),c!=null&&l.unshift(qf(r,c,o))):a||(c=Bf(r,i),c!=null&&l.push(qf(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var w9=/\r\n?/g,j9=/\u0000|\uFFFD/g;function jk(e){return(typeof e=="string"?e:""+e).replace(w9,`
`).replace(j9,"")}function Ah(e,t,r){if(t=jk(t),jk(e)!==t&&r)throw Error(Oe(425))}function tp(){}var x1=null,g1=null;function v1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var y1=typeof setTimeout=="function"?setTimeout:void 0,N9=typeof clearTimeout=="function"?clearTimeout:void 0,Nk=typeof Promise=="function"?Promise:void 0,_9=typeof queueMicrotask=="function"?queueMicrotask:typeof Nk<"u"?function(e){return Nk.resolve(null).then(e).catch(k9)}:y1;function k9(e){setTimeout(function(){throw e})}function Bv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Wf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Wf(t)}function Yl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _k(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ud=Math.random().toString(36).slice(2),gi="__reactFiber$"+ud,Gf="__reactProps$"+ud,ul="__reactContainer$"+ud,b1="__reactEvents$"+ud,S9="__reactListeners$"+ud,E9="__reactHandles$"+ud;function zo(e){var t=e[gi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ul]||r[gi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_k(e);e!==null;){if(r=e[gi])return r;e=_k(e)}return t}e=r,r=e.parentNode}return null}function I0(e){return e=e[gi]||e[ul],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function Ux(e){return e[Gf]||null}var w1=[],du=-1;function vo(e){return{current:e}}function Yt(e){0>du||(e.current=w1[du],w1[du]=null,du--)}function Kt(e,t){du++,w1[du]=e.current,e.current=t}var lo={},Hn=vo(lo),ga=vo(!1),xc=lo;function $u(e,t){var r=e.type.contextTypes;if(!r)return lo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function va(e){return e=e.childContextTypes,e!=null}function rp(){Yt(ga),Yt(Hn)}function kk(e,t,r){if(Hn.current!==lo)throw Error(Oe(168));Kt(Hn,t),Kt(ga,r)}function wP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Oe(108,dL(e)||"Unknown",a));return gr({},r,n)}function np(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,xc=Hn.current,Kt(Hn,e),Kt(ga,ga.current),!0}function Sk(e,t,r){var n=e.stateNode;if(!n)throw Error(Oe(169));r?(e=wP(e,t,xc),n.__reactInternalMemoizedMergedChildContext=e,Yt(ga),Yt(Hn),Kt(Hn,e)):Yt(ga),Kt(ga,r)}var zi=null,zx=!1,Uv=!1;function jP(e){zi===null?zi=[e]:zi.push(e)}function C9(e){zx=!0,jP(e)}function yo(){if(!Uv&&zi!==null){Uv=!0;var e=0,t=Rt;try{var r=zi;for(Rt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zi=null,zx=!1}catch(a){throw zi!==null&&(zi=zi.slice(e+1)),qA(Mw,yo),a}finally{Rt=t,Uv=!1}}return null}var fu=[],hu=0,ap=null,sp=0,ds=[],fs=0,gc=null,Ki=1,qi="";function Do(e,t){fu[hu++]=sp,fu[hu++]=ap,ap=e,sp=t}function NP(e,t,r){ds[fs++]=Ki,ds[fs++]=qi,ds[fs++]=gc,gc=e;var n=Ki;e=qi;var a=32-Ys(n)-1;n&=~(1<<a),r+=1;var i=32-Ys(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Ki=1<<32-Ys(t)+a|r<<a|n,qi=i+e}else Ki=1<<i|r<<a|n,qi=e}function Kw(e){e.return!==null&&(Do(e,1),NP(e,1,0))}function qw(e){for(;e===ap;)ap=fu[--hu],fu[hu]=null,sp=fu[--hu],fu[hu]=null;for(;e===gc;)gc=ds[--fs],ds[fs]=null,qi=ds[--fs],ds[fs]=null,Ki=ds[--fs],ds[fs]=null}var Ba=null,$a=null,sr=!1,Ws=null;function _P(e,t){var r=gs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ek(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ba=e,$a=Yl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ba=e,$a=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gc!==null?{id:Ki,overflow:qi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ba=e,$a=null,!0):!1;default:return!1}}function j1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function N1(e){if(sr){var t=$a;if(t){var r=t;if(!Ek(e,t)){if(j1(e))throw Error(Oe(418));t=Yl(r.nextSibling);var n=Ba;t&&Ek(e,t)?_P(n,r):(e.flags=e.flags&-4097|2,sr=!1,Ba=e)}}else{if(j1(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,sr=!1,Ba=e}}}function Ck(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ba=e}function Ph(e){if(e!==Ba)return!1;if(!sr)return Ck(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!v1(e.type,e.memoizedProps)),t&&(t=$a)){if(j1(e))throw kP(),Error(Oe(418));for(;t;)_P(e,t),t=Yl(t.nextSibling)}if(Ck(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$a=Yl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$a=null}}else $a=Ba?Yl(e.stateNode.nextSibling):null;return!0}function kP(){for(var e=$a;e;)e=Yl(e.nextSibling)}function Bu(){$a=Ba=null,sr=!1}function Gw(e){Ws===null?Ws=[e]:Ws.push(e)}var T9=yl.ReactCurrentBatchConfig;function zd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,e))}return e}function Oh(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tk(e){var t=e._init;return t(e._payload)}function SP(e){function t(y,b){if(e){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=to(y,b),y.index=0,y.sibling=null,y}function i(y,b,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,v,N){return b===null||b.tag!==6?(b=Gv(v,y.mode,N),b.return=y,b):(b=a(b,v),b.return=y,b)}function c(y,b,v,N){var _=v.type;return _===iu?d(y,b,v.props.children,N,v.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dl&&Tk(_)===b.type)?(N=a(b,v.props),N.ref=zd(y,b,v),N.return=y,N):(N=Tm(v.type,v.key,v.props,null,y.mode,N),N.ref=zd(y,b,v),N.return=y,N)}function u(y,b,v,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Xv(v,y.mode,N),b.return=y,b):(b=a(b,v.children||[]),b.return=y,b)}function d(y,b,v,N,_){return b===null||b.tag!==7?(b=ac(v,y.mode,N,_),b.return=y,b):(b=a(b,v),b.return=y,b)}function f(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Gv(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wh:return v=Tm(b.type,b.key,b.props,null,y.mode,v),v.ref=zd(y,null,b),v.return=y,v;case su:return b=Xv(b,y.mode,v),b.return=y,b;case Dl:var N=b._init;return f(y,N(b._payload),v)}if(af(b)||Md(b))return b=ac(b,y.mode,v,null),b.return=y,b;Oh(y,b)}return null}function h(y,b,v,N){var _=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:o(y,b,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wh:return v.key===_?c(y,b,v,N):null;case su:return v.key===_?u(y,b,v,N):null;case Dl:return _=v._init,h(y,b,_(v._payload),N)}if(af(v)||Md(v))return _!==null?null:d(y,b,v,N,null);Oh(y,v)}return null}function m(y,b,v,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(v)||null,o(b,y,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case wh:return y=y.get(N.key===null?v:N.key)||null,c(b,y,N,_);case su:return y=y.get(N.key===null?v:N.key)||null,u(b,y,N,_);case Dl:var j=N._init;return m(y,b,v,j(N._payload),_)}if(af(N)||Md(N))return y=y.get(v)||null,d(b,y,N,_,null);Oh(b,N)}return null}function p(y,b,v,N){for(var _=null,j=null,k=b,E=b=0,T=null;k!==null&&E<v.length;E++){k.index>E?(T=k,k=null):T=k.sibling;var C=h(y,k,v[E],N);if(C===null){k===null&&(k=T);break}e&&k&&C.alternate===null&&t(y,k),b=i(C,b,E),j===null?_=C:j.sibling=C,j=C,k=T}if(E===v.length)return r(y,k),sr&&Do(y,E),_;if(k===null){for(;E<v.length;E++)k=f(y,v[E],N),k!==null&&(b=i(k,b,E),j===null?_=k:j.sibling=k,j=k);return sr&&Do(y,E),_}for(k=n(y,k);E<v.length;E++)T=m(k,y,E,v[E],N),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?E:T.key),b=i(T,b,E),j===null?_=T:j.sibling=T,j=T);return e&&k.forEach(function(A){return t(y,A)}),sr&&Do(y,E),_}function x(y,b,v,N){var _=Md(v);if(typeof _!="function")throw Error(Oe(150));if(v=_.call(v),v==null)throw Error(Oe(151));for(var j=_=null,k=b,E=b=0,T=null,C=v.next();k!==null&&!C.done;E++,C=v.next()){k.index>E?(T=k,k=null):T=k.sibling;var A=h(y,k,C.value,N);if(A===null){k===null&&(k=T);break}e&&k&&A.alternate===null&&t(y,k),b=i(A,b,E),j===null?_=A:j.sibling=A,j=A,k=T}if(C.done)return r(y,k),sr&&Do(y,E),_;if(k===null){for(;!C.done;E++,C=v.next())C=f(y,C.value,N),C!==null&&(b=i(C,b,E),j===null?_=C:j.sibling=C,j=C);return sr&&Do(y,E),_}for(k=n(y,k);!C.done;E++,C=v.next())C=m(k,y,E,C.value,N),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),b=i(C,b,E),j===null?_=C:j.sibling=C,j=C);return e&&k.forEach(function(S){return t(y,S)}),sr&&Do(y,E),_}function g(y,b,v,N){if(typeof v=="object"&&v!==null&&v.type===iu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wh:e:{for(var _=v.key,j=b;j!==null;){if(j.key===_){if(_=v.type,_===iu){if(j.tag===7){r(y,j.sibling),b=a(j,v.props.children),b.return=y,y=b;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dl&&Tk(_)===j.type){r(y,j.sibling),b=a(j,v.props),b.ref=zd(y,j,v),b.return=y,y=b;break e}r(y,j);break}else t(y,j);j=j.sibling}v.type===iu?(b=ac(v.props.children,y.mode,N,v.key),b.return=y,y=b):(N=Tm(v.type,v.key,v.props,null,y.mode,N),N.ref=zd(y,b,v),N.return=y,y=N)}return l(y);case su:e:{for(j=v.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(y,b.sibling),b=a(b,v.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Xv(v,y.mode,N),b.return=y,y=b}return l(y);case Dl:return j=v._init,g(y,b,j(v._payload),N)}if(af(v))return p(y,b,v,N);if(Md(v))return x(y,b,v,N);Oh(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,v),b.return=y,y=b):(r(y,b),b=Gv(v,y.mode,N),b.return=y,y=b),l(y)):r(y,b)}return g}var Uu=SP(!0),EP=SP(!1),ip=vo(null),lp=null,mu=null,Xw=null;function Qw(){Xw=mu=lp=null}function Yw(e){var t=ip.current;Yt(ip),e._currentValue=t}function _1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Nu(e,t){lp=e,Xw=mu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pa=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Xw!==e)if(e={context:e,memoizedValue:t,next:null},mu===null){if(lp===null)throw Error(Oe(308));mu=e,lp.dependencies={lanes:0,firstContext:e}}else mu=mu.next=e;return t}var Wo=null;function Jw(e){Wo===null?Wo=[e]:Wo.push(e)}function CP(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Jw(t)):(r.next=a.next,a.next=r),t.interleaved=r,dl(e,n)}function dl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fl=!1;function Zw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_t&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,dl(e,r)}return a=n.interleaved,a===null?(t.next=t,Jw(n)):(t.next=a.next,a.next=t),n.interleaved=t,dl(e,r)}function Nm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lw(e,r)}}function Ak(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function op(e,t,r,n){var a=e.updateQueue;Fl=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;l=0,d=u=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,x=o;switch(h=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=gr({},f,h);break e;case 2:Fl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,l|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);yc|=l,e.lanes=l,e.memoizedState=f}}function Pk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Oe(191,a));a.call(n)}}}var R0={},_i=vo(R0),Xf=vo(R0),Qf=vo(R0);function Vo(e){if(e===R0)throw Error(Oe(174));return e}function ej(e,t){switch(Kt(Qf,t),Kt(Xf,e),Kt(_i,R0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:a1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=a1(t,e)}Yt(_i),Kt(_i,t)}function zu(){Yt(_i),Yt(Xf),Yt(Qf)}function AP(e){Vo(Qf.current);var t=Vo(_i.current),r=a1(t,e.type);t!==r&&(Kt(Xf,e),Kt(_i,r))}function tj(e){Xf.current===e&&(Yt(_i),Yt(Xf))}var dr=vo(0);function cp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zv=[];function rj(){for(var e=0;e<zv.length;e++)zv[e]._workInProgressVersionPrimary=null;zv.length=0}var _m=yl.ReactCurrentDispatcher,Wv=yl.ReactCurrentBatchConfig,vc=0,pr=null,qr=null,sn=null,up=!1,yf=!1,Yf=0,A9=0;function Tn(){throw Error(Oe(321))}function nj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ai(e[r],t[r]))return!1;return!0}function aj(e,t,r,n,a,i){if(vc=i,pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_m.current=e===null||e.memoizedState===null?F9:I9,e=r(n,a),yf){i=0;do{if(yf=!1,Yf=0,25<=i)throw Error(Oe(301));i+=1,sn=qr=null,t.updateQueue=null,_m.current=R9,e=r(n,a)}while(yf)}if(_m.current=dp,t=qr!==null&&qr.next!==null,vc=0,sn=qr=pr=null,up=!1,t)throw Error(Oe(300));return e}function sj(){var e=Yf!==0;return Yf=0,e}function pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?pr.memoizedState=sn=e:sn=sn.next=e,sn}function Ns(){if(qr===null){var e=pr.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=sn===null?pr.memoizedState:sn.next;if(t!==null)sn=t,qr=e;else{if(e===null)throw Error(Oe(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},sn===null?pr.memoizedState=sn=e:sn=sn.next=e}return sn}function Jf(e,t){return typeof t=="function"?t(e):t}function Vv(e){var t=Ns(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=qr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((vc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,l=n):c=c.next=f,pr.lanes|=d,yc|=d}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,ai(n,t.memoizedState)||(pa=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,pr.lanes|=i,yc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hv(e){var t=Ns(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);ai(i,t.memoizedState)||(pa=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function PP(){}function OP(e,t){var r=pr,n=Ns(),a=t(),i=!ai(n.memoizedState,a);if(i&&(n.memoizedState=a,pa=!0),n=n.queue,ij(IP.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||sn!==null&&sn.memoizedState.tag&1){if(r.flags|=2048,Zf(9,FP.bind(null,r,n,a,t),void 0,null),fn===null)throw Error(Oe(349));vc&30||DP(r,t,a)}return a}function DP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function FP(e,t,r,n){t.value=r,t.getSnapshot=n,RP(t)&&MP(e)}function IP(e,t,r){return r(function(){RP(t)&&MP(e)})}function RP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ai(e,r)}catch{return!0}}function MP(e){var t=dl(e,1);t!==null&&Js(t,e,1,-1)}function Ok(e){var t=pi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:e},t.queue=e,e=e.dispatch=D9.bind(null,pr,e),[t.memoizedState,e]}function Zf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function LP(){return Ns().memoizedState}function km(e,t,r,n){var a=pi();pr.flags|=e,a.memoizedState=Zf(1|t,r,void 0,n===void 0?null:n)}function Wx(e,t,r,n){var a=Ns();n=n===void 0?null:n;var i=void 0;if(qr!==null){var l=qr.memoizedState;if(i=l.destroy,n!==null&&nj(n,l.deps)){a.memoizedState=Zf(t,r,i,n);return}}pr.flags|=e,a.memoizedState=Zf(1|t,r,i,n)}function Dk(e,t){return km(8390656,8,e,t)}function ij(e,t){return Wx(2048,8,e,t)}function $P(e,t){return Wx(4,2,e,t)}function BP(e,t){return Wx(4,4,e,t)}function UP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zP(e,t,r){return r=r!=null?r.concat([e]):null,Wx(4,4,UP.bind(null,t,e),r)}function lj(){}function WP(e,t){var r=Ns();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function VP(e,t){var r=Ns();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function HP(e,t,r){return vc&21?(ai(r,t)||(r=QA(),pr.lanes|=r,yc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pa=!0),e.memoizedState=r)}function P9(e,t){var r=Rt;Rt=r!==0&&4>r?r:4,e(!0);var n=Wv.transition;Wv.transition={};try{e(!1),t()}finally{Rt=r,Wv.transition=n}}function KP(){return Ns().memoizedState}function O9(e,t,r){var n=eo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qP(e))GP(t,r);else if(r=CP(e,t,r,n),r!==null){var a=aa();Js(r,e,n,a),XP(r,t,n)}}function D9(e,t,r){var n=eo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qP(e))GP(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,ai(o,l)){var c=t.interleaved;c===null?(a.next=a,Jw(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=CP(e,t,a,n),r!==null&&(a=aa(),Js(r,e,n,a),XP(r,t,n))}}function qP(e){var t=e.alternate;return e===pr||t!==null&&t===pr}function GP(e,t){yf=up=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function XP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lw(e,r)}}var dp={readContext:js,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},F9={readContext:js,useCallback:function(e,t){return pi().memoizedState=[e,t===void 0?null:t],e},useContext:js,useEffect:Dk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,km(4194308,4,UP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return km(4194308,4,e,t)},useInsertionEffect:function(e,t){return km(4,2,e,t)},useMemo:function(e,t){var r=pi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O9.bind(null,pr,e),[n.memoizedState,e]},useRef:function(e){var t=pi();return e={current:e},t.memoizedState=e},useState:Ok,useDebugValue:lj,useDeferredValue:function(e){return pi().memoizedState=e},useTransition:function(){var e=Ok(!1),t=e[0];return e=P9.bind(null,e[1]),pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pr,a=pi();if(sr){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=t(),fn===null)throw Error(Oe(349));vc&30||DP(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Dk(IP.bind(null,n,i,e),[e]),n.flags|=2048,Zf(9,FP.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=pi(),t=fn.identifierPrefix;if(sr){var r=qi,n=Ki;r=(n&~(1<<32-Ys(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=A9++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I9={readContext:js,useCallback:WP,useContext:js,useEffect:ij,useImperativeHandle:zP,useInsertionEffect:$P,useLayoutEffect:BP,useMemo:VP,useReducer:Vv,useRef:LP,useState:function(){return Vv(Jf)},useDebugValue:lj,useDeferredValue:function(e){var t=Ns();return HP(t,qr.memoizedState,e)},useTransition:function(){var e=Vv(Jf)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:PP,useSyncExternalStore:OP,useId:KP,unstable_isNewReconciler:!1},R9={readContext:js,useCallback:WP,useContext:js,useEffect:ij,useImperativeHandle:zP,useInsertionEffect:$P,useLayoutEffect:BP,useMemo:VP,useReducer:Hv,useRef:LP,useState:function(){return Hv(Jf)},useDebugValue:lj,useDeferredValue:function(e){var t=Ns();return qr===null?t.memoizedState=e:HP(t,qr.memoizedState,e)},useTransition:function(){var e=Hv(Jf)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:PP,useSyncExternalStore:OP,useId:KP,unstable_isNewReconciler:!1};function $s(e,t){if(e&&e.defaultProps){t=gr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function k1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:gr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vx={isMounted:function(e){return(e=e._reactInternals)?Mc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=aa(),a=eo(e),i=tl(n,a);i.payload=t,r!=null&&(i.callback=r),t=Jl(e,i,a),t!==null&&(Js(t,e,a,n),Nm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=aa(),a=eo(e),i=tl(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Jl(e,i,a),t!==null&&(Js(t,e,a,n),Nm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=aa(),n=eo(e),a=tl(r,n);a.tag=2,t!=null&&(a.callback=t),t=Jl(e,a,n),t!==null&&(Js(t,e,n,r),Nm(t,e,n))}};function Fk(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Hf(r,n)||!Hf(a,i):!0}function QP(e,t,r){var n=!1,a=lo,i=t.contextType;return typeof i=="object"&&i!==null?i=js(i):(a=va(t)?xc:Hn.current,n=t.contextTypes,i=(n=n!=null)?$u(e,a):lo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ik(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vx.enqueueReplaceState(t,t.state,null)}function S1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Zw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=js(i):(i=va(t)?xc:Hn.current,a.context=$u(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(k1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Vx.enqueueReplaceState(a,a.state,null),op(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Wu(e,t){try{var r="",n=t;do r+=uL(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Kv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function E1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M9=typeof WeakMap=="function"?WeakMap:Map;function YP(e,t,r){r=tl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hp||(hp=!0,M1=n),E1(e,t)},r}function JP(e,t,r){r=tl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){E1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){E1(e,t),typeof n!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Rk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M9;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Y9.bind(null,e,t,r),t.then(e,e))}function Mk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lk(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=tl(-1,1),t.tag=2,Jl(r,t,1))),r.lanes|=1),e)}var L9=yl.ReactCurrentOwner,pa=!1;function Jn(e,t,r,n){t.child=e===null?EP(t,null,r,n):Uu(t,e.child,r,n)}function $k(e,t,r,n,a){r=r.render;var i=t.ref;return Nu(t,a),n=aj(e,t,r,n,i,a),r=sj(),e!==null&&!pa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fl(e,t,a)):(sr&&r&&Kw(t),t.flags|=1,Jn(e,t,n,a),t.child)}function Bk(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!pj(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ZP(e,t,i,n,a)):(e=Tm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hf,r(l,n)&&e.ref===t.ref)return fl(e,t,a)}return t.flags|=1,e=to(i,n),e.ref=t.ref,e.return=t,t.child=e}function ZP(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Hf(i,n)&&e.ref===t.ref)if(pa=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(pa=!0);else return t.lanes=e.lanes,fl(e,t,a)}return C1(e,t,r,n,a)}function e3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(xu,Ta),Ta|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kt(xu,Ta),Ta|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Kt(xu,Ta),Ta|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Kt(xu,Ta),Ta|=n;return Jn(e,t,a,r),t.child}function t3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function C1(e,t,r,n,a){var i=va(r)?xc:Hn.current;return i=$u(t,i),Nu(t,a),r=aj(e,t,r,n,i,a),n=sj(),e!==null&&!pa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fl(e,t,a)):(sr&&n&&Kw(t),t.flags|=1,Jn(e,t,r,a),t.child)}function Uk(e,t,r,n,a){if(va(r)){var i=!0;np(t)}else i=!1;if(Nu(t,a),t.stateNode===null)Sm(e,t),QP(t,r,n),S1(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=js(u):(u=va(r)?xc:Hn.current,u=$u(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Ik(t,l,n,u),Fl=!1;var h=t.memoizedState;l.state=h,op(t,n,l,a),c=t.memoizedState,o!==n||h!==c||ga.current||Fl?(typeof d=="function"&&(k1(t,r,d,n),c=t.memoizedState),(o=Fl||Fk(t,r,o,n,h,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,TP(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:$s(t.type,o),l.props=u,f=t.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=js(c):(c=va(r)?xc:Hn.current,c=$u(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Ik(t,l,n,c),Fl=!1,h=t.memoizedState,l.state=h,op(t,n,l,a);var p=t.memoizedState;o!==f||h!==p||ga.current||Fl?(typeof m=="function"&&(k1(t,r,m,n),p=t.memoizedState),(u=Fl||Fk(t,r,u,n,h,p,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,p,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return T1(e,t,r,n,i,a)}function T1(e,t,r,n,a,i){t3(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Sk(t,r,!1),fl(e,t,i);n=t.stateNode,L9.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Uu(t,e.child,null,i),t.child=Uu(t,null,o,i)):Jn(e,t,o,i),t.memoizedState=n.state,a&&Sk(t,r,!0),t.child}function r3(e){var t=e.stateNode;t.pendingContext?kk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kk(e,t.context,!1),ej(e,t.containerInfo)}function zk(e,t,r,n,a){return Bu(),Gw(a),t.flags|=256,Jn(e,t,r,n),t.child}var A1={dehydrated:null,treeContext:null,retryLane:0};function P1(e){return{baseLanes:e,cachePool:null,transitions:null}}function n3(e,t,r){var n=t.pendingProps,a=dr.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Kt(dr,a&1),e===null)return N1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=qx(l,n,0,null),e=ac(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=P1(r),t.memoizedState=A1,e):oj(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return $9(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=to(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=to(o,i):(i=ac(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?P1(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=A1,n}return i=e.child,e=i.sibling,n=to(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oj(e,t){return t=qx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dh(e,t,r,n){return n!==null&&Gw(n),Uu(t,e.child,null,r),e=oj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $9(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Kv(Error(Oe(422))),Dh(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=qx({mode:"visible",children:n.children},a,0,null),i=ac(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Uu(t,e.child,null,l),t.child.memoizedState=P1(l),t.memoizedState=A1,i);if(!(t.mode&1))return Dh(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Oe(419)),n=Kv(i,n,void 0),Dh(e,t,l,n)}if(o=(l&e.childLanes)!==0,pa||o){if(n=fn,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,dl(e,a),Js(n,e,a,-1))}return mj(),n=Kv(Error(Oe(421))),Dh(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=J9.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,$a=Yl(a.nextSibling),Ba=t,sr=!0,Ws=null,e!==null&&(ds[fs++]=Ki,ds[fs++]=qi,ds[fs++]=gc,Ki=e.id,qi=e.overflow,gc=t),t=oj(t,n.children),t.flags|=4096,t)}function Wk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_1(e.return,t,r)}function qv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function a3(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Jn(e,t,n.children,r),n=dr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wk(e,r,t);else if(e.tag===19)Wk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kt(dr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&cp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),qv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&cp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}qv(t,!0,r,null,i);break;case"together":qv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,r=to(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=to(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function B9(e,t,r){switch(t.tag){case 3:r3(t),Bu();break;case 5:AP(t);break;case 1:va(t.type)&&np(t);break;case 4:ej(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Kt(ip,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kt(dr,dr.current&1),t.flags|=128,null):r&t.child.childLanes?n3(e,t,r):(Kt(dr,dr.current&1),e=fl(e,t,r),e!==null?e.sibling:null);Kt(dr,dr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return a3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Kt(dr,dr.current),n)break;return null;case 22:case 23:return t.lanes=0,e3(e,t,r)}return fl(e,t,r)}var s3,O1,i3,l3;s3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};O1=function(){};i3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Vo(_i.current);var i=null;switch(r){case"input":a=e1(e,a),n=e1(e,n),i=[];break;case"select":a=gr({},a,{value:void 0}),n=gr({},n,{value:void 0}),i=[];break;case"textarea":a=n1(e,a),n=n1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=tp)}s1(r,n);var l;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gt("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};l3=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wd(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function An(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function U9(e,t,r){var n=t.pendingProps;switch(qw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(t),null;case 1:return va(t.type)&&rp(),An(t),null;case 3:return n=t.stateNode,zu(),Yt(ga),Yt(Hn),rj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ph(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ws!==null&&(B1(Ws),Ws=null))),O1(e,t),An(t),null;case 5:tj(t);var a=Vo(Qf.current);if(r=t.type,e!==null&&t.stateNode!=null)i3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Oe(166));return An(t),null}if(e=Vo(_i.current),Ph(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[gi]=t,n[Gf]=i,e=(t.mode&1)!==0,r){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(a=0;a<lf.length;a++)Gt(lf[a],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":J_(n,i),Gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Gt("invalid",n);break;case"textarea":ek(n,i),Gt("invalid",n)}s1(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ah(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ah(n.textContent,o,e),a=["children",""+o]):Lf.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Gt("scroll",n)}switch(r){case"input":jh(n),Z_(n,i,!0);break;case"textarea":jh(n),tk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=tp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[gi]=t,e[Gf]=n,s3(e,t,!1,!1),t.stateNode=e;e:{switch(l=i1(r,n),r){case"dialog":Gt("cancel",e),Gt("close",e),a=n;break;case"iframe":case"object":case"embed":Gt("load",e),a=n;break;case"video":case"audio":for(a=0;a<lf.length;a++)Gt(lf[a],e);a=n;break;case"source":Gt("error",e),a=n;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),a=n;break;case"details":Gt("toggle",e),a=n;break;case"input":J_(e,n),a=e1(e,n),Gt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=gr({},n,{value:void 0}),Gt("invalid",e);break;case"textarea":ek(e,n),a=n1(e,n),Gt("invalid",e);break;default:a=n}s1(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?LA(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&RA(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$f(e,c):typeof c=="number"&&$f(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Gt("scroll",e):c!=null&&Ow(e,i,c,l))}switch(r){case"input":jh(e),Z_(e,n,!1);break;case"textarea":jh(e),tk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+io(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?yu(e,!!n.multiple,i,!1):n.defaultValue!=null&&yu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=tp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return An(t),null;case 6:if(e&&t.stateNode!=null)l3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Oe(166));if(r=Vo(Qf.current),Vo(_i.current),Ph(t)){if(n=t.stateNode,r=t.memoizedProps,n[gi]=t,(i=n.nodeValue!==r)&&(e=Ba,e!==null))switch(e.tag){case 3:Ah(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ah(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gi]=t,t.stateNode=n}return An(t),null;case 13:if(Yt(dr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&$a!==null&&t.mode&1&&!(t.flags&128))kP(),Bu(),t.flags|=98560,i=!1;else if(i=Ph(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Oe(317));i[gi]=t}else Bu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;An(t),i=!1}else Ws!==null&&(B1(Ws),Ws=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Qr===0&&(Qr=3):mj())),t.updateQueue!==null&&(t.flags|=4),An(t),null);case 4:return zu(),O1(e,t),e===null&&Kf(t.stateNode.containerInfo),An(t),null;case 10:return Yw(t.type._context),An(t),null;case 17:return va(t.type)&&rp(),An(t),null;case 19:if(Yt(dr),i=t.memoizedState,i===null)return An(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)Wd(i,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=cp(e),l!==null){for(t.flags|=128,Wd(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kt(dr,dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pr()>Vu&&(t.flags|=128,n=!0,Wd(i,!1),t.lanes=4194304)}else{if(!n)if(e=cp(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!sr)return An(t),null}else 2*Pr()-i.renderingStartTime>Vu&&r!==1073741824&&(t.flags|=128,n=!0,Wd(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pr(),t.sibling=null,r=dr.current,Kt(dr,n?r&1|2:r&1),t):(An(t),null);case 22:case 23:return hj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ta&1073741824&&(An(t),t.subtreeFlags&6&&(t.flags|=8192)):An(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function z9(e,t){switch(qw(t),t.tag){case 1:return va(t.type)&&rp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zu(),Yt(ga),Yt(Hn),rj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tj(t),null;case 13:if(Yt(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));Bu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(dr),null;case 4:return zu(),null;case 10:return Yw(t.type._context),null;case 22:case 23:return hj(),null;case 24:return null;default:return null}}var Fh=!1,Rn=!1,W9=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function pu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jr(e,t,n)}else r.current=null}function D1(e,t,r){try{r()}catch(n){jr(e,t,n)}}var Vk=!1;function V9(e,t){if(x1=Jm,e=fP(),Hw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=l+a),f!==i||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=l),h===i&&++d===n&&(c=l),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(g1={focusedElem:e,selectionRange:r},Jm=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,g=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:$s(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(N){jr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return p=Vk,Vk=!1,p}function bf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&D1(t,r,i)}a=a.next}while(a!==n)}}function Hx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function F1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function o3(e){var t=e.alternate;t!==null&&(e.alternate=null,o3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gi],delete t[Gf],delete t[b1],delete t[S9],delete t[E9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c3(e){return e.tag===5||e.tag===3||e.tag===4}function Hk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=tp));else if(n!==4&&(e=e.child,e!==null))for(I1(e,t,r),e=e.sibling;e!==null;)I1(e,t,r),e=e.sibling}function R1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(R1(e,t,r),e=e.sibling;e!==null;)R1(e,t,r),e=e.sibling}var vn=null,Us=!1;function Pl(e,t,r){for(r=r.child;r!==null;)u3(e,t,r),r=r.sibling}function u3(e,t,r){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(Mx,r)}catch{}switch(r.tag){case 5:Rn||pu(r,t);case 6:var n=vn,a=Us;vn=null,Pl(e,t,r),vn=n,Us=a,vn!==null&&(Us?(e=vn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vn.removeChild(r.stateNode));break;case 18:vn!==null&&(Us?(e=vn,r=r.stateNode,e.nodeType===8?Bv(e.parentNode,r):e.nodeType===1&&Bv(e,r),Wf(e)):Bv(vn,r.stateNode));break;case 4:n=vn,a=Us,vn=r.stateNode.containerInfo,Us=!0,Pl(e,t,r),vn=n,Us=a;break;case 0:case 11:case 14:case 15:if(!Rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&D1(r,t,l),a=a.next}while(a!==n)}Pl(e,t,r);break;case 1:if(!Rn&&(pu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){jr(r,t,o)}Pl(e,t,r);break;case 21:Pl(e,t,r);break;case 22:r.mode&1?(Rn=(n=Rn)||r.memoizedState!==null,Pl(e,t,r),Rn=n):Pl(e,t,r);break;default:Pl(e,t,r)}}function Kk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new W9),t.forEach(function(n){var a=Z9.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Rs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:vn=o.stateNode,Us=!1;break e;case 3:vn=o.stateNode.containerInfo,Us=!0;break e;case 4:vn=o.stateNode.containerInfo,Us=!0;break e}o=o.return}if(vn===null)throw Error(Oe(160));u3(i,l,a),vn=null,Us=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){jr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d3(t,e),t=t.sibling}function d3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rs(t,e),ui(e),n&4){try{bf(3,e,e.return),Hx(3,e)}catch(x){jr(e,e.return,x)}try{bf(5,e,e.return)}catch(x){jr(e,e.return,x)}}break;case 1:Rs(t,e),ui(e),n&512&&r!==null&&pu(r,r.return);break;case 5:if(Rs(t,e),ui(e),n&512&&r!==null&&pu(r,r.return),e.flags&32){var a=e.stateNode;try{$f(a,"")}catch(x){jr(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&DA(a,i),i1(o,l);var u=i1(o,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];d==="style"?LA(a,f):d==="dangerouslySetInnerHTML"?RA(a,f):d==="children"?$f(a,f):Ow(a,d,f,u)}switch(o){case"input":t1(a,i);break;case"textarea":FA(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yu(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?yu(a,!!i.multiple,i.defaultValue,!0):yu(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gf]=i}catch(x){jr(e,e.return,x)}}break;case 6:if(Rs(t,e),ui(e),n&4){if(e.stateNode===null)throw Error(Oe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){jr(e,e.return,x)}}break;case 3:if(Rs(t,e),ui(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wf(t.containerInfo)}catch(x){jr(e,e.return,x)}break;case 4:Rs(t,e),ui(e);break;case 13:Rs(t,e),ui(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(dj=Pr())),n&4&&Kk(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rn=(u=Rn)||d,Rs(t,e),Rn=u):Rs(t,e),ui(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ve=e,d=e.child;d!==null;){for(f=Ve=d;Ve!==null;){switch(h=Ve,m=h.child,h.tag){case 0:case 11:case 14:case 15:bf(4,h,h.return);break;case 1:pu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){jr(n,r,x)}}break;case 5:pu(h,h.return);break;case 22:if(h.memoizedState!==null){Gk(f);continue}}m!==null?(m.return=h,Ve=m):Gk(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=MA("display",l))}catch(x){jr(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){jr(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rs(t,e),ui(e),n&4&&Kk(e);break;case 21:break;default:Rs(t,e),ui(e)}}function ui(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(c3(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($f(a,""),n.flags&=-33);var i=Hk(e);R1(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Hk(e);I1(e,o,l);break;default:throw Error(Oe(161))}}catch(c){jr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function H9(e,t,r){Ve=e,f3(e)}function f3(e,t,r){for(var n=(e.mode&1)!==0;Ve!==null;){var a=Ve,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Fh;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Rn;o=Fh;var u=Rn;if(Fh=l,(Rn=c)&&!u)for(Ve=a;Ve!==null;)l=Ve,c=l.child,l.tag===22&&l.memoizedState!==null?Xk(a):c!==null?(c.return=l,Ve=c):Xk(a);for(;i!==null;)Ve=i,f3(i),i=i.sibling;Ve=a,Fh=o,Rn=u}qk(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ve=i):qk(e)}}function qk(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||Hx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:$s(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pk(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pk(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Rn||t.flags&512&&F1(t)}catch(h){jr(t,t.return,h)}}if(t===e){Ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ve=r;break}Ve=t.return}}function Gk(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ve=r;break}Ve=t.return}}function Xk(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hx(4,t)}catch(c){jr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){jr(t,a,c)}}var i=t.return;try{F1(t)}catch(c){jr(t,i,c)}break;case 5:var l=t.return;try{F1(t)}catch(c){jr(t,l,c)}}}catch(c){jr(t,t.return,c)}if(t===e){Ve=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ve=o;break}Ve=t.return}}var K9=Math.ceil,fp=yl.ReactCurrentDispatcher,cj=yl.ReactCurrentOwner,ys=yl.ReactCurrentBatchConfig,_t=0,fn=null,zr=null,_n=0,Ta=0,xu=vo(0),Qr=0,e0=null,yc=0,Kx=0,uj=0,wf=null,ha=null,dj=0,Vu=1/0,Ui=null,hp=!1,M1=null,Zl=null,Ih=!1,Vl=null,mp=0,jf=0,L1=null,Em=-1,Cm=0;function aa(){return _t&6?Pr():Em!==-1?Em:Em=Pr()}function eo(e){return e.mode&1?_t&2&&_n!==0?_n&-_n:T9.transition!==null?(Cm===0&&(Cm=QA()),Cm):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:nP(e.type)),e):1}function Js(e,t,r,n){if(50<jf)throw jf=0,L1=null,Error(Oe(185));D0(e,r,n),(!(_t&2)||e!==fn)&&(e===fn&&(!(_t&2)&&(Kx|=r),Qr===4&&$l(e,_n)),ya(e,n),r===1&&_t===0&&!(t.mode&1)&&(Vu=Pr()+500,zx&&yo()))}function ya(e,t){var r=e.callbackNode;TL(e,t);var n=Ym(e,e===fn?_n:0);if(n===0)r!==null&&ak(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ak(r),t===1)e.tag===0?C9(Qk.bind(null,e)):jP(Qk.bind(null,e)),_9(function(){!(_t&6)&&yo()}),r=null;else{switch(YA(n)){case 1:r=Mw;break;case 4:r=GA;break;case 16:r=Qm;break;case 536870912:r=XA;break;default:r=Qm}r=b3(r,h3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function h3(e,t){if(Em=-1,Cm=0,_t&6)throw Error(Oe(327));var r=e.callbackNode;if(_u()&&e.callbackNode!==r)return null;var n=Ym(e,e===fn?_n:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pp(e,n);else{t=n;var a=_t;_t|=2;var i=p3();(fn!==e||_n!==t)&&(Ui=null,Vu=Pr()+500,nc(e,t));do try{X9();break}catch(o){m3(e,o)}while(!0);Qw(),fp.current=i,_t=a,zr!==null?t=0:(fn=null,_n=0,t=Qr)}if(t!==0){if(t===2&&(a=d1(e),a!==0&&(n=a,t=$1(e,a))),t===1)throw r=e0,nc(e,0),$l(e,n),ya(e,Pr()),r;if(t===6)$l(e,n);else{if(a=e.current.alternate,!(n&30)&&!q9(a)&&(t=pp(e,n),t===2&&(i=d1(e),i!==0&&(n=i,t=$1(e,i))),t===1))throw r=e0,nc(e,0),$l(e,n),ya(e,Pr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Oe(345));case 2:Fo(e,ha,Ui);break;case 3:if($l(e,n),(n&130023424)===n&&(t=dj+500-Pr(),10<t)){if(Ym(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){aa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=y1(Fo.bind(null,e,ha,Ui),t);break}Fo(e,ha,Ui);break;case 4:if($l(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Ys(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=Pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K9(n/1960))-n,10<n){e.timeoutHandle=y1(Fo.bind(null,e,ha,Ui),n);break}Fo(e,ha,Ui);break;case 5:Fo(e,ha,Ui);break;default:throw Error(Oe(329))}}}return ya(e,Pr()),e.callbackNode===r?h3.bind(null,e):null}function $1(e,t){var r=wf;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),e=pp(e,t),e!==2&&(t=ha,ha=r,t!==null&&B1(t)),e}function B1(e){ha===null?ha=e:ha.push.apply(ha,e)}function q9(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ai(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $l(e,t){for(t&=~uj,t&=~Kx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ys(t),n=1<<r;e[r]=-1,t&=~n}}function Qk(e){if(_t&6)throw Error(Oe(327));_u();var t=Ym(e,0);if(!(t&1))return ya(e,Pr()),null;var r=pp(e,t);if(e.tag!==0&&r===2){var n=d1(e);n!==0&&(t=n,r=$1(e,n))}if(r===1)throw r=e0,nc(e,0),$l(e,t),ya(e,Pr()),r;if(r===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fo(e,ha,Ui),ya(e,Pr()),null}function fj(e,t){var r=_t;_t|=1;try{return e(t)}finally{_t=r,_t===0&&(Vu=Pr()+500,zx&&yo())}}function bc(e){Vl!==null&&Vl.tag===0&&!(_t&6)&&_u();var t=_t;_t|=1;var r=ys.transition,n=Rt;try{if(ys.transition=null,Rt=1,e)return e()}finally{Rt=n,ys.transition=r,_t=t,!(_t&6)&&yo()}}function hj(){Ta=xu.current,Yt(xu)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,N9(r)),zr!==null)for(r=zr.return;r!==null;){var n=r;switch(qw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rp();break;case 3:zu(),Yt(ga),Yt(Hn),rj();break;case 5:tj(n);break;case 4:zu();break;case 13:Yt(dr);break;case 19:Yt(dr);break;case 10:Yw(n.type._context);break;case 22:case 23:hj()}r=r.return}if(fn=e,zr=e=to(e.current,null),_n=Ta=t,Qr=0,e0=null,uj=Kx=yc=0,ha=wf=null,Wo!==null){for(t=0;t<Wo.length;t++)if(r=Wo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}Wo=null}return e}function m3(e,t){do{var r=zr;try{if(Qw(),_m.current=dp,up){for(var n=pr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}up=!1}if(vc=0,sn=qr=pr=null,yf=!1,Yf=0,cj.current=null,r===null||r.return===null){Qr=1,e0=t,zr=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=_n,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Mk(l);if(m!==null){m.flags&=-257,Lk(m,l,o,i,t),m.mode&1&&Rk(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){Rk(i,u,t),mj();break e}c=Error(Oe(426))}}else if(sr&&o.mode&1){var g=Mk(l);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Lk(g,l,o,i,t),Gw(Wu(c,o));break e}}i=c=Wu(c,o),Qr!==4&&(Qr=2),wf===null?wf=[i]:wf.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=YP(i,c,t);Ak(i,y);break e;case 1:o=c;var b=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zl===null||!Zl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=JP(i,o,t);Ak(i,N);break e}}i=i.return}while(i!==null)}g3(r)}catch(_){t=_,zr===r&&r!==null&&(zr=r=r.return);continue}break}while(!0)}function p3(){var e=fp.current;return fp.current=dp,e===null?dp:e}function mj(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),fn===null||!(yc&268435455)&&!(Kx&268435455)||$l(fn,_n)}function pp(e,t){var r=_t;_t|=2;var n=p3();(fn!==e||_n!==t)&&(Ui=null,nc(e,t));do try{G9();break}catch(a){m3(e,a)}while(!0);if(Qw(),_t=r,fp.current=n,zr!==null)throw Error(Oe(261));return fn=null,_n=0,Qr}function G9(){for(;zr!==null;)x3(zr)}function X9(){for(;zr!==null&&!bL();)x3(zr)}function x3(e){var t=y3(e.alternate,e,Ta);e.memoizedProps=e.pendingProps,t===null?g3(e):zr=t,cj.current=null}function g3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=z9(r,t),r!==null){r.flags&=32767,zr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,zr=null;return}}else if(r=U9(r,t,Ta),r!==null){zr=r;return}if(t=t.sibling,t!==null){zr=t;return}zr=t=e}while(t!==null);Qr===0&&(Qr=5)}function Fo(e,t,r){var n=Rt,a=ys.transition;try{ys.transition=null,Rt=1,Q9(e,t,r,n)}finally{ys.transition=a,Rt=n}return null}function Q9(e,t,r,n){do _u();while(Vl!==null);if(_t&6)throw Error(Oe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(AL(e,i),e===fn&&(zr=fn=null,_n=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ih||(Ih=!0,b3(Qm,function(){return _u(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ys.transition,ys.transition=null;var l=Rt;Rt=1;var o=_t;_t|=4,cj.current=null,V9(e,r),d3(r,e),x9(g1),Jm=!!x1,g1=x1=null,e.current=r,H9(r),wL(),_t=o,Rt=l,ys.transition=i}else e.current=r;if(Ih&&(Ih=!1,Vl=e,mp=a),i=e.pendingLanes,i===0&&(Zl=null),_L(r.stateNode),ya(e,Pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(hp)throw hp=!1,e=M1,M1=null,e;return mp&1&&e.tag!==0&&_u(),i=e.pendingLanes,i&1?e===L1?jf++:(jf=0,L1=e):jf=0,yo(),null}function _u(){if(Vl!==null){var e=YA(mp),t=ys.transition,r=Rt;try{if(ys.transition=null,Rt=16>e?16:e,Vl===null)var n=!1;else{if(e=Vl,Vl=null,mp=0,_t&6)throw Error(Oe(331));var a=_t;for(_t|=4,Ve=e.current;Ve!==null;){var i=Ve,l=i.child;if(Ve.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Ve=u;Ve!==null;){var d=Ve;switch(d.tag){case 0:case 11:case 15:bf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ve=f;else for(;Ve!==null;){d=Ve;var h=d.sibling,m=d.return;if(o3(d),d===u){Ve=null;break}if(h!==null){h.return=m,Ve=h;break}Ve=m}}}var p=i.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(x!==null)}}Ve=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Ve=l;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ve=y;break e}Ve=i.return}}var b=e.current;for(Ve=b;Ve!==null;){l=Ve;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,Ve=v;else e:for(l=b;Ve!==null;){if(o=Ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hx(9,o)}}catch(_){jr(o,o.return,_)}if(o===l){Ve=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Ve=N;break e}Ve=o.return}}if(_t=a,yo(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(Mx,e)}catch{}n=!0}return n}finally{Rt=r,ys.transition=t}}return!1}function Yk(e,t,r){t=Wu(r,t),t=YP(e,t,1),e=Jl(e,t,1),t=aa(),e!==null&&(D0(e,1,t),ya(e,t))}function jr(e,t,r){if(e.tag===3)Yk(e,e,r);else for(;t!==null;){if(t.tag===3){Yk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zl===null||!Zl.has(n))){e=Wu(r,e),e=JP(t,e,1),t=Jl(t,e,1),e=aa(),t!==null&&(D0(t,1,e),ya(t,e));break}}t=t.return}}function Y9(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=aa(),e.pingedLanes|=e.suspendedLanes&r,fn===e&&(_n&r)===r&&(Qr===4||Qr===3&&(_n&130023424)===_n&&500>Pr()-dj?nc(e,0):uj|=r),ya(e,t)}function v3(e,t){t===0&&(e.mode&1?(t=kh,kh<<=1,!(kh&130023424)&&(kh=4194304)):t=1);var r=aa();e=dl(e,t),e!==null&&(D0(e,t,r),ya(e,r))}function J9(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),v3(e,r)}function Z9(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(t),v3(e,r)}var y3;y3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ga.current)pa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return pa=!1,B9(e,t,r);pa=!!(e.flags&131072)}else pa=!1,sr&&t.flags&1048576&&NP(t,sp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sm(e,t),e=t.pendingProps;var a=$u(t,Hn.current);Nu(t,r),a=aj(null,t,n,e,a,r);var i=sj();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,va(n)?(i=!0,np(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zw(t),a.updater=Vx,t.stateNode=a,a._reactInternals=t,S1(t,n,e,r),t=T1(null,t,n,!0,i,r)):(t.tag=0,sr&&i&&Kw(t),Jn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=t7(n),e=$s(n,e),a){case 0:t=C1(null,t,n,e,r);break e;case 1:t=Uk(null,t,n,e,r);break e;case 11:t=$k(null,t,n,e,r);break e;case 14:t=Bk(null,t,n,$s(n.type,e),r);break e}throw Error(Oe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$s(n,a),C1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$s(n,a),Uk(e,t,n,a,r);case 3:e:{if(r3(t),e===null)throw Error(Oe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,TP(e,t),op(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Wu(Error(Oe(423)),t),t=zk(e,t,n,r,a);break e}else if(n!==a){a=Wu(Error(Oe(424)),t),t=zk(e,t,n,r,a);break e}else for($a=Yl(t.stateNode.containerInfo.firstChild),Ba=t,sr=!0,Ws=null,r=EP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bu(),n===a){t=fl(e,t,r);break e}Jn(e,t,n,r)}t=t.child}return t;case 5:return AP(t),e===null&&N1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,v1(n,a)?l=null:i!==null&&v1(n,i)&&(t.flags|=32),t3(e,t),Jn(e,t,l,r),t.child;case 6:return e===null&&N1(t),null;case 13:return n3(e,t,r);case 4:return ej(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Uu(t,null,n,r):Jn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$s(n,a),$k(e,t,n,a,r);case 7:return Jn(e,t,t.pendingProps,r),t.child;case 8:return Jn(e,t,t.pendingProps.children,r),t.child;case 12:return Jn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Kt(ip,n._currentValue),n._currentValue=l,i!==null)if(ai(i.value,l)){if(i.children===a.children&&!ga.current){t=fl(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=tl(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),_1(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Oe(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),_1(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Jn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Nu(t,r),a=js(a),n=n(a),t.flags|=1,Jn(e,t,n,r),t.child;case 14:return n=t.type,a=$s(n,t.pendingProps),a=$s(n.type,a),Bk(e,t,n,a,r);case 15:return ZP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$s(n,a),Sm(e,t),t.tag=1,va(n)?(e=!0,np(t)):e=!1,Nu(t,r),QP(t,n,a),S1(t,n,a,r),T1(null,t,n,!0,e,r);case 19:return a3(e,t,r);case 22:return e3(e,t,r)}throw Error(Oe(156,t.tag))};function b3(e,t){return qA(e,t)}function e7(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(e,t,r,n){return new e7(e,t,r,n)}function pj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function t7(e){if(typeof e=="function")return pj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fw)return 11;if(e===Iw)return 14}return 2}function to(e,t){var r=e.alternate;return r===null?(r=gs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tm(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")pj(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case iu:return ac(r.children,a,i,t);case Dw:l=8,a|=8;break;case Qy:return e=gs(12,r,t,a|2),e.elementType=Qy,e.lanes=i,e;case Yy:return e=gs(13,r,t,a),e.elementType=Yy,e.lanes=i,e;case Jy:return e=gs(19,r,t,a),e.elementType=Jy,e.lanes=i,e;case AA:return qx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CA:l=10;break e;case TA:l=9;break e;case Fw:l=11;break e;case Iw:l=14;break e;case Dl:l=16,n=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=gs(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ac(e,t,r,n){return e=gs(7,e,n,t),e.lanes=r,e}function qx(e,t,r,n){return e=gs(22,e,n,t),e.elementType=AA,e.lanes=r,e.stateNode={isHidden:!1},e}function Gv(e,t,r){return e=gs(6,e,null,t),e.lanes=r,e}function Xv(e,t,r){return t=gs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function r7(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tv(0),this.expirationTimes=Tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xj(e,t,r,n,a,i,l,o,c){return e=new r7(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zw(i),e}function n7(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:su,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function w3(e){if(!e)return lo;e=e._reactInternals;e:{if(Mc(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(va(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var r=e.type;if(va(r))return wP(e,r,t)}return t}function j3(e,t,r,n,a,i,l,o,c){return e=xj(r,n,!0,e,a,i,l,o,c),e.context=w3(null),r=e.current,n=aa(),a=eo(r),i=tl(n,a),i.callback=t??null,Jl(r,i,a),e.current.lanes=a,D0(e,a,n),ya(e,n),e}function Gx(e,t,r,n){var a=t.current,i=aa(),l=eo(a);return r=w3(r),t.context===null?t.context=r:t.pendingContext=r,t=tl(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Jl(a,t,l),e!==null&&(Js(e,a,l,i),Nm(e,a,l)),l}function xp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gj(e,t){Jk(e,t),(e=e.alternate)&&Jk(e,t)}function a7(){return null}var N3=typeof reportError=="function"?reportError:function(e){console.error(e)};function vj(e){this._internalRoot=e}Xx.prototype.render=vj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));Gx(e,t,null,null)};Xx.prototype.unmount=vj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bc(function(){Gx(null,e,null,null)}),t[ul]=null}};function Xx(e){this._internalRoot=e}Xx.prototype.unstable_scheduleHydration=function(e){if(e){var t=eP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ll.length&&t!==0&&t<Ll[r].priority;r++);Ll.splice(r,0,e),r===0&&rP(e)}};function yj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zk(){}function s7(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=xp(l);i.call(u)}}var l=j3(t,n,e,0,null,!1,!1,"",Zk);return e._reactRootContainer=l,e[ul]=l.current,Kf(e.nodeType===8?e.parentNode:e),bc(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=xp(c);o.call(u)}}var c=xj(e,0,!1,null,null,!1,!1,"",Zk);return e._reactRootContainer=c,e[ul]=c.current,Kf(e.nodeType===8?e.parentNode:e),bc(function(){Gx(t,c,r,n)}),c}function Yx(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=xp(l);o.call(c)}}Gx(t,l,e,a)}else l=s7(r,t,e,a,n);return xp(l)}JA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sf(t.pendingLanes);r!==0&&(Lw(t,r|1),ya(t,Pr()),!(_t&6)&&(Vu=Pr()+500,yo()))}break;case 13:bc(function(){var n=dl(e,1);if(n!==null){var a=aa();Js(n,e,1,a)}}),gj(e,1)}};$w=function(e){if(e.tag===13){var t=dl(e,134217728);if(t!==null){var r=aa();Js(t,e,134217728,r)}gj(e,134217728)}};ZA=function(e){if(e.tag===13){var t=eo(e),r=dl(e,t);if(r!==null){var n=aa();Js(r,e,t,n)}gj(e,t)}};eP=function(){return Rt};tP=function(e,t){var r=Rt;try{return Rt=e,t()}finally{Rt=r}};o1=function(e,t,r){switch(t){case"input":if(t1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ux(n);if(!a)throw Error(Oe(90));OA(n),t1(n,a)}}}break;case"textarea":FA(e,r);break;case"select":t=r.value,t!=null&&yu(e,!!r.multiple,t,!1)}};UA=fj;zA=bc;var i7={usingClientEntryPoint:!1,Events:[I0,uu,Ux,$A,BA,fj]},Vd={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l7={bundleType:Vd.bundleType,version:Vd.version,rendererPackageName:Vd.rendererPackageName,rendererConfig:Vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HA(e),e===null?null:e.stateNode},findFiberByHostInstance:Vd.findFiberByHostInstance||a7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{Mx=Rh.inject(l7),Ni=Rh}catch{}}Ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i7;Ga.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yj(t))throw Error(Oe(200));return n7(e,t,null,r)};Ga.createRoot=function(e,t){if(!yj(e))throw Error(Oe(299));var r=!1,n="",a=N3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xj(e,1,!1,null,null,r,!1,n,a),e[ul]=t.current,Kf(e.nodeType===8?e.parentNode:e),new vj(t)};Ga.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=HA(t),e=e===null?null:e.stateNode,e};Ga.flushSync=function(e){return bc(e)};Ga.hydrate=function(e,t,r){if(!Qx(t))throw Error(Oe(200));return Yx(null,e,t,!0,r)};Ga.hydrateRoot=function(e,t,r){if(!yj(e))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=N3;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=j3(t,null,e,1,r??null,a,!1,i,l),e[ul]=t.current,Kf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Xx(t)};Ga.render=function(e,t,r){if(!Qx(t))throw Error(Oe(200));return Yx(null,e,t,!1,r)};Ga.unmountComponentAtNode=function(e){if(!Qx(e))throw Error(Oe(40));return e._reactRootContainer?(bc(function(){Yx(null,null,e,!1,function(){e._reactRootContainer=null,e[ul]=null})}),!0):!1};Ga.unstable_batchedUpdates=fj;Ga.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qx(r))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return Yx(e,t,r,!1,n)};Ga.version="18.3.1-next-f1338f8080-20240426";function _3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_3)}catch(e){console.error(e)}}_3(),_A.exports=Ga;var Jx=_A.exports;const o7=Es(Jx);var eS=Jx;Gy.createRoot=eS.createRoot,Gy.hydrateRoot=eS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(this,arguments)}var Hl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hl||(Hl={}));const tS="popstate";function c7(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return U1("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:gp(a)}return d7(t,r,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u7(){return Math.random().toString(36).substr(2,8)}function rS(e,t){return{usr:e.state,key:e.key,idx:t}}function U1(e,t,r,n){return r===void 0&&(r=null),t0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dd(t):t,{state:r,key:t&&t.key||n||u7()})}function gp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function dd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function d7(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=Hl.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(t0({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){o=Hl.Pop;let g=d(),y=g==null?null:g-u;u=g,c&&c({action:o,location:x.location,delta:y})}function h(g,y){o=Hl.Push;let b=U1(x.location,g,y);u=d()+1;let v=rS(b,u),N=x.createHref(b);try{l.pushState(v,"",N)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(N)}i&&c&&c({action:o,location:x.location,delta:1})}function m(g,y){o=Hl.Replace;let b=U1(x.location,g,y);u=d();let v=rS(b,u),N=x.createHref(b);l.replaceState(v,"",N),i&&c&&c({action:o,location:x.location,delta:0})}function p(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof g=="string"?g:gp(g);return b=b.replace(/ $/,"%20"),xr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let x={get action(){return o},get location(){return e(a,l)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(tS,f),c=g,()=>{a.removeEventListener(tS,f),c=null}},createHref(g){return t(a,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(g){return l.go(g)}};return x}var nS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nS||(nS={}));function f7(e,t,r){return r===void 0&&(r="/"),h7(e,t,r)}function h7(e,t,r,n){let a=typeof t=="string"?dd(t):t,i=Hu(a.pathname||"/",r);if(i==null)return null;let l=S3(e);m7(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=k7(i);o=N7(l[c],u)}return o}function S3(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(xr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ro([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(xr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),S3(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:w7(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of E3(i.path))a(i,l,c)}),t}function E3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=E3(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function m7(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:j7(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const p7=/^:[\w-]+$/,x7=3,g7=2,v7=1,y7=10,b7=-2,aS=e=>e==="*";function w7(e,t){let r=e.split("/"),n=r.length;return r.some(aS)&&(n+=b7),t&&(n+=g7),r.filter(a=>!aS(a)).reduce((a,i)=>a+(p7.test(i)?x7:i===""?v7:y7),n)}function j7(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function N7(e,t,r){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=z1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),l.push({params:a,pathname:ro([i,f.pathname]),pathnameBase:T7(ro([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ro([i,f.pathnameBase]))}return l}function z1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=o[f]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function _7(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),k3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function k7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return k3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function S7(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?dd(e):e;return{pathname:r?r.startsWith("/")?r:E7(r,t):t,search:A7(n),hash:P7(a)}}function E7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Qv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bj(e,t){let r=C7(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wj(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=dd(e):(a=t0({},e),xr(!a.pathname||!a.pathname.includes("?"),Qv("?","pathname","search",a)),xr(!a.pathname||!a.pathname.includes("#"),Qv("#","pathname","hash",a)),xr(!a.search||!a.search.includes("#"),Qv("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let f=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=S7(a,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ro=e=>e.join("/").replace(/\/\/+/g,"/"),T7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const C3=["post","put","patch","delete"];new Set(C3);const D7=["get",...C3];new Set(D7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(this,arguments)}const Zx=w.createContext(null),T3=w.createContext(null),bl=w.createContext(null),eg=w.createContext(null),Di=w.createContext({outlet:null,matches:[],isDataRoute:!1}),A3=w.createContext(null);function F7(e,t){let{relative:r}=t===void 0?{}:t;fd()||xr(!1);let{basename:n,navigator:a}=w.useContext(bl),{hash:i,pathname:l,search:o}=tg(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:ro([n,l])),a.createHref({pathname:c,search:o,hash:i})}function fd(){return w.useContext(eg)!=null}function Lc(){return fd()||xr(!1),w.useContext(eg).location}function P3(e){w.useContext(bl).static||w.useLayoutEffect(e)}function Fi(){let{isDataRoute:e}=w.useContext(Di);return e?X7():I7()}function I7(){fd()||xr(!1);let e=w.useContext(Zx),{basename:t,future:r,navigator:n}=w.useContext(bl),{matches:a}=w.useContext(Di),{pathname:i}=Lc(),l=JSON.stringify(bj(a,r.v7_relativeSplatPath)),o=w.useRef(!1);return P3(()=>{o.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=wj(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ro([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,l,i,e])}const R7=w.createContext(null);function M7(e){let t=w.useContext(Di).outlet;return t&&w.createElement(R7.Provider,{value:e},t)}function M0(){let{matches:e}=w.useContext(Di),t=e[e.length-1];return t?t.params:{}}function tg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(bl),{matches:a}=w.useContext(Di),{pathname:i}=Lc(),l=JSON.stringify(bj(a,n.v7_relativeSplatPath));return w.useMemo(()=>wj(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function L7(e,t){return $7(e,t)}function $7(e,t,r,n){fd()||xr(!1);let{navigator:a}=w.useContext(bl),{matches:i}=w.useContext(Di),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Lc(),d;if(t){var f;let g=typeof t=="string"?dd(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||xr(!1),d=g}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=f7(e,{pathname:m}),x=V7(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:ro([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:ro([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&x?w.createElement(eg.Provider,{value:{location:r0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hl.Pop}},x):x}function B7(){let e=G7(),t=O7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const U7=w.createElement(B7,null);class z7 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Di.Provider,{value:this.props.routeContext},w.createElement(A3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W7(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(Zx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Di.Provider,{value:t},n)}function V7(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||xr(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,h)=>{let m,p=!1,x=null,g=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||U7,c&&(u<0&&h===0?(Q7("route-fallback"),p=!0,g=null):u===h&&(p=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,h+1)),b=()=>{let v;return m?v=x:p?v=g:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(W7,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(z7,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var O3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O3||{}),D3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D3||{});function H7(e){let t=w.useContext(Zx);return t||xr(!1),t}function K7(e){let t=w.useContext(T3);return t||xr(!1),t}function q7(e){let t=w.useContext(Di);return t||xr(!1),t}function F3(e){let t=q7(),r=t.matches[t.matches.length-1];return r.route.id||xr(!1),r.route.id}function G7(){var e;let t=w.useContext(A3),r=K7(),n=F3();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function X7(){let{router:e}=H7(O3.UseNavigateStable),t=F3(D3.UseNavigateStable),r=w.useRef(!1);return P3(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,r0({fromRouteId:t},i)))},[e,t])}const sS={};function Q7(e,t,r){sS[e]||(sS[e]=!0)}function Y7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mh(e){let{to:t,replace:r,state:n,relative:a}=e;fd()||xr(!1);let{future:i,static:l}=w.useContext(bl),{matches:o}=w.useContext(Di),{pathname:c}=Lc(),u=Fi(),d=wj(t,bj(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function J7(e){return M7(e.context)}function Pt(e){xr(!1)}function Z7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Hl.Pop,navigator:i,static:l=!1,future:o}=e;fd()&&xr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:l,future:r0({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=dd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,x=w.useMemo(()=>{let g=Hu(d,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return x==null?null:w.createElement(bl.Provider,{value:u},w.createElement(eg.Provider,{children:r,value:x}))}function e$(e){let{children:t,location:r}=e;return L7(W1(t),r)}new Promise(()=>{});function W1(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,W1(n.props.children,i));return}n.type!==Pt&&xr(!1),!n.props.index||!n.props.children||xr(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=W1(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(this,arguments)}function I3(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function t$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r$(e,t){return e.button===0&&(!t||t==="_self")&&!t$(e)}const n$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],s$="6";try{window.__reactRouterVersion=s$}catch{}const i$=w.createContext({isTransitioning:!1}),l$="startTransition",iS=jA[l$];function o$(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=c7({window:a,v5Compat:!0}));let l=i.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&iS?iS(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>l.listen(d),[l,d]),w.useEffect(()=>Y7(n),[n]),w.createElement(Z7,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const c$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=I3(t,n$),{basename:m}=w.useContext(bl),p,x=!1;if(typeof u=="string"&&u$.test(u)&&(p=u,c$))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),_=Hu(N.pathname,m);N.origin===v.origin&&_!=null?u=_+N.search+N.hash:x=!0}catch{}let g=F7(u,{relative:a}),y=f$(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(v){n&&n(v),v.defaultPrevented||y(v)}return w.createElement("a",vp({},h,{href:p||g,onClick:x||i?n:b,ref:r,target:c}))}),lS=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:u,children:d}=t,f=I3(t,a$),h=tg(c,{relative:f.relative}),m=Lc(),p=w.useContext(T3),{navigator:x,basename:g}=w.useContext(bl),y=p!=null&&h$(h)&&u===!0,b=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,v=m.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(v=v.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&g&&(N=Hu(N,g)||N);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=v===b||!l&&v.startsWith(b)&&v.charAt(_)==="/",k=N!=null&&(N===b||!l&&N.startsWith(b)&&N.charAt(b.length)==="/"),E={isActive:j,isPending:k,isTransitioning:y},T=j?n:void 0,C;typeof i=="function"?C=i(E):C=[i,j?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(E):o;return w.createElement(Gs,vp({},f,{"aria-current":T,className:C,ref:r,style:A,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var V1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(V1||(V1={}));var oS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(oS||(oS={}));function d$(e){let t=w.useContext(Zx);return t||xr(!1),t}function f$(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=Fi(),u=Lc(),d=tg(e,{relative:l});return w.useCallback(f=>{if(r$(f,r)){f.preventDefault();let h=n!==void 0?n:gp(u)===gp(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,d,n,a,r,e,i,l,o])}function h$(e,t){t===void 0&&(t={});let r=w.useContext(i$);r==null&&xr(!1);let{basename:n}=d$(V1.useViewTransitionState),a=tg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Hu(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Hu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return z1(a.pathname,l)!=null||z1(a.pathname,i)!=null}function H1(e,t){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},H1(e,t)}function hd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H1(e,t)}var md=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(n){var a=this,i=n||function(){};return this.listeners.push(i),this.onSubscribe(),function(){a.listeners=a.listeners.filter(function(l){return l!==i}),a.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pt.apply(null,arguments)}var yp=typeof window>"u";function yn(){}function m$(e,t){return typeof e=="function"?e(t):e}function K1(e){return typeof e=="number"&&e>=0&&e!==1/0}function bp(e){return Array.isArray(e)?e:[e]}function R3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Am(e,t,r){return L0(e)?typeof t=="function"?pt({},r,{queryKey:e,queryFn:t}):pt({},t,{queryKey:e}):e}function p$(e,t,r){return L0(e)?typeof t=="function"?pt({},r,{mutationKey:e,mutationFn:t}):pt({},t,{mutationKey:e}):typeof e=="function"?pt({},t,{mutationFn:e}):pt({},e)}function Il(e,t,r){return L0(e)?[pt({},t,{queryKey:e}),r]:[e||{},t]}function x$(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var r=e??!t;return r?"active":"inactive"}function cS(e,t){var r=e.active,n=e.exact,a=e.fetching,i=e.inactive,l=e.predicate,o=e.queryKey,c=e.stale;if(L0(o)){if(n){if(t.queryHash!==jj(o,t.options))return!1}else if(!wp(t.queryKey,o))return!1}var u=x$(r,i);if(u==="none")return!1;if(u!=="all"){var d=t.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof a=="boolean"&&t.isFetching()!==a||l&&!l(t))}function uS(e,t){var r=e.exact,n=e.fetching,a=e.predicate,i=e.mutationKey;if(L0(i)){if(!t.options.mutationKey)return!1;if(r){if(Ho(t.options.mutationKey)!==Ho(i))return!1}else if(!wp(t.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||a&&!a(t))}function jj(e,t){var r=(t==null?void 0:t.queryKeyHashFn)||Ho;return r(e)}function Ho(e){var t=bp(e);return g$(t)}function g$(e){return JSON.stringify(e,function(t,r){return q1(r)?Object.keys(r).sort().reduce(function(n,a){return n[a]=r[a],n},{}):r})}function wp(e,t){return M3(bp(e),bp(t))}function M3(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(r){return!M3(e[r],t[r])}):!1}function jp(e,t){if(e===t)return e;var r=Array.isArray(e)&&Array.isArray(t);if(r||q1(e)&&q1(t)){for(var n=r?e.length:Object.keys(e).length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{},o=0,c=0;c<i;c++){var u=r?c:a[c];l[u]=jp(e[u],t[u]),l[u]===e[u]&&o++}return n===i&&o===n?e:l}return t}function v$(e,t){if(e&&!t||t&&!e)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function q1(e){if(!dS(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var r=t.prototype;return!(!dS(r)||!r.hasOwnProperty("isPrototypeOf"))}function dS(e){return Object.prototype.toString.call(e)==="[object Object]"}function L0(e){return typeof e=="string"||Array.isArray(e)}function y$(e){return new Promise(function(t){setTimeout(t,e)})}function fS(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function L3(){if(typeof AbortController=="function")return new AbortController}var b$=function(e){hd(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(a){var i;if(!yp&&((i=window)!=null&&i.addEventListener)){var l=function(){return a()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},r.setEventListener=function(a){var i,l=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(o){typeof o=="boolean"?l.setFocused(o):l.onFocus()})},r.setFocused=function(a){this.focused=a,a&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(a){a()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(md),Nf=new b$,w$=function(e){hd(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(a){var i;if(!yp&&((i=window)!=null&&i.addEventListener)){var l=function(){return a()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},r.setEventListener=function(a){var i,l=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(o){typeof o=="boolean"?l.setOnline(o):l.onOnline()})},r.setOnline=function(a){this.online=a,a&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(a){a()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(md),Pm=new w$;function j$(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Np(e){return typeof(e==null?void 0:e.cancel)=="function"}var $3=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Om(e){return e instanceof $3}var B3=function(t){var r=this,n=!1,a,i,l,o;this.abort=t.abort,this.cancel=function(h){return a==null?void 0:a(h)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,m){l=h,o=m});var c=function(m){r.isResolved||(r.isResolved=!0,t.onSuccess==null||t.onSuccess(m),i==null||i(),l(m))},u=function(m){r.isResolved||(r.isResolved=!0,t.onError==null||t.onError(m),i==null||i(),o(m))},d=function(){return new Promise(function(m){i=m,r.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,r.isPaused=!1,t.onContinue==null||t.onContinue()})},f=function h(){if(!r.isResolved){var m;try{m=t.fn()}catch(p){m=Promise.reject(p)}a=function(x){if(!r.isResolved&&(u(new $3(x)),r.abort==null||r.abort(),Np(m)))try{m.cancel()}catch{}},r.isTransportCancelable=Np(m),Promise.resolve(m).then(c).catch(function(p){var x,g;if(!r.isResolved){var y=(x=t.retry)!=null?x:3,b=(g=t.retryDelay)!=null?g:j$,v=typeof b=="function"?b(r.failureCount,p):b,N=y===!0||typeof y=="number"&&r.failureCount<y||typeof y=="function"&&y(r.failureCount,p);if(n||!N){u(p);return}r.failureCount++,t.onFail==null||t.onFail(r.failureCount,p),y$(v).then(function(){if(!Nf.isFocused()||!Pm.isOnline())return d()}).then(function(){n?u(p):h()})}})}};f()},N$=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var t=e.prototype;return t.batch=function(n){var a;this.transactions++;try{a=n()}finally{this.transactions--,this.transactions||this.flush()}return a},t.schedule=function(n){var a=this;this.transactions?this.queue.push(n):fS(function(){a.notifyFn(n)})},t.batchCalls=function(n){var a=this;return function(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];a.schedule(function(){n.apply(void 0,l)})}},t.flush=function(){var n=this,a=this.queue;this.queue=[],a.length&&fS(function(){n.batchNotifyFn(function(){a.forEach(function(i){n.notifyFn(i)})})})},t.setNotifyFunction=function(n){this.notifyFn=n},t.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},e}(),ar=new N$,U3=console;function _p(){return U3}function _$(e){U3=e}var k$=function(){function e(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(n){var a;this.options=pt({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(a=this.options.cacheTime)!=null?a:5*60*1e3)},t.setDefaultOptions=function(n){this.defaultOptions=n},t.scheduleGc=function(){var n=this;this.clearGcTimeout(),K1(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(n,a){var i,l,o=this.state.data,c=m$(n,o);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,o,c)?c=o:this.options.structuralSharing!==!1&&(c=jp(o,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt}),c},t.setState=function(n,a){this.dispatch({type:"setState",state:n,setStateOptions:a})},t.cancel=function(n){var a,i=this.promise;return(a=this.retryer)==null||a.cancel(n),i?i.then(yn).catch(yn):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},t.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!R3(this.state.dataUpdatedAt,n)},t.onFocus=function(){var n,a=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});a&&a.refetch(),(n=this.retryer)==null||n.continue()},t.onOnline=function(){var n,a=this.observers.find(function(i){return i.shouldFetchOnReconnect()});a&&a.refetch(),(n=this.retryer)==null||n.continue()},t.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},t.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(a){return a!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(n,a){var i=this,l,o,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var d=this.observers.find(function(b){return b.options.queryFn});d&&this.setOptions(d.options)}var f=bp(this.queryKey),h=L3(),m={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(h)return i.abortSignalConsumed=!0,h.signal}});var p=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},x={fetchOptions:a,options:this.options,queryKey:f,state:this.state,fetchFn:p,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var g;(g=this.options.behavior)==null||g.onFetch(x)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=x.fetchOptions)==null?void 0:o.meta)){var y;this.dispatch({type:"fetch",meta:(y=x.fetchOptions)==null?void 0:y.meta})}return this.retryer=new B3({fn:x.fetchFn,abort:h==null||(c=h.abort)==null?void 0:c.bind(h),onSuccess:function(v){i.setData(v),i.cache.config.onSuccess==null||i.cache.config.onSuccess(v,i),i.cacheTime===0&&i.optionalRemove()},onError:function(v){Om(v)&&v.silent||i.dispatch({type:"error",error:v}),Om(v)||(i.cache.config.onError==null||i.cache.config.onError(v,i),_p().error(v)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(n){var a=this;this.state=this.reducer(this.state,n),ar.batch(function(){a.observers.forEach(function(i){i.onQueryUpdate(n)}),a.cache.notify({query:a,type:"queryUpdated",action:n})})},t.getDefaultState=function(n){var a=typeof n.initialData=="function"?n.initialData():n.initialData,i=typeof n.initialData<"u",l=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,o=typeof a<"u";return{data:a,dataUpdateCount:0,dataUpdatedAt:o?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},t.reducer=function(n,a){var i,l;switch(a.type){case"failed":return pt({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return pt({},n,{isPaused:!0});case"continue":return pt({},n,{isPaused:!1});case"fetch":return pt({},n,{fetchFailureCount:0,fetchMeta:(i=a.meta)!=null?i:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return pt({},n,{data:a.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(l=a.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=a.error;return Om(o)&&o.revert&&this.revertState?pt({},this.revertState):pt({},n,{error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return pt({},n,{isInvalidated:!0});case"setState":return pt({},n,a.state);default:return n}},e}(),S$=function(e){hd(t,e);function t(n){var a;return a=e.call(this)||this,a.config=n||{},a.queries=[],a.queriesMap={},a}var r=t.prototype;return r.build=function(a,i,l){var o,c=i.queryKey,u=(o=i.queryHash)!=null?o:jj(c,i),d=this.get(u);return d||(d=new k$({cache:this,queryKey:c,queryHash:u,options:a.defaultQueryOptions(i),state:l,defaultOptions:a.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},r.add=function(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"queryAdded",query:a}))},r.remove=function(a){var i=this.queriesMap[a.queryHash];i&&(a.destroy(),this.queries=this.queries.filter(function(l){return l!==a}),i===a&&delete this.queriesMap[a.queryHash],this.notify({type:"queryRemoved",query:a}))},r.clear=function(){var a=this;ar.batch(function(){a.queries.forEach(function(i){a.remove(i)})})},r.get=function(a){return this.queriesMap[a]},r.getAll=function(){return this.queries},r.find=function(a,i){var l=Il(a,i),o=l[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(c){return cS(o,c)})},r.findAll=function(a,i){var l=Il(a,i),o=l[0];return Object.keys(o).length>0?this.queries.filter(function(c){return cS(o,c)}):this.queries},r.notify=function(a){var i=this;ar.batch(function(){i.listeners.forEach(function(l){l(a)})})},r.onFocus=function(){var a=this;ar.batch(function(){a.queries.forEach(function(i){i.onFocus()})})},r.onOnline=function(){var a=this;ar.batch(function(){a.queries.forEach(function(i){i.onOnline()})})},t}(md),E$=function(){function e(r){this.options=pt({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||z3(),this.meta=r.meta}var t=e.prototype;return t.setState=function(n){this.dispatch({type:"setState",state:n})},t.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},t.removeObserver=function(n){this.observers=this.observers.filter(function(a){return a!==n})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(yn).catch(yn)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var n=this,a,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(o){o!==n.state.context&&n.dispatch({type:"loading",context:o,variables:n.state.variables})})),l.then(function(){return n.executeMutation()}).then(function(o){a=o,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(a,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(a,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(a,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:a}),a}).catch(function(o){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(o,n.state.variables,n.state.context,n),_p().error(o),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(o,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,o,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:o}),o})})},t.executeMutation=function(){var n=this,a;return this.retryer=new B3({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(a=this.options.retry)!=null?a:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(n){var a=this;this.state=C$(this.state,n),ar.batch(function(){a.observers.forEach(function(i){i.onMutationUpdate(n)}),a.mutationCache.notify(a)})},e}();function z3(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function C$(e,t){switch(t.type){case"failed":return pt({},e,{failureCount:e.failureCount+1});case"pause":return pt({},e,{isPaused:!0});case"continue":return pt({},e,{isPaused:!1});case"loading":return pt({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return pt({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return pt({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return pt({},e,t.state);default:return e}}var T$=function(e){hd(t,e);function t(n){var a;return a=e.call(this)||this,a.config=n||{},a.mutations=[],a.mutationId=0,a}var r=t.prototype;return r.build=function(a,i,l){var o=new E$({mutationCache:this,mutationId:++this.mutationId,options:a.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?a.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(o),o},r.add=function(a){this.mutations.push(a),this.notify(a)},r.remove=function(a){this.mutations=this.mutations.filter(function(i){return i!==a}),a.cancel(),this.notify(a)},r.clear=function(){var a=this;ar.batch(function(){a.mutations.forEach(function(i){a.remove(i)})})},r.getAll=function(){return this.mutations},r.find=function(a){return typeof a.exact>"u"&&(a.exact=!0),this.mutations.find(function(i){return uS(a,i)})},r.findAll=function(a){return this.mutations.filter(function(i){return uS(a,i)})},r.notify=function(a){var i=this;ar.batch(function(){i.listeners.forEach(function(l){l(a)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var a=this.mutations.filter(function(i){return i.state.isPaused});return ar.batch(function(){return a.reduce(function(i,l){return i.then(function(){return l.continue().catch(yn)})},Promise.resolve())})},t}(md);function A$(){return{onFetch:function(t){t.fetchFn=function(){var r,n,a,i,l,o,c=(r=t.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(a=t.fetchOptions)==null||(i=a.meta)==null?void 0:i.fetchMore,d=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",m=((l=t.state.data)==null?void 0:l.pages)||[],p=((o=t.state.data)==null?void 0:o.pageParams)||[],x=L3(),g=x==null?void 0:x.signal,y=p,b=!1,v=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},N=function(M,Y,z,R){return y=R?[Y].concat(y):[].concat(y,[Y]),R?[z].concat(M):[].concat(M,[z])},_=function(M,Y,z,R){if(b)return Promise.reject("Cancelled");if(typeof z>"u"&&!Y&&M.length)return Promise.resolve(M);var H={queryKey:t.queryKey,signal:g,pageParam:z,meta:t.meta},U=v(H),te=Promise.resolve(U).then(function(D){return N(M,z,D,R)});if(Np(U)){var K=te;K.cancel=U.cancel}return te},j;if(!m.length)j=_([]);else if(f){var k=typeof d<"u",E=k?d:hS(t.options,m);j=_(m,k,E)}else if(h){var T=typeof d<"u",C=T?d:P$(t.options,m);j=_(m,T,C,!0)}else(function(){y=[];var B=typeof t.options.getNextPageParam>"u",M=c&&m[0]?c(m[0],0,m):!0;j=M?_([],B,p[0]):Promise.resolve(N([],p[0],m[0]));for(var Y=function(H){j=j.then(function(U){var te=c&&m[H]?c(m[H],H,m):!0;if(te){var K=B?p[H]:hS(t.options,U);return _(U,B,K)}return Promise.resolve(N(U,p[H],m[H]))})},z=1;z<m.length;z++)Y(z)})();var A=j.then(function(B){return{pages:B,pageParams:y}}),S=A;return S.cancel=function(){b=!0,x==null||x.abort(),Np(j)&&j.cancel()},A}}}}function hS(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function P$(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var O$=function(){function e(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new S$,this.mutationCache=r.mutationCache||new T$,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var n=this;this.unsubscribeFocus=Nf.subscribe(function(){Nf.isFocused()&&Pm.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=Pm.subscribe(function(){Nf.isFocused()&&Pm.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},t.unmount=function(){var n,a;(n=this.unsubscribeFocus)==null||n.call(this),(a=this.unsubscribeOnline)==null||a.call(this)},t.isFetching=function(n,a){var i=Il(n,a),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},t.isMutating=function(n){return this.mutationCache.findAll(pt({},n,{fetching:!0})).length},t.getQueryData=function(n,a){var i;return(i=this.queryCache.find(n,a))==null?void 0:i.state.data},t.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(a){var i=a.queryKey,l=a.state,o=l.data;return[i,o]})},t.setQueryData=function(n,a,i){var l=Am(n),o=this.defaultQueryOptions(l);return this.queryCache.build(this,o).setData(a,i)},t.setQueriesData=function(n,a,i){var l=this;return ar.batch(function(){return l.getQueryCache().findAll(n).map(function(o){var c=o.queryKey;return[c,l.setQueryData(c,a,i)]})})},t.getQueryState=function(n,a){var i;return(i=this.queryCache.find(n,a))==null?void 0:i.state},t.removeQueries=function(n,a){var i=Il(n,a),l=i[0],o=this.queryCache;ar.batch(function(){o.findAll(l).forEach(function(c){o.remove(c)})})},t.resetQueries=function(n,a,i){var l=this,o=Il(n,a,i),c=o[0],u=o[1],d=this.queryCache,f=pt({},c,{active:!0});return ar.batch(function(){return d.findAll(c).forEach(function(h){h.reset()}),l.refetchQueries(f,u)})},t.cancelQueries=function(n,a,i){var l=this,o=Il(n,a,i),c=o[0],u=o[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=ar.batch(function(){return l.queryCache.findAll(c).map(function(h){return h.cancel(d)})});return Promise.all(f).then(yn).catch(yn)},t.invalidateQueries=function(n,a,i){var l,o,c,u=this,d=Il(n,a,i),f=d[0],h=d[1],m=pt({},f,{active:(l=(o=f.refetchActive)!=null?o:f.active)!=null?l:!0,inactive:(c=f.refetchInactive)!=null?c:!1});return ar.batch(function(){return u.queryCache.findAll(f).forEach(function(p){p.invalidate()}),u.refetchQueries(m,h)})},t.refetchQueries=function(n,a,i){var l=this,o=Il(n,a,i),c=o[0],u=o[1],d=ar.batch(function(){return l.queryCache.findAll(c).map(function(h){return h.fetch(void 0,pt({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),f=Promise.all(d).then(yn);return u!=null&&u.throwOnError||(f=f.catch(yn)),f},t.fetchQuery=function(n,a,i){var l=Am(n,a,i),o=this.defaultQueryOptions(l);typeof o.retry>"u"&&(o.retry=!1);var c=this.queryCache.build(this,o);return c.isStaleByTime(o.staleTime)?c.fetch(o):Promise.resolve(c.state.data)},t.prefetchQuery=function(n,a,i){return this.fetchQuery(n,a,i).then(yn).catch(yn)},t.fetchInfiniteQuery=function(n,a,i){var l=Am(n,a,i);return l.behavior=A$(),this.fetchQuery(l)},t.prefetchInfiniteQuery=function(n,a,i){return this.fetchInfiniteQuery(n,a,i).then(yn).catch(yn)},t.cancelMutations=function(){var n=this,a=ar.batch(function(){return n.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(a).then(yn).catch(yn)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(n){this.defaultOptions=n},t.setQueryDefaults=function(n,a){var i=this.queryDefaults.find(function(l){return Ho(n)===Ho(l.queryKey)});i?i.defaultOptions=a:this.queryDefaults.push({queryKey:n,defaultOptions:a})},t.getQueryDefaults=function(n){var a;return n?(a=this.queryDefaults.find(function(i){return wp(n,i.queryKey)}))==null?void 0:a.defaultOptions:void 0},t.setMutationDefaults=function(n,a){var i=this.mutationDefaults.find(function(l){return Ho(n)===Ho(l.mutationKey)});i?i.defaultOptions=a:this.mutationDefaults.push({mutationKey:n,defaultOptions:a})},t.getMutationDefaults=function(n){var a;return n?(a=this.mutationDefaults.find(function(i){return wp(n,i.mutationKey)}))==null?void 0:a.defaultOptions:void 0},t.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var a=pt({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!a.queryHash&&a.queryKey&&(a.queryHash=jj(a.queryKey,a)),a},t.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},t.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:pt({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),D$=function(e){hd(t,e);function t(n,a){var i;return i=e.call(this)||this,i.client=n,i.options=a,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(a),i}var r=t.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),mS(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return G1(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return G1(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(a,i){var l=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(a),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=l.queryKey),this.updateQuery();var c=this.hasListeners();c&&pS(this.currentQuery,o,this.options,l)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==o||this.options.enabled!==l.enabled||this.options.staleTime!==l.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==o||this.options.enabled!==l.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(a){var i=this.client.defaultQueryObserverOptions(a),l=this.client.getQueryCache().build(this.client,i);return this.createResult(l,i)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(a,i){var l=this,o={},c=function(d){l.trackedProps.includes(d)||l.trackedProps.push(d)};return Object.keys(a).forEach(function(u){Object.defineProperty(o,u,{configurable:!1,enumerable:!0,get:function(){return c(u),a[u]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),o},r.getNextResult=function(a){var i=this;return new Promise(function(l,o){var c=i.subscribe(function(u){u.isFetching||(c(),u.isError&&(a!=null&&a.throwOnError)?o(u.error):l(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(a){return this.fetch(pt({},a,{meta:{refetchPage:a==null?void 0:a.refetchPage}}))},r.fetchOptimistic=function(a){var i=this,l=this.client.defaultQueryObserverOptions(a),o=this.client.getQueryCache().build(this.client,l);return o.fetch().then(function(){return i.createResult(o,l)})},r.fetch=function(a){var i=this;return this.executeFetch(a).then(function(){return i.updateResult(),i.currentResult})},r.executeFetch=function(a){this.updateQuery();var i=this.currentQuery.fetch(this.options,a);return a!=null&&a.throwOnError||(i=i.catch(yn)),i},r.updateStaleTimeout=function(){var a=this;if(this.clearStaleTimeout(),!(yp||this.currentResult.isStale||!K1(this.options.staleTime))){var i=R3(this.currentResult.dataUpdatedAt,this.options.staleTime),l=i+1;this.staleTimeoutId=setTimeout(function(){a.currentResult.isStale||a.updateResult()},l)}},r.computeRefetchInterval=function(){var a;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(a=this.options.refetchInterval)!=null?a:!1},r.updateRefetchInterval=function(a){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=a,!(yp||this.options.enabled===!1||!K1(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Nf.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(a,i){var l=this.currentQuery,o=this.options,c=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,f=a!==l,h=f?a.state:this.currentQueryInitialState,m=f?this.currentResult:this.previousQueryResult,p=a.state,x=p.dataUpdatedAt,g=p.error,y=p.errorUpdatedAt,b=p.isFetching,v=p.status,N=!1,_=!1,j;if(i.optimisticResults){var k=this.hasListeners(),E=!k&&mS(a,i),T=k&&pS(a,l,i,o);(E||T)&&(b=!0,x||(v="loading"))}if(i.keepPreviousData&&!p.dataUpdateCount&&(m!=null&&m.isSuccess)&&v!=="error")j=m.data,x=m.dataUpdatedAt,v=m.status,N=!0;else if(i.select&&typeof p.data<"u")if(c&&p.data===(u==null?void 0:u.data)&&i.select===this.selectFn)j=this.selectResult;else try{this.selectFn=i.select,j=i.select(p.data),i.structuralSharing!==!1&&(j=jp(c==null?void 0:c.data,j)),this.selectResult=j,this.selectError=null}catch(S){_p().error(S),this.selectError=S}else j=p.data;if(typeof i.placeholderData<"u"&&typeof j>"u"&&(v==="loading"||v==="idle")){var C;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData))C=c.data;else if(C=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof C<"u")try{C=i.select(C),i.structuralSharing!==!1&&(C=jp(c==null?void 0:c.data,C)),this.selectError=null}catch(S){_p().error(S),this.selectError=S}typeof C<"u"&&(v="success",j=C,_=!0)}this.selectError&&(g=this.selectError,j=this.selectResult,y=Date.now(),v="error");var A={status:v,isLoading:v==="loading",isSuccess:v==="success",isError:v==="error",isIdle:v==="idle",data:j,dataUpdatedAt:x,error:g,errorUpdatedAt:y,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&v!=="loading",isLoadingError:v==="error"&&p.dataUpdatedAt===0,isPlaceholderData:_,isPreviousData:N,isRefetchError:v==="error"&&p.dataUpdatedAt!==0,isStale:Nj(a,i),refetch:this.refetch,remove:this.remove};return A},r.shouldNotifyListeners=function(a,i){if(!i)return!0;var l=this.options,o=l.notifyOnChangeProps,c=l.notifyOnChangePropsExclusions;if(!o&&!c||o==="tracked"&&!this.trackedProps.length)return!0;var u=o==="tracked"?this.trackedProps:o;return Object.keys(a).some(function(d){var f=d,h=a[f]!==i[f],m=u==null?void 0:u.some(function(x){return x===d}),p=c==null?void 0:c.some(function(x){return x===d});return h&&!p&&(!u||m)})},r.updateResult=function(a){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!v$(this.currentResult,i)){var l={cache:!0};(a==null?void 0:a.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(l.listeners=!0),this.notify(pt({},l,a))}},r.updateQuery=function(){var a=this.client.getQueryCache().build(this.client,this.options);if(a!==this.currentQuery){var i=this.currentQuery;this.currentQuery=a,this.currentQueryInitialState=a.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),a.addObserver(this))}},r.onQueryUpdate=function(a){var i={};a.type==="success"?i.onSuccess=!0:a.type==="error"&&!Om(a.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},r.notify=function(a){var i=this;ar.batch(function(){a.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):a.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),a.listeners&&i.listeners.forEach(function(l){l(i.currentResult)}),a.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},t}(md);function F$(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mS(e,t){return F$(e,t)||e.state.dataUpdatedAt>0&&G1(e,t,t.refetchOnMount)}function G1(e,t,r){if(t.enabled!==!1){var n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Nj(e,t)}return!1}function pS(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&Nj(e,r)}function Nj(e,t){return e.isStaleByTime(t.staleTime)}var I$=function(e){hd(t,e);function t(n,a){var i;return i=e.call(this)||this,i.client=n,i.setOptions(a),i.bindMethods(),i.updateResult(),i}var r=t.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(a){this.options=this.client.defaultMutationOptions(a)},r.onUnsubscribe=function(){if(!this.listeners.length){var a;(a=this.currentMutation)==null||a.removeObserver(this)}},r.onMutationUpdate=function(a){this.updateResult();var i={listeners:!0};a.type==="success"?i.onSuccess=!0:a.type==="error"&&(i.onError=!0),this.notify(i)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(a,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,pt({},this.options,{variables:typeof a<"u"?a:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var a=this.currentMutation?this.currentMutation.state:z3(),i=pt({},a,{isLoading:a.status==="loading",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},r.notify=function(a){var i=this;ar.batch(function(){i.mutateOptions&&(a.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):a.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),a.listeners&&i.listeners.forEach(function(l){l(i.currentResult)})})},t}(md),R$=o7.unstable_batchedUpdates;ar.setBatchNotifyFunction(R$);var M$=console;_$(M$);var xS=yt.createContext(void 0),W3=yt.createContext(!1);function V3(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=xS),window.ReactQueryClientContext):xS}var vr=function(){var t=yt.useContext(V3(yt.useContext(W3)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},L$=function(t){var r=t.client,n=t.contextSharing,a=n===void 0?!1:n,i=t.children;yt.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var l=V3(a);return yt.createElement(W3.Provider,{value:a},yt.createElement(l.Provider,{value:r},i))};function $$(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var B$=yt.createContext($$()),U$=function(){return yt.useContext(B$)};function H3(e,t,r){return typeof t=="function"?t.apply(void 0,r):typeof t=="boolean"?t:!!e}function qt(e,t,r){var n=yt.useRef(!1),a=yt.useState(0),i=a[1],l=p$(e,t,r),o=vr(),c=yt.useRef();c.current?c.current.setOptions(l):c.current=new I$(o,l);var u=c.current.getCurrentResult();yt.useEffect(function(){n.current=!0;var f=c.current.subscribe(ar.batchCalls(function(){n.current&&i(function(h){return h+1})}));return function(){n.current=!1,f()}},[]);var d=yt.useCallback(function(f,h){c.current.mutate(f,h).catch(yn)},[]);if(u.error&&H3(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return pt({},u,{mutate:d,mutateAsync:u.mutate})}function z$(e,t){var r=yt.useRef(!1),n=yt.useState(0),a=n[1],i=vr(),l=U$(),o=i.defaultQueryObserverOptions(e);o.optimisticResults=!0,o.onError&&(o.onError=ar.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=ar.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=ar.batchCalls(o.onSettled)),o.suspense&&(typeof o.staleTime!="number"&&(o.staleTime=1e3),o.cacheTime===0&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(l.isReset()||(o.retryOnMount=!1));var c=yt.useState(function(){return new t(i,o)}),u=c[0],d=u.getOptimisticResult(o);if(yt.useEffect(function(){r.current=!0,l.clearReset();var f=u.subscribe(ar.batchCalls(function(){r.current&&a(function(h){return h+1})}));return u.updateResult(),function(){r.current=!1,f()}},[l,u]),yt.useEffect(function(){u.setOptions(o,{listeners:!1})},[o,u]),o.suspense&&d.isLoading)throw u.fetchOptimistic(o).then(function(f){var h=f.data;o.onSuccess==null||o.onSuccess(h),o.onSettled==null||o.onSettled(h,null)}).catch(function(f){l.clearReset(),o.onError==null||o.onError(f),o.onSettled==null||o.onSettled(void 0,f)});if(d.isError&&!l.isReset()&&!d.isFetching&&H3(o.suspense,o.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return o.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,o)),d}function Ge(e,t,r){var n=Am(e,t,r);return z$(n,D$)}var K3={exports:{}};K3.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var W$=K3.exports;let V$={data:""},H$=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||V$},K$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,q$=/\/\*[^]*?\*\/|  +/g,gS=/\n+/g,Bl=(e,t)=>{let r="",n="",a="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":n+=i[1]=="f"?Bl(l,i):i+"{"+Bl(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=Bl(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Bl.p?Bl.p(i,l):i+":"+l+";")}return r+(t&&a?t+"{"+a+"}":a)+n},$i={},q3=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+q3(e[r]);return t}return e},G$=(e,t,r,n,a)=>{let i=q3(e),l=$i[i]||($i[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!$i[l]){let c=i!==e?e:(u=>{let d,f,h=[{}];for(;d=K$.exec(u.replace(q$,""));)d[4]?h.shift():d[3]?(f=d[3].replace(gS," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(gS," ").trim();return h[0]})(e);$i[l]=Bl(a?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&$i.g?$i.g:null;return r&&($i.g=$i[l]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})($i[l],t,n,o),l},X$=(e,t,r)=>e.reduce((n,a,i)=>{let l=t[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Bl(o,""):o===!1?"":o}return n+a+(l??"")},"");function rg(e){let t=this||{},r=e.call?e(t.p):e;return G$(r.unshift?r.raw?X$(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,H$(t.target),t.g,t.o,t.k)}let G3,X1,Q1;rg.bind({g:1});let hl=rg.bind({k:1});function Q$(e,t,r,n){Bl.p=t,G3=e,X1=r,Q1=n}function bo(e,t){let r=this||{};return function(){let n=arguments;function a(i,l){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:X1&&X1()},o),r.o=/ *go\d+/.test(c),o.className=rg.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),Q1&&u[0]&&Q1(o),G3(u,o)}return a}}var Y$=e=>typeof e=="function",kp=(e,t)=>Y$(e)?e(t):e,J$=(()=>{let e=0;return()=>(++e).toString()})(),X3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Z$=20,_j="default",Q3=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return Q3(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},Dm=[],Y3={toasts:[],pausedAt:void 0,settings:{toastLimit:Z$}},bi={},J3=(e,t=_j)=>{bi[t]=Q3(bi[t]||Y3,e),Dm.forEach(([r,n])=>{r===t&&n(bi[t])})},Z3=e=>Object.keys(bi).forEach(t=>J3(e,t)),eB=e=>Object.keys(bi).find(t=>bi[t].toasts.some(r=>r.id===e)),ng=(e=_j)=>t=>{J3(t,e)},tB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rB=(e={},t=_j)=>{let[r,n]=w.useState(bi[t]||Y3),a=w.useRef(bi[t]);w.useEffect(()=>(a.current!==bi[t]&&n(bi[t]),Dm.push([t,n]),()=>{let l=Dm.findIndex(([o])=>o===t);l>-1&&Dm.splice(l,1)}),[t]);let i=r.toasts.map(l=>{var o,c,u;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((o=e[l.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||tB[l.type],style:{...e.style,...(u=e[l.type])==null?void 0:u.style,...l.style}}});return{...r,toasts:i}},nB=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||J$()}),$0=e=>(t,r)=>{let n=nB(t,e,r);return ng(n.toasterId||eB(n.id))({type:2,toast:n}),n.id},fr=(e,t)=>$0("blank")(e,t);fr.error=$0("error");fr.success=$0("success");fr.loading=$0("loading");fr.custom=$0("custom");fr.dismiss=(e,t)=>{let r={type:3,toastId:e};t?ng(t)(r):Z3(r)};fr.dismissAll=e=>fr.dismiss(void 0,e);fr.remove=(e,t)=>{let r={type:4,toastId:e};t?ng(t)(r):Z3(r)};fr.removeAll=e=>fr.remove(void 0,e);fr.promise=(e,t,r)=>{let n=fr.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?kp(t.success,a):void 0;return i?fr.success(i,{id:n,...r,...r==null?void 0:r.success}):fr.dismiss(n),a}).catch(a=>{let i=t.error?kp(t.error,a):void 0;i?fr.error(i,{id:n,...r,...r==null?void 0:r.error}):fr.dismiss(n)}),e};var aB=1e3,sB=(e,t="default")=>{let{toasts:r,pausedAt:n}=rB(e,t),a=w.useRef(new Map).current,i=w.useCallback((f,h=aB)=>{if(a.has(f))return;let m=setTimeout(()=>{a.delete(f),l({type:4,toastId:f})},h);a.set(f,m)},[]);w.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(p<0){m.visible&&fr.dismiss(m.id);return}return setTimeout(()=>fr.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let l=w.useCallback(ng(t),[t]),o=w.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=w.useCallback((f,h)=>{l({type:1,toast:{id:f,height:h}})},[l]),u=w.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),d=w.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:x}=h||{},g=r.filter(v=>(v.position||x)===(f.position||x)&&v.height),y=g.findIndex(v=>v.id===f.id),b=g.filter((v,N)=>N<y&&v.visible).length;return g.filter(v=>v.visible).slice(...m?[b+1]:[0,b]).reduce((v,N)=>v+(N.height||0)+p,0)},[r]);return w.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=a.get(f.id);h&&(clearTimeout(h),a.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},iB=hl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lB=hl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oB=hl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cB=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uB=hl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dB=bo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${uB} 1s linear infinite;
`,fB=hl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hB=hl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mB=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pB=bo("div")`
  position: absolute;
`,xB=bo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gB=hl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vB=bo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yB=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?w.createElement(vB,null,t):t:r==="blank"?null:w.createElement(xB,null,w.createElement(dB,{...n}),r!=="loading"&&w.createElement(pB,null,r==="error"?w.createElement(cB,{...n}):w.createElement(mB,{...n})))},bB=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wB=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,jB="0%{opacity:0;} 100%{opacity:1;}",NB="0%{opacity:1;} 100%{opacity:0;}",_B=bo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kB=bo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,SB=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=X3()?[jB,NB]:[bB(r),wB(r)];return{animation:t?`${hl(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hl(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},EB=w.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?SB(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(yB,{toast:e}),l=w.createElement(kB,{...e.ariaProps},kp(e.message,e));return w.createElement(_B,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:l}):w.createElement(w.Fragment,null,i,l))});Q$(w.createElement);var CB=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=w.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return w.createElement("div",{ref:i,className:t,style:r},a)},TB=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:X3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},AB=rg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lh=16,PB=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:u}=sB(r,i);return w.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Lh,left:Lh,right:Lh,bottom:Lh,pointerEvents:"none",...l},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),m=TB(f,h);return w.createElement(CB,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?AB:"",style:m},d.type==="custom"?kp(d.message,d):a?a(d):w.createElement(EB,{toast:d,position:f}))}))},ne=fr;function eO(e,t){return function(){return e.apply(t,arguments)}}const{toString:OB}=Object.prototype,{getPrototypeOf:kj}=Object,{iterator:ag,toStringTag:tO}=Symbol,sg=(e=>t=>{const r=OB.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),si=e=>(e=e.toLowerCase(),t=>sg(t)===e),ig=e=>t=>typeof t===e,{isArray:pd}=Array,Ku=ig("undefined");function B0(e){return e!==null&&!Ku(e)&&e.constructor!==null&&!Ku(e.constructor)&&ba(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rO=si("ArrayBuffer");function DB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rO(e.buffer),t}const FB=ig("string"),ba=ig("function"),nO=ig("number"),U0=e=>e!==null&&typeof e=="object",IB=e=>e===!0||e===!1,Fm=e=>{if(sg(e)!=="object")return!1;const t=kj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tO in e)&&!(ag in e)},RB=e=>{if(!U0(e)||B0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},MB=si("Date"),LB=si("File"),$B=si("Blob"),BB=si("FileList"),UB=e=>U0(e)&&ba(e.pipe),zB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ba(e.append)&&((t=sg(e))==="formdata"||t==="object"&&ba(e.toString)&&e.toString()==="[object FormData]"))},WB=si("URLSearchParams"),[VB,HB,KB,qB]=["ReadableStream","Request","Response","Headers"].map(si),GB=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function z0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),pd(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(B0(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function aO(e,t){if(B0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ko=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sO=e=>!Ku(e)&&e!==Ko;function Y1(){const{caseless:e,skipUndefined:t}=sO(this)&&this||{},r={},n=(a,i)=>{const l=e&&aO(r,i)||i;Fm(r[l])&&Fm(a)?r[l]=Y1(r[l],a):Fm(a)?r[l]=Y1({},a):pd(a)?r[l]=a.slice():(!t||!Ku(a))&&(r[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&z0(arguments[a],n);return r}const XB=(e,t,r,{allOwnKeys:n}={})=>(z0(t,(a,i)=>{r&&ba(a)?e[i]=eO(a,r):e[i]=a},{allOwnKeys:n}),e),QB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),YB=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},JB=(e,t,r,n)=>{let a,i,l;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&kj(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ZB=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},eU=e=>{if(!e)return null;if(pd(e))return e;let t=e.length;if(!nO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},tU=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&kj(Uint8Array)),rU=(e,t)=>{const n=(e&&e[ag]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},nU=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},aU=si("HTMLFormElement"),sU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),vS=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),iU=si("RegExp"),iO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};z0(r,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},lU=e=>{iO(e,(t,r)=>{if(ba(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ba(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},oU=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return pd(e)?n(e):n(String(e).split(t)),r},cU=()=>{},uU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function dU(e){return!!(e&&ba(e.append)&&e[tO]==="FormData"&&e[ag])}const fU=e=>{const t=new Array(10),r=(n,a)=>{if(U0(n)){if(t.indexOf(n)>=0)return;if(B0(n))return n;if(!("toJSON"in n)){t[a]=n;const i=pd(n)?[]:{};return z0(n,(l,o)=>{const c=r(l,a+1);!Ku(c)&&(i[o]=c)}),t[a]=void 0,i}}return n};return r(e,0)},hU=si("AsyncFunction"),mU=e=>e&&(U0(e)||ba(e))&&ba(e.then)&&ba(e.catch),lO=((e,t)=>e?setImmediate:t?((r,n)=>(Ko.addEventListener("message",({source:a,data:i})=>{a===Ko&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ko.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ba(Ko.postMessage)),pU=typeof queueMicrotask<"u"?queueMicrotask.bind(Ko):typeof process<"u"&&process.nextTick||lO,xU=e=>e!=null&&ba(e[ag]),ge={isArray:pd,isArrayBuffer:rO,isBuffer:B0,isFormData:zB,isArrayBufferView:DB,isString:FB,isNumber:nO,isBoolean:IB,isObject:U0,isPlainObject:Fm,isEmptyObject:RB,isReadableStream:VB,isRequest:HB,isResponse:KB,isHeaders:qB,isUndefined:Ku,isDate:MB,isFile:LB,isBlob:$B,isRegExp:iU,isFunction:ba,isStream:UB,isURLSearchParams:WB,isTypedArray:tU,isFileList:BB,forEach:z0,merge:Y1,extend:XB,trim:GB,stripBOM:QB,inherits:YB,toFlatObject:JB,kindOf:sg,kindOfTest:si,endsWith:ZB,toArray:eU,forEachEntry:rU,matchAll:nU,isHTMLForm:aU,hasOwnProperty:vS,hasOwnProp:vS,reduceDescriptors:iO,freezeMethods:lU,toObjectSet:oU,toCamelCase:sU,noop:cU,toFiniteNumber:uU,findKey:aO,global:Ko,isContextDefined:sO,isSpecCompliantForm:dU,toJSONObject:fU,isAsyncFn:hU,isThenable:mU,setImmediate:lO,asap:pU,isIterable:xU};function ot(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ge.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}});const oO=ot.prototype,cO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cO[e]={value:e}});Object.defineProperties(ot,cO);Object.defineProperty(oO,"isAxiosError",{value:!0});ot.from=(e,t,r,n,a,i)=>{const l=Object.create(oO);ge.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ot.call(l,o,c,r,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const gU=null;function J1(e){return ge.isPlainObject(e)||ge.isArray(e)}function uO(e){return ge.endsWith(e,"[]")?e.slice(0,-2):e}function yS(e,t,r){return e?e.concat(t).map(function(a,i){return a=uO(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function vU(e){return ge.isArray(e)&&!e.some(J1)}const yU=ge.toFlatObject(ge,{},null,function(t){return/^is[A-Z]/.test(t)});function lg(e,t,r){if(!ge.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!ge.isUndefined(g[x])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(t);if(!ge.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(ge.isDate(p))return p.toISOString();if(ge.isBoolean(p))return p.toString();if(!c&&ge.isBlob(p))throw new ot("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(p)||ge.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,g){let y=p;if(p&&!g&&typeof p=="object"){if(ge.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(ge.isArray(p)&&vU(p)||(ge.isFileList(p)||ge.endsWith(x,"[]"))&&(y=ge.toArray(p)))return x=uO(x),y.forEach(function(v,N){!(ge.isUndefined(v)||v===null)&&t.append(l===!0?yS([x],N,i):l===null?x:x+"[]",u(v))}),!1}return J1(p)?!0:(t.append(yS(g,x,i),u(p)),!1)}const f=[],h=Object.assign(yU,{defaultVisitor:d,convertValue:u,isVisitable:J1});function m(p,x){if(!ge.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),ge.forEach(p,function(y,b){(!(ge.isUndefined(y)||y===null)&&a.call(t,y,ge.isString(b)?b.trim():b,x,h))===!0&&m(y,x?x.concat(b):[b])}),f.pop()}}if(!ge.isObject(e))throw new TypeError("data must be an object");return m(e),t}function bS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Sj(e,t){this._pairs=[],e&&lg(e,this,t)}const dO=Sj.prototype;dO.append=function(t,r){this._pairs.push([t,r])};dO.toString=function(t){const r=t?function(n){return t.call(this,n,bS)}:bS;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function bU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fO(e,t,r){if(!t)return e;const n=r&&r.encode||bU;ge.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=ge.isURLSearchParams(t)?t.toString():new Sj(t,r).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class wS{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ge.forEach(this.handlers,function(n){n!==null&&t(n)})}}const hO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wU=typeof URLSearchParams<"u"?URLSearchParams:Sj,jU=typeof FormData<"u"?FormData:null,NU=typeof Blob<"u"?Blob:null,_U={isBrowser:!0,classes:{URLSearchParams:wU,FormData:jU,Blob:NU},protocols:["http","https","file","blob","url","data"]},Ej=typeof window<"u"&&typeof document<"u",Z1=typeof navigator=="object"&&navigator||void 0,kU=Ej&&(!Z1||["ReactNative","NativeScript","NS"].indexOf(Z1.product)<0),SU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EU=Ej&&window.location.href||"http://localhost",CU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ej,hasStandardBrowserEnv:kU,hasStandardBrowserWebWorkerEnv:SU,navigator:Z1,origin:EU},Symbol.toStringTag,{value:"Module"})),$n={...CU,..._U};function TU(e,t){return lg(e,new $n.classes.URLSearchParams,{visitor:function(r,n,a,i){return $n.isNode&&ge.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function AU(e){return ge.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function PU(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function mO(e){function t(r,n,a,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&ge.isArray(a)?a.length:l,c?(ge.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!ge.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],i)&&ge.isArray(a[l])&&(a[l]=PU(a[l])),!o)}if(ge.isFormData(e)&&ge.isFunction(e.entries)){const r={};return ge.forEachEntry(e,(n,a)=>{t(AU(n),a,r,0)}),r}return null}function OU(e,t,r){if(ge.isString(e))try{return(t||JSON.parse)(e),ge.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const W0={transitional:hO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ge.isObject(t);if(i&&ge.isHTMLForm(t)&&(t=new FormData(t)),ge.isFormData(t))return a?JSON.stringify(mO(t)):t;if(ge.isArrayBuffer(t)||ge.isBuffer(t)||ge.isStream(t)||ge.isFile(t)||ge.isBlob(t)||ge.isReadableStream(t))return t;if(ge.isArrayBufferView(t))return t.buffer;if(ge.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return TU(t,this.formSerializer).toString();if((o=ge.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return lg(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),OU(t)):t}],transformResponse:[function(t){const r=this.transitional||W0.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ge.isResponse(t)||ge.isReadableStream(t))return t;if(t&&ge.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ot.from(o,ot.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],e=>{W0.headers[e]={}});const DU=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FU=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&DU[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},jS=Symbol("internals");function Hd(e){return e&&String(e).trim().toLowerCase()}function Im(e){return e===!1||e==null?e:ge.isArray(e)?e.map(Im):String(e)}function IU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const RU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yv(e,t,r,n,a){if(ge.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ge.isString(t)){if(ge.isString(n))return t.indexOf(n)!==-1;if(ge.isRegExp(n))return n.test(t)}}function MU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function LU(e,t){const r=ge.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,l){return this[n].call(this,t,a,i,l)},configurable:!0})})}let wa=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(o,c,u){const d=Hd(c);if(!d)throw new Error("header name must be a non-empty string");const f=ge.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Im(o))}const l=(o,c)=>ge.forEach(o,(u,d)=>i(u,d,c));if(ge.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(ge.isString(t)&&(t=t.trim())&&!RU(t))l(FU(t),r);else if(ge.isObject(t)&&ge.isIterable(t)){let o={},c,u;for(const d of t){if(!ge.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?ge.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Hd(t),t){const n=ge.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return IU(a);if(ge.isFunction(r))return r.call(this,a,n);if(ge.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Hd(t),t){const n=ge.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Yv(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(l){if(l=Hd(l),l){const o=ge.findKey(n,l);o&&(!r||Yv(n,n[o],o,r))&&(delete n[o],a=!0)}}return ge.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Yv(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return ge.forEach(this,(a,i)=>{const l=ge.findKey(n,i);if(l){r[l]=Im(a),delete r[i];return}const o=t?MU(i):String(i).trim();o!==i&&delete r[i],r[o]=Im(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ge.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ge.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[jS]=this[jS]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=Hd(l);n[o]||(LU(a,l),n[o]=!0)}return ge.isArray(t)?t.forEach(i):i(t),this}};wa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(wa.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ge.freezeMethods(wa);function Jv(e,t){const r=this||W0,n=t||r,a=wa.from(n.headers);let i=n.data;return ge.forEach(e,function(o){i=o.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function pO(e){return!!(e&&e.__CANCEL__)}function xd(e,t,r){ot.call(this,e??"canceled",ot.ERR_CANCELED,t,r),this.name="CanceledError"}ge.inherits(xd,ot,{__CANCEL__:!0});function xO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ot("Request failed with status code "+r.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $U(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function BU(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];l||(l=u),r[a]=c,n[a]=u;let f=i,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-l<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function UU(e,t){let r=0,n=1e3/t,a,i;const l=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?l(u,d):(a=u,i||(i=setTimeout(()=>{i=null,l(a)},n-f)))},()=>a&&l(a)]}const Sp=(e,t,r=3)=>{let n=0;const a=BU(50,250);return UU(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,u=a(c),d=l<=o;n=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-l)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},NS=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_S=e=>(...t)=>ge.asap(()=>e(...t)),zU=$n.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$n.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,WU=$n.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const l=[e+"="+encodeURIComponent(t)];ge.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ge.isString(n)&&l.push("path="+n),ge.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function VU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function HU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gO(e,t,r){let n=!VU(t);return e&&(n||r==!1)?HU(e,t):t}const kS=e=>e instanceof wa?{...e}:e;function wc(e,t){t=t||{};const r={};function n(u,d,f,h){return ge.isPlainObject(u)&&ge.isPlainObject(d)?ge.merge.call({caseless:h},u,d):ge.isPlainObject(d)?ge.merge({},d):ge.isArray(d)?d.slice():d}function a(u,d,f,h){if(ge.isUndefined(d)){if(!ge.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!ge.isUndefined(d))return n(void 0,d)}function l(u,d){if(ge.isUndefined(d)){if(!ge.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,d,f)=>a(kS(u),kS(d),f,!0)};return ge.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);ge.isUndefined(h)&&f!==o||(r[d]=h)}),r}const vO=e=>{const t=wc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=wa.from(l),t.url=fO(gO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ge.isFormData(r)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ge.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&l.set(d,f)})}}if($n.hasStandardBrowserEnv&&(n&&ge.isFunction(n)&&(n=n(t)),n||n!==!1&&zU(t.url))){const c=a&&i&&WU.read(i);c&&l.set(a,c)}return t},KU=typeof XMLHttpRequest<"u",qU=KU&&function(e){return new Promise(function(r,n){const a=vO(e);let i=a.data;const l=wa.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function x(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function y(){if(!g)return;const v=wa.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:v,config:e,request:g};xO(function(k){r(k),x()},function(k){n(k),x()},_),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(n(new ot("Request aborted",ot.ECONNABORTED,e,g)),g=null)},g.onerror=function(N){const _=N&&N.message?N.message:"Network Error",j=new ot(_,ot.ERR_NETWORK,e,g);j.event=N||null,n(j),g=null},g.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||hO;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new ot(N,_.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,e,g)),g=null},i===void 0&&l.setContentType(null),"setRequestHeader"in g&&ge.forEach(l.toJSON(),function(N,_){g.setRequestHeader(_,N)}),ge.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),o&&o!=="json"&&(g.responseType=a.responseType),u&&([h,p]=Sp(u,!0),g.addEventListener("progress",h)),c&&g.upload&&([f,m]=Sp(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=v=>{g&&(n(!v||v.type?new xd(null,e,g):v),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=$U(a.url);if(b&&$n.protocols.indexOf(b)===-1){n(new ot("Unsupported protocol "+b+":",ot.ERR_BAD_REQUEST,e));return}g.send(i||null)})},GU=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ot?d:new xd(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new ot(`timeout ${t} of ms exceeded`,ot.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>ge.asap(o),c}},XU=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},QU=async function*(e,t){for await(const r of YU(e))yield*XU(r,t)},YU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},SS=(e,t,r,n)=>{const a=QU(e,t);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},ES=64*1024,{isFunction:$h}=ge,JU=(({Request:e,Response:t})=>({Request:e,Response:t}))(ge.global),{ReadableStream:CS,TextEncoder:TS}=ge.global,AS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ZU=e=>{e=ge.merge.call({skipUndefined:!0},JU,e);const{fetch:t,Request:r,Response:n}=e,a=t?$h(t):typeof fetch=="function",i=$h(r),l=$h(n);if(!a)return!1;const o=a&&$h(CS),c=a&&(typeof TS=="function"?(p=>x=>p.encode(x))(new TS):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&o&&AS(()=>{let p=!1;const x=new r($n.origin,{body:new CS,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=l&&o&&AS(()=>ge.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(x,g)=>{let y=x&&x[p];if(y)return y.call(x);throw new ot(`Response type '${p}' is not supported`,ot.ERR_NOT_SUPPORT,g)})});const h=async p=>{if(p==null)return 0;if(ge.isBlob(p))return p.size;if(ge.isSpecCompliantForm(p))return(await new r($n.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(p)||ge.isArrayBuffer(p))return p.byteLength;if(ge.isURLSearchParams(p)&&(p=p+""),ge.isString(p))return(await c(p)).byteLength},m=async(p,x)=>{const g=ge.toFiniteNumber(p.getContentLength());return g??h(x)};return async p=>{let{url:x,method:g,data:y,signal:b,cancelToken:v,timeout:N,onDownloadProgress:_,onUploadProgress:j,responseType:k,headers:E,withCredentials:T="same-origin",fetchOptions:C}=vO(p),A=t||fetch;k=k?(k+"").toLowerCase():"text";let S=GU([b,v&&v.toAbortSignal()],N),B=null;const M=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let Y;try{if(j&&u&&g!=="get"&&g!=="head"&&(Y=await m(E,y))!==0){let K=new r(x,{method:"POST",body:y,duplex:"half"}),D;if(ge.isFormData(y)&&(D=K.headers.get("content-type"))&&E.setContentType(D),K.body){const[L,F]=NS(Y,Sp(_S(j)));y=SS(K.body,ES,L,F)}}ge.isString(T)||(T=T?"include":"omit");const z=i&&"credentials"in r.prototype,R={...C,signal:S,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:y,duplex:"half",credentials:z?T:void 0};B=i&&new r(x,R);let H=await(i?A(B,C):A(x,R));const U=d&&(k==="stream"||k==="response");if(d&&(_||U&&M)){const K={};["status","statusText","headers"].forEach(O=>{K[O]=H[O]});const D=ge.toFiniteNumber(H.headers.get("content-length")),[L,F]=_&&NS(D,Sp(_S(_),!0))||[];H=new n(SS(H.body,ES,L,()=>{F&&F(),M&&M()}),K)}k=k||"text";let te=await f[ge.findKey(f,k)||"text"](H,p);return!U&&M&&M(),await new Promise((K,D)=>{xO(K,D,{data:te,headers:wa.from(H.headers),status:H.status,statusText:H.statusText,config:p,request:B})})}catch(z){throw M&&M(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,p,B),{cause:z.cause||z}):ot.from(z,z&&z.code,p,B)}}},ez=new Map,yO=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let l=i.length,o=l,c,u,d=ez;for(;o--;)c=i[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:ZU(t)),d=u;return u};yO();const eb={http:gU,xhr:qU,fetch:{get:yO}};ge.forEach(eb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const PS=e=>`- ${e}`,tz=e=>ge.isFunction(e)||e===null||e===!1,bO={getAdapter:(e,t)=>{e=ge.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let l=0;l<r;l++){n=e[l];let o;if(a=n,!tz(n)&&(a=eb[(o=String(n)).toLowerCase()],a===void 0))throw new ot(`Unknown adapter '${o}'`);if(a&&(ge.isFunction(a)||(a=a.get(t))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(PS).join(`
`):" "+PS(l[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:eb};function Zv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xd(null,e)}function OS(e){return Zv(e),e.headers=wa.from(e.headers),e.data=Jv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bO.getAdapter(e.adapter||W0.adapter,e)(e).then(function(n){return Zv(e),n.data=Jv.call(e,e.transformResponse,n),n.headers=wa.from(n.headers),n},function(n){return pO(n)||(Zv(e),n&&n.response&&(n.response.data=Jv.call(e,e.transformResponse,n.response),n.response.headers=wa.from(n.response.headers))),Promise.reject(n)})}const wO="1.12.2",og={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{og[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const DS={};og.transitional=function(t,r,n){function a(i,l){return"[Axios v"+wO+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(t===!1)throw new ot(a(l," has been removed"+(r?" in "+r:"")),ot.ERR_DEPRECATED);return r&&!DS[l]&&(DS[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,o):!0}};og.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function rz(e,t,r){if(typeof e!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new ot("option "+i+" must be "+c,ot.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ot("Unknown option "+i,ot.ERR_BAD_OPTION)}}const Rm={assertOptions:rz,validators:og},di=Rm.validators;let sc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wS,response:new wS}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Rm.assertOptions(n,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),a!=null&&(ge.isFunction(a)?r.paramsSerializer={serialize:a}:Rm.assertOptions(a,{encode:di.function,serialize:di.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Rm.assertOptions(r,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&ge.merge(i.common,i[r.method]);i&&ge.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=wa.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!c){const p=[OS.bind(this),void 0];for(p.unshift(...o),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=o.length;let m=r;for(;f<h;){const p=o[f++],x=o[f++];try{m=p(m)}catch(g){x.call(this,g);break}}try{d=OS.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=wc(this.defaults,t);const r=gO(t.baseURL,t.url,t.allowAbsoluteUrls);return fO(r,t.params,t.paramsSerializer)}};ge.forEach(["delete","get","head","options"],function(t){sc.prototype[t]=function(r,n){return this.request(wc(n||{},{method:t,url:r,data:(n||{}).data}))}});ge.forEach(["post","put","patch"],function(t){function r(n){return function(i,l,o){return this.request(wc(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}sc.prototype[t]=r(),sc.prototype[t+"Form"]=r(!0)});let nz=class jO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,o){n.reason||(n.reason=new xd(i,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new jO(function(a){t=a}),cancel:t}}};function az(e){return function(r){return e.apply(null,r)}}function sz(e){return ge.isObject(e)&&e.isAxiosError===!0}const tb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tb).forEach(([e,t])=>{tb[t]=e});function NO(e){const t=new sc(e),r=eO(sc.prototype.request,t);return ge.extend(r,sc.prototype,t,{allOwnKeys:!0}),ge.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return NO(wc(e,a))},r}const Dr=NO(W0);Dr.Axios=sc;Dr.CanceledError=xd;Dr.CancelToken=nz;Dr.isCancel=pO;Dr.VERSION=wO;Dr.toFormData=lg;Dr.AxiosError=ot;Dr.Cancel=Dr.CanceledError;Dr.all=function(t){return Promise.all(t)};Dr.spread=az;Dr.isAxiosError=sz;Dr.mergeConfig=wc;Dr.AxiosHeaders=wa;Dr.formToJSON=e=>mO(ge.isHTMLForm(e)?new FormData(e):e);Dr.getAdapter=bO.getAdapter;Dr.HttpStatusCode=tb;Dr.default=Dr;const{Axios:Bbe,AxiosError:Ube,CanceledError:zbe,isCancel:Wbe,CancelToken:Vbe,VERSION:Hbe,all:Kbe,Cancel:qbe,isAxiosError:Gbe,spread:Xbe,toFormData:Qbe,AxiosHeaders:Ybe,HttpStatusCode:Jbe,formToJSON:Zbe,getAdapter:ewe,mergeConfig:twe}=Dr,iz="https://portal.aglis.biz.id/api",be=Dr.create({baseURL:iz,timeout:1e4,headers:{"Content-Type":"application/json"}});be.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.method==="get"&&(e.headers["Cache-Control"]="no-cache, no-store, must-revalidate",e.headers.Pragma="no-cache",e.headers.Expires="0"),e},e=>Promise.reject(e));be.interceptors.response.use(e=>e.data,e=>{var r,n,a,i,l,o;const t=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||"An error occurred";return((a=e.response)==null?void 0:a.status)===401?["/register","/track","/login"].some(d=>window.location.pathname.startsWith(d))||(localStorage.removeItem("token"),window.location.href="/login",ne.error("Session expired. Please login again.")):((i=e.response)==null?void 0:i.status)===403?ne.error("Access denied. Insufficient permissions."):((l=e.response)==null?void 0:l.status)===404?ne.error("Resource not found."):((o=e.response)==null?void 0:o.status)>=500?ne.error("Server error. Please try again later."):ne.error(t),Promise.reject(e)});const _f={login:async e=>await be.post("/auth/login",e),register:async e=>await be.post("/auth/register",e),getProfile:async()=>await be.get("/auth/me"),updateProfile:async e=>await be.put("/auth/profile",e),changePassword:async e=>await be.put("/auth/change-password",e),logout:()=>{localStorage.removeItem("token")}},_O=w.createContext({}),Gn=()=>{const e=w.useContext(_O);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},lz=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(!0);w.useEffect(()=>{(async()=>{if(localStorage.getItem("token"))try{const f=await _f.getProfile();r(f.data.user)}catch(f){console.error("Auth initialization error:",f),localStorage.removeItem("token")}a(!1)})()},[]);const c={user:t,loading:n,login:async u=>{var d,f;try{const h=await _f.login(u),{user:m,token:p}=h.data;return localStorage.setItem("token",p),r(m),{success:!0,user:m}}catch(h){return{success:!1,error:((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||"Login failed"}}},logout:()=>{localStorage.removeItem("token"),r(null)},updateUser:u=>{r(u)},isAuthenticated:!!t,isAdmin:(t==null?void 0:t.role)==="admin",isSupervisor:(t==null?void 0:t.role)==="supervisor",isTechnician:(t==null?void 0:t.role)==="technician",isCustomerService:(t==null?void 0:t.role)==="customer_service"};return s.jsx(_O.Provider,{value:c,children:e})},Ci=Object.create(null);Ci.open="0";Ci.close="1";Ci.ping="2";Ci.pong="3";Ci.message="4";Ci.upgrade="5";Ci.noop="6";const Mm=Object.create(null);Object.keys(Ci).forEach(e=>{Mm[Ci[e]]=e});const rb={type:"error",data:"parser error"},kO=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",SO=typeof ArrayBuffer=="function",EO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Cj=({type:e,data:t},r,n)=>kO&&t instanceof Blob?r?n(t):FS(t,n):SO&&(t instanceof ArrayBuffer||EO(t))?r?n(t):FS(new Blob([t]),n):n(Ci[e]+(t||"")),FS=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function IS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ey;function oz(e,t){if(kO&&e.data instanceof Blob)return e.data.arrayBuffer().then(IS).then(t);if(SO&&(e.data instanceof ArrayBuffer||EO(e.data)))return t(IS(e.data));Cj(e,!1,r=>{ey||(ey=new TextEncoder),t(ey.encode(r))})}const RS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",of=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<RS.length;e++)of[RS.charCodeAt(e)]=e;const cz=e=>{let t=e.length*.75,r=e.length,n,a=0,i,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)i=of[e.charCodeAt(n)],l=of[e.charCodeAt(n+1)],o=of[e.charCodeAt(n+2)],c=of[e.charCodeAt(n+3)],d[a++]=i<<2|l>>4,d[a++]=(l&15)<<4|o>>2,d[a++]=(o&3)<<6|c&63;return u},uz=typeof ArrayBuffer=="function",Tj=(e,t)=>{if(typeof e!="string")return{type:"message",data:CO(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:dz(e.substring(1),t)}:Mm[r]?e.length>1?{type:Mm[r],data:e.substring(1)}:{type:Mm[r]}:rb},dz=(e,t)=>{if(uz){const r=cz(e);return CO(r,t)}else return{base64:!0,data:e}},CO=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},TO="",fz=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,l)=>{Cj(i,!1,o=>{n[l]=o,++a===r&&t(n.join(TO))})})},hz=(e,t)=>{const r=e.split(TO),n=[];for(let a=0;a<r.length;a++){const i=Tj(r[a],t);if(n.push(i),i.type==="error")break}return n};function mz(){return new TransformStream({transform(e,t){oz(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let ty;function Bh(e){return e.reduce((t,r)=>t+r.length,0)}function Uh(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function pz(e,t){ty||(ty=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(l,o){for(r.push(l);;){if(n===0){if(Bh(r)<1)break;const c=Uh(r,1);i=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Bh(r)<2)break;const c=Uh(r,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Bh(r)<8)break;const c=Uh(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){o.enqueue(rb);break}a=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Bh(r)<a)break;const c=Uh(r,a);o.enqueue(Tj(i?c:ty.decode(c),t)),n=0}if(a===0||a>e){o.enqueue(rb);break}}}})}const AO=4;function Wr(e){if(e)return xz(e)}function xz(e){for(var t in Wr.prototype)e[t]=Wr.prototype[t];return e}Wr.prototype.on=Wr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Wr.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Wr.prototype.off=Wr.prototype.removeListener=Wr.prototype.removeAllListeners=Wr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Wr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};Wr.prototype.emitReserved=Wr.prototype.emit;Wr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Wr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const cg=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),hs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),gz="arraybuffer";function PO(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const vz=hs.setTimeout,yz=hs.clearTimeout;function ug(e,t){t.useNativeTimers?(e.setTimeoutFn=vz.bind(hs),e.clearTimeoutFn=yz.bind(hs)):(e.setTimeoutFn=hs.setTimeout.bind(hs),e.clearTimeoutFn=hs.clearTimeout.bind(hs))}const bz=1.33;function wz(e){return typeof e=="string"?jz(e):Math.ceil((e.byteLength||e.size)*bz)}function jz(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function OO(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Nz(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function _z(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class kz extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Aj extends Wr{constructor(t){super(),this.writable=!1,ug(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new kz(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Tj(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Nz(t);return r.length?"?"+r:""}}class Sz extends Aj{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};hz(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,fz(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=OO()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let DO=!1;try{DO=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ez=DO;function Cz(){}class Tz extends Sz{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class ki extends Wr{constructor(t,r,n){super(),this.createRequest=t,ug(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=PO(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ki.requestsCount++,ki.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Cz,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ki.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ki.requestsCount=0;ki.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",MS);else if(typeof addEventListener=="function"){const e="onpagehide"in hs?"pagehide":"unload";addEventListener(e,MS,!1)}}function MS(){for(let e in ki.requests)ki.requests.hasOwnProperty(e)&&ki.requests[e].abort()}const Az=function(){const e=FO({xdomain:!1});return e&&e.responseType!==null}();class Pz extends Tz{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Az&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ki(FO,this.uri(),t)}}function FO(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ez))return new XMLHttpRequest}catch{}if(!t)try{return new hs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const IO=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Oz extends Aj{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=IO?{}:PO(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;Cj(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&cg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=OO()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const ry=hs.WebSocket||hs.MozWebSocket;class Dz extends Oz{createSocket(t,r,n){return IO?new ry(t,r,n):r?new ry(t,r):new ry(t)}doWrite(t,r){this.ws.send(r)}}class Fz extends Aj{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=pz(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=mz();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&cg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Iz={websocket:Dz,webtransport:Fz,polling:Pz},Rz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Mz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function nb(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=Rz.exec(e||""),i={},l=14;for(;l--;)i[Mz[l]]=a[l]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Lz(i,i.path),i.queryKey=$z(i,i.query),i}function Lz(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function $z(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const ab=typeof addEventListener=="function"&&typeof removeEventListener=="function",Lm=[];ab&&addEventListener("offline",()=>{Lm.forEach(e=>e())},!1);class no extends Wr{constructor(t,r){if(super(),this.binaryType=gz,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=nb(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=nb(r.host).host);ug(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_z(this.opts.query)),ab&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Lm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=AO,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&no.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",no.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=wz(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,cg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(no.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ab&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Lm.indexOf(this._offlineEventListener);n!==-1&&Lm.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}no.protocol=AO;class Bz extends no{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;no.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;no.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const l=f=>{const h=new Error("probe error: "+f);h.transport=r.name,i(),this.emitReserved("upgradeError",h)};function o(){l("transport closed")}function c(){l("socket closed")}function u(f){r&&f.name!==r.name&&i()}const d=()=>{r.removeListener("open",a),r.removeListener("error",l),r.removeListener("close",o),this.off("close",c),this.off("upgrading",u)};r.once("open",a),r.once("error",l),r.once("close",o),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Uz=class extends Bz{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>Iz[a]).filter(a=>!!a)),super(t,n)}};function zz(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=nb(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const Wz=typeof ArrayBuffer=="function",Vz=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,RO=Object.prototype.toString,Hz=typeof Blob=="function"||typeof Blob<"u"&&RO.call(Blob)==="[object BlobConstructor]",Kz=typeof File=="function"||typeof File<"u"&&RO.call(File)==="[object FileConstructor]";function Pj(e){return Wz&&(e instanceof ArrayBuffer||Vz(e))||Hz&&e instanceof Blob||Kz&&e instanceof File}function $m(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if($m(e[r]))return!0;return!1}if(Pj(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return $m(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&$m(e[r]))return!0;return!1}function qz(e){const t=[],r=e.data,n=e;return n.data=sb(r,t),n.attachments=t.length,{packet:n,buffers:t}}function sb(e,t){if(!e)return e;if(Pj(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=sb(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=sb(e[n],t));return r}return e}function Gz(e,t){return e.data=ib(e.data,t),delete e.attachments,e}function ib(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=ib(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ib(e[r],t));return e}const Xz=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Qz=5;var bt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(bt||(bt={}));class Yz{constructor(t){this.replacer=t}encode(t){return(t.type===bt.EVENT||t.type===bt.ACK)&&$m(t)?this.encodeAsBinary({type:t.type===bt.EVENT?bt.BINARY_EVENT:bt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===bt.BINARY_EVENT||t.type===bt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=qz(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function LS(e){return Object.prototype.toString.call(e)==="[object Object]"}class Oj extends Wr{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===bt.BINARY_EVENT;n||r.type===bt.BINARY_ACK?(r.type=n?bt.EVENT:bt.ACK,this.reconstructor=new Jz(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Pj(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(bt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===bt.BINARY_EVENT||n.type===bt.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const l=t.substring(i,r);if(l!=Number(l)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const l=t.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(Oj.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case bt.CONNECT:return LS(r);case bt.DISCONNECT:return r===void 0;case bt.CONNECT_ERROR:return typeof r=="string"||LS(r);case bt.EVENT:case bt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Xz.indexOf(r[0])===-1);case bt.ACK:case bt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Jz{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Gz(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Zz=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Oj,Encoder:Yz,get PacketType(){return bt},protocol:Qz},Symbol.toStringTag,{value:"Module"}));function zs(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const eW=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class MO extends Wr{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[zs(t,"open",this.onopen.bind(this)),zs(t,"packet",this.onpacket.bind(this)),zs(t,"error",this.onerror.bind(this)),zs(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,i;if(eW.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:bt.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),l.id=d}const o=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},a),l=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...r){return new Promise((n,a)=>{const i=(l,o)=>l?a(l):n(o);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:bt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case bt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case bt.EVENT:case bt.BINARY_EVENT:this.onevent(t);break;case bt.ACK:case bt.BINARY_ACK:this.onack(t);break;case bt.DISCONNECT:this.ondisconnect();break;case bt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:bt.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:bt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function gd(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}gd.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};gd.prototype.reset=function(){this.attempts=0};gd.prototype.setMin=function(e){this.ms=e};gd.prototype.setMax=function(e){this.max=e};gd.prototype.setJitter=function(e){this.jitter=e};class lb extends Wr{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ug(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new gd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||Zz;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Uz(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=zs(r,"open",function(){n.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},l=zs(r,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(zs(t,"ping",this.onping.bind(this)),zs(t,"data",this.ondata.bind(this)),zs(t,"error",this.onerror.bind(this)),zs(t,"close",this.onclose.bind(this)),zs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){cg(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new MO(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Kd={};function Bm(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=zz(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,l=Kd[a]&&i in Kd[a].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let c;return o?c=new lb(n,t):(Kd[a]||(Kd[a]=new lb(n,t)),c=Kd[a]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Bm,{Manager:lb,Socket:MO,io:Bm,connect:Bm});class tW{constructor(){this.socket=null,this.isConnected=!1,this.listeners=new Map}connect(t){this.socket&&this.disconnect();const n="https://portal.aglis.biz.id/api".replace("/api","");return console.log(` Socket.IO: Connecting to ${n}`),this.socket=Bm(n,{autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,timeout:2e4,transports:["polling","websocket"],path:"/socket.io/"}),this.setupEventListeners(),this.socket.on("connect",()=>{console.log(" Socket connected:",this.socket.id),this.isConnected=!0,t&&this.authenticate(t)}),this.socket.on("disconnect",a=>{console.log(" Socket disconnected:",a),this.isConnected=!1}),this.socket.on("connect_error",a=>{console.error(" Socket connection error:",a),this.isConnected=!1}),this.socket}authenticate(t){this.socket&&this.isConnected&&(this.socket.emit("authenticate",{userId:t.id,role:t.role,username:t.username}),console.log(" User authenticated:",t.username))}setupEventListeners(){this.socket&&(this.socket.on("notification",t=>{console.log(" New notification:",t),this.emit("notification",t)}),this.socket.on("ticket_updated",t=>{console.log(" Ticket updated:",t),this.emit("ticket_updated",t),window.dispatchEvent(new CustomEvent("ticket-updated",{detail:t}))}),this.socket.on("ticket_created",t=>{console.log(" Ticket created:",t),this.emit("ticket_created",t),window.dispatchEvent(new CustomEvent("ticket-created",{detail:t}))}),this.socket.on("ticket_assigned",t=>{console.log(" Ticket assigned:",t),this.emit("ticket_assigned",t),window.dispatchEvent(new CustomEvent("ticket-assigned",{detail:t}))}),this.socket.on("ticket_completed",t=>{console.log(" Ticket completed:",t),this.emit("ticket_completed",t),window.dispatchEvent(new CustomEvent("ticket-completed",{detail:t}))}),this.socket.on("technician_status_changed",t=>{console.log(" Technician status changed:",t),this.emit("technician_status_changed",t)}),this.socket.on("system_alert",t=>{console.log(" System alert:",t),this.emit("system_alert",t)}))}joinRoom(t){this.socket&&this.isConnected&&(this.socket.emit("join_room",t),console.log(` Joined room: ${t}`))}leaveRoom(t){this.socket&&this.isConnected&&(this.socket.emit("leave_room",t),console.log(` Left room: ${t}`))}emitTicketUpdate(t){this.socket&&this.isConnected&&this.socket.emit("ticket_update",t)}emitTechnicianStatusUpdate(t){this.socket&&this.isConnected&&this.socket.emit("technician_status_update",t)}emitSystemAlert(t){this.socket&&this.isConnected&&this.socket.emit("system_alert",t)}on(t,r){this.socket&&this.socket.on(t,r)}off(t,r){this.socket&&this.socket.off(t,r)}emit(t,r){this.listeners.has(t)&&this.listeners.get(t).forEach(n=>{try{n(r)}catch(a){console.error(`Error in ${t} listener:`,a)}})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,console.log(" Socket disconnected"))}getConnectionStatus(){var t;return{isConnected:this.isConnected,socketId:((t=this.socket)==null?void 0:t.id)||null}}reconnect(t){return this.disconnect(),this.connect(t)}}const it=new tW,Wi={getNotifications:async(e={})=>{const{page:t=1,limit:r=20,type:n,is_read:a,priority:i,include_archived:l=!1}=e,o=new URLSearchParams({page:t.toString(),limit:r.toString(),include_archived:l.toString()});return n&&o.append("type",n),a!==void 0&&o.append("is_read",a.toString()),i&&o.append("priority",i),await be.get(`/notifications?${o}`)},getNotification:async e=>await be.get(`/notifications/${e}`),createNotification:async e=>await be.post("/notifications",e),markAsRead:async e=>await be.patch(`/notifications/${e}/read`),markAllAsRead:async()=>await be.patch("/notifications/read-all"),archiveNotification:async e=>await be.patch(`/notifications/${e}/archive`),deleteNotification:async e=>await be.delete(`/notifications/${e}`),getSettings:async()=>await be.get("/notifications/settings/preferences"),updateSettings:async e=>await be.put("/notifications/settings/preferences",e),cleanupExpired:async()=>await be.delete("/notifications/cleanup/expired"),getUnreadCount:async()=>{var t;const e=await be.get("/notifications?limit=1&is_read=false");return((t=e==null?void 0:e.data)==null?void 0:t.unreadCount)||0},createTicketNotification:async(e,t,r,n)=>Wi.createNotification({user_id:t,type:`ticket_${r}`,title:`Ticket #${e} ${r}`,message:n,data:{ticket_id:e},priority:r==="urgent"?"high":"normal"}),createSystemAlert:async(e,t="normal",r=null)=>{const n=[];if(r&&Array.isArray(r)){for(const a of r)n.push(Wi.createNotification({user_id:a,type:"system_alert",title:"System Alert",message:e,priority:t}));return Promise.all(n)}return null},createTechnicianNotification:async(e,t,r,n={})=>Wi.createNotification({user_id:e,type:`technician_${t}`,title:`Technician ${t}`,message:r,data:n,priority:"normal"})},LO=w.createContext(),rW=()=>{const e=w.useContext(LO);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},nW=({children:e})=>{const{user:t}=Gn(),r=vr(),n=w.useRef(!1),a=w.useRef(new Set),[i,l]=w.useState([]),[o,c]=w.useState(0),[u,d]=w.useState(!1),[f,h]=w.useState({email_notifications:!0,push_notifications:!0,sound_notifications:!0,notification_types:{ticket_assigned:!0,ticket_updated:!0,ticket_completed:!0,system_alert:!0,technician_status:!0,new_ticket:!0}}),{data:m,isLoading:p,refetch:x}=Ge(["notifications",{page:1,limit:50,is_read:!1}],()=>Wi.getNotifications({page:1,limit:50,is_read:!1}),{enabled:!!t,refetchInterval:3e4,onSuccess:R=>{var H;(H=R==null?void 0:R.data)!=null&&H.notifications&&(l(R.data.notifications),c(R.data.unreadCount||0))}}),{data:g}=Ge(["notification-settings"],Wi.getSettings,{enabled:!!t,onSuccess:R=>{var H;(H=R==null?void 0:R.data)!=null&&H.settings&&h(R.data.settings)}}),y=w.useCallback(R=>{const H=`${R.id||R.type}-${R.timestamp||Date.now()}`;if(a.current.has(H)){console.log(" Duplicate notification ignored:",H);return}a.current.add(H),setTimeout(()=>{a.current.delete(H)},1e4),console.log(" Received notification:",R),l(U=>[R,...U]),c(U=>U+1),f.push_notifications&&_(R.type)&&j(R),f.sound_notifications&&_(R.type)&&k(),r.invalidateQueries(["notifications"])},[f,r]),b=w.useCallback(R=>{console.log(" Ticket updated:",R),r.invalidateQueries(["tickets"]),r.invalidateQueries(["ticket",R.ticketId]),(R.assignedTo===(t==null?void 0:t.id)||R.updatedBy===(t==null?void 0:t.id))&&ne.success(`Ticket #${R.ticketId} updated`)},[r,t]),v=w.useCallback(R=>{console.log(" Technician status changed:",R),r.invalidateQueries(["technicians"]),r.invalidateQueries(["technician-stats"]),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="supervisor")&&ne.info(`Technician status updated: ${R.status}`)},[r,t]),N=w.useCallback(R=>{console.log(" System alert:",R);const H={duration:R.priority==="urgent"?1e4:5e3,style:{background:R.priority==="urgent"?"#ef4444":"#f59e0b",color:"white"}};ne(R.message,H)},[]),_=R=>{var H;return((H=f.notification_types)==null?void 0:H[R])!==!1},j=R=>{const H={duration:5e3,style:{background:R.priority==="high"?"#ef4444":"#3b82f6",color:"white"}};ne(R.message,H)},k=()=>{try{const R=new(window.AudioContext||window.webkitAudioContext),H=R.createOscillator(),U=R.createGain();H.connect(U),U.connect(R.destination),H.frequency.value=800,H.type="sine",U.gain.setValueAtTime(.3,R.currentTime),U.gain.exponentialRampToValueAtTime(.01,R.currentTime+.5),H.start(R.currentTime),H.stop(R.currentTime+.5)}catch(R){console.warn("Could not play notification sound:",R)}};w.useEffect(()=>{if(!t)return;console.log(" Initializing Socket.IO connection..."),it.connect(t);const H=setInterval(()=>{const U=it.getConnectionStatus();d(U.isConnected)},1e3);return()=>{clearInterval(H)}},[t]),w.useEffect(()=>{if(!(!u||n.current))return console.log(" Setting up socket event listeners..."),n.current=!0,it.on("notification",y),it.on("ticket_updated",b),it.on("technician_status_changed",v),it.on("system_alert",N),()=>{console.log(" Cleaning up socket event listeners..."),n.current=!1,it.off("notification",y),it.off("ticket_updated",b),it.off("technician_status_changed",v),it.off("system_alert",N)}},[u,y,b,v,N]),w.useEffect(()=>()=>{console.log(" Disconnecting socket on unmount..."),it.disconnect()},[]);const z={notifications:i,unreadCount:o,isSocketConnected:u,settings:f,isLoading:p,markAsRead:async R=>{try{await Wi.markAsRead(R),l(H=>H.map(U=>U.id===R?{...U,is_read:!0,read_at:new Date().toISOString()}:U)),c(H=>Math.max(0,H-1)),r.invalidateQueries(["notifications"])}catch(H){console.error("Error marking notification as read:",H),ne.error("Failed to mark notification as read")}},markAllAsRead:async()=>{try{await Wi.markAllAsRead(),l(R=>R.map(H=>({...H,is_read:!0,read_at:new Date().toISOString()}))),c(0),r.invalidateQueries(["notifications"]),ne.success("All notifications marked as read")}catch(R){console.error("Error marking all notifications as read:",R),ne.error("Failed to mark all notifications as read")}},archiveNotification:async R=>{try{await Wi.archiveNotification(R),l(H=>H.filter(U=>U.id!==R)),r.invalidateQueries(["notifications"]),ne.success("Notification archived")}catch(H){console.error("Error archiving notification:",H),ne.error("Failed to archive notification")}},updateSettings:async R=>{try{await Wi.updateSettings(R),h(H=>({...H,...R})),r.invalidateQueries(["notification-settings"]),ne.success("Notification settings updated")}catch(H){console.error("Error updating notification settings:",H),ne.error("Failed to update notification settings")}},refetchNotifications:x,joinRoom:R=>{u&&it.joinRoom(R)},leaveRoom:R=>{u&&it.leaveRoom(R)},emitTicketUpdate:R=>{u&&it.emitTicketUpdate(R)},emitTechnicianStatusUpdate:R=>{u&&it.emitTechnicianStatusUpdate(R)},reconnect:()=>it.reconnect(t),disconnect:()=>it.disconnect()};return s.jsx(LO.Provider,{value:z,children:e})},Ep={getAllPermissions:async()=>await be.get("/permissions/all"),getRolePermissions:async e=>await be.get(`/permissions/role/${e}`),getPermissionMatrix:async()=>await be.get("/permissions/matrix"),updateRolePermissions:async(e,t)=>await be.put(`/permissions/role/${e}`,{permissions:t}),getMyPermissions:async()=>await be.get("/permissions/me")},aW=w.createContext(),sW=({children:e})=>{const{user:t}=Gn(),[r,n]=w.useState([]),{data:a,isLoading:i}=Ge(["permissions",t==null?void 0:t.role],()=>Ep.getMyPermissions(),{enabled:!!t,onSuccess:h=>{var x;const m=((x=h.data)==null?void 0:x.permissions)||[],p=Array.isArray(m)?m.map(g=>typeof g=="string"?g:g.name):[];n(p)},onError:h=>{console.error("Failed to load permissions:",h),n([])}}),l=h=>(t==null?void 0:t.role)==="admin"?!0:r.includes(h),o=(...h)=>(t==null?void 0:t.role)==="admin"?!0:h.some(m=>r.includes(m)),f={permissions:r,isLoading:i,hasPermission:l,hasAnyPermission:o,hasAllPermissions:(...h)=>(t==null?void 0:t.role)==="admin"?!0:h.every(m=>r.includes(m)),can:(h,m)=>{const p=`${h}.${m}`;return l(p)},canAccessPage:h=>{const p={dashboard:["dashboard.view"],analytics:["analytics.view"],tickets:["tickets.view"],customers:["customers.view"],registrations:["registrations.view"],technicians:["technicians.view"],inventory:["inventory.view"],users:["users.view"],permissions:["permissions.view"]}[h];return p?o(...p):!0}};return s.jsx(aW.Provider,{value:f,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fe=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>w.createElement("svg",{ref:d,...iW,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${lW(e)}`,o].join(" "),...u},[...t.map(([f,h])=>w.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Fe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Fe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Fe("Cable",[["path",{d:"M4 9a2 2 0 0 1-2-2V5h6v2a2 2 0 0 1-2 2Z",key:"1s6oa5"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M7 5V3",key:"1t1388"}],["path",{d:"M19 15V6.5a3.5 3.5 0 0 0-7 0v11a3.5 3.5 0 0 1-7 0V9",key:"1ytv72"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M22 19h-6v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2Z",key:"sdz6o8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Fe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=Fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Fe("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=Fe("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Fe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Fe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=Fe("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Fe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=Fe("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Fe("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Fe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Fe("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Fe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=Fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Fe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Fe("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Fe("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Fe("Router",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Fe("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Fe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=Fe("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=Fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Fe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Fe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=Fe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Fe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),NW=({isOpen:e,onClose:t,collapsed:r})=>{var f,h,m,p;const{user:n}=Gn(),a=Lc(),[i,l]=w.useState(!1),[o,c]=w.useState(null),d=[{name:"Dashboard",href:"/dashboard",icon:xW,roles:["admin","supervisor","technician","customer_service"]},{name:"Analytics",href:"/analytics",icon:ob,roles:["admin","supervisor"]},{name:"Tickets",href:"/tickets",icon:Gi,roles:["admin","supervisor","technician","customer_service"]},{name:"Customers",href:"/customers",icon:Va,roles:["admin","supervisor","customer_service"]},{name:"Registrations",href:"/registrations",icon:rl,roles:["admin","supervisor","customer_service"]},{name:"Reg Analytics",href:"/registration-analytics",icon:ob,roles:["admin","supervisor"]},{name:"Technicians",href:"/technicians",icon:Pp,roles:["admin","supervisor"]},{name:"Inventory",href:"/inventory-stock",icon:ir,roles:["admin","supervisor","technician"]},{name:"Master Data",icon:hW,roles:["admin","supervisor"],hasSubmenu:!0,submenu:[{name:"Service Types",href:"/master-data/service-types"},{name:"Service Categories",href:"/master-data/service-categories"},{name:"Paket Langganan",href:"/master-data/packages"},{name:"Price List",href:"/master-data/price-list"},{name:"Equipment",href:"/master-data/equipment"},{name:"ODP",href:"/master-data/odp"}]},{name:"Users",href:"/users",icon:ma,roles:["admin","supervisor"]},{name:"Permissions",href:"/permissions",icon:ja,roles:["admin"]}].filter(x=>x.roles.includes(n==null?void 0:n.role));return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden",onClick:t}),s.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-30 bg-white shadow-lg transform transition-all duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${e?"translate-x-0":"-translate-x-full"}
        ${r?"lg:w-20":"lg:w-64"}
        w-64
      `,children:[s.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center overflow-hidden",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-8 w-auto"})}),!r&&s.jsx("div",{className:"ml-3 transition-opacity duration-300",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900 whitespace-nowrap",children:"AGLIS"})})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-md text-gray-500 hover:text-gray-600 hover:bg-gray-100 lg:hidden",children:s.jsx(En,{className:"h-5 w-5"})})]}),s.jsx("nav",{className:"mt-6 px-3",children:s.jsx("div",{className:"space-y-1",children:d.map(x=>{var b;const g=x.icon;if(x.hasSubmenu){const v=(b=x.submenu)==null?void 0:b.some(_=>a.pathname.startsWith(_.href)),N=i||v;return s.jsxs("div",{className:"relative group/submenu",children:[s.jsxs("button",{onClick:()=>!r&&l(!i),onMouseEnter:()=>c(x.name),onMouseLeave:()=>c(null),className:`
                        w-full group flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors
                        ${v?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                        ${r?"justify-center":""}
                      `,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(g,{className:`
                          h-5 w-5 flex-shrink-0
                          ${r?"":"mr-3"}
                          ${v?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}
                        `}),!r&&x.name]}),!r&&(N?s.jsx(BO,{className:"h-4 w-4"}):s.jsx(oa,{className:"h-4 w-4"}))]}),r&&o===x.name&&s.jsxs("div",{className:"absolute left-full ml-2 top-0 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap z-50 shadow-lg",children:[x.name,s.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"})]}),N&&!r&&s.jsx("div",{className:"ml-8 mt-1 space-y-1",children:x.submenu.map(_=>{const j=a.pathname===_.href;return s.jsx(lS,{to:_.href,className:`
                                block px-3 py-2 text-sm rounded-lg transition-colors
                                ${j?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                              `,onClick:t,children:_.name},_.name)})})]},x.name)}const y=a.pathname.startsWith(x.href);return s.jsxs("div",{className:"relative group/item",children:[s.jsxs(lS,{to:x.href,onMouseEnter:()=>c(x.name),onMouseLeave:()=>c(null),className:`
                      group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors
                      ${y?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                      ${r?"justify-center":""}
                    `,onClick:t,children:[s.jsx(g,{className:`
                      h-5 w-5 flex-shrink-0
                      ${r?"":"mr-3"}
                      ${y?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}
                    `}),!r&&x.name]}),r&&o===x.name&&s.jsxs("div",{className:"absolute left-full ml-2 top-0 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap z-50 shadow-lg",children:[x.name,s.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"})]})]},x.name)})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:s.jsxs("div",{className:`flex items-center ${r?"justify-center":""}`,children:[s.jsxs("div",{className:"flex-shrink-0 relative group",children:[s.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center cursor-pointer",children:s.jsx("span",{className:"text-white font-medium text-sm",children:(h=(f=n==null?void 0:n.full_name)==null?void 0:f.charAt(0))==null?void 0:h.toUpperCase()})}),r&&s.jsxs("div",{className:"hidden group-hover:block absolute left-full ml-2 bottom-0 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap z-50 shadow-lg min-w-max",children:[s.jsx("p",{className:"font-medium",children:n==null?void 0:n.full_name}),s.jsx("p",{className:"text-xs text-gray-300 capitalize",children:(m=n==null?void 0:n.role)==null?void 0:m.replace("_"," ")}),s.jsx("div",{className:"absolute left-0 bottom-3 -translate-x-1 w-2 h-2 bg-gray-900 rotate-45"})]})]}),!r&&s.jsxs("div",{className:"ml-3 overflow-hidden",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n==null?void 0:n.full_name}),s.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:(p=n==null?void 0:n.role)==null?void 0:p.replace("_"," ")})]})]})})]})]})},_W=({onMenuClick:e})=>{var x,g;const{user:t,logout:r}=Gn(),{unreadCount:n,notifications:a,markAsRead:i,markAllAsRead:l,isSocketConnected:o}=rW(),[c,u]=w.useState(!1),[d,f]=w.useState(!1),h=w.useRef(null),m=w.useRef(null);w.useEffect(()=>{const y=b=>{h.current&&!h.current.contains(b.target)&&u(!1),m.current&&!m.current.contains(b.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const p=()=>{r(),u(!1)};return s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:hidden transition-colors",children:s.jsx(gW,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-9 w-auto"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-900 hidden sm:block",children:"AGLIS Management System"}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900 sm:hidden",children:"AGLIS"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsxs("div",{className:"relative",ref:m,children:[s.jsxs("button",{onClick:()=>f(!d),className:"relative p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[s.jsx(dW,{className:"h-5 w-5"}),n>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:n>99?"99+":n}),s.jsx("span",{className:`absolute -bottom-1 -right-1 h-2 w-2 rounded-full ${o?"bg-green-400":"bg-gray-400"}`,title:o?"Real-time connected":"Offline mode"})]}),d&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl ring-1 ring-black ring-opacity-5 z-[9999] max-h-96 overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"}),n>0&&s.jsx("button",{onClick:l,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:a.length===0?s.jsx("div",{className:"px-4 py-6 text-center text-gray-500 text-sm",children:"No notifications"}):a.slice(0,10).map(y=>s.jsx("div",{className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${y.is_read?"":"bg-blue-50"}`,onClick:()=>!y.is_read&&i(y.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`flex-shrink-0 w-2 h-2 rounded-full mt-2 ${y.is_read?"bg-gray-300":"bg-blue-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:y.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:y.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(y.created_at).toLocaleString()})]})]})},y.id))}),a.length>0&&s.jsx("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50",children:s.jsx(Gs,{to:"/notifications",className:"text-xs text-blue-600 hover:text-blue-800 font-medium",onClick:()=>f(!1),children:"View all notifications"})})]})]}),s.jsxs("div",{className:"relative",ref:h,children:[s.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[s.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-sm",children:s.jsx(Ct,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"hidden lg:block text-left min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:(x=t==null?void 0:t.role)==null?void 0:x.replace("_"," ")})]}),s.jsx(BO,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl py-2 z-[9999] border border-gray-200 ring-1 ring-black ring-opacity-5",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:(g=t==null?void 0:t.role)==null?void 0:g.replace("_"," ")})]}),s.jsxs("div",{className:"py-1",children:[s.jsxs(Gs,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(Go,{className:"h-4 w-4 mr-3 text-gray-400"}),"Profile Settings"]}),s.jsxs("button",{onClick:p,className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(US,{className:"h-4 w-4 mr-3 text-red-500"}),"Sign Out"]})]})]})]}),s.jsx("button",{onClick:p,className:"lg:hidden p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors",title:"Sign Out",children:s.jsx(US,{className:"h-4 w-4"})})]})]})})})},kW=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(()=>localStorage.getItem("sidebarCollapsed")==="true");return w.useEffect(()=>{localStorage.setItem("sidebarCollapsed",r)},[r]),s.jsxs("div",{className:"flex h-screen bg-gray-100",children:[s.jsx(NW,{isOpen:e,onClose:()=>t(!1),collapsed:r}),s.jsx("button",{onClick:()=>n(!r),className:`
          hidden lg:flex items-center justify-center
          fixed top-20 z-50
          w-6 h-12 bg-white border border-gray-200 
          rounded-r-lg shadow-md
          text-gray-600 hover:text-blue-600 hover:bg-blue-50
          transition-all duration-300
          group
          ${r?"left-20":"left-64"}
        `,title:r?"Expand Sidebar":"Collapse Sidebar",children:r?s.jsx(oa,{className:"h-4 w-4 group-hover:scale-125 transition-transform"}):s.jsx(Qa,{className:"h-4 w-4 group-hover:scale-125 transition-transform"})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(_W,{onMenuClick:()=>t(!0)}),s.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(J7,{})})})]})]})};var V0=e=>e.type==="checkbox",Xo=e=>e instanceof Date,Zn=e=>e==null;const WO=e=>typeof e=="object";var Hr=e=>!Zn(e)&&!Array.isArray(e)&&WO(e)&&!Xo(e),SW=e=>Hr(e)&&e.target?V0(e.target)?e.target.checked:e.target.value:e,EW=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,CW=(e,t)=>e.has(EW(t)),TW=e=>{const t=e.constructor&&e.constructor.prototype;return Hr(t)&&t.hasOwnProperty("isPrototypeOf")},Rj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Rj&&(e instanceof Blob||n))&&(r||Hr(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!TW(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=rn(e[a]));else return e;return t}var mg=e=>/^\w*$/.test(e),Ur=e=>e===void 0,Mj=e=>Array.isArray(e)?e.filter(Boolean):[],Lj=e=>Mj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ye=(e,t,r)=>{if(!t||!Hr(e))return r;const n=(mg(t)?[t]:Lj(t)).reduce((a,i)=>Zn(a)?a:a[i],e);return Ur(n)||n===e?Ur(e[t])?r:e[t]:n},xi=e=>typeof e=="boolean",rr=(e,t,r)=>{let n=-1;const a=mg(t)?[t]:Lj(t),i=a.length,l=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==l){const u=e[o];c=Hr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const KS={BLUR:"blur",FOCUS_OUT:"focusout"},Vs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AW=yt.createContext(null);AW.displayName="HookFormContext";var PW=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const l=i;return t._proxyFormState[l]!==Vs.all&&(t._proxyFormState[l]=!n||Vs.all),e[l]}});return a};const OW=typeof window<"u"?yt.useLayoutEffect:yt.useEffect;var Ia=e=>typeof e=="string",DW=(e,t,r,n,a)=>Ia(e)?(n&&t.watch.add(e),Ye(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ye(r,i))):(n&&(t.watchAll=!0),r),db=e=>Zn(e)||!WO(e);function Ul(e,t,r=new WeakSet){if(db(e)||db(t))return e===t;if(Xo(e)&&Xo(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const l=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Xo(l)&&Xo(o)||Hr(l)&&Hr(o)||Array.isArray(l)&&Array.isArray(o)?!Ul(l,o,r):l!==o)return!1}}return!0}var FW=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Sf=e=>Array.isArray(e)?e:[e],qS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function VO(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Hr(a)&&i){const l=VO(a,i);Hr(l)&&(r[n]=l)}else e[n]&&(r[n]=i)}return r}var ua=e=>Hr(e)&&!Object.keys(e).length,$j=e=>e.type==="file",Hs=e=>typeof e=="function",Dp=e=>{if(!Rj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},HO=e=>e.type==="select-multiple",Bj=e=>e.type==="radio",IW=e=>Bj(e)||V0(e),sy=e=>Dp(e)&&e.isConnected;function RW(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ur(e)?n++:e[t[n++]];return e}function MW(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ur(e[t]))return!1;return!0}function Lr(e,t){const r=Array.isArray(t)?t:mg(t)?[t]:Lj(t),n=r.length===1?e:RW(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Hr(n)&&ua(n)||Array.isArray(n)&&MW(n))&&Lr(e,r.slice(0,-1)),e}var LW=e=>{for(const t in e)if(Hs(e[t]))return!0;return!1};function KO(e){return Array.isArray(e)||Hr(e)&&!LW(e)}function fb(e,t={}){for(const r in e)KO(e[r])?(t[r]=Array.isArray(e[r])?[]:{},fb(e[r],t[r])):Zn(e[r])||(t[r]=!0);return t}function nu(e,t,r){r||(r=fb(t));for(const n in e)KO(e[n])?Ur(t)||db(r[n])?r[n]=fb(e[n],Array.isArray(e[n])?[]:{}):nu(e[n],Zn(t)?{}:t[n],r[n]):r[n]=!Ul(e[n],t[n]);return r}const GS={value:!1,isValid:!1},XS={value:!0,isValid:!0};var qO=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ur(e[0].attributes.value)?Ur(e[0].value)||e[0].value===""?XS:{value:e[0].value,isValid:!0}:XS:GS}return GS},GO=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ur(e)?e:t?e===""?NaN:e&&+e:r&&Ia(e)?new Date(e):n?n(e):e;const QS={isValid:!1,value:null};var XO=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,QS):QS;function YS(e){const t=e.ref;return $j(t)?t.files:Bj(t)?XO(e.refs).value:HO(t)?[...t.selectedOptions].map(({value:r})=>r):V0(t)?qO(e.refs).value:GO(Ur(t.value)?e.ref.value:t.value,e)}var $W=(e,t,r,n)=>{const a={};for(const i of e){const l=Ye(t,i);l&&rr(a,i,l._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Fp=e=>e instanceof RegExp,qd=e=>Ur(e)?e:Fp(e)?e.source:Hr(e)?Fp(e.value)?e.value.source:e.value:e,JS=e=>({isOnSubmit:!e||e===Vs.onSubmit,isOnBlur:e===Vs.onBlur,isOnChange:e===Vs.onChange,isOnAll:e===Vs.all,isOnTouch:e===Vs.onTouched});const ZS="AsyncFunction";var BW=e=>!!e&&!!e.validate&&!!(Hs(e.validate)&&e.validate.constructor.name===ZS||Hr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ZS)),UW=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),e4=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ef=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ye(e,a);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],a)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Ef(o,t))break}else if(Hr(o)&&Ef(o,t))break}}};function t4(e,t,r){const n=Ye(e,r);if(n||mg(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),l=Ye(t,i),o=Ye(e,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};a.pop()}return{name:r}}var zW=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return ua(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!n||Vs.all))},WW=(e,t,r)=>!e||!t||e===t||Sf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),VW=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,HW=(e,t)=>!Mj(Ye(e,t)).length&&Lr(e,t),KW=(e,t,r)=>{const n=Sf(Ye(e,r));return rr(n,"root",t[r]),rr(e,r,n),e};function r4(e,t,r="validate"){if(Ia(e)||Array.isArray(e)&&e.every(Ia)||xi(e)&&!e)return{type:r,message:Ia(e)?e:"",ref:t}}var Yc=e=>Hr(e)&&!Fp(e)?e:{value:e,message:""},n4=async(e,t,r,n,a,i)=>{const{ref:l,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:x,valueAsNumber:g,mount:y}=e._f,b=Ye(r,x);if(!y||t.has(x))return{};const v=o?o[0]:l,N=S=>{a&&v.reportValidity&&(v.setCustomValidity(xi(S)?"":S||""),v.reportValidity())},_={},j=Bj(l),k=V0(l),E=j||k,T=(g||$j(l))&&Ur(l.value)&&Ur(b)||Dp(l)&&l.value===""||b===""||Array.isArray(b)&&!b.length,C=FW.bind(null,x,n,_),A=(S,B,M,Y=Bi.maxLength,z=Bi.minLength)=>{const R=S?B:M;_[x]={type:S?Y:z,message:R,ref:l,...C(S?Y:z,R)}};if(i?!Array.isArray(b)||!b.length:c&&(!E&&(T||Zn(b))||xi(b)&&!b||k&&!qO(o).isValid||j&&!XO(o).isValid)){const{value:S,message:B}=Ia(c)?{value:!!c,message:c}:Yc(c);if(S&&(_[x]={type:Bi.required,message:B,ref:v,...C(Bi.required,B)},!n))return N(B),_}if(!T&&(!Zn(f)||!Zn(h))){let S,B;const M=Yc(h),Y=Yc(f);if(!Zn(b)&&!isNaN(b)){const z=l.valueAsNumber||b&&+b;Zn(M.value)||(S=z>M.value),Zn(Y.value)||(B=z<Y.value)}else{const z=l.valueAsDate||new Date(b),R=te=>new Date(new Date().toDateString()+" "+te),H=l.type=="time",U=l.type=="week";Ia(M.value)&&b&&(S=H?R(b)>R(M.value):U?b>M.value:z>new Date(M.value)),Ia(Y.value)&&b&&(B=H?R(b)<R(Y.value):U?b<Y.value:z<new Date(Y.value))}if((S||B)&&(A(!!S,M.message,Y.message,Bi.max,Bi.min),!n))return N(_[x].message),_}if((u||d)&&!T&&(Ia(b)||i&&Array.isArray(b))){const S=Yc(u),B=Yc(d),M=!Zn(S.value)&&b.length>+S.value,Y=!Zn(B.value)&&b.length<+B.value;if((M||Y)&&(A(M,S.message,B.message),!n))return N(_[x].message),_}if(m&&!T&&Ia(b)){const{value:S,message:B}=Yc(m);if(Fp(S)&&!b.match(S)&&(_[x]={type:Bi.pattern,message:B,ref:l,...C(Bi.pattern,B)},!n))return N(B),_}if(p){if(Hs(p)){const S=await p(b,r),B=r4(S,v);if(B&&(_[x]={...B,...C(Bi.validate,B.message)},!n))return N(B.message),_}else if(Hr(p)){let S={};for(const B in p){if(!ua(S)&&!n)break;const M=r4(await p[B](b,r),v,B);M&&(S={...M,...C(B,M.message)},N(M.message),n&&(_[x]=S))}if(!ua(S)&&(_[x]={ref:v,...S},!n))return _}}return N(!0),_};const qW={mode:Vs.onSubmit,reValidateMode:Vs.onChange,shouldFocusError:!0};function GW(e={}){let t={...qW,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Hs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Hr(t.defaultValues)||Hr(t.values)?rn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:rn(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:qS(),state:qS()},m=t.criteriaMode===Vs.all,p=ee=>le=>{clearTimeout(u),u=setTimeout(ee,le)},x=async ee=>{if(!t.disabled&&(d.isValid||f.isValid||ee)){const le=t.resolver?ua((await k()).errors):await T(n,!0);le!==r.isValid&&h.state.next({isValid:le})}},g=(ee,le)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ee||Array.from(o.mount)).forEach(ue=>{ue&&(le?rr(r.validatingFields,ue,le):Lr(r.validatingFields,ue))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ua(r.validatingFields)}))},y=(ee,le=[],ue,ke,Ee=!0,ae=!0)=>{if(ke&&ue&&!t.disabled){if(l.action=!0,ae&&Array.isArray(Ye(n,ee))){const ve=ue(Ye(n,ee),ke.argA,ke.argB);Ee&&rr(n,ee,ve)}if(ae&&Array.isArray(Ye(r.errors,ee))){const ve=ue(Ye(r.errors,ee),ke.argA,ke.argB);Ee&&rr(r.errors,ee,ve),HW(r.errors,ee)}if((d.touchedFields||f.touchedFields)&&ae&&Array.isArray(Ye(r.touchedFields,ee))){const ve=ue(Ye(r.touchedFields,ee),ke.argA,ke.argB);Ee&&rr(r.touchedFields,ee,ve)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=nu(a,i)),h.state.next({name:ee,isDirty:A(ee,le),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else rr(i,ee,le)},b=(ee,le)=>{rr(r.errors,ee,le),h.state.next({errors:r.errors})},v=ee=>{r.errors=ee,h.state.next({errors:r.errors,isValid:!1})},N=(ee,le,ue,ke)=>{const Ee=Ye(n,ee);if(Ee){const ae=Ye(i,ee,Ur(ue)?Ye(a,ee):ue);Ur(ae)||ke&&ke.defaultChecked||le?rr(i,ee,le?ae:YS(Ee._f)):M(ee,ae),l.mount&&x()}},_=(ee,le,ue,ke,Ee)=>{let ae=!1,ve=!1;const ce={name:ee};if(!t.disabled){if(!ue||ke){(d.isDirty||f.isDirty)&&(ve=r.isDirty,r.isDirty=ce.isDirty=A(),ae=ve!==ce.isDirty);const ye=Ul(Ye(a,ee),le);ve=!!Ye(r.dirtyFields,ee),ye?Lr(r.dirtyFields,ee):rr(r.dirtyFields,ee,!0),ce.dirtyFields=r.dirtyFields,ae=ae||(d.dirtyFields||f.dirtyFields)&&ve!==!ye}if(ue){const ye=Ye(r.touchedFields,ee);ye||(rr(r.touchedFields,ee,ue),ce.touchedFields=r.touchedFields,ae=ae||(d.touchedFields||f.touchedFields)&&ye!==ue)}ae&&Ee&&h.state.next(ce)}return ae?ce:{}},j=(ee,le,ue,ke)=>{const Ee=Ye(r.errors,ee),ae=(d.isValid||f.isValid)&&xi(le)&&r.isValid!==le;if(t.delayError&&ue?(c=p(()=>b(ee,ue)),c(t.delayError)):(clearTimeout(u),c=null,ue?rr(r.errors,ee,ue):Lr(r.errors,ee)),(ue?!Ul(Ee,ue):Ee)||!ua(ke)||ae){const ve={...ke,...ae&&xi(le)?{isValid:le}:{},errors:r.errors,name:ee};r={...r,...ve},h.state.next(ve)}},k=async ee=>{g(ee,!0);const le=await t.resolver(i,t.context,$W(ee||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(ee),le},E=async ee=>{const{errors:le}=await k(ee);if(ee)for(const ue of ee){const ke=Ye(le,ue);ke?rr(r.errors,ue,ke):Lr(r.errors,ue)}else r.errors=le;return le},T=async(ee,le,ue={valid:!0})=>{for(const ke in ee){const Ee=ee[ke];if(Ee){const{_f:ae,...ve}=Ee;if(ae){const ce=o.array.has(ae.name),ye=Ee._f&&BW(Ee._f);ye&&d.validatingFields&&g([ae.name],!0);const Me=await n4(Ee,o.disabled,i,m,t.shouldUseNativeValidation&&!le,ce);if(ye&&d.validatingFields&&g([ae.name]),Me[ae.name]&&(ue.valid=!1,le))break;!le&&(Ye(Me,ae.name)?ce?KW(r.errors,Me,ae.name):rr(r.errors,ae.name,Me[ae.name]):Lr(r.errors,ae.name))}!ua(ve)&&await T(ve,le,ue)}}return ue.valid},C=()=>{for(const ee of o.unMount){const le=Ye(n,ee);le&&(le._f.refs?le._f.refs.every(ue=>!sy(ue)):!sy(le._f.ref))&&oe(ee)}o.unMount=new Set},A=(ee,le)=>!t.disabled&&(ee&&le&&rr(i,ee,le),!Ul(te(),a)),S=(ee,le,ue)=>DW(ee,o,{...l.mount?i:Ur(le)?a:Ia(ee)?{[ee]:le}:le},ue,le),B=ee=>Mj(Ye(l.mount?i:a,ee,t.shouldUnregister?Ye(a,ee,[]):[])),M=(ee,le,ue={})=>{const ke=Ye(n,ee);let Ee=le;if(ke){const ae=ke._f;ae&&(!ae.disabled&&rr(i,ee,GO(le,ae)),Ee=Dp(ae.ref)&&Zn(le)?"":le,HO(ae.ref)?[...ae.ref.options].forEach(ve=>ve.selected=Ee.includes(ve.value)):ae.refs?V0(ae.ref)?ae.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(Ee)?ve.checked=!!Ee.find(ce=>ce===ve.value):ve.checked=Ee===ve.value||!!Ee)}):ae.refs.forEach(ve=>ve.checked=ve.value===Ee):$j(ae.ref)?ae.ref.value="":(ae.ref.value=Ee,ae.ref.type||h.state.next({name:ee,values:rn(i)})))}(ue.shouldDirty||ue.shouldTouch)&&_(ee,Ee,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&U(ee)},Y=(ee,le,ue)=>{for(const ke in le){if(!le.hasOwnProperty(ke))return;const Ee=le[ke],ae=ee+"."+ke,ve=Ye(n,ae);(o.array.has(ee)||Hr(Ee)||ve&&!ve._f)&&!Xo(Ee)?Y(ae,Ee,ue):M(ae,Ee,ue)}},z=(ee,le,ue={})=>{const ke=Ye(n,ee),Ee=o.array.has(ee),ae=rn(le);rr(i,ee,ae),Ee?(h.array.next({name:ee,values:rn(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ue.shouldDirty&&h.state.next({name:ee,dirtyFields:nu(a,i),isDirty:A(ee,ae)})):ke&&!ke._f&&!Zn(ae)?Y(ee,ae,ue):M(ee,ae,ue),e4(ee,o)&&h.state.next({...r,name:ee}),h.state.next({name:l.mount?ee:void 0,values:rn(i)})},R=async ee=>{l.mount=!0;const le=ee.target;let ue=le.name,ke=!0;const Ee=Ye(n,ue),ae=ye=>{ke=Number.isNaN(ye)||Xo(ye)&&isNaN(ye.getTime())||Ul(ye,Ye(i,ue,ye))},ve=JS(t.mode),ce=JS(t.reValidateMode);if(Ee){let ye,Me;const Xe=le.type?YS(Ee._f):SW(ee),st=ee.type===KS.BLUR||ee.type===KS.FOCUS_OUT,$e=!UW(Ee._f)&&!t.resolver&&!Ye(r.errors,ue)&&!Ee._f.deps||VW(st,Ye(r.touchedFields,ue),r.isSubmitted,ce,ve),Ze=e4(ue,o,st);rr(i,ue,Xe),st?(!le||!le.readOnly)&&(Ee._f.onBlur&&Ee._f.onBlur(ee),c&&c(0)):Ee._f.onChange&&Ee._f.onChange(ee);const Nt=_(ue,Xe,st),br=!ua(Nt)||Ze;if(!st&&h.state.next({name:ue,type:ee.type,values:rn(i)}),$e)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?st&&x():st||x()),br&&h.state.next({name:ue,...Ze?{}:Nt});if(!st&&Ze&&h.state.next({...r}),t.resolver){const{errors:Fs}=await k([ue]);if(ae(Xe),ke){const oi=t4(r.errors,n,ue),es=t4(Fs,n,oi.name||ue);ye=es.error,ue=es.name,Me=ua(Fs)}}else g([ue],!0),ye=(await n4(Ee,o.disabled,i,m,t.shouldUseNativeValidation))[ue],g([ue]),ae(Xe),ke&&(ye?Me=!1:(d.isValid||f.isValid)&&(Me=await T(n,!0)));ke&&(Ee._f.deps&&(!Array.isArray(Ee._f.deps)||Ee._f.deps.length>0)&&U(Ee._f.deps),j(ue,Me,ye,Nt))}},H=(ee,le)=>{if(Ye(r.errors,le)&&ee.focus)return ee.focus(),1},U=async(ee,le={})=>{let ue,ke;const Ee=Sf(ee);if(t.resolver){const ae=await E(Ur(ee)?ee:Ee);ue=ua(ae),ke=ee?!Ee.some(ve=>Ye(ae,ve)):ue}else ee?(ke=(await Promise.all(Ee.map(async ae=>{const ve=Ye(n,ae);return await T(ve&&ve._f?{[ae]:ve}:ve)}))).every(Boolean),!(!ke&&!r.isValid)&&x()):ke=ue=await T(n);return h.state.next({...!Ia(ee)||(d.isValid||f.isValid)&&ue!==r.isValid?{}:{name:ee},...t.resolver||!ee?{isValid:ue}:{},errors:r.errors}),le.shouldFocus&&!ke&&Ef(n,H,ee?Ee:o.mount),ke},te=(ee,le)=>{let ue={...l.mount?i:a};return le&&(ue=VO(le.dirtyFields?r.dirtyFields:r.touchedFields,ue)),Ur(ee)?ue:Ia(ee)?Ye(ue,ee):ee.map(ke=>Ye(ue,ke))},K=(ee,le)=>({invalid:!!Ye((le||r).errors,ee),isDirty:!!Ye((le||r).dirtyFields,ee),error:Ye((le||r).errors,ee),isValidating:!!Ye(r.validatingFields,ee),isTouched:!!Ye((le||r).touchedFields,ee)}),D=ee=>{ee&&Sf(ee).forEach(le=>Lr(r.errors,le)),h.state.next({errors:ee?r.errors:{}})},L=(ee,le,ue)=>{const ke=(Ye(n,ee,{_f:{}})._f||{}).ref,Ee=Ye(r.errors,ee)||{},{ref:ae,message:ve,type:ce,...ye}=Ee;rr(r.errors,ee,{...ye,...le,ref:ke}),h.state.next({name:ee,errors:r.errors,isValid:!1}),ue&&ue.shouldFocus&&ke&&ke.focus&&ke.focus()},F=(ee,le)=>Hs(ee)?h.state.subscribe({next:ue=>"values"in ue&&ee(S(void 0,le),ue)}):S(ee,le,!0),O=ee=>h.state.subscribe({next:le=>{WW(ee.name,le.name,ee.exact)&&zW(le,ee.formState||d,Se,ee.reRenderRoot)&&ee.callback({values:{...i},...r,...le,defaultValues:a})}}).unsubscribe,re=ee=>(l.mount=!0,f={...f,...ee.formState},O({...ee,formState:f})),oe=(ee,le={})=>{for(const ue of ee?Sf(ee):o.mount)o.mount.delete(ue),o.array.delete(ue),le.keepValue||(Lr(n,ue),Lr(i,ue)),!le.keepError&&Lr(r.errors,ue),!le.keepDirty&&Lr(r.dirtyFields,ue),!le.keepTouched&&Lr(r.touchedFields,ue),!le.keepIsValidating&&Lr(r.validatingFields,ue),!t.shouldUnregister&&!le.keepDefaultValue&&Lr(a,ue);h.state.next({values:rn(i)}),h.state.next({...r,...le.keepDirty?{isDirty:A()}:{}}),!le.keepIsValid&&x()},J=({disabled:ee,name:le})=>{(xi(ee)&&l.mount||ee||o.disabled.has(le))&&(ee?o.disabled.add(le):o.disabled.delete(le))},Z=(ee,le={})=>{let ue=Ye(n,ee);const ke=xi(le.disabled)||xi(t.disabled);return rr(n,ee,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:ee}},name:ee,mount:!0,...le}}),o.mount.add(ee),ue?J({disabled:xi(le.disabled)?le.disabled:t.disabled,name:ee}):N(ee,!0,le.value),{...ke?{disabled:le.disabled||t.disabled}:{},...t.progressive?{required:!!le.required,min:qd(le.min),max:qd(le.max),minLength:qd(le.minLength),maxLength:qd(le.maxLength),pattern:qd(le.pattern)}:{},name:ee,onChange:R,onBlur:R,ref:Ee=>{if(Ee){Z(ee,le),ue=Ye(n,ee);const ae=Ur(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,ve=IW(ae),ce=ue._f.refs||[];if(ve?ce.find(ye=>ye===ae):ae===ue._f.ref)return;rr(n,ee,{_f:{...ue._f,...ve?{refs:[...ce.filter(sy),ae,...Array.isArray(Ye(a,ee))?[{}]:[]],ref:{type:ae.type,name:ee}}:{ref:ae}}}),N(ee,!1,void 0,ae)}else ue=Ye(n,ee,{}),ue._f&&(ue._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(CW(o.array,ee)&&l.action)&&o.unMount.add(ee)}}},se=()=>t.shouldFocusError&&Ef(n,H,o.mount),G=ee=>{xi(ee)&&(h.state.next({disabled:ee}),Ef(n,(le,ue)=>{const ke=Ye(n,ue);ke&&(le.disabled=ke._f.disabled||ee,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(Ee=>{Ee.disabled=ke._f.disabled||ee}))},0,!1))},P=(ee,le)=>async ue=>{let ke;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let Ee=rn(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:ve}=await k();r.errors=ae,Ee=rn(ve)}else await T(n);if(o.disabled.size)for(const ae of o.disabled)Lr(Ee,ae);if(Lr(r.errors,"root"),ua(r.errors)){h.state.next({errors:{}});try{await ee(Ee,ue)}catch(ae){ke=ae}}else le&&await le({...r.errors},ue),se(),setTimeout(se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ua(r.errors)&&!ke,submitCount:r.submitCount+1,errors:r.errors}),ke)throw ke},ie=(ee,le={})=>{Ye(n,ee)&&(Ur(le.defaultValue)?z(ee,rn(Ye(a,ee))):(z(ee,le.defaultValue),rr(a,ee,rn(le.defaultValue))),le.keepTouched||Lr(r.touchedFields,ee),le.keepDirty||(Lr(r.dirtyFields,ee),r.isDirty=le.defaultValue?A(ee,rn(Ye(a,ee))):A()),le.keepError||(Lr(r.errors,ee),d.isValid&&x()),h.state.next({...r}))},je=(ee,le={})=>{const ue=ee?rn(ee):a,ke=rn(ue),Ee=ua(ee),ae=Ee?a:ke;if(le.keepDefaultValues||(a=ue),!le.keepValues){if(le.keepDirtyValues){const ve=new Set([...o.mount,...Object.keys(nu(a,i))]);for(const ce of Array.from(ve))Ye(r.dirtyFields,ce)?rr(ae,ce,Ye(i,ce)):z(ce,Ye(ae,ce))}else{if(Rj&&Ur(ee))for(const ve of o.mount){const ce=Ye(n,ve);if(ce&&ce._f){const ye=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(Dp(ye)){const Me=ye.closest("form");if(Me){Me.reset();break}}}}if(le.keepFieldsRef)for(const ve of o.mount)z(ve,Ye(ae,ve));else n={}}i=t.shouldUnregister?le.keepDefaultValues?rn(a):{}:rn(ae),h.array.next({values:{...ae}}),h.state.next({values:{...ae}})}o={mount:le.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!le.keepIsValid||!!le.keepDirtyValues,l.watch=!!t.shouldUnregister,h.state.next({submitCount:le.keepSubmitCount?r.submitCount:0,isDirty:Ee?!1:le.keepDirty?r.isDirty:!!(le.keepDefaultValues&&!Ul(ee,a)),isSubmitted:le.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ee?{}:le.keepDirtyValues?le.keepDefaultValues&&i?nu(a,i):r.dirtyFields:le.keepDefaultValues&&ee?nu(a,ee):le.keepDirty?r.dirtyFields:{},touchedFields:le.keepTouched?r.touchedFields:{},errors:le.keepErrors?r.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Te=(ee,le)=>je(Hs(ee)?ee(i):ee,le),Le=(ee,le={})=>{const ue=Ye(n,ee),ke=ue&&ue._f;if(ke){const Ee=ke.refs?ke.refs[0]:ke.ref;Ee.focus&&(Ee.focus(),le.shouldSelect&&Hs(Ee.select)&&Ee.select())}},Se=ee=>{r={...r,...ee}},nt={control:{register:Z,unregister:oe,getFieldState:K,handleSubmit:P,setError:L,_subscribe:O,_runSchema:k,_focusError:se,_getWatch:S,_getDirty:A,_setValid:x,_setFieldArray:y,_setDisabledField:J,_setErrors:v,_getFieldArray:B,_reset:je,_resetDefaultValues:()=>Hs(t.defaultValues)&&t.defaultValues().then(ee=>{Te(ee,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:G,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(ee){l=ee},get _defaultValues(){return a},get _names(){return o},set _names(ee){o=ee},get _formState(){return r},get _options(){return t},set _options(ee){t={...t,...ee}}},subscribe:re,trigger:U,register:Z,handleSubmit:P,watch:F,setValue:z,getValues:te,reset:Te,resetField:ie,clearErrors:D,unregister:oe,setError:L,setFocus:Le,getFieldState:K};return{...nt,formControl:nt}}function Ha(e={}){const t=yt.useRef(void 0),r=yt.useRef(void 0),[n,a]=yt.useState({isDirty:!1,isValidating:!1,isLoading:Hs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Hs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Hs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=GW(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,OW(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),yt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),yt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),yt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),yt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),yt.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),yt.useEffect(()=>{e.values&&!Ul(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),yt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=PW(n,i),t.current}const At=({size:e="md",className:t=""})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};return s.jsx("div",{className:`flex items-center justify-center ${t}`,children:s.jsx("div",{className:`spinner ${r[e]}`})})};var QO={exports:{}},XW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QW=XW,YW=QW;function YO(){}function JO(){}JO.resetWarningCache=YO;var JW=function(){function e(n,a,i,l,o,c){if(c!==YW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:JO,resetWarningCache:YO};return r.PropTypes=r,r};QO.exports=JW();var ZW=QO.exports;const ca=Es(ZW);var eV=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(this,arguments)}function tV(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Wh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mb(e,t)}var pg=function(e){rV(t,e);function t(){var n;return n=e.call(this)||this,n.handleExpired=n.handleExpired.bind(Wh(n)),n.handleErrored=n.handleErrored.bind(Wh(n)),n.handleChange=n.handleChange.bind(Wh(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(Wh(n)),n}var r=t.prototype;return r.getCaptchaFunction=function(a){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[a]:this.props.grecaptcha[a]:null},r.getValue=function(){var a=this.getCaptchaFunction("getResponse");return a&&this._widgetId!==void 0?a(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},r.execute=function(){var a=this.getCaptchaFunction("execute");if(a&&this._widgetId!==void 0)return a(this._widgetId);this._executeRequested=!0},r.executeAsync=function(){var a=this;return new Promise(function(i,l){a.executionResolve=i,a.executionReject=l,a.execute()})},r.reset=function(){var a=this.getCaptchaFunction("reset");a&&this._widgetId!==void 0&&a(this._widgetId)},r.forceReset=function(){var a=this.getCaptchaFunction("reset");a&&a()},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},r.handleChange=function(a){this.props.onChange&&this.props.onChange(a),this.executionResolve&&(this.executionResolve(a),delete this.executionReject,delete this.executionResolve)},r.explicitRender=function(){var a=this.getCaptchaFunction("render");if(a&&this._widgetId===void 0){var i=document.createElement("div");this._widgetId=a(i,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(i)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.handleRecaptchaRef=function(a){this.captcha=a},r.render=function(){var a=this.props;a.sitekey,a.onChange,a.theme,a.type,a.tabindex,a.onExpired,a.onErrored,a.size,a.stoken,a.grecaptcha,a.badge,a.hl,a.isolated;var i=tV(a,eV);return w.createElement("div",hb({},i,{ref:this.handleRecaptchaRef}))},t}(w.Component);pg.displayName="ReCAPTCHA";pg.propTypes={sitekey:ca.string.isRequired,onChange:ca.func,grecaptcha:ca.object,theme:ca.oneOf(["dark","light"]),type:ca.oneOf(["image","audio"]),tabindex:ca.number,onExpired:ca.func,onErrored:ca.func,size:ca.oneOf(["compact","normal","invisible"]),stoken:ca.string,hl:ca.string,badge:ca.oneOf(["bottomright","bottomleft","inline"]),isolated:ca.bool};pg.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var ZO={exports:{}},Mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hn=typeof Symbol=="function"&&Symbol.for,Uj=hn?Symbol.for("react.element"):60103,zj=hn?Symbol.for("react.portal"):60106,xg=hn?Symbol.for("react.fragment"):60107,gg=hn?Symbol.for("react.strict_mode"):60108,vg=hn?Symbol.for("react.profiler"):60114,yg=hn?Symbol.for("react.provider"):60109,bg=hn?Symbol.for("react.context"):60110,Wj=hn?Symbol.for("react.async_mode"):60111,wg=hn?Symbol.for("react.concurrent_mode"):60111,jg=hn?Symbol.for("react.forward_ref"):60112,Ng=hn?Symbol.for("react.suspense"):60113,nV=hn?Symbol.for("react.suspense_list"):60120,_g=hn?Symbol.for("react.memo"):60115,kg=hn?Symbol.for("react.lazy"):60116,aV=hn?Symbol.for("react.block"):60121,sV=hn?Symbol.for("react.fundamental"):60117,iV=hn?Symbol.for("react.responder"):60118,lV=hn?Symbol.for("react.scope"):60119;function Ja(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Uj:switch(e=e.type,e){case Wj:case wg:case xg:case vg:case gg:case Ng:return e;default:switch(e=e&&e.$$typeof,e){case bg:case jg:case kg:case _g:case yg:return e;default:return t}}case zj:return t}}}function e5(e){return Ja(e)===wg}Mt.AsyncMode=Wj;Mt.ConcurrentMode=wg;Mt.ContextConsumer=bg;Mt.ContextProvider=yg;Mt.Element=Uj;Mt.ForwardRef=jg;Mt.Fragment=xg;Mt.Lazy=kg;Mt.Memo=_g;Mt.Portal=zj;Mt.Profiler=vg;Mt.StrictMode=gg;Mt.Suspense=Ng;Mt.isAsyncMode=function(e){return e5(e)||Ja(e)===Wj};Mt.isConcurrentMode=e5;Mt.isContextConsumer=function(e){return Ja(e)===bg};Mt.isContextProvider=function(e){return Ja(e)===yg};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uj};Mt.isForwardRef=function(e){return Ja(e)===jg};Mt.isFragment=function(e){return Ja(e)===xg};Mt.isLazy=function(e){return Ja(e)===kg};Mt.isMemo=function(e){return Ja(e)===_g};Mt.isPortal=function(e){return Ja(e)===zj};Mt.isProfiler=function(e){return Ja(e)===vg};Mt.isStrictMode=function(e){return Ja(e)===gg};Mt.isSuspense=function(e){return Ja(e)===Ng};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xg||e===wg||e===vg||e===gg||e===Ng||e===nV||typeof e=="object"&&e!==null&&(e.$$typeof===kg||e.$$typeof===_g||e.$$typeof===yg||e.$$typeof===bg||e.$$typeof===jg||e.$$typeof===sV||e.$$typeof===iV||e.$$typeof===lV||e.$$typeof===aV)};Mt.typeOf=Ja;ZO.exports=Mt;var t5=ZO.exports,Vj=t5,oV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hj={};Hj[Vj.ForwardRef]=uV;Hj[Vj.Memo]=r5;function a4(e){return Vj.isMemo(e)?r5:Hj[e.$$typeof]||oV}var dV=Object.defineProperty,fV=Object.getOwnPropertyNames,s4=Object.getOwnPropertySymbols,hV=Object.getOwnPropertyDescriptor,mV=Object.getPrototypeOf,i4=Object.prototype;function n5(e,t,r){if(typeof t!="string"){if(i4){var n=mV(t);n&&n!==i4&&n5(e,n,r)}var a=fV(t);s4&&(a=a.concat(s4(t)));for(var i=a4(e),l=a4(t),o=0;o<a.length;++o){var c=a[o];if(!cV[c]&&!(r&&r[c])&&!(l&&l[c])&&!(i&&i[c])){var u=hV(t,c);try{dV(e,c,u)}catch{}}}}return e}var pV=n5;const xV=Es(pV);function pb(){return pb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(this,arguments)}function gV(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function vV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ms={},yV=0;function bV(e,t){return t=t||{},function(n){var a=n.displayName||n.name||"Component",i=function(o){vV(c,o);function c(d,f){var h;return h=o.call(this,d,f)||this,h.state={},h.__scriptURL="",h}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+yV++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(f){var h=this;this.setState(f,function(){return h.props.asyncScriptOnLoad&&h.props.asyncScriptOnLoad(h.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=Ms[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var h in f.observers)f.observers[h](f);delete window[t.callbackName]},u.componentDidMount=function(){var f=this,h=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),p=t,x=p.globalName,g=p.callbackName,y=p.scriptId;if(x&&typeof window[x]<"u"&&(Ms[h]={loaded:!0,observers:{}}),Ms[h]){var b=Ms[h];if(b&&(b.loaded||b.errored)){this.asyncScriptLoaderHandleLoad(b);return}b.observers[m]=function(k){return f.asyncScriptLoaderHandleLoad(k)};return}var v={};v[m]=function(k){return f.asyncScriptLoaderHandleLoad(k)},Ms[h]={loaded:!1,observers:v};var N=document.createElement("script");N.src=h,N.async=!0;for(var _ in t.attributes)N.setAttribute(_,t.attributes[_]);y&&(N.id=y);var j=function(E){if(Ms[h]){var T=Ms[h],C=T.observers;for(var A in C)E(C[A])&&delete C[A]}};g&&typeof window<"u"&&(window[g]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),N.onload=function(){var k=Ms[h];k&&(k.loaded=!0,j(function(E){return g?!1:(E(k),!0)}))},N.onerror=function(){var k=Ms[h];k&&(k.errored=!0,j(function(E){return E(k),!0}))},document.body.appendChild(N)},u.componentWillUnmount=function(){var f=this.__scriptURL;if(t.removeOnUnmount===!0)for(var h=document.getElementsByTagName("script"),m=0;m<h.length;m+=1)h[m].src.indexOf(f)>-1&&h[m].parentNode&&h[m].parentNode.removeChild(h[m]);var p=Ms[f];p&&(delete p.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete Ms[f])},u.render=function(){var f=t.globalName,h=this.props;h.asyncScriptOnLoad;var m=h.forwardedRef,p=gV(h,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(p[f]=typeof window[f]<"u"?window[f]:void 0),p.ref=m,w.createElement(n,p)},c}(w.Component),l=w.forwardRef(function(o,c){return w.createElement(i,pb({},o,{forwardedRef:c}))});return l.displayName="AsyncScriptLoader("+a+")",l.propTypes={asyncScriptOnLoad:ca.func},xV(l,n)}}var xb="onloadcallback",wV="grecaptcha";function gb(){return typeof window<"u"&&window.recaptchaOptions||{}}function jV(){var e=gb(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+xb+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+xb+"&render=explicit"}const a5=bV(jV,{callbackName:xb,globalName:wV,attributes:gb().nonce?{nonce:gb().nonce}:{}})(pg),NV=()=>{const{login:e}=Gn(),[t,r]=w.useState(!1),[n,a]=w.useState(!1),[i,l]=w.useState(null),[o,c]=w.useState(""),[u,d]=w.useState(!1),f=w.useRef(null),{register:h,handleSubmit:m,formState:{errors:p}}=Ha();w.useEffect(()=>{(async()=>{try{const b=await be.get("/auth/recaptcha-config");b.data&&(d(b.data.enabled),c(b.data.siteKey))}catch(b){console.error("Failed to fetch reCAPTCHA config:",b),d(!1)}})()},[]);const x=y=>{l(y)},g=async y=>{if(u&&!i){ne.error("Please complete the reCAPTCHA verification");return}r(!0);try{const b={...y,recaptchaToken:i},v=await e(b);v.success?ne.success("Login successful!"):(f.current&&(f.current.reset(),l(null)),v.error.includes("locked")?ne.error(v.error,{duration:5e3}):v.error.includes("Too many")?ne.error(v.error,{duration:5e3}):v.error.includes("reCAPTCHA")||v.error.includes("captcha")?ne.error("Security verification failed. Please try again."):ne.error(v.error))}catch{f.current&&(f.current.reset(),l(null)),ne.error("Login failed. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mx-auto flex items-center justify-center",children:s.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-16 w-auto"})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"AGLIS Management System"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m(g),children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"form-label",children:"Username or Email"}),s.jsx("input",{id:"username",type:"text",autoComplete:"username",className:`form-input ${p.username?"border-red-500":""}`,placeholder:"Enter your username or email",...h("username",{required:"Username or email is required"})}),p.username&&s.jsx("p",{className:"form-error",children:p.username.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",type:n?"text":"password",autoComplete:"current-password",className:`form-input pr-10 ${p.password?"border-red-500":""}`,placeholder:"Enter your password",...h("password",{required:"Password is required"})}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!n),children:n?s.jsx(Wm,{className:"h-5 w-5 text-gray-400"}):s.jsx(kf,{className:"h-5 w-5 text-gray-400"})})]}),p.password&&s.jsx("p",{className:"form-error",children:p.password.message})]})]}),u&&o&&s.jsx("div",{className:"flex justify-center",children:s.jsx(a5,{ref:f,sitekey:o,onChange:x,onExpired:()=>l(null),onErrored:()=>{l(null),ne.error("reCAPTCHA error. Please refresh the page.")},theme:"light"})}),s.jsxs("div",{children:[s.jsx("button",{type:"submit",disabled:t||u&&!i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:t?s.jsx(At,{size:"sm"}):"Sign In"}),u&&!i&&s.jsx("p",{className:"mt-2 text-sm text-center text-gray-500",children:"Please complete the reCAPTCHA verification above"})]})]})]})})},Bo={getDashboardOverview:async(e=30)=>await be.get(`/analytics/dashboard/overview?timeframe=${e}`),getTicketTrends:async(e=30)=>await be.get(`/analytics/dashboard/ticket-trends?days=${e}`),getServiceDistribution:async()=>await be.get("/analytics/dashboard/service-distribution"),getTechnicianPerformance:async()=>await be.get("/analytics/dashboard/technician-performance"),getPriorityAnalysis:async()=>await be.get("/analytics/dashboard/priority-analysis"),getRecentActivities:async(e=10)=>await be.get(`/analytics/dashboard/recent-activities?limit=${e}`)};var Kj={},vb={exports:{}};(function(e,t){(function(r,n){n(t)})(RM,function(r){var n=function(){return n=Object.assign||function(i){for(var l,o=1,c=arguments.length;o<c;o++)for(var u in l=arguments[o])Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u]);return i},n.apply(this,arguments)},a=function(){function i(l,o,c){var u=this;this.endVal=o,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(d){u.startTime||(u.startTime=d);var f=d-u.startTime;u.remaining=u.duration-f,u.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(f,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(f,u.startVal,u.endVal-u.startVal,u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(f/u.duration);var h=u.countDown?u.frameVal<u.endVal:u.frameVal>u.endVal;u.frameVal=h?u.endVal:u.frameVal,u.frameVal=Number(u.frameVal.toFixed(u.options.decimalPlaces)),u.printValue(u.frameVal),f<u.duration?u.rAF=requestAnimationFrame(u.count):u.finalEndVal!==null?u.update(u.finalEndVal):u.options.onCompleteCallback&&u.options.onCompleteCallback()},this.formatNumber=function(d){var f,h,m,p,x=d<0?"-":"";f=Math.abs(d).toFixed(u.options.decimalPlaces);var g=(f+="").split(".");if(h=g[0],m=g.length>1?u.options.decimal+g[1]:"",u.options.useGrouping){p="";for(var y=3,b=0,v=0,N=h.length;v<N;++v)u.options.useIndianSeparators&&v===4&&(y=2,b=1),v!==0&&b%y==0&&(p=u.options.separator+p),b++,p=h[N-v-1]+p;h=p}return u.options.numerals&&u.options.numerals.length&&(h=h.replace(/[0-9]/g,function(_){return u.options.numerals[+_]}),m=m.replace(/[0-9]/g,function(_){return u.options.numerals[+_]})),x+u.options.prefix+h+m+u.options.suffix},this.easeOutExpo=function(d,f,h,m){return h*(1-Math.pow(2,-10*d/m))*1024/1023+f},this.options=n(n({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof l=="string"?document.getElementById(l):l,o=o??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(o),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,l):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return u.handleScroll(u)}),window.onscroll=function(){window.onScrollFns.forEach(function(d){return d()})},this.handleScroll(this)))}return i.prototype.handleScroll=function(l){if(l&&window&&!l.once){var o=window.innerHeight+window.scrollY,c=l.el.getBoundingClientRect(),u=c.top+window.pageYOffset,d=c.top+c.height+window.pageYOffset;d<o&&d>window.scrollY&&l.paused?(l.paused=!1,setTimeout(function(){return l.start()},l.options.scrollSpyDelay),l.options.scrollSpyOnce&&(l.once=!0)):(window.scrollY>d||u>o)&&!l.paused&&l.reset()}},i.prototype.determineDirectionAndSmartEasing=function(){var l=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>l;var o=l-this.startVal;if(Math.abs(o)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=l;var c=this.countDown?1:-1;this.endVal=l+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=l,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},i.prototype.start=function(l){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),l&&(this.options.onCompleteCallback=l),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},i.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},i.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},i.prototype.update=function(l){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(l),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},i.prototype.printValue=function(l){var o;if(this.el){var c=this.formattingFn(l);!((o=this.options.plugin)===null||o===void 0)&&o.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},i.prototype.ensureNumber=function(l){return typeof l=="number"&&!isNaN(l)},i.prototype.validateValue=function(l){var o=Number(l);return this.ensureNumber(o)?o:(this.error="[CountUp] invalid start or end value: ".concat(l),null)},i.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},i.prototype.parse=function(l){var o=function(f){return f.replace(/([.,' ])/g,"\\$1")},c=o(this.options.separator),u=o(this.options.decimal),d=l.replace(new RegExp(c,"g"),"").replace(new RegExp(u,"g"),".");return parseFloat(d)},i}();r.CountUp=a})})(vb,vb.exports);var _V=vb.exports;Object.defineProperty(Kj,"__esModule",{value:!0});var ln=w,kV=_V;function SV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(n){TV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CV(e){var t=EV(e,"string");return typeof t=="symbol"?t:String(t)}function TV(e,t,r){return t=CV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(this,arguments)}function AV(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function s5(e,t){if(e==null)return{};var r=AV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PV(e,t){return OV(e)||SV(e,t)||DV(e,t)||FV()}function OV(e){if(Array.isArray(e))return e}function DV(e,t){if(e){if(typeof e=="string")return o4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o4(e,t)}}function o4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ln.useLayoutEffect:ln.useEffect;function Bs(e){var t=ln.useRef(e);return IV(function(){t.current=e}),ln.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current.apply(void 0,n)},[])}var RV=function(t,r){var n=r.decimal,a=r.decimals,i=r.duration,l=r.easingFn,o=r.end,c=r.formattingFn,u=r.numerals,d=r.prefix,f=r.separator,h=r.start,m=r.suffix,p=r.useEasing,x=r.useGrouping,g=r.useIndianSeparators,y=r.enableScrollSpy,b=r.scrollSpyDelay,v=r.scrollSpyOnce,N=r.plugin;return new kV.CountUp(t,o,{startVal:h,duration:i,decimal:n,decimalPlaces:a,easingFn:l,formattingFn:c,numerals:u,separator:f,prefix:d,suffix:m,plugin:N,useEasing:p,useIndianSeparators:g,useGrouping:x,enableScrollSpy:y,scrollSpyDelay:b,scrollSpyOnce:v})},MV=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],LV={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},i5=function(t){var r=Object.fromEntries(Object.entries(t).filter(function(T){var C=PV(T,2),A=C[1];return A!==void 0})),n=ln.useMemo(function(){return Ip(Ip({},LV),r)},[t]),a=n.ref,i=n.startOnMount,l=n.enableReinitialize,o=n.delay,c=n.onEnd,u=n.onStart,d=n.onPauseResume,f=n.onReset,h=n.onUpdate,m=s5(n,MV),p=ln.useRef(),x=ln.useRef(),g=ln.useRef(!1),y=Bs(function(){return RV(typeof a=="string"?a:a.current,m)}),b=Bs(function(T){var C=p.current;if(C&&!T)return C;var A=y();return p.current=A,A}),v=Bs(function(){var T=function(){return b(!0).start(function(){c==null||c({pauseResume:N,reset:_,start:k,update:j})})};o&&o>0?x.current=setTimeout(T,o*1e3):T(),u==null||u({pauseResume:N,reset:_,update:j})}),N=Bs(function(){b().pauseResume(),d==null||d({reset:_,start:k,update:j})}),_=Bs(function(){b().el&&(x.current&&clearTimeout(x.current),b().reset(),f==null||f({pauseResume:N,start:k,update:j}))}),j=Bs(function(T){b().update(T),h==null||h({pauseResume:N,reset:_,start:k})}),k=Bs(function(){_(),v()}),E=Bs(function(T){i&&(T&&_(),v())});return ln.useEffect(function(){g.current?l&&E(!0):(g.current=!0,E())},[l,g,E,o,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),ln.useEffect(function(){return function(){_()}},[_]),{start:k,pauseResume:N,reset:_,update:j,getCountUp:b}},$V=["className","redraw","containerProps","children","style"],BV=function(t){var r=t.className,n=t.redraw,a=t.containerProps,i=t.children,l=t.style,o=s5(t,$V),c=ln.useRef(null),u=ln.useRef(!1),d=i5(Ip(Ip({},o),{},{ref:c,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),f=d.start,h=d.reset,m=d.update,p=d.pauseResume,x=d.getCountUp,g=Bs(function(){f()}),y=Bs(function(N){t.preserveValue||h(),m(N)}),b=Bs(function(){if(typeof t.children=="function"&&!(c.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}x()});ln.useEffect(function(){b()},[b]),ln.useEffect(function(){u.current&&y(t.end)},[t.end,y]);var v=n&&t;return ln.useEffect(function(){n&&u.current&&g()},[g,n,v]),ln.useEffect(function(){!n&&u.current&&g()},[g,n,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),ln.useEffect(function(){u.current=!0},[]),typeof i=="function"?i({countUpRef:c,start:f,reset:h,update:m,pauseResume:p,getCountUp:x}):ln.createElement("span",yb({className:r,ref:c,style:l},a),typeof t.start<"u"?x().formattingFn(t.start):"")},UV=Kj.default=BV;Kj.useCountUp=i5;const Ue=({title:e,value:t,previousValue:r,icon:n,color:a="blue",format:i="number",suffix:l="",prefix:o="",onClick:c=null})=>{const d=(g=>{const y={blue:"bg-blue-500 text-blue-600 bg-blue-50",green:"bg-green-500 text-green-600 bg-green-50",yellow:"bg-yellow-500 text-yellow-600 bg-yellow-50",red:"bg-red-500 text-red-600 bg-red-50",purple:"bg-purple-500 text-purple-600 bg-purple-50",indigo:"bg-indigo-500 text-indigo-600 bg-indigo-50",emerald:"bg-emerald-500 text-emerald-600 bg-emerald-50",gray:"bg-gray-500 text-gray-600 bg-gray-50",orange:"bg-orange-500 text-orange-600 bg-orange-50"};return y[g]||y.blue})(a).split(" "),f=d[0];d[1];const h=d[2],p=!r||r===0?null:(t-r)/r*100,x=g=>i==="currency"?g>=1e6?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:1,notation:"compact",compactDisplay:"short"}).format(g):new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(g):i==="percentage"?`${g.toFixed(1)}%`:i==="decimal"?g.toFixed(1):g.toLocaleString();return s.jsx("div",{className:`${h} rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-all duration-200 ${c?"cursor-pointer hover:scale-105 active:scale-100":""}`,onClick:c,role:c?"button":void 0,tabIndex:c?0:void 0,onKeyDown:c?g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),c())}:void 0,children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),s.jsx("div",{className:"flex items-baseline",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[o,i==="number"?s.jsx(UV,{end:t,duration:1.5,separator:",",preserveValue:!0}):x(t),l]})}),p!==null&&s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsxs("span",{className:`text-xs font-medium ${p>=0?"text-green-600":"text-red-600"}`,children:[p>=0?"":""," ",Math.abs(p).toFixed(1),"%"]}),s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"vs last period"})]})]}),s.jsx("div",{className:`${f} p-3 rounded-lg flex-shrink-0`,children:s.jsx(n,{className:"h-6 w-6 text-white"})})]})})};function bb(e){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bb(e)}function ii(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Un(e){ii(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||bb(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var zV={};function WV(){return zV}function c4(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Vm(e,t){ii(2,arguments);var r=Un(e),n=Un(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function VV(e,t){ii(2,arguments);var r=Un(e),n=Un(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function HV(e,t){return ii(2,arguments),Un(e).getTime()-Un(t).getTime()}var KV={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},qV="trunc";function GV(e){return KV[qV]}function XV(e){ii(1,arguments);var t=Un(e);return t.setHours(23,59,59,999),t}function QV(e){ii(1,arguments);var t=Un(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function YV(e){ii(1,arguments);var t=Un(e);return XV(t).getTime()===QV(t).getTime()}function JV(e,t){ii(2,arguments);var r=Un(e),n=Un(t),a=Vm(r,n),i=Math.abs(VV(r,n)),l;if(i<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=Vm(r,n)===-a;YV(Un(e))&&i===1&&Vm(e,n)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function ZV(e,t,r){ii(2,arguments);var n=HV(e,t)/1e3;return GV()(n)}var eH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tH=function(t,r,n){var a,i=eH[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function ku(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var rH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sH={date:ku({formats:rH,defaultWidth:"full"}),time:ku({formats:nH,defaultWidth:"full"}),dateTime:ku({formats:aH,defaultWidth:"full"})},iH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lH=function(t,r,n,a){return iH[t]};function vi(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{var o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var oH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mH=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pH={ordinalNumber:mH,era:vi({values:oH,defaultWidth:"wide"}),quarter:vi({values:cH,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:vi({values:uH,defaultWidth:"wide"}),day:vi({values:dH,defaultWidth:"wide"}),dayPeriod:vi({values:fH,defaultWidth:"wide",formattingValues:hH,defaultFormattingWidth:"wide"})};function yi(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var l=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?gH(o,function(f){return f.test(l)}):xH(o,function(f){return f.test(l)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(l.length);return{value:u,rest:d}}}function xH(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function gH(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function l5(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;var o=t.slice(a.length);return{value:l,rest:o}}}var vH=/^(\d+)(th|st|nd|rd)?/i,yH=/\d+/i,bH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wH={any:[/^b/i,/^(a|c)/i]},jH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NH={any:[/1/i,/2/i,/3/i,/4/i]},_H={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AH={ordinalNumber:l5({matchPattern:vH,parsePattern:yH,valueCallback:function(t){return parseInt(t,10)}}),era:yi({matchPatterns:bH,defaultMatchWidth:"wide",parsePatterns:wH,defaultParseWidth:"any"}),quarter:yi({matchPatterns:jH,defaultMatchWidth:"wide",parsePatterns:NH,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:yi({matchPatterns:_H,defaultMatchWidth:"wide",parsePatterns:kH,defaultParseWidth:"any"}),day:yi({matchPatterns:SH,defaultMatchWidth:"wide",parsePatterns:EH,defaultParseWidth:"any"}),dayPeriod:yi({matchPatterns:CH,defaultMatchWidth:"any",parsePatterns:TH,defaultParseWidth:"any"})},PH={code:"en-US",formatDistance:tH,formatLong:sH,formatRelative:lH,localize:pH,match:AH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o5(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function OH(e){return o5({},e)}var u4=1440,DH=2520,iy=43200,FH=86400;function IH(e,t,r){var n,a;ii(2,arguments);var i=WV(),l=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:PH;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Vm(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var c=o5(OH(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,d;o>0?(u=Un(t),d=Un(e)):(u=Un(e),d=Un(t));var f=ZV(d,u),h=(c4(d)-c4(u))/1e3,m=Math.round((f-h)/60),p;if(m<2)return r!=null&&r.includeSeconds?f<5?l.formatDistance("lessThanXSeconds",5,c):f<10?l.formatDistance("lessThanXSeconds",10,c):f<20?l.formatDistance("lessThanXSeconds",20,c):f<40?l.formatDistance("halfAMinute",0,c):f<60?l.formatDistance("lessThanXMinutes",1,c):l.formatDistance("xMinutes",1,c):m===0?l.formatDistance("lessThanXMinutes",1,c):l.formatDistance("xMinutes",m,c);if(m<45)return l.formatDistance("xMinutes",m,c);if(m<90)return l.formatDistance("aboutXHours",1,c);if(m<u4){var x=Math.round(m/60);return l.formatDistance("aboutXHours",x,c)}else{if(m<DH)return l.formatDistance("xDays",1,c);if(m<iy){var g=Math.round(m/u4);return l.formatDistance("xDays",g,c)}else if(m<FH)return p=Math.round(m/iy),l.formatDistance("aboutXMonths",p,c)}if(p=JV(d,u),p<12){var y=Math.round(m/iy);return l.formatDistance("xMonths",y,c)}else{var b=p%12,v=Math.floor(p/12);return b<3?l.formatDistance("aboutXYears",v,c):b<9?l.formatDistance("overXYears",v,c):l.formatDistance("almostXYears",v+1,c)}}function RH(e,t){return ii(1,arguments),IH(e,Date.now(),t)}var MH={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},LH=function(t,r,n){var a,i=MH[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dalam waktu "+a:a+" yang lalu":a},$H={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},BH={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},UH={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zH={date:ku({formats:$H,defaultWidth:"full"}),time:ku({formats:BH,defaultWidth:"full"}),dateTime:ku({formats:UH,defaultWidth:"full"})},WH={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},VH=function(t,r,n,a){return WH[t]},HH={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},KH={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},qH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},GH={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},XH={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},QH={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},YH=function(t,r){var n=Number(t);return"ke-"+n},JH={ordinalNumber:YH,era:vi({values:HH,defaultWidth:"wide"}),quarter:vi({values:KH,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:vi({values:qH,defaultWidth:"wide"}),day:vi({values:GH,defaultWidth:"wide"}),dayPeriod:vi({values:XH,defaultWidth:"wide",formattingValues:QH,defaultFormattingWidth:"wide"})},ZH=/^ke-(\d+)?/i,eK=/\d+/i,tK={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},rK={any:[/^s/i,/^(m|e)/i]},nK={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},aK={any:[/1/i,/2/i,/3/i,/4/i]},sK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},iK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},lK={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},oK={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},cK={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},uK={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},dK={ordinalNumber:l5({matchPattern:ZH,parsePattern:eK,valueCallback:function(t){return parseInt(t,10)}}),era:yi({matchPatterns:tK,defaultMatchWidth:"wide",parsePatterns:rK,defaultParseWidth:"any"}),quarter:yi({matchPatterns:nK,defaultMatchWidth:"wide",parsePatterns:aK,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:yi({matchPatterns:sK,defaultMatchWidth:"wide",parsePatterns:iK,defaultParseWidth:"any"}),day:yi({matchPatterns:lK,defaultMatchWidth:"wide",parsePatterns:oK,defaultParseWidth:"any"}),dayPeriod:yi({matchPatterns:cK,defaultMatchWidth:"any",parsePatterns:uK,defaultParseWidth:"any"})},fK={code:"id",formatDistance:LH,formatLong:zH,formatRelative:VH,localize:JH,match:dK,options:{weekStartsOn:1,firstWeekContainsDate:1}};const hK=()=>{var f,h,m,p,x,g;const{user:e}=Gn(),t=Fi(),r=vr(),{data:n,isLoading:a}=Ge("dashboard-overview",()=>Bo.getDashboardOverview(),{refetchInterval:3e4,refetchOnWindowFocus:!0,refetchOnMount:"always",staleTime:0}),{data:i,isLoading:l}=Ge("dashboard-activities",()=>Bo.getRecentActivities(50),{refetchInterval:15e3,refetchOnWindowFocus:!0,refetchOnMount:"always",staleTime:0});if(w.useEffect(()=>{const y=()=>{r.invalidateQueries("dashboard-overview"),r.invalidateQueries("dashboard-activities"),console.log(" Dashboard data refreshed due to ticket update")};return window.addEventListener("ticket-updated",y),window.addEventListener("ticket-created",y),window.addEventListener("ticket-assigned",y),window.addEventListener("ticket-completed",y),()=>{window.removeEventListener("ticket-updated",y),window.removeEventListener("ticket-created",y),window.removeEventListener("ticket-assigned",y),window.removeEventListener("ticket-completed",y)}},[r]),a)return s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})});const o=(n==null?void 0:n.data)||{},c=((f=o.tickets)==null?void 0:f.byStatus)||{},u={total_tickets:((h=o.tickets)==null?void 0:h.total)||0,open_tickets:c.open||0,assigned_tickets:c.assigned||0,in_progress_tickets:c.in_progress||0,on_hold_tickets:c.on_hold||0,completed_tickets:c.completed||0,cancelled_tickets:c.cancelled||0,avg_resolution_time:((m=o.resolution)==null?void 0:m.averageHours)||null,avg_customer_rating:((p=o.satisfaction)==null?void 0:p.averageRating)||null,sla_compliance:((x=o.sla)==null?void 0:x.complianceRate)||null,active_technicians:((g=o.technicians)==null?void 0:g.available)||0,approaching_sla:0,overdue_tickets:0},d=({title:y,description:b,icon:v,color:N="blue",onClick:_})=>s.jsx("button",{onClick:_,className:"card hover:shadow-md transition-shadow text-left w-full h-full",children:s.jsxs("div",{className:"card-body flex items-center h-full",children:[s.jsx("div",{className:`p-2 rounded-lg bg-${N}-100 mr-3 flex-shrink-0`,children:s.jsx(v,{className:`h-5 w-5 text-${N}-600`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:y}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:b})]})]})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.full_name,"!"]}),s.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your ISP operations today."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[s.jsx(Ue,{title:"Total",value:u.total_tickets||0,icon:Gi,color:"blue"}),s.jsx(Ue,{title:"Open",value:u.open_tickets||0,icon:Dj,color:"blue"}),s.jsx(Ue,{title:"Assigned",value:u.assigned_tickets||0,icon:Va,color:"indigo"}),s.jsx(Ue,{title:"Progress",value:u.in_progress_tickets||0,icon:Tp,color:"orange"}),s.jsx(Ue,{title:"On Hold",value:u.on_hold_tickets||0,icon:vW,color:"yellow"}),s.jsx(Ue,{title:"Completed",value:u.completed_tickets||0,icon:Ke,color:"green"}),s.jsx(Ue,{title:"Cancelled",value:u.cancelled_tickets||0,icon:wt,color:"red"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"card h-full",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-full",children:[s.jsx(d,{title:"Create New Ticket",description:"Add a new service request",icon:Gi,color:"blue",onClick:()=>t("/tickets")}),s.jsx(d,{title:"Add Customer",description:"Register new customer",icon:Va,color:"green",onClick:()=>t("/customers")}),s.jsx(d,{title:"Manage Technicians",description:"View and manage technicians",icon:Pp,color:"purple",onClick:()=>t("/technicians")}),s.jsx(d,{title:"Check Inventory",description:"View stock levels",icon:ir,color:"orange",onClick:()=>t("/inventory")})]})})]})}),s.jsx("div",{children:s.jsxs("div",{className:"card h-full flex flex-col",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Activity"})}),s.jsx("div",{className:"card-body flex-1 overflow-hidden",children:l?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(At,{})}):i!=null&&i.data&&i.data.length>0?s.jsx("div",{className:"space-y-4 overflow-y-auto h-full pr-2",style:{maxHeight:"180px"},children:i.data.map((y,b)=>{let v="",N=Gi,_="blue";return y.status==="completed"?(v=`Ticket #${y.ticketNumber} completed`,N=Ke,_="green"):y.status==="assigned"?(v=`Ticket #${y.ticketNumber} assigned to technician`,N=Pp,_="purple"):y.status==="in_progress"?(v=`Ticket #${y.ticketNumber} in progress`,N=Ut,_="orange"):y.status==="open"?(v=`New ticket created: ${y.title}`,N=Gi,_="blue"):v=`Ticket #${y.ticketNumber} - ${y.title}`,s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`p-1 bg-${_}-100 rounded-full`,children:s.jsx(N,{className:`h-4 w-4 text-${_}-600`})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-900",children:v}),s.jsx("p",{className:"text-xs text-gray-500",children:y.timestamp&&!isNaN(new Date(y.timestamp).getTime())?RH(new Date(y.timestamp),{addSuffix:!0,locale:fK}):"Baru saja"})]})]},b)})}):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Tidak ada aktivitas hari ini"})})]})})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="supervisor")&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Performance Overview"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Average Resolution Time"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.avg_resolution_time?`${u.avg_resolution_time.toFixed(1)} hours`:"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.avg_customer_rating?`${u.avg_customer_rating.toFixed(1)}/5.0`:"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"SLA Compliance"}),s.jsx("span",{className:`text-sm font-medium ${u.sla_compliance>=90?"text-green-600":"text-yellow-600"}`,children:u.sla_compliance?`${u.sla_compliance.toFixed(1)}%`:"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active Technicians"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:u.active_technicians||0})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Alerts"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"space-y-3",children:[u.approaching_sla>0,u.overdue_tickets>0,s.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[s.jsx(Ke,{className:"h-5 w-5 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"All tickets on track"}),s.jsx("p",{className:"text-xs text-green-600",children:"No urgent alerts"})]})]})]})})]})]})]})};function c5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=c5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=c5(e))&&(n&&(n+=" "),n+=t);return n}var Sg={},u5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(u5);var qj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(qj);var Gj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Gj);var Eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,l="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const u=r[i];o?u==="\\"&&i+1<a?(i++,l+=r[i]):u===o?o="":l+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(l),l=""):l+=u:u==="["?(c=!0,l&&(n.push(l),l="")):u==="."?l&&(n.push(l),l=""):l+=u,i++}return l&&n.push(l),n}e.toPath=t})(Eg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u5,r=qj,n=Gj,a=Eg;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return l(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function l(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Sg);var mK=Sg.get;const Nc=Es(mK);var un=e=>e===0?0:e>0?1:-1,_a=e=>typeof e=="number"&&e!=+e,Qo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!_a(e),Ti=e=>Qe(e)||typeof e=="string",pK=0,i0=e=>{var t=++pK;return"".concat(e||"").concat(t)},Wn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return n;var i;if(Qo(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return _a(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},d5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Lt(e,t,r){return Qe(e)&&Qe(t)?e+r*(t-e):t}function f5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Nc(n,t))===r)}var Jt=e=>e===null||typeof e>"u",H0=e=>Jt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),xK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Xj(e){if(typeof e!="string")return!1;var t=xK;return t.includes(e)}var gK=["viewBox","children"],d4=["points","pathLength"],ly={svg:gK,polygon:d4,polyline:d4},Qj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Xj(a)&&(n[a]=i=>r[a](r,i))}),n},vK=(e,t,r)=>n=>(e(t,r,n),null),K0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Xj(a)&&typeof i=="function"&&(n||(n={}),n[a]=vK(i,t,r))}),n},yK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function h5(e){if(typeof e!="string")return!1;var t=yK;return t.includes(e)}function Ps(e){var t=Object.entries(e).filter(r=>{var[n]=r;return h5(n)});return Object.fromEntries(t)}var f4=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",h4=null,oy=null,m5=e=>{if(e===h4&&Array.isArray(oy))return oy;var t=[];return w.Children.forEach(e,r=>{Jt(r)||(t5.isFragment(r)?t=t.concat(m5(r.props.children)):t.push(r))}),oy=t,h4=e,t};function Yj(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>f4(a)):n=[f4(t)],m5(e).forEach(a=>{var i=Nc(a,"type.displayName")||Nc(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var Cg=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,bK=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(ly==null?void 0:ly[n]))!==null&&a!==void 0?a:[],l=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&i.includes(t)||h5(t)),c=!!r&&Xj(t);return l||o||c},tr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var l;bK((l=n)===null||l===void 0?void 0:l[i],i,t,r)&&(a[i]=n[i])}),a},wK=["children","width","height","viewBox","className","style","title","desc"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(null,arguments)}function jK(e,t){if(e==null)return{};var r,n,a=NK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jj=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:c,desc:u}=e,d=jK(e,wK),f=i||{width:n,height:a,x:0,y:0},h=jt("recharts-surface",l);return w.createElement("svg",wb({},tr(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,c),w.createElement("desc",null,u),r)}),_K=["children","className"];function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(null,arguments)}function kK(e,t){if(e==null)return{};var r,n,a=SK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sr=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=kK(e,_K),i=jt("recharts-layer",n);return w.createElement("g",jb({className:i},tr(a,!0),{ref:t}),r)}),p5=w.createContext(null),EK=()=>w.useContext(p5);function Wt(e){return function(){return e}}const x5=Math.cos,Rp=Math.sin,li=Math.sqrt,Mp=Math.PI,Tg=2*Mp,Nb=Math.PI,_b=2*Nb,Io=1e-6,CK=_b-Io;function g5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function TK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return g5;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class AK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?g5:TK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=n-t,u=a-r,d=l-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Io)if(!(Math.abs(f*c-u*d)>Io)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-l,p=a-o,x=c*c+u*u,g=m*m+p*p,y=Math.sqrt(x),b=Math.sqrt(h),v=i*Math.tan((Nb-Math.acos((x+h-g)/(2*y*b)))/2),N=v/b,_=v/y;Math.abs(N-1)>Io&&this._append`L${t+N*d},${r+N*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^l,h=l?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Io||Math.abs(this._y1-d)>Io)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%_b+_b),h>CK?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Io&&this._append`A${n},${n},0,${+(h>=Nb)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Zj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new AK(t)}function e2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v5(e){this._context=e}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ag(e){return new v5(e)}function y5(e){return e[0]}function b5(e){return e[1]}function w5(e,t){var r=Wt(!0),n=null,a=Ag,i=null,l=Zj(o);e=typeof e=="function"?e:e===void 0?y5:Wt(e),t=typeof t=="function"?t:t===void 0?b5:Wt(t);function o(c){var u,d=(c=e2(c)).length,f,h=!1,m;for(n==null&&(i=a(m=l())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wt(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function Vh(e,t,r){var n=null,a=Wt(!0),i=null,l=Ag,o=null,c=Zj(u);e=typeof e=="function"?e:e===void 0?y5:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?b5:Wt(+r);function u(f){var h,m,p,x=(f=e2(f)).length,g,y=!1,b,v=new Array(x),N=new Array(x);for(i==null&&(o=l(b=c())),h=0;h<=x;++h){if(!(h<x&&a(g=f[h],h,f))===y)if(y=!y)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(v[p],N[p]);o.lineEnd(),o.areaEnd()}y&&(v[h]=+e(g,h,f),N[h]=+t(g,h,f),o.point(n?+n(g,h,f):v[h],r?+r(g,h,f):N[h]))}if(b)return o=null,b+""||null}function d(){return w5().defined(a).curve(l).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Wt(!!f),u):a},u.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),u):l},u.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),u):i},u}class j5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PK(e){return new j5(e,!0)}function OK(e){return new j5(e,!1)}const t2={draw(e,t){const r=li(t/Mp);e.moveTo(r,0),e.arc(0,0,r,0,Tg)}},DK={draw(e,t){const r=li(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},N5=li(1/3),FK=N5*2,IK={draw(e,t){const r=li(t/FK),n=r*N5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},RK={draw(e,t){const r=li(t),n=-r/2;e.rect(n,n,r,r)}},MK=.8908130915292852,_5=Rp(Mp/10)/Rp(7*Mp/10),LK=Rp(Tg/10)*_5,$K=-x5(Tg/10)*_5,BK={draw(e,t){const r=li(t*MK),n=LK*r,a=$K*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=Tg*i/5,o=x5(l),c=Rp(l);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},cy=li(3),UK={draw(e,t){const r=-li(t/(cy*3));e.moveTo(0,r*2),e.lineTo(-cy*r,-r),e.lineTo(cy*r,-r),e.closePath()}},ts=-.5,rs=li(3)/2,kb=1/li(12),zK=(kb/2+1)*3,WK={draw(e,t){const r=li(t/zK),n=r/2,a=r*kb,i=n,l=r*kb+r,o=-i,c=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(ts*n-rs*a,rs*n+ts*a),e.lineTo(ts*i-rs*l,rs*i+ts*l),e.lineTo(ts*o-rs*c,rs*o+ts*c),e.lineTo(ts*n+rs*a,ts*a-rs*n),e.lineTo(ts*i+rs*l,ts*l-rs*i),e.lineTo(ts*o+rs*c,ts*c-rs*o),e.closePath()}};function VK(e,t){let r=null,n=Zj(a);e=typeof e=="function"?e:Wt(e||t2),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Wt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Lp(){}function $p(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function k5(e){this._context=e}k5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$p(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HK(e){return new k5(e)}function S5(e){this._context=e}S5.prototype={areaStart:Lp,areaEnd:Lp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KK(e){return new S5(e)}function E5(e){this._context=e}E5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qK(e){return new E5(e)}function C5(e){this._context=e}C5.prototype={areaStart:Lp,areaEnd:Lp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function GK(e){return new C5(e)}function m4(e){return e<0?-1:1}function p4(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return(m4(i)+m4(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function x4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function uy(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function Bp(e){this._context=e}Bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uy(this,this._t0,x4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uy(this,x4(this,r=p4(this,e,t)),r);break;default:uy(this,this._t0,r=p4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function T5(e){this._context=new A5(e)}(T5.prototype=Object.create(Bp.prototype)).point=function(e,t){Bp.prototype.point.call(this,t,e)};function A5(e){this._context=e}A5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function XK(e){return new Bp(e)}function QK(e){return new T5(e)}function P5(e){this._context=e}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=g4(e),a=g4(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function g4(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function YK(e){return new P5(e)}function Pg(e,t){this._context=e,this._t=t}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function JK(e){return new Pg(e,.5)}function ZK(e){return new Pg(e,0)}function eq(e){return new Pg(e,1)}function Gu(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Sb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function tq(e,t){return e[t]}function rq(e){const t=[];return t.key=e,t}function nq(){var e=Wt([]),t=Sb,r=Gu,n=tq;function a(i){var l=Array.from(e.apply(this,arguments),rq),o,c=l.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(l[o][u]=[0,+n(f,l[o].key,u,i)]).data=f;for(o=0,d=e2(t(l));o<c;++o)l[d[o]].index=o;return r(l,d),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Wt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Sb:typeof i=="function"?i:Wt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Gu,a):r},a}function aq(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Gu(e,t)}}function sq(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Gu(e,t)}}function iq(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,c=0,u=0;o<l;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var x=e[t[p]],g=x[n][1]||0,y=x[n-1][1]||0;m+=g-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Gu(e,t)}}var lq=["type","size","sizeType"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(null,arguments)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oq(e,t,r){return(t=cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dq(e,t){if(e==null)return{};var r,n,a=fq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O5={symbolCircle:t2,symbolCross:DK,symbolDiamond:IK,symbolSquare:RK,symbolStar:BK,symbolTriangle:UK,symbolWye:WK},hq=Math.PI/180,mq=e=>{var t="symbol".concat(H0(e));return O5[t]||t2},pq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*hq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xq=(e,t)=>{O5["symbol".concat(H0(e))]=t},r2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=dq(e,lq),i=y4(y4({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var h=mq(l),m=VK().type(h).size(pq(r,n,l));return m()},{className:c,cx:u,cy:d}=i,f=tr(i,!0);return u===+u&&d===+d&&r===+r?w.createElement("path",Eb({},f,{className:jt("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};r2.registerSymbol=xq;function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(null,arguments)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){n2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n2(e,t,r){return(t=vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=yq(e,"string");return typeof t=="symbol"?t:t+""}function yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ns=32;class a2 extends w.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=ns/2,i=ns/6,l=ns/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:ns,y2:a,className:"recharts-legend-icon"});if(c==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ns,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ns/8,"h").concat(ns,"v").concat(ns*3/4,"h").concat(-ns,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var u=gq({},t);return delete u.legendIcon,w.cloneElement(t.legendIcon,u)}return w.createElement(r2,{fill:o,cx:a,cy:a,size:ns,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:ns,height:ns},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=jt({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?i:d.color,x=h?h(d.value,d,f):d.value;return w.createElement("li",Cb({className:m,style:c,key:"legend-item-".concat(f)},K0(this.props,d,f)),w.createElement(Jj,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,l)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}n2(a2,"displayName","Legend");n2(a2,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var D5={},F5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(F5);var s2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(s2);var I5={},Og={},R5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(R5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R5;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Og);var M5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(M5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Og,r=M5;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(I5);var L5={},$5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sg;function r(n){return function(a){return t.get(a,n)}}e.property=r})($5);var B5={},dy={},fy={},i2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(i2);var l2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(l2);var o2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(o2);var w4;function bq(){return w4||(w4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c2(),r=i2,n=l2,a=o2;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):l(f,h,function p(x,g,y,b,v,N){const _=m(x,g,y,b,v,N);return _!==void 0?!!_:l(x,g,p,N)},new Map)}function l(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,p);case"function":return Object.keys(h).length>0?l(f,{...h},m,p):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let g=0;g<x.length;g++){const y=x[g];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!m(f[y],h[y],y,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,g]of h.entries()){const y=f.get(x);if(m(y,g,x,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let g=0;g<h.length;g++){const y=h[g];let b=!1;for(let v=0;v<f.length;v++){if(x.has(v))continue;const N=f[v];let _=!1;if(m(N,y,g,f,h,p)&&(_=!0),_){x.add(v),b=!0;break}}if(!b)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=d}(fy)),fy}var j4;function c2(){return j4||(j4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bq();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(dy)),dy}var U5={},u2={},z5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(z5);var d2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(d2);var f2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",g="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",v="[object Uint32Array]",N="[object BigUint64Array]",_="[object Int8Array]",j="[object Int16Array]",k="[object Int32Array]",E="[object BigInt64Array]",T="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=x,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=T,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=k,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=b,e.uint32ArrayTag=v,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=y})(f2);var W5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(W5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z5,r=d2,n=f2,a=l2,i=W5;function l(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const g=new Array(d.length);m.set(d,g);for(let y=0;y<d.length;y++)g[y]=o(d[y],y,h,m,p);return Object.hasOwn(d,"index")&&(g.index=d.index),Object.hasOwn(d,"input")&&(g.input=d.input),g}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const g=new RegExp(d.source,d.flags);return g.lastIndex=d.lastIndex,g}if(d instanceof Map){const g=new Map;m.set(d,g);for(const[y,b]of d)g.set(y,o(b,y,h,m,p));return g}if(d instanceof Set){const g=new Set;m.set(d,g);for(const y of d)g.add(o(y,void 0,h,m,p));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const g=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,g);for(let y=0;y<d.length;y++)g[y]=o(d[y],y,h,m,p);return g}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const g=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,g),c(g,d,h,m,p),g}if(typeof File<"u"&&d instanceof File){const g=new File([d],d.name,{type:d.type});return m.set(d,g),c(g,d,h,m,p),g}if(d instanceof Blob){const g=new Blob([d],{type:d.type});return m.set(d,g),c(g,d,h,m,p),g}if(d instanceof Error){const g=new d.constructor;return m.set(d,g),g.message=d.message,g.name=d.name,g.stack=d.stack,g.cause=d.cause,c(g,d,h,m,p),g}if(typeof d=="object"&&u(d)){const g=Object.create(Object.getPrototypeOf(d));return m.set(d,g),c(g,d,h,m,p),g}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<x.length;g++){const y=x[g],b=Object.getOwnPropertyDescriptor(d,y);(b==null||b.writable)&&(d[y]=o(f[y],y,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(u2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u2;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(U5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c2(),r=U5;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(B5);var V5={},H5={},K5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u2,r=f2;function n(a,i){return t.cloneDeepWith(a,(l,o,c,u)=>{const d=i==null?void 0:i(l,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(K5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K5;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(H5);var q5={},h2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(h2);var G5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d2;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(G5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qj,r=h2,n=G5,a=Eg;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=l;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(q5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c2(),r=Gj,n=H5,a=Sg,i=q5;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=l})(V5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s2,r=$5,n=B5,a=V5;function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(L5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F5,r=s2,n=I5,a=L5;function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(D5);var wq=D5.uniqBy;const N4=Es(wq);function X5(e,t,r){return t===!0?N4(e,r):typeof t=="function"?N4(e,t):e}var Q5={exports:{}},Y5={},J5={exports:{}},Z5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu=w;function jq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nq=typeof Object.is=="function"?Object.is:jq,_q=Xu.useState,kq=Xu.useEffect,Sq=Xu.useLayoutEffect,Eq=Xu.useDebugValue;function Cq(e,t){var r=t(),n=_q({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return Sq(function(){a.value=r,a.getSnapshot=t,hy(a)&&i({inst:a})},[e,r,t]),kq(function(){return hy(a)&&i({inst:a}),e(function(){hy(a)&&i({inst:a})})},[e]),Eq(r),r}function hy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nq(e,r)}catch{return!0}}function Tq(e,t){return t()}var Aq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tq:Cq;Z5.useSyncExternalStore=Xu.useSyncExternalStore!==void 0?Xu.useSyncExternalStore:Aq;J5.exports=Z5;var Pq=J5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=w,Oq=Pq;function Dq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fq=typeof Object.is=="function"?Object.is:Dq,Iq=Oq.useSyncExternalStore,Rq=Dg.useRef,Mq=Dg.useEffect,Lq=Dg.useMemo,$q=Dg.useDebugValue;Y5.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Rq(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Lq(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&l.hasValue){var p=l.value;if(a(p,m))return f=p}return f=m}if(p=f,Fq(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=Iq(e,i[0],i[1]);return Mq(function(){l.hasValue=!0,l.value=o},[o]),$q(o),o};Q5.exports=Y5;var Bq=Q5.exports,m2=w.createContext(null),Uq=e=>e,yr=()=>{var e=w.useContext(m2);return e?e.store.dispatch:Uq},Hm=()=>{},zq=()=>Hm,Wq=(e,t)=>e===t;function qe(e){var t=w.useContext(m2);return Bq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:zq,t?t.store.getState:Hm,t?t.store.getState:Hm,t?e:Hm,Wq)}function Vq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Hq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Kq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var _4=e=>Array.isArray(e)?e:[e];function qq(e){const t=Array.isArray(e[0])?e[0]:e;return Kq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Gq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Xq=class{constructor(e){this.value=e}deref(){return this.value}},Qq=typeof WeakRef<"u"?WeakRef:Xq,Yq=0,k4=1;function Hh(){return{s:Yq,v:void 0,o:null,p:null}}function e6(e,t={}){let r=Hh();const{resultEqualityCheck:n}=t;let a,i=0;function l(){var f;let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const g=x.get(p);g===void 0?(o=Hh(),x.set(p,o)):o=g}else{let x=o.p;x===null&&(o.p=x=new Map);const g=x.get(p);g===void 0?(o=Hh(),x.set(p,o)):o=g}}const u=o;let d;if(o.s===k4)d=o.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Qq(d):d}return u.s=k4,u.v=d,d}return l.clearCache=()=>{r=Hh(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Jq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),Vq(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=e6,argsMemoizeOptions:p=[]}=d,x=_4(h),g=_4(p),y=qq(a),b=f(function(){return i++,u.apply(null,arguments)},...x),v=m(function(){l++;const _=Gq(y,arguments);return o=b.apply(null,_),o},...g);return Object.assign(v,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var fe=Jq(e6),Zq=Object.assign((e,t=fe)=>{Hq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,c)=>(l[r[c]]=o,l),{}))},{withTypes:()=>Zq}),t6={},r6={},n6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(n6);var a6={},p2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(p2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(a6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6,r=a6,n=Eg;function a(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let x=m;for(let g=0;g<p.length&&x!=null;++g)x=x[p[g]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=l.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const g=t.compareValues(m.criteria[x],p.criteria[x],o[x]);if(g!==0)return g}return 0}).map(m=>m.original)}e.orderBy=a})(r6);var s6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?l(d,c+1):a.push(d)}};return l(r,0),a}e.flatten=t})(s6);var x2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h2,r=Og,n=i2,a=o2;function i(l,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],l):!1}e.isIterateeCall=i})(x2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r6,r=s6,n=x2;function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(t6);var eG=t6.sortBy;const Fg=Es(eG);var i6=e=>e.legend.settings,tG=e=>e.legend.size,rG=e=>e.legend.payload,nG=fe([rG,i6],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Fg(n,r):n});function aG(){return qe(nG)}var Kh=1;function l6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>Kh||Math.abs(l.left-t.left)>Kh||Math.abs(l.top-t.top)>Kh||Math.abs(l.width-t.width)>Kh)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function gn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sG=typeof Symbol=="function"&&Symbol.observable||"@@observable",S4=sG,my=()=>Math.random().toString(36).substring(7).split("").join("."),iG={INIT:`@@redux/INIT${my()}`,REPLACE:`@@redux/REPLACE${my()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${my()}`},Up=iG;function g2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function o6(e,t,r){if(typeof e!="function")throw new Error(gn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gn(1));return r(o6)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((g,y)=>{l.set(y,g)}))}function d(){if(c)throw new Error(gn(3));return a}function f(g){if(typeof g!="function")throw new Error(gn(4));if(c)throw new Error(gn(5));let y=!0;u();const b=o++;return l.set(b,g),function(){if(y){if(c)throw new Error(gn(6));y=!1,u(),l.delete(b),i=null}}}function h(g){if(!g2(g))throw new Error(gn(7));if(typeof g.type>"u")throw new Error(gn(8));if(typeof g.type!="string")throw new Error(gn(17));if(c)throw new Error(gn(9));try{c=!0,a=n(a,g)}finally{c=!1}return(i=l).forEach(b=>{b()}),g}function m(g){if(typeof g!="function")throw new Error(gn(10));n=g,h({type:Up.REPLACE})}function p(){const g=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(gn(11));function b(){const N=y;N.next&&N.next(d())}return b(),{unsubscribe:g(b)}},[S4](){return this}}}return h({type:Up.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[S4]:p}}function lG(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Up.INIT})>"u")throw new Error(gn(12));if(typeof r(void 0,{type:Up.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gn(13))})}function c6(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{lG(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=l[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(gn(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(l).length,c?u:l}}function zp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oG(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(gn(15))};const l={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(l));return i=zp(...o)(a.dispatch),{...a,dispatch:i}}}function u6(e){return g2(e)&&"type"in e&&typeof e.type=="string"}var d6=Symbol.for("immer-nothing"),E4=Symbol.for("immer-draftable"),Ka=Symbol.for("immer-state");function Ks(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qu=Object.getPrototypeOf;function _c(e){return!!e&&!!e[Ka]}function ml(e){var t;return e?f6(e)||Array.isArray(e)||!!e[E4]||!!((t=e.constructor)!=null&&t[E4])||q0(e)||Rg(e):!1}var cG=Object.prototype.constructor.toString();function f6(e){if(!e||typeof e!="object")return!1;const t=Qu(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===cG}function Wp(e,t){Ig(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Ig(e){const t=e[Ka];return t?t.type_:Array.isArray(e)?1:q0(e)?2:Rg(e)?3:0}function Tb(e,t){return Ig(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function h6(e,t,r){const n=Ig(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function uG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function q0(e){return e instanceof Map}function Rg(e){return e instanceof Set}function Ro(e){return e.copy_||e.base_}function Ab(e,t){if(q0(e))return new Map(e);if(Rg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=f6(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ka];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Qu(e),n)}else{const n=Qu(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function v2(e,t=!1){return Mg(e)||_c(e)||!ml(e)||(Ig(e)>1&&Object.defineProperties(e,{set:{value:qh},add:{value:qh},clear:{value:qh},delete:{value:qh}}),Object.freeze(e),t&&Object.values(e).forEach(r=>v2(r,!0))),e}function qh(){Ks(2)}function Mg(e){return Object.isFrozen(e)}var dG={};function kc(e){const t=dG[e];return t||Ks(0,e),t}var l0;function m6(){return l0}function fG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function C4(e,t){t&&(kc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pb(e){Ob(e),e.drafts_.forEach(hG),e.drafts_=null}function Ob(e){e===l0&&(l0=e.parent_)}function T4(e){return l0=fG(l0,e)}function hG(e){const t=e[Ka];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function A4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ka].modified_&&(Pb(t),Ks(4)),ml(e)&&(e=Vp(t,e),t.parent_||Hp(t,e)),t.patches_&&kc("Patches").generateReplacementPatches_(r[Ka].base_,e,t.patches_,t.inversePatches_)):e=Vp(t,r,[]),Pb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==d6?e:void 0}function Vp(e,t,r){if(Mg(t))return t;const n=t[Ka];if(!n)return Wp(t,(a,i)=>P4(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Hp(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,l=!1;n.type_===3&&(i=new Set(a),a.clear(),l=!0),Wp(i,(o,c)=>P4(e,n,a,o,c,r,l)),Hp(e,a,!1),r&&e.patches_&&kc("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function P4(e,t,r,n,a,i,l){if(_c(a)){const o=i&&t&&t.type_!==3&&!Tb(t.assigned_,n)?i.concat(n):void 0,c=Vp(e,a,o);if(h6(r,n,c),_c(c))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(ml(a)&&!Mg(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Vp(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(q0(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Hp(e,a)}}function Hp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&v2(t,r)}function mG(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:m6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=y2;r&&(a=[n],i=o0);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var y2={get(e,t){if(t===Ka)return e;const r=Ro(e);if(!Tb(r,t))return pG(e,r,t);const n=r[t];return e.finalized_||!ml(n)?n:n===py(e.base_,t)?(xy(e),e.copy_[t]=Fb(n,e)):n},has(e,t){return t in Ro(e)},ownKeys(e){return Reflect.ownKeys(Ro(e))},set(e,t,r){const n=p6(Ro(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=py(Ro(e),t),i=a==null?void 0:a[Ka];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(uG(r,a)&&(r!==void 0||Tb(e.base_,t)))return!0;xy(e),Db(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return py(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,xy(e),Db(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ro(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ks(11)},getPrototypeOf(e){return Qu(e.base_)},setPrototypeOf(){Ks(12)}},o0={};Wp(y2,(e,t)=>{o0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});o0.deleteProperty=function(e,t){return o0.set.call(this,e,t,void 0)};o0.set=function(e,t,r){return y2.set.call(this,e[0],t,r,e[0])};function py(e,t){const r=e[Ka];return(r?Ro(r):e)[t]}function pG(e,t,r){var a;const n=p6(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function p6(e,t){if(!(t in e))return;let r=Qu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Qu(r)}}function Db(e){e.modified_||(e.modified_=!0,e.parent_&&Db(e.parent_))}function xy(e){e.copy_||(e.copy_=Ab(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...u){return l.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Ks(6),n!==void 0&&typeof n!="function"&&Ks(7);let a;if(ml(t)){const i=T4(this),l=Fb(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?Pb(i):Ob(i)}return C4(i,n),A4(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===d6&&(a=void 0),this.autoFreeze_&&v2(a,!0),n){const i=[],l=[];kc("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else Ks(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ml(e)||Ks(8),_c(e)&&(e=nl(e));const t=T4(this),r=Fb(e,void 0);return r[Ka].isManual_=!0,Ob(t),r}finishDraft(e,t){const r=e&&e[Ka];(!r||!r.isManual_)&&Ks(9);const{scope_:n}=r;return C4(n,t),A4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=kc("Patches").applyPatches_;return _c(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Fb(e,t){const r=q0(e)?kc("MapSet").proxyMap_(e,t):Rg(e)?kc("MapSet").proxySet_(e,t):mG(e,t);return(t?t.scope_:m6()).drafts_.push(r),r}function nl(e){return _c(e)||Ks(10,e),x6(e)}function x6(e){if(!ml(e)||Mg(e))return e;const t=e[Ka];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ab(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ab(e,!0);return Wp(r,(n,a)=>{h6(r,n,x6(a))}),t&&(t.finalized_=!1),r}var gG=new xG,g6=gG.produce;function v6(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var vG=v6(),yG=v6,bG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zp:zp.apply(null,arguments)};function _s(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(za(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>u6(n)&&n.type===e,r}var y6=class cf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cf.prototype)}static get[Symbol.species](){return cf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cf(...t[0].concat(this)):new cf(...t.concat(this))}};function O4(e){return ml(e)?g6(e,()=>{}):e}function Gh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function wG(e){return typeof e=="boolean"}var jG=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new y6;return r&&(wG(r)?l.push(vG):l.push(yG(r.extraArgument))),l},NG="RTK_autoBatch",D4=e=>t=>{setTimeout(t,e)},_G=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:D4(10):e.type==="callback"?e.queueNotification:D4(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[NG]),i=!a,i&&(l||(l=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},kG=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new y6(e);return n&&a.push(_G(typeof n=="object"?n:void 0)),a};function SG(e){const t=jG(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(g2(r))o=c6(r);else throw new Error(za(1));let c;typeof n=="function"?c=n(t):c=t();let u=zp;a&&(u=bG({trace:!1,...typeof a=="object"&&a}));const d=oG(...c),f=kG(d);let h=typeof l=="function"?l(f):f();const m=u(...h);return o6(o,i,m)}function b6(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(za(28));if(o in t)throw new Error(za(29));return t[o]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function EG(e){return typeof e=="function"}function CG(e,t){let[r,n,a]=b6(t),i;if(EG(e))i=()=>O4(e());else{const o=O4(e);i=()=>o}function l(o=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(_c(d)){const m=f(d,c);return m===void 0?d:m}else{if(ml(d))return g6(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return l.getInitialState=i,l}var TG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AG=(e=21)=>{let t="",r=e;for(;r--;)t+=TG[Math.random()*64|0];return t},PG=Symbol.for("rtk-slice-createasyncthunk");function OG(e,t){return`${e}/${t}`}function DG({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[PG];return function(a){const{name:i,reducerPath:l=i}=a;if(!i)throw new Error(za(11));const o=(typeof a.reducers=="function"?a.reducers(IG()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,_){const j=typeof N=="string"?N:N.type;if(!j)throw new Error(za(12));if(j in u.sliceCaseReducersByType)throw new Error(za(13));return u.sliceCaseReducersByType[j]=_,d},addMatcher(N,_){return u.sliceMatchers.push({matcher:N,reducer:_}),d},exposeAction(N,_){return u.actionCreators[N]=_,d},exposeCaseReducer(N,_){return u.sliceCaseReducersByName[N]=_,d}};c.forEach(N=>{const _=o[N],j={reducerName:N,type:OG(i,N),createNotation:typeof a.reducers=="function"};MG(_)?$G(j,_,d,t):RG(j,_,d)});function f(){const[N={},_=[],j=void 0]=typeof a.extraReducers=="function"?b6(a.extraReducers):[a.extraReducers],k={...N,...u.sliceCaseReducersByType};return CG(a.initialState,E=>{for(let T in k)E.addCase(T,k[T]);for(let T of u.sliceMatchers)E.addMatcher(T.matcher,T.reducer);for(let T of _)E.addMatcher(T.matcher,T.reducer);j&&E.addDefaultCase(j)})}const h=N=>N,m=new Map,p=new WeakMap;let x;function g(N,_){return x||(x=f()),x(N,_)}function y(){return x||(x=f()),x.getInitialState()}function b(N,_=!1){function j(E){let T=E[N];return typeof T>"u"&&_&&(T=Gh(p,j,y)),T}function k(E=h){const T=Gh(m,_,()=>new WeakMap);return Gh(T,E,()=>{const C={};for(const[A,S]of Object.entries(a.selectors??{}))C[A]=FG(S,E,()=>Gh(p,E,y),_);return C})}return{reducerPath:N,getSelectors:k,get selectors(){return k(j)},selectSlice:j}}const v={name:i,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...b(l),injectInto(N,{reducerPath:_,...j}={}){const k=_??l;return N.inject({reducerPath:k,reducer:g},j),{...v,...b(k,!0)}}};return v}}function FG(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var Za=DG();function IG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function RG({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!LG(n))throw new Error(za(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?_s(e,l):_s(e))}function MG(e){return e._reducerDefinitionType==="asyncThunk"}function LG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $G({type:e,reducerName:t},r,n,a){if(!a)throw new Error(za(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),l&&n.addCase(f.fulfilled,l),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:l||Xh,pending:o||Xh,rejected:c||Xh,settled:u||Xh})}function Xh(){}var BG="task",w6="listener",j6="completed",b2="cancelled",UG=`task-${b2}`,zG=`task-${j6}`,Ib=`${w6}-${b2}`,WG=`${w6}-${j6}`,Lg=class{constructor(e){Nv(this,"name","TaskAbortError");Nv(this,"message");this.code=e,this.message=`${BG} ${b2} (reason: ${e})`}},w2=(e,t)=>{if(typeof e!="function")throw new TypeError(za(32))},Kp=()=>{},N6=(e,t=Kp)=>(e.catch(t),e),_6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ic=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},lc=e=>{if(e.aborted){const{reason:t}=e;throw new Lg(t)}};function k6(e,t){let r=Kp;return new Promise((n,a)=>{const i=()=>a(new Lg(e.reason));if(e.aborted){i();return}r=_6(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Kp})}var VG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Lg?"cancelled":"rejected",error:r}}finally{t==null||t()}},qp=e=>t=>N6(k6(e,t).then(r=>(lc(e),r))),S6=e=>{const t=qp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Su}=Object,F4={},$g="listenerMiddleware",HG=(e,t)=>{const r=n=>_6(e,()=>ic(n,e.reason));return(n,a)=>{w2(n);const i=new AbortController;r(i);const l=VG(async()=>{lc(e),lc(i.signal);const o=await n({pause:qp(i.signal),delay:S6(i.signal),signal:i.signal});return lc(i.signal),o},()=>ic(i,zG));return a!=null&&a.autoJoin&&t.push(l.catch(Kp)),{result:qp(e)(l),cancel(){ic(i,UG)}}}},KG=(e,t)=>{const r=async(n,a)=>{lc(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await k6(t,Promise.race(o));return lc(t),c}finally{i()}};return(n,a)=>N6(r(n,a))},E6=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=_s(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(za(21));return w2(i),{predicate:a,type:t,effect:i}},C6=Su(e=>{const{type:t,predicate:r,effect:n}=E6(e);return{id:AG(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(za(22))}}},{withTypes:()=>C6}),I4=(e,t)=>{const{type:r,effect:n,predicate:a}=E6(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Rb=e=>{e.pending.forEach(t=>{ic(t,Ib)})},qG=e=>()=>{e.forEach(Rb),e.clear()},R4=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},T6=Su(_s(`${$g}/add`),{withTypes:()=>T6}),GG=_s(`${$g}/removeAll`),A6=Su(_s(`${$g}/remove`),{withTypes:()=>A6}),XG=(...e)=>{console.error(`${$g}/error`,...e)},G0=(e={})=>{const t=new Map,{extra:r,onError:n=XG}=e;w2(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&Rb(d)}),i=d=>{const f=I4(t,d)??C6(d);return a(f)};Su(i,{withTypes:()=>i});const l=d=>{const f=I4(t,d);return f&&(f.unsubscribe(),d.cancelActive&&Rb(f)),!!f};Su(l,{withTypes:()=>l});const o=async(d,f,h,m)=>{const p=new AbortController,x=KG(i,p.signal),g=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Su({},h,{getOriginalState:m,condition:(y,b)=>x(y,b).then(Boolean),take:x,delay:S6(p.signal),pause:qp(p.signal),extra:r,signal:p.signal,fork:HG(p.signal,g),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,b,v)=>{y!==p&&(ic(y,Ib),v.delete(y))})},cancel:()=>{ic(p,Ib),d.pending.delete(p)},throwIfCancelled:()=>{lc(p.signal)}})))}catch(y){y instanceof Lg||R4(n,y,{raisedBy:"effect"})}finally{await Promise.all(g),ic(p,WG),d.pending.delete(p)}},c=qG(t);return{middleware:d=>f=>h=>{if(!u6(h))return f(h);if(T6.match(h))return i(h.payload);if(GG.match(h)){c();return}if(A6.match(h))return l(h.payload);let m=d.getState();const p=()=>{if(m===F4)throw new Error(za(23));return m};let x;try{if(x=f(h),t.size>0){const g=d.getState(),y=Array.from(t.values());for(const b of y){let v=!1;try{v=b.predicate(h,g,m)}catch(N){v=!1,R4(n,N,{raisedBy:"predicate"})}v&&o(b,h,d,p)}}}finally{m=F4}return x},startListening:i,stopListening:l,clearListeners:c}};function za(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},P6=Za({name:"chartLayout",initialState:QG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:YG,setLayout:JG,setChartSize:ZG,setScale:eX}=P6.actions,tX=P6.reducer;function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){rX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t,r){return(t=nX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gp=Math.PI/180,sX=e=>e*180/Math.PI,Vr=(e,t,r,n)=>({x:e+Math.cos(-Gp*n)*r,y:t+Math.sin(-Gp*n)*r}),O6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},iX=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},lX=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=iX({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:l,angle:sX(c),angleInRadian:c}},oX=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},cX=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},uX=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=lX({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:c,endAngle:u}=oX(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?L4(L4({},t),{},{radius:a,angle:cX(d,t)}):null};function D6(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,r){return Jt(e)||Jt(t)?r:Ti(t)?Nc(e,t,r):typeof t=="function"?t(e):r}var mX=(e,t,r,n,a)=>{var i,l=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(un(d-u)!==un(f-d)){var m=[];if(un(f-d)===un(a[1]-a[0])){h=f;var p=d+a[1]-a[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var x=f+a[1]-a[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){({index:l}=r[c]);break}}else{var y=Math.min(u,f),b=Math.max(u,f);if(e>(y+d)/2&&e<=(b+d)/2){({index:l}=r[c]);break}}}else if(t){for(var v=0;v<o;v++)if(v===0&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:l}=t[v]);break}}return l},pX=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Qe(e[i]))return ms(ms({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Qe(e[l]))return ms(ms({},e),{},{[l]:e[l]+(a||0)})}return e},Ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",F6=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},I6=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!l)return null;var p=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,x=a==="category"&&l.bandwidth?l.bandwidth()/p:0;if(x=m==="angleAxis"&&i&&i.length>=2?un(i[0]-i[1])*2*x:x,f||h){var g=(f||h||[]).map((y,b)=>{var v=n?n.indexOf(y):y;return{coordinate:l(v)+x,value:y,offset:x,index:b}});return g.filter(y=>!_a(y.coordinate))}return c&&u?u.map((y,b)=>({coordinate:l(y)+x,value:y,index:b,offset:x})):l.ticks&&d!=null?l.ticks(d).map((y,b)=>({coordinate:l(y)+x,value:y,offset:x,index:b})):l.domain().map((y,b)=>({coordinate:l(y)+x,value:n?n[y]:y,index:b,offset:x}))},B4=1e-4,xX=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-B4,i=Math.max(n[0],n[1])+B4,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},gX=(e,t)=>{if(!t||t.length!==2||!Qe(t[0])||!Qe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Qe(e[0])||e[0]<r)&&(a[0]=r),(!Qe(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},vX=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=_a(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},yX=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=_a(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},bX={sign:vX,expand:aq,none:Gu,silhouette:sq,wiggle:iq,positive:yX},wX=(e,t,r)=>{var n=bX[r],a=nq().keys(t).value((i,l)=>+$t(i,l,0)).order(Sb).offset(n);return a(e)};function R6(e){return e==null?void 0:String(e)}function Xp(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Jt(a[t.dataKey])){var o=f5(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=$t(a,Jt(l)?t.dataKey:l);return Jt(c)?null:t.scale(c)}var U4=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=$t(i,t.dataKey,t.scale.domain()[l]);return Jt(o)?null:t.scale(o)-a/2+n},jX=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},NX=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},_X=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],kX=(e,t,r)=>{if(e!=null)return _X(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((c,u)=>{var d=D6(u,t,r),f=NX(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},z4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Fg(t,d=>d.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var c=a[l],u=a[l-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function V4(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return ms(ms({},t),{},{dataKey:r,payload:n,value:a,name:i})}function wo(e,t){if(e)return String(e);if(typeof t=="string")return t}function SX(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?uX({x:e,y:t},n):null}var EX=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return ms(ms(ms({},n),Vr(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:c}=n;return ms(ms(ms({},n),Vr(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},CX=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,wl=e=>e.layout.width,jl=e=>e.layout.height,TX=e=>e.layout.scale,M6=e=>e.layout.margin,Bg=fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ug=fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),L6="data-recharts-item-index",$6="data-recharts-item-data-key",X0=60;function H4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(r),!0).forEach(function(n){AX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AX(e,t,r){return(t=PX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DX=e=>e.brush.height;function FX(e){var t=Ug(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:X0;return r+a}return r},0)}function IX(e){var t=Ug(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:X0;return r+a}return r},0)}function RX(e){var t=Bg(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function MX(e){var t=Bg(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Jr=fe([wl,jl,M6,DX,FX,IX,RX,MX,i6,tG],(e,t,r,n,a,i,l,o,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+l,bottom:(r.bottom||0)+o},h=Qh(Qh({},f),d),m=h.bottom;h.bottom+=n,h=pX(h,c,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return Qh(Qh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),LX=fe(Jr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),j2=fe(wl,jl,(e,t)=>({x:0,y:0,width:e,height:t})),$X=w.createContext(null),Xn=()=>w.useContext($X)!=null,zg=e=>e.brush,Wg=fe([zg,Jr,M6],(e,t,r)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Qe(e.width)?e.width:t.width})),N2=()=>{var e,t=Xn(),r=qe(LX),n=qe(Wg),a=(e=qe(zg))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},BX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},B6=()=>{var e;return(e=qe(Jr))!==null&&e!==void 0?e:BX},_2=()=>qe(wl),k2=()=>qe(jl),UX=()=>qe(e=>e.layout.margin),vt=e=>e.layout.layoutType,Q0=()=>qe(vt),zX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},U6=Za({name:"legend",initialState:zX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=nl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:K4,setLegendSettings:WX,addLegendPayload:z6,removeLegendPayload:W6}=U6.actions,VX=U6.reducer,HX=["contextPayload"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(null,arguments)}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){S2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S2(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GX(e,t){if(e==null)return{};var r,n,a=XX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QX(e){return e.value}function YX(e){var{contextPayload:t}=e,r=GX(e,HX),n=X5(t,e.payloadUniqBy,QX),a=Yu(Yu({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement(a2,a)}function JX(e,t,r,n,a,i){var{layout:l,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?u={left:((n||0)-i.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Yu(Yu({},u),d)}function ZX(e){var t=yr();return w.useEffect(()=>{t(WX(e))},[t,e]),null}function eQ(e){var t=yr();return w.useEffect(()=>(t(K4(e)),()=>{t(K4({width:0,height:0}))}),[t,e]),null}function tQ(e){var t=aG(),r=EK(),n=UX(),{width:a,height:i,wrapperStyle:l,portal:o}=e,[c,u]=l6([t]),d=_2(),f=k2();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),m=Ju.getWidthOrHeight(e.layout,i,a,h),p=o?l:Yu(Yu({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||i||"auto"},JX(l,e,n,d,f,c)),l),x=o??r;if(x==null)return null;var g=w.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},w.createElement(ZX,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(eQ,{width:c.width,height:c.height}),w.createElement(YX,Mb({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return Jx.createPortal(g,x)}class Ju extends w.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Qe(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return w.createElement(tQ,this.props)}}S2(Ju,"displayName","Legend");S2(Ju,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(null,arguments)}function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sQ(e){return Array.isArray(e)&&Ti(e[0])&&Ti(e[1])?e.join(" ~ "):e}var iQ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var _={padding:0,margin:0},j=(o?Fg(i,o):i).map((k,E)=>{if(k.type==="none")return null;var T=k.formatter||l||sQ,{value:C,name:A}=k,S=C,B=A;if(T){var M=T(C,A,k,E,i);if(Array.isArray(M))[S,B]=M;else if(M!=null)S=M;else return null}var Y=gy({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:Y},Ti(B)?w.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Ti(B)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},S),w.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:_},j)}return null},p=gy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=gy({margin:0},a),g=!Jt(d),y=g?d:"",b=jt("recharts-default-tooltip",c),v=jt("recharts-tooltip-label",u);g&&f&&i!==void 0&&i!==null&&(y=f(d,i));var N=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Lb({className:b,style:p},N),w.createElement("p",{className:v,style:x},w.isValidElement(y)?y:"".concat(y)),m())},Gd="recharts-tooltip-wrapper",lQ={visibility:"hidden"};function oQ(e){var{coordinate:t,translateX:r,translateY:n}=e;return jt(Gd,{["".concat(Gd,"-right")]:Qe(r)&&t&&Qe(t.x)&&r>=t.x,["".concat(Gd,"-left")]:Qe(r)&&t&&Qe(t.x)&&r<t.x,["".concat(Gd,"-bottom")]:Qe(n)&&t&&Qe(t.y)&&n>=t.y,["".concat(Gd,"-top")]:Qe(n)&&t&&Qe(t.y)&&n<t.y})}function X4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&Qe(i[n]))return i[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return l[n]?d:f;var h=c[n];if(h==null)return 0;if(l[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+o,g=h+u;return x>g?Math.max(d,h):Math.max(f,h)}function cQ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function uQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,u,d,f;return l.height>0&&l.width>0&&r?(d=X4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=X4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=cQ({translateX:d,translateY:f,useTranslate3d:o})):u=lQ,{cssProperties:u,cssClasses:oQ({translateX:d,translateY:f,coordinate:r})}}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){$b(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $b(e,t,r){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hQ extends w.PureComponent{constructor(){super(...arguments),$b(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$b(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:v}=uQ({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),N=y?{}:Yh(Yh({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),_=Yh(Yh({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:_,ref:g},i)}}var mQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nl={devToolsEnabled:!1,isSsr:mQ()},V6=()=>qe(e=>e.rootProps.accessibilityLayer);function Sn(e){return Number.isFinite(e)}function Zu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function Y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(r),!0).forEach(function(n){pQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z4={curveBasisClosed:KK,curveBasisOpen:qK,curveBasis:HK,curveBumpX:PK,curveBumpY:OK,curveLinearClosed:GK,curveLinear:Ag,curveMonotoneX:XK,curveMonotoneY:QK,curveNatural:YK,curveStep:JK,curveStepAfter:eq,curveStepBefore:ZK},Jh=e=>Sn(e.x)&&Sn(e.y),Xd=e=>e.x,Qd=e=>e.y,vQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(H0(e));return(r==="curveMonotone"||r==="curveBump")&&t?Z4["".concat(r).concat(t==="vertical"?"Y":"X")]:Z4[r]||Ag},yQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=vQ(t,a),o=i?r.filter(Jh):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>Jh(f)):n,d=o.map((f,h)=>J4(J4({},f),{},{base:u[h]}));return a==="vertical"?c=Vh().y(Qd).x1(Xd).x0(f=>f.base.x):c=Vh().x(Xd).y1(Qd).y0(f=>f.base.y),c.defined(Jh).curve(l),c(d)}return a==="vertical"&&Qe(n)?c=Vh().y(Qd).x1(Xd).x0(n):Qe(n)?c=Vh().x(Xd).y1(Qd).y0(n):c=w5().x(Xd).y(Qd),c.defined(Jh).curve(l),c(o)},Eu=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?yQ(e):n;return w.createElement("path",Bb({},Ps(e),Qj(e),{className:jt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},bQ=["x","y","top","left","width","height","className"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(null,arguments)}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){jQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t,r){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kQ(e,t){if(e==null)return{};var r,n,a=SQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EQ=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),CQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,c=kQ(e,bQ),u=wQ({x:t,y:r,top:n,left:a,width:i,height:l},c);return!Qe(t)||!Qe(r)||!Qe(i)||!Qe(l)||!Qe(n)||!Qe(a)?null:w.createElement("path",Ub({},tr(u,!0),{className:jt("recharts-cross",o),d:EQ(t,r,i,l,n,a)}))};function TQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){PQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PQ(e,t,r){return(t=OQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(e,t){var r=AQ({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}function FQ(){}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){IQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IQ(e,t,r){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),H6=(e,t,r)=>e.map(n=>"".concat(LQ(n)," ").concat(t,"ms ").concat(r)).join(","),$Q=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),c0=(e,t)=>Object.keys(t).reduce((r,n)=>nE(nE({},r),{},{[n]:e(n,t[n])}),{});function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){BQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BQ(e,t,r){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qp=(e,t,r)=>e+(t-e)*r,zb=e=>{var{from:t,to:r}=e;return t!==r},K6=(e,t,r)=>{var n=c0((a,i)=>{if(zb(i)){var[l,o]=e(i.from,i.to,i.velocity);return bn(bn({},i),{},{from:l,velocity:o})}return i},t);return r<1?c0((a,i)=>zb(i)?bn(bn({},i),{},{velocity:Qp(i.velocity,n[a].velocity,r),from:Qp(i.from,n[a].from,r)}):i,t):K6(e,n,r-1)};function WQ(e,t,r,n,a,i){var l,o=n.reduce((h,m)=>bn(bn({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>c0((h,m)=>m.from,o),u=()=>!Object.values(o).filter(zb).length,d=null,f=h=>{l||(l=h);var m=h-l,p=m/r.dt;o=K6(r,o,p),a(bn(bn(bn({},e),t),c())),l=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function VQ(e,t,r,n,a,i,l){var o=null,c=a.reduce((f,h)=>bn(bn({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=c0((x,g)=>Qp(...g,r(h)),c);if(i(bn(bn(bn({},e),t),m)),h<1)o=l.setTimeout(d);else{var p=c0((x,g)=>Qp(...g,r(1)),c);i(bn(bn(bn({},e),t),p))}};return()=>(o=l.setTimeout(d),()=>{o()})}const HQ=(e,t,r,n,a,i)=>{var l=$Q(e,t);return r.isStepper===!0?WQ(e,t,r,l,a,i):VQ(e,t,r,n,l,a,i)};var Yp=1e-4,q6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],G6=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),sE=(e,t)=>r=>{var n=q6(e,t);return G6(n,r)},KQ=(e,t)=>r=>{var n=q6(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return G6(a,r)},iE=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else l.length===4&&([t,n,r,a]=l);var u=sE(t,r),d=sE(n,a),f=KQ(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var x=p>1?1:p,g=x,y=0;y<8;++y){var b=u(g)-x,v=f(g);if(Math.abs(b-x)<Yp||v<Yp)return d(g);g=h(g-b/v)}return d(g)};return m.isStepper=!1,m},qQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,c)=>{var u=-(l-o)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+l;return Math.abs(h-o)<Yp&&Math.abs(f)<Yp?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},GQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iE(e);case"spring":return qQ();default:if(e.split("(")[0]==="cubic-bezier")return iE(e)}return typeof e=="function"?e:null};function XQ(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class QQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function YQ(){return XQ(new QQ)}var JQ=w.createContext(YQ);function ZQ(e,t){var r=w.useContext(JQ);return w.useMemo(()=>t??r(e),[e,t,r])}var eY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lE={t:0},vy={t:1};function vd(e){var t=Zr(e,eY),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=ZQ(t.animationId,t.animationManager),[f,h]=w.useState(r?lE:vy),m=w.useRef(null);return w.useEffect(()=>{r||h(vy)},[r]),w.useEffect(()=>{if(!r||!n)return FQ;var p=HQ(lE,vy,GQ(i),a,h,d.getTimeoutController()),x=()=>{m.current=p()};return d.start([c,l,x,a,o]),()=>{d.stop(),m.current&&m.current(),o()}},[r,n,a,i,l,c,o,d]),u(f.t)}function yd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(i0(t)),n=w.useRef(e);return n.current!==e&&(r.current=i0(t),n.current=e),r.current}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){tY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jp.apply(null,arguments)}var uE=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+l*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+l*d[1])),u+="L ".concat(e+r,",").concat(t+n-l*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-l*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*m,`
            L `).concat(e+r,",").concat(t+n-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-l*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},aY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X6=e=>{var t=Zr(e,aY),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&a(M)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,g=w.useRef(o),y=w.useRef(c),b=w.useRef(i),v=w.useRef(l),N=w.useMemo(()=>({x:i,y:l,width:o,height:c,radius:u}),[i,l,o,c,u]),_=yd(N,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var j=jt("recharts-rectangle",d);if(!x)return w.createElement("path",Jp({},tr(t,!0),{className:j,d:uE(i,l,o,c,u)}));var k=g.current,E=y.current,T=b.current,C=v.current,A="0px ".concat(n===-1?1:n,"px"),S="".concat(n,"px 0px"),B=H6(["strokeDasharray"],h,typeof f=="string"?f:void 0);return w.createElement(vd,{animationId:_,key:_,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},M=>{var Y=Lt(k,o,M),z=Lt(E,c,M),R=Lt(T,i,M),H=Lt(C,l,M);r.current&&(g.current=Y,y.current=z,b.current=R,v.current=H);var U;return p?M>0?U={transition:B,strokeDasharray:S}:U={strokeDasharray:A}:U={strokeDasharray:S},w.createElement("path",Jp({},tr(t,!0),{className:j,d:uE(R,H,Y,z,u),ref:r,style:cE(cE({},U),t.style)}))})};function Q6(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=Vr(t,r,n,a),o=Vr(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}var sY=(e,t)=>{var r=un(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Zh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,u=o*(l?1:-1)+n,d=Math.asin(o/u)/Gp,f=c?a:a+i*d,h=Vr(t,r,u,f),m=Vr(t,r,n,f),p=c?a-i*d:a,x=Vr(t,r,u*Math.cos(d*Gp),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},Y6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=sY(i,l),c=i+o,u=Vr(t,r,a,i),d=Vr(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Vr(t,r,n,i),m=Vr(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},iY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=un(u-c),{circleTangency:f,lineTangency:h,theta:m}=Zh({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:x,theta:g}=Zh({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(c-u):Math.abs(c-u)-m-g;if(y<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Y6({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:v,lineTangency:N,theta:_}=Zh({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:j,lineTangency:k,theta:E}=Zh({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),T=o?Math.abs(c-u):Math.abs(c-u)-_-E;if(T<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},lY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J6=e=>{var t=Zr(e,lY),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=jt("recharts-sector",f),m=i-a,p=Wn(l,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=iY({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):x=Y6({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),w.createElement("path",Wb({},tr(t,!0),{className:h,d:x}))};function oY(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Vr(o,c,u,f),m=Vr(o,c,d,f);n=h.x,a=h.y,i=m.x,l=m.y}else return Q6(t);return[{x:n,y:a},{x:i,y:l}]}var Z6={},eD={},tD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(tD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tD;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(eD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x2,r=eD;function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=l;return c}e.range=n})(Z6);var cY=Z6.range;const rD=Es(cY);function ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E2(e){let t,r,n;e.length!==2?(t=ao,r=(o,c)=>ao(e(o),c),n=(o,c)=>e(o)-c):(t=e===ao||e===uY?e:dY,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function l(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:l,right:i}}function dY(){return 0}function nD(e){return e===null?NaN:+e}function*fY(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const hY=E2(ao),Y0=hY.right;E2(nD).center;class dE extends Map{constructor(t,r=xY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(fE(this,t))}has(t){return super.has(fE(this,t))}set(t,r){return super.set(mY(this,t),r)}delete(t){return super.delete(pY(this,t))}}function fE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function mY({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pY({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function xY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gY(e=ao){if(e===ao)return aD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function aD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vY=Math.sqrt(50),yY=Math.sqrt(10),bY=Math.sqrt(2);function Zp(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=vY?10:i>=yY?5:i>=bY?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/l,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*l,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Zp(e,t,r*2):[o,c,u]}function Vb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Zp(t,e,r):Zp(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(l<0)for(let u=0;u<o;++u)c[u]=(i-u)/-l;else for(let u=0;u<o;++u)c[u]=(i-u)*l;else if(l<0)for(let u=0;u<o;++u)c[u]=(a+u)/-l;else for(let u=0;u<o;++u)c[u]=(a+u)*l;return c}function Hb(e,t,r){return t=+t,e=+e,r=+r,Zp(e,t,r)[2]}function Kb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Hb(t,e,r):Hb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function hE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sD(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?aD:gY(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));sD(e,t,m,p,a)}const i=e[t];let l=r,o=n;for(Yd(e,r,t),a(e[n],i)>0&&Yd(e,r,n);l<o;){for(Yd(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Yd(e,r,o):(++o,Yd(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Yd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wY(e,t,r){if(e=Float64Array.from(fY(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return mE(e);if(t>=1)return hE(e);var n,a=(n-1)*t,i=Math.floor(a),l=hE(sD(e,i).subarray(0,i+1)),o=mE(e.subarray(i+1));return l+(o-l)*(a-i)}}function jY(e,t,r=nD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function NY(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Os(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _l(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qb=Symbol("implicit");function C2(){var e=new dE,t=[],r=[],n=qb;function a(i){let l=e.get(i);if(l===void 0){if(n!==qb)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new dE;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return C2(t,r).unknown(n)},Os.apply(a,arguments),a}function T2(){var e=C2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,x=m?n:a;i=(x-p)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),p+=(x-p-i*(h-c))*d,l=i*(1-c),o&&(p=Math.round(p),l=Math.round(l));var g=NY(h).map(function(y){return p+i*y});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return T2(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Os.apply(f(),arguments)}function iD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iD(t())},e}function _Y(){return iD(T2.apply(null,arguments).paddingInner(1))}function A2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function J0(){}var u0=.7,ex=1/u0,Cu="\\s*([+-]?\\d+)\\s*",d0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kY=/^#([0-9a-f]{3,8})$/,SY=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),EY=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),CY=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${d0}\\)$`),TY=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${d0}\\)$`),AY=new RegExp(`^hsl\\(${d0},${Ei},${Ei}\\)$`),PY=new RegExp(`^hsla\\(${d0},${Ei},${Ei},${d0}\\)$`),pE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A2(J0,f0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xE,formatHex:xE,formatHex8:OY,formatHsl:DY,formatRgb:gE,toString:gE});function xE(){return this.rgb().formatHex()}function OY(){return this.rgb().formatHex8()}function DY(){return oD(this).formatHsl()}function gE(){return this.rgb().formatRgb()}function f0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=kY.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vE(t):r===3?new xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?em(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?em(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SY.exec(e))?new xa(t[1],t[2],t[3],1):(t=EY.exec(e))?new xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CY.exec(e))?em(t[1],t[2],t[3],t[4]):(t=TY.exec(e))?em(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AY.exec(e))?wE(t[1],t[2]/100,t[3]/100,1):(t=PY.exec(e))?wE(t[1],t[2]/100,t[3]/100,t[4]):pE.hasOwnProperty(e)?vE(pE[e]):e==="transparent"?new xa(NaN,NaN,NaN,0):null}function vE(e){return new xa(e>>16&255,e>>8&255,e&255,1)}function em(e,t,r,n){return n<=0&&(e=t=r=NaN),new xa(e,t,r,n)}function FY(e){return e instanceof J0||(e=f0(e)),e?(e=e.rgb(),new xa(e.r,e.g,e.b,e.opacity)):new xa}function Gb(e,t,r,n){return arguments.length===1?FY(e):new xa(e,t,r,n??1)}function xa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}A2(xa,Gb,lD(J0,{brighter(e){return e=e==null?ex:Math.pow(ex,e),new xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?u0:Math.pow(u0,e),new xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xa(oc(this.r),oc(this.g),oc(this.b),tx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yE,formatHex:yE,formatHex8:IY,formatRgb:bE,toString:bE}));function yE(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function IY(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function bE(){const e=tx(this.opacity);return`${e===1?"rgb(":"rgba("}${oc(this.r)}, ${oc(this.g)}, ${oc(this.b)}${e===1?")":`, ${e})`}`}function tx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yo(e){return e=oc(e),(e<16?"0":"")+e.toString(16)}function wE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qs(e,t,r,n)}function oD(e){if(e instanceof qs)return new qs(e.h,e.s,e.l,e.opacity);if(e instanceof J0||(e=f0(e)),!e)return new qs;if(e instanceof qs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,c=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+a:2-i-a,l*=60):o=c>0&&c<1?0:l,new qs(l,o,c,e.opacity)}function RY(e,t,r,n){return arguments.length===1?oD(e):new qs(e,t,r,n??1)}function qs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}A2(qs,RY,lD(J0,{brighter(e){return e=e==null?ex:Math.pow(ex,e),new qs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?u0:Math.pow(u0,e),new qs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xa(yy(e>=240?e-240:e+120,a,n),yy(e,a,n),yy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new qs(jE(this.h),tm(this.s),tm(this.l),tx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tx(this.opacity);return`${e===1?"hsl(":"hsla("}${jE(this.h)}, ${tm(this.s)*100}%, ${tm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jE(e){return e=(e||0)%360,e<0?e+360:e}function tm(e){return Math.max(0,Math.min(1,e||0))}function yy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const P2=e=>()=>e;function MY(e,t){return function(r){return e+r*t}}function LY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $Y(e){return(e=+e)==1?cD:function(t,r){return r-t?LY(t,r,e):P2(isNaN(t)?r:t)}}function cD(e,t){var r=t-e;return r?MY(e,r):P2(isNaN(e)?t:e)}const NE=function e(t){var r=$Y(t);function n(a,i){var l=r((a=Gb(a)).r,(i=Gb(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=cD(a.opacity,i.opacity);return function(d){return a.r=l(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function BY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function UY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=bd(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function WY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function rx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function VY(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bd(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Xb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,by=new RegExp(Xb.source,"g");function HY(e){return function(){return e}}function KY(e){return function(t){return e(t)+""}}function qY(e,t){var r=Xb.lastIndex=by.lastIndex=0,n,a,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Xb.exec(e))&&(a=by.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,c.push({i:l,x:rx(n,a)})),r=by.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?KY(c[0].x):HY(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function bd(e,t){var r=typeof t,n;return t==null||r==="boolean"?P2(t):(r==="number"?rx:r==="string"?(n=f0(t))?(t=n,NE):qY:t instanceof f0?NE:t instanceof Date?WY:UY(t)?BY:Array.isArray(t)?zY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VY:rx)(e,t)}function O2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function GY(e,t){t===void 0&&(t=e,e=bd);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function XY(e){return function(){return e}}function nx(e){return+e}var _E=[0,1];function na(e){return e}function Qb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:XY(isNaN(t)?NaN:.5)}function QY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function YY(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Qb(a,n),i=r(l,i)):(n=Qb(n,a),i=r(i,l)),function(o){return i(n(o))}}function JY(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Qb(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=Y0(e,o,1,n)-1;return i[c](a[c](o))}}function Z0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vg(){var e=_E,t=_E,r=bd,n,a,i,l=na,o,c,u;function d(){var h=Math.min(e.length,t.length);return l!==na&&(l=QY(e[0],e[h-1])),o=h>2?JY:YY,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(l(h)))}return f.invert=function(h){return l(a((u||(u=o(t,e.map(n),rx)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,nx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=O2,d()},f.clamp=function(h){return arguments.length?(l=h?!0:na,d()):l!==na},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function D2(){return Vg()(na,na)}function ZY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ax(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ed(e){return e=ax(Math.abs(e)),e?e[1]:NaN}function eJ(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function tJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function h0(e){if(!(t=rJ.exec(e)))throw new Error("invalid format: "+e);var t;return new F2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}h0.prototype=F2.prototype;function F2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}F2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nJ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var uD;function aJ(e,t){var r=ax(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(uD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ax(e,Math.max(0,t+i-1))[0]}function kE(e,t){var r=ax(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const SE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kE(e*100,t),r:kE,s:aJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EE(e){return e}var CE=Array.prototype.map,TE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sJ(e){var t=e.grouping===void 0||e.thousands===void 0?EE:eJ(CE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?EE:tJ(CE.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=h0(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,g=f.zero,y=f.width,b=f.comma,v=f.precision,N=f.trim,_=f.type;_==="n"?(b=!0,_="g"):SE[_]||(v===void 0&&(v=12),N=!0,_="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var j=x==="$"?r:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=x==="$"?n:/[%p]/.test(_)?l:"",E=SE[_],T=/[defgprs%]/.test(_);v=v===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function C(A){var S=j,B=k,M,Y,z;if(_==="c")B=E(A)+B,A="";else{A=+A;var R=A<0||1/A<0;if(A=isNaN(A)?c:E(Math.abs(A),v),N&&(A=nJ(A)),R&&+A==0&&p!=="+"&&(R=!1),S=(R?p==="("?p:o:p==="-"||p==="("?"":p)+S,B=(_==="s"?TE[8+uD/3]:"")+B+(R&&p==="("?")":""),T){for(M=-1,Y=A.length;++M<Y;)if(z=A.charCodeAt(M),48>z||z>57){B=(z===46?a+A.slice(M+1):A.slice(M))+B,A=A.slice(0,M);break}}}b&&!g&&(A=t(A,1/0));var H=S.length+A.length+B.length,U=H<y?new Array(y-H+1).join(h):"";switch(b&&g&&(A=t(U+A,U.length?y-B.length:1/0),U=""),m){case"<":A=S+A+B+U;break;case"=":A=S+U+A+B;break;case"^":A=U.slice(0,H=U.length>>1)+S+A+B+U.slice(H);break;default:A=U+S+A+B;break}return i(A)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=h0(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(ed(h)/3)))*3,x=Math.pow(10,-p),g=TE[8+p/3];return function(y){return m(x*y)+g}}return{format:u,formatPrefix:d}}var rm,I2,dD;iJ({thousands:",",grouping:[3],currency:["$",""]});function iJ(e){return rm=sJ(e),I2=rm.format,dD=rm.formatPrefix,rm}function lJ(e){return Math.max(0,-ed(Math.abs(e)))}function oJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ed(t)/3)))*3-ed(Math.abs(e)))}function cJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ed(t)-ed(e))+1}function fD(e,t,r,n){var a=Kb(e,t,r),i;switch(n=h0(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=oJ(a,l))&&(n.precision=i),dD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=cJ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=lJ(a))&&(n.precision=i-(n.type==="%")*2);break}}return I2(n)}function jo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return fD(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],c,u,d=10;for(o<l&&(u=l,l=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=Hb(l,o,r),u===c)return n[a]=l,n[i]=o,t(n);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function hD(){var e=D2();return e.copy=function(){return Z0(e,hD())},Os.apply(e,arguments),jo(e)}function mD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,nx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mD(e).unknown(t)},e=arguments.length?Array.from(e,nx):[0,1],jo(r)}function pD(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function AE(e){return Math.log(e)}function PE(e){return Math.exp(e)}function uJ(e){return-Math.log(-e)}function dJ(e){return-Math.exp(-e)}function fJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hJ(e){return e===10?fJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function OE(e){return(t,r)=>-e(-t,r)}function R2(e){const t=e(AE,PE),r=t.domain;let n=10,a,i;function l(){return a=mJ(n),i=hJ(n),r()[0]<0?(a=OE(a),i=OE(i),e(uJ,dJ)):e(AE,PE),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,x;const g=o==null?10:+o;let y=[];if(!(n%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(x=h<0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;y.push(x)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(x=h>0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;y.push(x)}y.length*2<g&&(y=Vb(u,d,g))}else y=Vb(h,m,Math.min(m-h,g)).map(i);return f?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=h0(c)).precision==null&&(c.trim=!0),c=I2(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pD(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function xD(){const e=R2(Vg()).domain([1,10]);return e.copy=()=>Z0(e,xD()).base(e.base()),Os.apply(e,arguments),e}function DE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function M2(e){var t=1,r=e(DE(t),FE(t));return r.constant=function(n){return arguments.length?e(DE(t=+n),FE(t)):t},jo(r)}function gD(){var e=M2(Vg());return e.copy=function(){return Z0(e,gD()).constant(e.constant())},Os.apply(e,arguments)}function IE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xJ(e){return e<0?-e*e:e*e}function L2(e){var t=e(na,na),r=1;function n(){return r===1?e(na,na):r===.5?e(pJ,xJ):e(IE(r),IE(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},jo(t)}function $2(){var e=L2(Vg());return e.copy=function(){return Z0(e,$2()).exponent(e.exponent())},Os.apply(e,arguments),e}function gJ(){return $2.apply(null,arguments).exponent(.5)}function RE(e){return Math.sign(e)*e*e}function vJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vD(){var e=D2(),t=[0,1],r=!1,n;function a(i){var l=vJ(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(RE(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,nx)).map(RE)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return vD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Os.apply(a,arguments),jo(a)}function yD(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=jY(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[Y0(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ao),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return yD().domain(e).range(t).unknown(n)},Os.apply(i,arguments)}function bD(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(c){return c!=null&&c<=c?a[Y0(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},l.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return bD().domain([e,t]).range(a).unknown(i)},Os.apply(jo(l),arguments)}function wD(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Y0(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return wD().domain(e).range(t).unknown(r)},Os.apply(a,arguments)}const wy=new Date,jy=new Date;function en(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<l);return c},a.filter=i=>en(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(wy.setTime(+i),jy.setTime(+l),e(wy),e(jy),Math.floor(r(wy,jy))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const sx=en(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?en(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):sx);sx.range;const Qi=1e3,vs=Qi*60,Yi=vs*60,pl=Yi*24,B2=pl*7,ME=pl*30,Ny=pl*365,Jo=en(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCSeconds());Jo.range;const U2=en(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qi)},(e,t)=>{e.setTime(+e+t*vs)},(e,t)=>(t-e)/vs,e=>e.getMinutes());U2.range;const z2=en(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vs)},(e,t)=>(t-e)/vs,e=>e.getUTCMinutes());z2.range;const W2=en(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qi-e.getMinutes()*vs)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getHours());W2.range;const V2=en(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCHours());V2.range;const eh=en(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vs)/pl,e=>e.getDate()-1);eh.range;const Hg=en(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pl,e=>e.getUTCDate()-1);Hg.range;const jD=en(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pl,e=>Math.floor(e/pl));jD.range;function $c(e){return en(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*vs)/B2)}const Kg=$c(0),ix=$c(1),yJ=$c(2),bJ=$c(3),td=$c(4),wJ=$c(5),jJ=$c(6);Kg.range;ix.range;yJ.range;bJ.range;td.range;wJ.range;jJ.range;function Bc(e){return en(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/B2)}const qg=Bc(0),lx=Bc(1),NJ=Bc(2),_J=Bc(3),rd=Bc(4),kJ=Bc(5),SJ=Bc(6);qg.range;lx.range;NJ.range;_J.range;rd.range;kJ.range;SJ.range;const H2=en(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());H2.range;const K2=en(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());K2.range;const xl=en(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:en(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xl.range;const gl=en(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:en(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gl.range;function ND(e,t,r,n,a,i){const l=[[Jo,1,Qi],[Jo,5,5*Qi],[Jo,15,15*Qi],[Jo,30,30*Qi],[i,1,vs],[i,5,5*vs],[i,15,15*vs],[i,30,30*vs],[a,1,Yi],[a,3,3*Yi],[a,6,6*Yi],[a,12,12*Yi],[n,1,pl],[n,2,2*pl],[r,1,B2],[t,1,ME],[t,3,3*ME],[e,1,Ny]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=E2(([,,g])=>g).right(l,h);if(m===l.length)return e.every(Kb(u/Ny,d/Ny,f));if(m===0)return sx.every(Math.max(Kb(u,d,f),1));const[p,x]=l[h/l[m-1][2]<l[m][2]/h?m-1:m];return p.every(x)}return[o,c]}const[EJ,CJ]=ND(gl,K2,qg,jD,V2,z2),[TJ,AJ]=ND(xl,H2,Kg,eh,W2,U2);function _y(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ky(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function PJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,u=Zd(a),d=ef(a),f=Zd(i),h=ef(i),m=Zd(l),p=ef(l),x=Zd(o),g=ef(o),y=Zd(c),b=ef(c),v={a:R,A:H,b:U,B:te,c:null,d:WE,e:WE,f:eZ,g:uZ,G:fZ,H:YJ,I:JJ,j:ZJ,L:_D,m:tZ,M:rZ,p:K,q:D,Q:KE,s:qE,S:nZ,u:aZ,U:sZ,V:iZ,w:lZ,W:oZ,x:null,X:null,y:cZ,Y:dZ,Z:hZ,"%":HE},N={a:L,A:F,b:O,B:re,c:null,d:VE,e:VE,f:gZ,g:EZ,G:TZ,H:mZ,I:pZ,j:xZ,L:SD,m:vZ,M:yZ,p:oe,q:J,Q:KE,s:qE,S:bZ,u:wZ,U:jZ,V:NZ,w:_Z,W:kZ,x:null,X:null,y:SZ,Y:CZ,Z:AZ,"%":HE},_={a:C,A,b:S,B,c:M,d:UE,e:UE,f:qJ,g:BE,G:$E,H:zE,I:zE,j:WJ,L:KJ,m:zJ,M:VJ,p:T,q:UJ,Q:XJ,s:QJ,S:HJ,u:RJ,U:MJ,V:LJ,w:IJ,W:$J,x:Y,X:z,y:BE,Y:$E,Z:BJ,"%":GJ};v.x=j(r,v),v.X=j(n,v),v.c=j(t,v),N.x=j(r,N),N.X=j(n,N),N.c=j(t,N);function j(Z,se){return function(G){var P=[],ie=-1,je=0,Te=Z.length,Le,Se,rt;for(G instanceof Date||(G=new Date(+G));++ie<Te;)Z.charCodeAt(ie)===37&&(P.push(Z.slice(je,ie)),(Se=LE[Le=Z.charAt(++ie)])!=null?Le=Z.charAt(++ie):Se=Le==="e"?" ":"0",(rt=se[Le])&&(Le=rt(G,Se)),P.push(Le),je=ie+1);return P.push(Z.slice(je,ie)),P.join("")}}function k(Z,se){return function(G){var P=Jd(1900,void 0,1),ie=E(P,Z,G+="",0),je,Te;if(ie!=G.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(se&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(je=ky(Jd(P.y,0,1)),Te=je.getUTCDay(),je=Te>4||Te===0?lx.ceil(je):lx(je),je=Hg.offset(je,(P.V-1)*7),P.y=je.getUTCFullYear(),P.m=je.getUTCMonth(),P.d=je.getUTCDate()+(P.w+6)%7):(je=_y(Jd(P.y,0,1)),Te=je.getDay(),je=Te>4||Te===0?ix.ceil(je):ix(je),je=eh.offset(je,(P.V-1)*7),P.y=je.getFullYear(),P.m=je.getMonth(),P.d=je.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),Te="Z"in P?ky(Jd(P.y,0,1)).getUTCDay():_y(Jd(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(Te+5)%7:P.w+P.U*7-(Te+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,ky(P)):_y(P)}}function E(Z,se,G,P){for(var ie=0,je=se.length,Te=G.length,Le,Se;ie<je;){if(P>=Te)return-1;if(Le=se.charCodeAt(ie++),Le===37){if(Le=se.charAt(ie++),Se=_[Le in LE?se.charAt(ie++):Le],!Se||(P=Se(Z,G,P))<0)return-1}else if(Le!=G.charCodeAt(P++))return-1}return P}function T(Z,se,G){var P=u.exec(se.slice(G));return P?(Z.p=d.get(P[0].toLowerCase()),G+P[0].length):-1}function C(Z,se,G){var P=m.exec(se.slice(G));return P?(Z.w=p.get(P[0].toLowerCase()),G+P[0].length):-1}function A(Z,se,G){var P=f.exec(se.slice(G));return P?(Z.w=h.get(P[0].toLowerCase()),G+P[0].length):-1}function S(Z,se,G){var P=y.exec(se.slice(G));return P?(Z.m=b.get(P[0].toLowerCase()),G+P[0].length):-1}function B(Z,se,G){var P=x.exec(se.slice(G));return P?(Z.m=g.get(P[0].toLowerCase()),G+P[0].length):-1}function M(Z,se,G){return E(Z,t,se,G)}function Y(Z,se,G){return E(Z,r,se,G)}function z(Z,se,G){return E(Z,n,se,G)}function R(Z){return l[Z.getDay()]}function H(Z){return i[Z.getDay()]}function U(Z){return c[Z.getMonth()]}function te(Z){return o[Z.getMonth()]}function K(Z){return a[+(Z.getHours()>=12)]}function D(Z){return 1+~~(Z.getMonth()/3)}function L(Z){return l[Z.getUTCDay()]}function F(Z){return i[Z.getUTCDay()]}function O(Z){return c[Z.getUTCMonth()]}function re(Z){return o[Z.getUTCMonth()]}function oe(Z){return a[+(Z.getUTCHours()>=12)]}function J(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var se=j(Z+="",v);return se.toString=function(){return Z},se},parse:function(Z){var se=k(Z+="",!1);return se.toString=function(){return Z},se},utcFormat:function(Z){var se=j(Z+="",N);return se.toString=function(){return Z},se},utcParse:function(Z){var se=k(Z+="",!0);return se.toString=function(){return Z},se}}}var LE={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,OJ=/^%/,DJ=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function FJ(e){return e.replace(DJ,"\\$&")}function Zd(e){return new RegExp("^(?:"+e.map(FJ).join("|")+")","i")}function ef(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function IJ(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function RJ(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function MJ(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LJ(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $J(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function $E(e,t,r){var n=mn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function BE(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function BJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UJ(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zJ(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function UE(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function WJ(e,t,r){var n=mn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zE(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function VJ(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function HJ(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function KJ(e,t,r){var n=mn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qJ(e,t,r){var n=mn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GJ(e,t,r){var n=OJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function XJ(e,t,r){var n=mn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function QJ(e,t,r){var n=mn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function WE(e,t){return Tt(e.getDate(),t,2)}function YJ(e,t){return Tt(e.getHours(),t,2)}function JJ(e,t){return Tt(e.getHours()%12||12,t,2)}function ZJ(e,t){return Tt(1+eh.count(xl(e),e),t,3)}function _D(e,t){return Tt(e.getMilliseconds(),t,3)}function eZ(e,t){return _D(e,t)+"000"}function tZ(e,t){return Tt(e.getMonth()+1,t,2)}function rZ(e,t){return Tt(e.getMinutes(),t,2)}function nZ(e,t){return Tt(e.getSeconds(),t,2)}function aZ(e){var t=e.getDay();return t===0?7:t}function sZ(e,t){return Tt(Kg.count(xl(e)-1,e),t,2)}function kD(e){var t=e.getDay();return t>=4||t===0?td(e):td.ceil(e)}function iZ(e,t){return e=kD(e),Tt(td.count(xl(e),e)+(xl(e).getDay()===4),t,2)}function lZ(e){return e.getDay()}function oZ(e,t){return Tt(ix.count(xl(e)-1,e),t,2)}function cZ(e,t){return Tt(e.getFullYear()%100,t,2)}function uZ(e,t){return e=kD(e),Tt(e.getFullYear()%100,t,2)}function dZ(e,t){return Tt(e.getFullYear()%1e4,t,4)}function fZ(e,t){var r=e.getDay();return e=r>=4||r===0?td(e):td.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function hZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function VE(e,t){return Tt(e.getUTCDate(),t,2)}function mZ(e,t){return Tt(e.getUTCHours(),t,2)}function pZ(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function xZ(e,t){return Tt(1+Hg.count(gl(e),e),t,3)}function SD(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function gZ(e,t){return SD(e,t)+"000"}function vZ(e,t){return Tt(e.getUTCMonth()+1,t,2)}function yZ(e,t){return Tt(e.getUTCMinutes(),t,2)}function bZ(e,t){return Tt(e.getUTCSeconds(),t,2)}function wZ(e){var t=e.getUTCDay();return t===0?7:t}function jZ(e,t){return Tt(qg.count(gl(e)-1,e),t,2)}function ED(e){var t=e.getUTCDay();return t>=4||t===0?rd(e):rd.ceil(e)}function NZ(e,t){return e=ED(e),Tt(rd.count(gl(e),e)+(gl(e).getUTCDay()===4),t,2)}function _Z(e){return e.getUTCDay()}function kZ(e,t){return Tt(lx.count(gl(e)-1,e),t,2)}function SZ(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function EZ(e,t){return e=ED(e),Tt(e.getUTCFullYear()%100,t,2)}function CZ(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function TZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?rd(e):rd.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function AZ(){return"+0000"}function HE(){return"%"}function KE(e){return+e}function qE(e){return Math.floor(+e/1e3)}var Jc,CD,TD;PZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PZ(e){return Jc=PJ(e),CD=Jc.format,Jc.parse,TD=Jc.utcFormat,Jc.utcParse,Jc}function OZ(e){return new Date(e)}function DZ(e){return e instanceof Date?+e:+new Date(+e)}function q2(e,t,r,n,a,i,l,o,c,u){var d=D2(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),b=u("%b %d"),v=u("%B"),N=u("%Y");function _(j){return(c(j)<j?m:o(j)<j?p:l(j)<j?x:i(j)<j?g:n(j)<j?a(j)<j?y:b:r(j)<j?v:N)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,DZ)):h().map(OZ)},d.ticks=function(j){var k=h();return e(k[0],k[k.length-1],j??10)},d.tickFormat=function(j,k){return k==null?_:u(k)},d.nice=function(j){var k=h();return(!j||typeof j.range!="function")&&(j=t(k[0],k[k.length-1],j??10)),j?h(pD(k,j)):d},d.copy=function(){return Z0(d,q2(e,t,r,n,a,i,l,o,c,u))},d}function FZ(){return Os.apply(q2(TJ,AJ,xl,H2,Kg,eh,W2,U2,Jo,CD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IZ(){return Os.apply(q2(EJ,CJ,gl,K2,qg,Hg,V2,z2,Jo,TD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gg(){var e=0,t=1,r,n,a,i,l=na,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:l(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(l=f,u):l};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,l=f(m,p),u):[l(0),l(1)]}}return u.range=d(bd),u.rangeRound=d(O2),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function No(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AD(){var e=jo(Gg()(na));return e.copy=function(){return No(e,AD())},_l.apply(e,arguments)}function PD(){var e=R2(Gg()).domain([1,10]);return e.copy=function(){return No(e,PD()).base(e.base())},_l.apply(e,arguments)}function OD(){var e=M2(Gg());return e.copy=function(){return No(e,OD()).constant(e.constant())},_l.apply(e,arguments)}function G2(){var e=L2(Gg());return e.copy=function(){return No(e,G2()).exponent(e.exponent())},_l.apply(e,arguments)}function RZ(){return G2.apply(null,arguments).exponent(.5)}function DD(){var e=[],t=na;function r(n){if(n!=null&&!isNaN(n=+n))return t((Y0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>wY(e,i/n))},r.copy=function(){return DD(t).domain(e)},_l.apply(r,arguments)}function Xg(){var e=0,t=.5,r=1,n=1,a,i,l,o,c,u=na,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?o:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),l=d(r=+r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(g){var y,b,v;return arguments.length?([y,b,v]=g,u=GY(x,[y,b,v]),m):[u(0),u(.5),u(1)]}}return m.range=p(bd),m.rangeRound=p(O2),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),l=x(r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,m}}function FD(){var e=jo(Xg()(na));return e.copy=function(){return No(e,FD())},_l.apply(e,arguments)}function ID(){var e=R2(Xg()).domain([.1,1,10]);return e.copy=function(){return No(e,ID()).base(e.base())},_l.apply(e,arguments)}function RD(){var e=M2(Xg());return e.copy=function(){return No(e,RD()).constant(e.constant())},_l.apply(e,arguments)}function X2(){var e=L2(Xg());return e.copy=function(){return No(e,X2()).exponent(e.exponent())},_l.apply(e,arguments)}function MZ(){return X2.apply(null,arguments).exponent(.5)}const uf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:T2,scaleDiverging:FD,scaleDivergingLog:ID,scaleDivergingPow:X2,scaleDivergingSqrt:MZ,scaleDivergingSymlog:RD,scaleIdentity:mD,scaleImplicit:qb,scaleLinear:hD,scaleLog:xD,scaleOrdinal:C2,scalePoint:_Y,scalePow:$2,scaleQuantile:yD,scaleQuantize:bD,scaleRadial:vD,scaleSequential:AD,scaleSequentialLog:PD,scaleSequentialPow:G2,scaleSequentialQuantile:DD,scaleSequentialSqrt:RZ,scaleSequentialSymlog:OD,scaleSqrt:gJ,scaleSymlog:gD,scaleThreshold:wD,scaleTime:FZ,scaleUtc:IZ,tickFormat:fD},Symbol.toStringTag,{value:"Module"}));var _o=e=>e.chartData,Q2=fe([_o],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),th=(e,t,r,n)=>n?Q2(e):_o(e);function nd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Sn(t)&&Sn(r))return!0}return!1}function GE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function LZ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Sn(r))a=r;else if(typeof r=="function")return;if(Sn(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(nd(l))return l}}function $Z(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(nd(n))return GE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Qe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&z4.test(a)){var c=z4.exec(a);if(c==null||t==null)l=void 0;else{var u=+c[1];l=t[0]-u}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Qe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&W4.test(i)){var d=W4.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[l,o];if(nd(h))return t==null?h:GE(h,t,r)}}}var wd=1e9,BZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},J2,lr=!0,ks="[DecimalError] ",cc=ks+"Invalid argument: ",Y2=ks+"Exponent out of range: ",jd=Math.floor,Mo=Math.pow,UZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ra,nn=1e7,Xt=7,MD=9007199254740991,ox=jd(MD/Xt),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(e){return al(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,r=t.constructor;return zt(al(t,new r(e),0,1),r.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return Kr(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ra))throw Error(ks+"NaN");if(r.s<1)throw Error(ks+(r.s?"NaN":"-Infinity"));return r.eq(Ra)?new n(0):(lr=!1,t=al(m0(r,i),m0(e,i),i),lr=!0,zt(t,a))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BD(t,e):LD(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ks+"NaN");return r.s?(lr=!1,t=al(r,e,0,1).times(e),lr=!0,r.minus(t)):zt(new n(r),a)};He.naturalExponential=He.exp=function(){return $D(this)};He.naturalLogarithm=He.ln=function(){return m0(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LD(t,e):BD(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cc+e);if(t=Kr(a)+1,n=a.d.length-1,r=n*Xt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};He.squareRoot=He.sqrt=function(){var e,t,r,n,a,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ks+"NaN")}for(e=Kr(o),lr=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=wi(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=jd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=l=r+3;;)if(i=n,n=i.plus(al(o,i,l+2)).times(.5),wi(i.d).slice(0,l)===(t=wi(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(zt(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return lr=!0,zt(n,r)};He.times=He.mul=function(e){var t,r,n,a,i,l,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,l=c,c=u,u=l),i=[],l=c+u,n=l;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+m[n]*h[a-n-1]+t,i[a--]=o%nn|0,t=o/nn|0;i[a]=(i[a]+t)%nn|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,lr?zt(e,f.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ai(e,0,wd),t===void 0?t=n.rounding:Ai(t,0,8),zt(r,e+Kr(r)+1,t))};He.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ec(n,!0):(Ai(e,0,wd),t===void 0?t=a.rounding:Ai(t,0,8),n=zt(new a(n),e+1,t),r=Ec(n,!0,e+1)),r};He.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ec(a):(Ai(e,0,wd),t===void 0?t=i.rounding:Ai(t,0,8),n=zt(new i(a),e+Kr(a)+1,t),r=Ec(n.abs(),!1,e+Kr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return zt(new t(e),Kr(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,r,n,a,i,l,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ra);if(o=new c(o),!o.s){if(e.s<1)throw Error(ks+"Infinity");return o}if(o.eq(Ra))return o;if(n=c.precision,e.eq(Ra))return zt(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=d<0?-d:d)<=MD){for(a=new c(Ra),t=Math.ceil(n/Xt+4),lr=!1;r%2&&(a=a.times(o),QE(a.d,t)),r=jd(r/2),r!==0;)o=o.times(o),QE(o.d,t);return lr=!0,e.s<0?new c(Ra).div(a):zt(a,n)}}else if(i<0)throw Error(ks+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,lr=!1,a=e.times(m0(o,n+u)),lr=!0,a=$D(a),a.s=i,a};He.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Kr(a),n=Ec(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ai(e,1,wd),t===void 0?t=i.rounding:Ai(t,0,8),a=zt(new i(a),e,t),r=Kr(a),n=Ec(a,e<=r||r<=i.toExpNeg,e)),n};He.toSignificantDigits=He.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ai(e,1,wd),t===void 0?t=n.rounding:Ai(t,0,8)),zt(new n(r),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kr(e),r=e.constructor;return Ec(e,t<=r.toExpNeg||t>=r.toExpPos)};function LD(e,t){var r,n,a,i,l,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),lr?zt(t,f):t;if(c=e.d,u=t.d,l=e.e,a=t.e,c=c.slice(),i=l-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=l,o=c.length),l=Math.ceil(f/Xt),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/nn|0,c[i]%=nn;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,lr?zt(t,f):t}function Ai(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cc+e)}function wi(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Xt-n.length,r&&(i+=Rl(r)),i+=n;l=e[t],n=l+"",r=Xt-n.length,r&&(i+=Rl(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var al=function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%nn|0,l=i/nn|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*nn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,c,u,d,f,h,m,p,x,g,y,b,v,N,_,j,k,E,T=n.constructor,C=n.s==a.s?1:-1,A=n.d,S=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(ks+"Division by zero");for(c=n.e-a.e,k=S.length,_=A.length,m=new T(C),p=m.d=[],u=0;S[u]==(A[u]||0);)++u;if(S[u]>(A[u]||0)&&--c,i==null?b=i=T.precision:l?b=i+(Kr(n)-Kr(a))+1:b=i,b<0)return new T(0);if(b=b/Xt+2|0,u=0,k==1)for(d=0,S=S[0],b++;(u<_||d)&&b--;u++)v=d*nn+(A[u]||0),p[u]=v/S|0,d=v%S|0;else{for(d=nn/(S[0]+1)|0,d>1&&(S=e(S,d),A=e(A,d),k=S.length,_=A.length),N=k,x=A.slice(0,k),g=x.length;g<k;)x[g++]=0;E=S.slice(),E.unshift(0),j=S[0],S[1]>=nn/2&&++j;do d=0,o=t(S,x,k,g),o<0?(y=x[0],k!=g&&(y=y*nn+(x[1]||0)),d=y/j|0,d>1?(d>=nn&&(d=nn-1),f=e(S,d),h=f.length,g=x.length,o=t(f,x,h,g),o==1&&(d--,r(f,k<h?E:S,h))):(d==0&&(o=d=1),f=S.slice()),h=f.length,h<g&&f.unshift(0),r(x,f,g),o==-1&&(g=x.length,o=t(S,x,k,g),o<1&&(d++,r(x,k<g?E:S,g))),g=x.length):o===0&&(d++,x=[0]),p[u++]=d,o&&x[0]?x[g++]=A[N]||0:(x=[A[N]],g=1);while((N++<_||x[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,zt(m,l?i+Kr(m)+1:i)}}();function $D(e,t){var r,n,a,i,l,o,c=0,u=0,d=e.constructor,f=d.precision;if(Kr(e)>16)throw Error(Y2+Kr(e));if(!e.s)return new d(Ra);for(lr=!1,o=f,l=new d(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(n=Math.log(Mo(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(Ra),d.precision=o;;){if(a=zt(a.times(e),o),r=r.times(++c),l=i.plus(al(a,r,o)),wi(l.d).slice(0,o)===wi(i.d).slice(0,o)){for(;u--;)i=zt(i.times(i),o);return d.precision=f,t==null?(lr=!0,zt(i,f)):i}i=l}}function Kr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function Sy(e,t,r){if(t>e.LN10.sd())throw lr=!0,r&&(e.precision=r),Error(ks+"LN10 precision limit exceeded");return zt(new e(e.LN10),t)}function Rl(e){for(var t="";e--;)t+="0";return t}function m0(e,t){var r,n,a,i,l,o,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,g=x.precision;if(m.s<1)throw Error(ks+(m.s?"NaN":"-Infinity"));if(m.eq(Ra))return new x(0);if(t==null?(lr=!1,u=g):u=t,m.eq(10))return t==null&&(lr=!0),Sy(x,u);if(u+=h,x.precision=u,r=wi(p),n=r.charAt(0),i=Kr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=wi(m.d),n=r.charAt(0),f++;i=Kr(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=Sy(x,u+2,g).times(i+""),m=m0(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=g,t==null?(lr=!0,zt(m,g)):m;for(o=l=m=al(m.minus(Ra),m.plus(Ra),u),d=zt(m.times(m),u),a=3;;){if(l=zt(l.times(d),u),c=o.plus(al(l,new x(a),u)),wi(c.d).slice(0,u)===wi(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Sy(x,u+2,g).times(i+""))),o=al(o,new x(f),u),x.precision=g,t==null?(lr=!0,zt(o,g)):o;o=c,a+=2}}function XE(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=jd(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xt;n<a;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),lr&&(e.e>ox||e.e<-ox))throw Error(Y2+r)}else e.s=0,e.e=0,e.d=[0];return e}function zt(e,t,r){var n,a,i,l,o,c,u,d,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Xt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Xt),i=f.length,d>=i)return e;for(u=i=f[d],l=1;i>=10;i/=10)l++;n%=Xt,a=n-Xt+l}if(r!==void 0&&(i=Mo(10,l-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/Mo(10,l-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Kr(e),f.length=1,t=t-i-1,f[0]=Mo(10,(Xt-t%Xt)%Xt),e.e=jd(-t/Xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Mo(10,Xt-n),f[d]=a>0?(u/Mo(10,l-a)%Mo(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==nn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=nn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(lr&&(e.e>ox||e.e<-ox))throw Error(Y2+Kr(e));return e}function BD(e,t){var r,n,a,i,l,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),lr?zt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),l=u-n,l){for(d=l<0,d?(r=c,l=-l,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(m/Xt),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}l=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>l;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=nn-1;--c[i],c[a]+=nn}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,lr?zt(t,m):t):new h(0)}function Ec(e,t,r){var n,a=Kr(e),i=wi(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Rl(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Rl(-a-1)+i,r&&(n=r-l)>0&&(i+=Rl(n))):a>=l?(i+=Rl(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Rl(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Rl(n))),e.s<0?"-"+i:i}function QE(e,t){if(e.length>t)return e.length=t,!0}function UD(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return XE(l,i.toString())}else if(typeof i!="string")throw Error(cc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,UZ.test(i))XE(l,i);else throw Error(cc+i)}if(a.prototype=He,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=UD,a.config=a.set=zZ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function zZ(e){if(!e||typeof e!="object")throw Error(ks+"Object expected");var t,r,n,a=["precision",1,wd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(jd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(cc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cc+r+": "+n);return this}var J2=UD(BZ);Ra=new J2(1);const Ft=J2;var WZ=e=>e,zD={},WD=e=>e===zD,YE=e=>function t(){return arguments.length===0||arguments.length===1&&WD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},VD=(e,t)=>e===1?t:YE(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==zD).length;return i>=e?t(...n):VD(e-i,YE(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var u=n.map(d=>WD(d)?o.shift():d);return t(...u,...o)}))}),Qg=e=>VD(e.length,e),Yb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},VZ=Qg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),HZ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return WZ;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},Jb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),HD=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function KD(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function qD(e,t,r){for(var n=new Ft(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Qg((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Qg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Qg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var GD=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},XD=(e,t,r)=>{if(e.lte(0))return new Ft(0);var n=KD(e.toNumber()),a=new Ft(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new Ft(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(a);return t?new Ft(c.toNumber()):new Ft(Math.ceil(c.toNumber()))},KZ=(e,t,r)=>{var n=new Ft(1),a=new Ft(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ft(10).pow(KD(e)-1),a=new Ft(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ft(Math.floor(e)))}else e===0?a=new Ft(Math.floor((t-1)/2)):r||(a=new Ft(Math.floor(e)));var l=Math.floor((t-1)/2),o=HZ(VZ(c=>a.add(new Ft(c-l).mul(n)).toNumber()),Yb);return o(0,t)},QD=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var l=XD(new Ft(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Ft(0):(o=new Ft(t).add(r).div(2),o=o.sub(new Ft(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),u=Math.ceil(new Ft(r).sub(o).div(l).toNumber()),d=c+u+1;return d>n?QD(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:l,tickMin:o.sub(new Ft(c).mul(l)),tickMax:o.add(new Ft(u).mul(l))})};function qZ(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=GD([t,r]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...Yb(0,n-1).map(()=>1/0)]:[...Yb(0,n-1).map(()=>-1/0),o];return t>r?Jb(c):c}if(l===o)return KZ(l,n,a);var{step:u,tickMin:d,tickMax:f}=QD(l,o,i,a,0),h=qD(d,f.add(new Ft(.1).mul(u)),u);return t>r?Jb(h):h}function GZ(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=GD([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),c=XD(new Ft(l).sub(i).div(o-1),a,0),u=[...qD(new Ft(i),new Ft(l),c),l];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?Jb(u):u}var XZ=HD(qZ),QZ=HD(GZ),YD=e=>e.rootProps.maxBarSize,YZ=e=>e.rootProps.barGap,JD=e=>e.rootProps.barCategoryGap,JZ=e=>e.rootProps.barSize,rh=e=>e.rootProps.stackOffset,Z2=e=>e.options.chartName,eN=e=>e.rootProps.syncId,ZD=e=>e.rootProps.syncMethod,tN=e=>e.options.eventEmitter,Vi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Aa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Yg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ZZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Vi.angleAxisId,includeHidden:!1,name:void 0,reversed:Vi.reversed,scale:Vi.scale,tick:Vi.tick,tickCount:void 0,ticks:void 0,type:Vi.type,unit:void 0},eee={allowDataOverflow:Aa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Aa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Aa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Aa.scale,tick:Aa.tick,tickCount:Aa.tickCount,ticks:void 0,type:Aa.type,unit:void 0},tee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Vi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vi.scale,tick:Vi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ree={allowDataOverflow:Aa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Aa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Aa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Aa.scale,tick:Aa.tick,tickCount:Aa.tickCount,ticks:void 0,type:"category",unit:void 0},rN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?tee:ZZ,nN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ree:eee,Jg=e=>e.polarOptions,aN=fe([wl,jl,Jr],O6),eF=fe([Jg,aN],(e,t)=>{if(e!=null)return Wn(e.innerRadius,t,0)}),tF=fe([Jg,aN],(e,t)=>{if(e!=null)return Wn(e.outerRadius,t,t*.8)}),nee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},rF=fe([Jg],nee);fe([rN,rF],Yg);var nF=fe([aN,eF,tF],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});fe([nN,nF],Yg);var aF=fe([vt,Jg,eF,tF,wl,jl],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:c,endAngle:u}=t;return{cx:Wn(l,a,a/2),cy:Wn(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),or=(e,t)=>t,nh=(e,t,r)=>r;function Zg(e){return e==null?void 0:e.id}var tn=e=>{var t=vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Nd=e=>e.tooltip.settings.axisId,pn=e=>{var t=tn(e),r=Nd(e);return ah(e,t,r)},sF=fe([pn],e=>e==null?void 0:e.dataKey);function iF(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Zg(o);u.forEach((f,h)=>{var m=i==null||a?h:String($t(f,i,null)),p=$t(f,o.dataKey,0),x;l.has(m)?x=l.get(m):x={},Object.assign(x,{[d]:p}),l.set(m,x)})}}),Array.from(l.values())}function ev(e){return e.stackId!=null&&e.dataKey!=null}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aee(e,t,r){return(t=see(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function see(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zb=[0,"auto"],Ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lF=(e,t)=>e.cartesianAxis.xAxis[t],kl=(e,t)=>{var r=lF(e,t);return r??Ea},Ca={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:X0},oF=(e,t)=>e.cartesianAxis.yAxis[t],Sl=(e,t)=>{var r=oF(e,t);return r??Ca},lee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sN=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??lee},Fr=(e,t,r)=>{switch(t){case"xAxis":return kl(e,r);case"yAxis":return Sl(e,r);case"zAxis":return sN(e,r);case"angleAxis":return rN(e,r);case"radiusAxis":return nN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oee=(e,t,r)=>{switch(t){case"xAxis":return kl(e,r);case"yAxis":return Sl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ah=(e,t,r)=>{switch(t){case"xAxis":return kl(e,r);case"yAxis":return Sl(e,r);case"angleAxis":return rN(e,r);case"radiusAxis":return nN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cF=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function iN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var sh=e=>e.graphicalItems.cartesianItems,cee=fe([or,nh],iN),lN=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ih=fe([sh,Fr,cee],lN),uF=fe([ih],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ev)),dF=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),fF=fe([ih],dF),oN=e=>e.map(t=>t.data).filter(Boolean).flat(1),uee=fe([ih],oN),cN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},uN=fe([uee,th],cN),dN=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$t(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:$t(a,n)}))):e.map(n=>({value:n})),tv=fe([uN,Fr,ih],dN);function hF(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uc(e){return e.filter(t=>Ti(t)||t instanceof Date).map(Number).filter(t=>_a(t)===!1)}function dee(e,t,r){return!r||typeof t!="number"||_a(t)?[]:r.length?Uc(r.flatMap(n=>{var a=$t(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!Sn(i)||!Sn(l)))return[t-i,t+l]})):[]}var fee=fe([uF,th,pn],iF),mF=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,c=o.map(Zg);return[l,{stackedData:wX(e,c,r),graphicalItems:o}]}))},p0=fe([fee,uF,rh],mF),pF=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=kX(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},hee=fe([p0,_o,or],pF),xF=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(l=>{var o,c,u=(o=n[l.id])===null||o===void 0?void 0:o.filter(f=>hF(a,f)),d=$t(i,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:d,errorDomain:dee(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:$t(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),rv=e=>e.errorBars,gF=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>hF(r,n));fe([fF,rv,or],gF);var mee=fe([uN,Fr,fF,rv,or],xF);function pee(e){var{value:t}=e;if(Ti(t)||t instanceof Date)return t}var ZE=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Uc(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xee=(e,t,r)=>{var n=e.map(pee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&d5(n))?rD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},fN=e=>{var t;if(e==null||!("domain"in e))return Zb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Uc(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Zb},ux=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},vF=e=>e.referenceElements.dots,_d=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),gee=fe([vF,or,nh],_d),yF=e=>e.referenceElements.areas,vee=fe([yF,or,nh],_d),bF=e=>e.referenceElements.lines,yee=fe([bF,or,nh],_d),wF=(e,t)=>{var r=Uc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bee=fe(gee,or,wF),jF=(e,t)=>{var r=Uc(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wee=fe([vee,or],jF),NF=(e,t)=>{var r=Uc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jee=fe(yee,or,NF),Nee=fe(bee,jee,wee,(e,t,r)=>ux(e,r,t)),_F=fe([Fr],fN),hN=(e,t,r,n,a,i,l)=>{var o=LZ(t,e.allowDataOverflow);if(o!=null)return o;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?ux(r,a,ZE(n)):ux(a,ZE(n));return $Z(t,u,e.allowDataOverflow)},_ee=fe([Fr,_F,hee,mee,Nee,vt,or],hN),kee=[0,1],mN=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,u=Ii(t,i);return u&&o==null?rD(0,r.length):c==="category"?xee(n,e,u):a==="expand"?kee:l}},pN=fe([Fr,vt,uN,tv,rh,or,_ee],mN),kF=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(H0(i));return o in uf?o:"point"}}},kd=fe([Fr,vt,cF,Z2,or],kF);function See(e){if(e!=null){if(e in uf)return uf[e]();var t="scale".concat(H0(e));if(t in uf)return uf[t]()}}function xN(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=See(t);if(a!=null){var i=a.domain(r).range(n);return xX(i),i}}}var gN=(e,t,r)=>{var n=fN(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&nd(e))return XZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&nd(e))return QZ(e,t.tickCount,t.allowDecimals)}},vN=fe([pN,ah,kd],gN),yN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&nd(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},Eee=fe([Fr,pN,vN,or],yN),Cee=fe(tv,Fr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Uc(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),SF=fe(Cee,vt,JD,Jr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Sn(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Wn(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),Tee=(e,t)=>{var r=kl(e,t);return r==null||typeof r.padding!="string"?0:SF(e,"xAxis",t,r.padding)},Aee=(e,t)=>{var r=Sl(e,t);return r==null||typeof r.padding!="string"?0:SF(e,"yAxis",t,r.padding)},Pee=fe(kl,Tee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Oee=fe(Sl,Aee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Dee=fe([Jr,Pee,Wg,zg,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Fee=fe([Jr,vt,Oee,Wg,zg,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lh=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Dee(e,r,n);case"yAxis":return Fee(e,r,n);case"zAxis":return(a=sN(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return rF(e);case"radiusAxis":return nF(e,r);default:return}},EF=fe([Fr,lh],Yg),Sd=fe([Fr,kd,Eee,EF],xN);fe([ih,rv,or],gF);function CF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var nv=(e,t)=>t,av=(e,t,r)=>r,Iee=fe(Bg,nv,av,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(CF)),Ree=fe(Ug,nv,av,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(CF)),TF=(e,t)=>({width:e.width,height:t.height}),Mee=(e,t)=>{var r=typeof t.width=="number"?t.width:X0;return{width:r,height:e.height}},AF=fe(Jr,kl,TF),Lee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},$ee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Bee=fe(jl,Jr,Iee,nv,av,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=TF(t,o);l==null&&(l=Lee(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(u)*c.height,l+=(u?-1:1)*c.height}),i}),Uee=fe(wl,Jr,Ree,nv,av,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=Mee(t,o);l==null&&(l=$ee(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(u)*c.width,l+=(u?-1:1)*c.width}),i}),zee=(e,t)=>{var r=kl(e,t);if(r!=null)return Bee(e,r.orientation,r.mirror)},Wee=fe([Jr,kl,zee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Vee=(e,t)=>{var r=Sl(e,t);if(r!=null)return Uee(e,r.orientation,r.mirror)},Hee=fe([Jr,Sl,Vee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),PF=fe(Jr,Sl,(e,t)=>{var r=typeof t.width=="number"?t.width:X0;return{width:r,height:e.height}}),eC=(e,t,r)=>{switch(t){case"xAxis":return AF(e,r).width;case"yAxis":return PF(e,r).height;default:return}},OF=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=Ii(e,n),c=t.map(u=>u.value);if(l&&o&&i==="category"&&a&&d5(c))return c}},bN=fe([vt,tv,Fr,or],OF),DF=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=Ii(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},wN=fe([vt,tv,ah,or],DF),tC=fe([vt,oee,kd,Sd,bN,wN,lh,vN,or],(e,t,r,n,a,i,l,o,c)=>{if(t==null)return null;var u=Ii(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:l,realScaleType:r,scale:n}}),Kee=(e,t,r,n,a,i,l,o,c)=>{if(!(t==null||n==null)){var u=Ii(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?un(i[0]-i[1])*2*p:p;var x=f||a;if(x){var g=x.map((y,b)=>{var v=l?l.indexOf(y):y;return{index:b,coordinate:n(v)+p,value:y,offset:p}});return g.filter(y=>!_a(y.coordinate))}return u&&o?o.map((y,b)=>({coordinate:n(y)+p,value:y,index:b,offset:p})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,b)=>({coordinate:n(y)+p,value:l?l[y]:y,index:b,offset:p}))}},FF=fe([vt,ah,kd,Sd,vN,lh,bN,wN,or],Kee),qee=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Ii(e,l),{tickCount:c}=t,u=0;return u=l==="angleAxis"&&(n==null?void 0:n.length)>=2?un(n[0]-n[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Pi=fe([vt,ah,Sd,lh,bN,wN,or],qee),Oi=fe(Fr,Sd,(e,t)=>{if(!(e==null||t==null))return cx(cx({},e),{},{scale:t})}),Gee=fe([Fr,kd,pN,EF],xN);fe((e,t,r)=>sN(e,r),Gee,(e,t)=>{if(!(e==null||t==null))return cx(cx({},e),{},{scale:t})});var Xee=fe([vt,Bg,Ug],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),IF=e=>e.options.defaultTooltipEventType,RF=e=>e.options.validateTooltipEventTypes;function MF(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function jN(e,t){var r=IF(e),n=RF(e);return MF(t,r,n)}function Qee(e){return qe(t=>jN(t,e))}var LF=(e,t)=>{var r,n=Number(t);if(!(_a(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Yee=e=>e.tooltip.settings,zl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Jee={itemInteraction:{click:zl,hover:zl},axisInteraction:{click:zl,hover:zl},keyboardInteraction:zl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$F=Za({name:"tooltip",initialState:Jee,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=nl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Zee,removeTooltipEntrySettings:ete,setTooltipSettingsState:tte,setActiveMouseOverItemIndex:BF,mouseLeaveItem:rte,mouseLeaveChart:UF,setActiveClickItemIndex:nte,setMouseOverAxisIndex:zF,setMouseClickAxisIndex:ate,setSyncInteraction:ew,setKeyboardInteraction:tw}=$F.actions,ste=$F.reducer;function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ite(e,t,r){return(t=lte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lte(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ute(e){return e.index!=null}var WF=(e,t,r,n)=>{if(t==null)return zl;var a=cte(e,t,r);if(a==null)return zl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(ute(a)){if(i)return nm(nm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return nm(nm({},zl),{},{coordinate:a.coordinate})},NN=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Sn(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},VF=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},HF=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},oh=e=>e.options.tooltipPayloadSearcher,Ed=e=>e.tooltip;function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(r),!0).forEach(function(n){dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t,r){return(t=fte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mte(e,t){return e??t}var KF=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:g}=m,y=mte(x,o),b=Array.isArray(y)?D6(y,u,d):y,v=(p=g==null?void 0:g.dataKey)!==null&&p!==void 0?p:n,N=g==null?void 0:g.nameKey,_;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&l==="axis"?_=f5(b,n,a):_=i(b,t,c,N),Array.isArray(_))_.forEach(k=>{var E=aC(aC({},g),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(V4({tooltipEntrySettings:E,dataKey:k.dataKey,payload:k.payload,value:$t(k.payload,k.dataKey),name:k.name}))});else{var j;h.push(V4({tooltipEntrySettings:g,dataKey:v,payload:_,value:$t(_,v),name:(j=$t(_,N))!==null&&j!==void 0?j:g==null?void 0:g.name}))}return h},f)}},_N=fe([pn,vt,cF,Z2,tn],kF),pte=fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),xte=fe([tn,Nd],iN),ch=fe([pte,pn,xte],lN),gte=fe([ch],e=>e.filter(ev)),vte=fe([ch],oN),Cd=fe([vte,_o],cN),yte=fe([gte,_o,pn],iF),kN=fe([Cd,pn,ch],dN),bte=fe([pn],fN),wte=fe([ch],e=>e.filter(ev)),jte=fe([yte,wte,rh],mF),Nte=fe([jte,_o,tn],pF),_te=fe([ch],dF),kte=fe([Cd,pn,_te,rv,tn],xF),Ste=fe([vF,tn,Nd],_d),Ete=fe([Ste,tn],wF),Cte=fe([yF,tn,Nd],_d),Tte=fe([Cte,tn],jF),Ate=fe([bF,tn,Nd],_d),Pte=fe([Ate,tn],NF),Ote=fe([Ete,Pte,Tte],ux),Dte=fe([pn,bte,Nte,kte,Ote,vt,tn],hN),qF=fe([pn,vt,Cd,kN,rh,tn,Dte],mN),Fte=fe([qF,pn,_N],gN),Ite=fe([pn,qF,Fte,tn],yN),GF=e=>{var t=tn(e),r=Nd(e),n=!1;return lh(e,t,r,n)},XF=fe([pn,GF],Yg),QF=fe([pn,_N,Ite,XF],xN),Rte=fe([vt,kN,pn,tn],OF),Mte=fe([vt,kN,pn,tn],DF),Lte=(e,t,r,n,a,i,l,o)=>{if(t){var{type:c}=t,u=Ii(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?un(a[0]-a[1])*2*f:f,u&&l?l.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},El=fe([vt,pn,_N,QF,GF,Rte,Mte,tn],Lte),SN=fe([IF,RF,Yee],(e,t,r)=>MF(r.shared,e,t)),YF=e=>e.tooltip.settings.trigger,EN=e=>e.tooltip.settings.defaultIndex,sv=fe([Ed,SN,YF,EN],WF),oo=fe([sv,Cd],NN),JF=fe([El,oo],LF),ZF=fe([sv],e=>{if(e)return e.dataKey}),eI=fe([Ed,SN,YF,EN],HF),$te=fe([wl,jl,vt,Jr,El,EN,eI,oh],VF),Bte=fe([sv,$te],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ute=fe([sv],e=>e.active),zte=fe([eI,oo,_o,sF,JF,oh,SN],KF),Wte=fe([zte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){Vte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vte(e,t,r){return(t=Hte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hte(e){var t=Kte(e,"string");return typeof t=="symbol"?t:t+""}function Kte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qte=()=>qe(pn),Gte=()=>{var e=qte(),t=qe(El),r=qe(QF);return Sc(iC(iC({},e),{},{scale:r}),t)},tI=()=>qe(Z2),CN=(e,t)=>t,rI=(e,t,r)=>r,TN=(e,t,r,n)=>n,Xte=fe(El,e=>Fg(e,t=>t.coordinate)),AN=fe([Ed,CN,rI,TN],WF),nI=fe([AN,Cd],NN),Qte=(e,t,r)=>{if(t!=null){var n=Ed(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aI=fe([Ed,CN,rI,TN],HF),dx=fe([wl,jl,vt,Jr,El,TN,aI,oh],VF),Yte=fe([AN,dx],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),sI=fe(El,nI,LF),Jte=fe([aI,nI,_o,sF,sI,oh,CN],KF),Zte=fe([AN],e=>({isActive:e.active,activeIndex:e.index})),ere=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var c=SX(e.chartX,e.chartY,t,r,o);if(c){var u=CX(c,t),d=mX(u,l,i,n,a),f=EX(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(null,arguments)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tre(e,t,r){return(t=rre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function are(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=CQ;else if(u==="BarChart")m=TQ(l,d,a,i),p=X6;else if(l==="radial"){var{cx:x,cy:g,radius:y,startAngle:b,endAngle:v}=Q6(d);m={cx:x,cy:g,startAngle:b,endAngle:v,innerRadius:y,outerRadius:y},p=J6}else m={points:oY(l,d,a)},p=Eu;var N=typeof o=="object"&&"className"in o?o.className:void 0,_=am(am(am(am({stroke:"#ccc",pointerEvents:"none"},a),m),tr(o,!1)),{},{payload:f,payloadIndex:h,className:jt("recharts-tooltip-cursor",N)});return w.isValidElement(o)?w.cloneElement(o,_):w.createElement(p,_)}function sre(e){var t=Gte(),r=B6(),n=Q0(),a=tI();return w.createElement(are,rw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var iI=w.createContext(null),ire=()=>w.useContext(iI),lI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var g=this._events[x],y=arguments.length,b,v;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,m),!0;case 6:return g.fn.call(g.context,d,f,h,m,p),!0}for(v=1,b=new Array(y-1);v<y;v++)b[v-1]=arguments[v];g.fn.apply(g.context,b)}else{var N=g.length,_;for(v=0;v<N;v++)switch(g[v].once&&this.removeListener(u,g[v].fn,void 0,!0),y){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,d);break;case 3:g[v].fn.call(g[v].context,d,f);break;case 4:g[v].fn.call(g[v].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];g[v].fn.apply(g[v].context,b)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return l(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&l(this,m);else{for(var x=0,g=[],y=p.length;x<y;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&g.push(p[x]);g.length?this._events[m]=g.length===1?g[0]:g:l(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&l(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(lI);var lre=lI.exports;const ore=Es(lre);var x0=new ore,nw="recharts.syncEvent.tooltip",oC="recharts.syncEvent.brush";function iv(e,t){if(t){var r=Number.parseInt(t,10);if(!_a(r))return e==null?void 0:e[r]}}var cre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oI=Za({name:"options",initialState:cre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ure=oI.reducer,{createEventEmitter:dre}=oI.actions;function fre(e){return e.tooltip.syncInteraction}var hre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cI=Za({name:"chartData",initialState:hre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:cC,setDataStartEndIndexes:mre,setComputedData:nwe}=cI.actions,pre=cI.reducer,xre=["x","y"];function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return(t=vre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bre(e,t){if(e==null)return{};var r,n,a=wre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uI=()=>{};function jre(){var e=qe(eN),t=qe(tN),r=yr(),n=qe(ZD),a=qe(El),i=Q0(),l=N2(),o=qe(c=>c.rootProps.className);w.useEffect(()=>{if(e==null)return uI;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(l&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x:p,y:x}=m,g=bre(m,xre),y=Oo(Oo(Oo({},g),typeof p=="number"&&{x:Math.max(l.x,Math.min(p,l.x+l.width))}),typeof x=="number"&&{y:Math.max(l.y,Math.min(x,l.y+l.height))}),b=Oo(Oo({},d),{},{payload:Oo(Oo({},d.payload),{},{coordinate:y})});r(b)}else r(d);return}if(a!=null){var v;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=n(a,N);v=a[_]}else n==="value"&&(v=a.find(B=>String(B.value)===d.payload.label));var{coordinate:j}=d.payload;if(v==null||d.payload.active===!1||j==null||l==null){r(ew({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:E}=j,T=Math.min(k,l.x+l.width),C=Math.min(E,l.y+l.height),A={x:i==="horizontal"?v.coordinate:T,y:i==="horizontal"?C:v.coordinate},S=ew({active:d.payload.active,coordinate:A,dataKey:d.payload.dataKey,index:String(v.index),label:d.payload.label});r(S)}}};return x0.on(nw,c),()=>{x0.off(nw,c)}},[o,r,t,e,n,a,i,l])}function Nre(){var e=qe(eN),t=qe(tN),r=yr();w.useEffect(()=>{if(e==null)return uI;var n=(a,i,l)=>{t!==l&&e===a&&r(mre(i))};return x0.on(oC,n),()=>{x0.off(oC,n)}},[r,t,e])}function _re(){var e=yr();w.useEffect(()=>{e(dre())},[e]),jre(),Nre()}function kre(e,t,r,n,a,i){var l=qe(h=>Qte(h,e,t)),o=qe(tN),c=qe(eN),u=qe(ZD),d=qe(fre),f=d==null?void 0:d.active;w.useEffect(()=>{if(!f&&c!=null&&o!=null){var h=ew({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});x0.emit(nw,c,h,o)}},[f,r,l,a,n,o,c,u,i])}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){Sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sre(e,t,r){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ere(e){var t=Cre(e,"string");return typeof t=="symbol"?t:t+""}function Cre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tre(e){return e.dataKey}function Are(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(iQ,t)}var hC=[],Pre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Nl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zo(e){var t=Zr(e,Pre),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:x,shared:g,trigger:y,defaultIndex:b,portal:v,axisId:N}=t,_=yr(),j=typeof b=="number"?String(b):b;w.useEffect(()=>{_(tte({shared:g,trigger:y,axisId:N,active:r,defaultIndex:j}))},[_,g,y,N,r,j]);var k=N2(),E=V6(),T=Qee(g),{activeIndex:C,isActive:A}=qe(O=>Zte(O,T,y,j)),S=qe(O=>Jte(O,T,y,j)),B=qe(O=>sI(O,T,y,j)),M=qe(O=>Yte(O,T,y,j)),Y=S,z=ire(),R=r??A,[H,U]=l6([Y,R]),te=T==="axis"?B:void 0;kre(T,y,M,te,C,R);var K=v??z;if(K==null)return null;var D=Y??hC;R||(D=hC),o&&D.length&&(D=X5(Y.filter(O=>O.value!=null&&(O.hide!==!0||t.includeHidden)),d,Tre));var L=D.length>0,F=w.createElement(hQ,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:R,coordinate:M,hasPayload:L,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:k,wrapperStyle:p,lastBoundingBox:H,innerRef:U,hasPortalFromProps:!!v},Are(l,fC(fC({},t),{},{payload:D,label:te,active:R,coordinate:M,accessibilityLayer:E})));return w.createElement(w.Fragment,null,Jx.createPortal(F,K),R&&w.createElement(sre,{cursor:x,tooltipEventType:T,coordinate:M,payload:Y,index:C}))}var dI={},fI={},hI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),l=void 0,o=null},g=()=>{d()},y=function(...b){if(a!=null&&a.aborted)return;l=this,o=b;const v=h==null;m(),c&&v&&d()};return y.schedule=m,y.cancel=x,y.flush=g,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(hI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hI;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);l&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(fI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fI;function r(n,a=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(dI);var Ore=dI.throttle;const Dre=Es(Ore);var Cf=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t,r){return(t=Ire(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ire(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ec=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:l=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=w.useRef(null),g=w.useRef();g.current=m,w.useImperativeHandle(t,()=>x.current);var[y,b]=w.useState({containerWidth:n.width,containerHeight:n.height}),v=w.useCallback((_,j)=>{b(k=>{var E=Math.round(_),T=Math.round(j);return k.containerWidth===E&&k.containerHeight===T?k:{containerWidth:E,containerHeight:T}})},[]);w.useEffect(()=>{var _=T=>{var C,{width:A,height:S}=T[0].contentRect;v(A,S),(C=g.current)===null||C===void 0||C.call(g,A,S)};d>0&&(_=Dre(_,d,{trailing:!0,leading:!1}));var j=new ResizeObserver(_),{width:k,height:E}=x.current.getBoundingClientRect();return v(k,E),j.observe(x.current),()=>{j.disconnect()}},[v,d]);var N=w.useMemo(()=>{var{containerWidth:_,containerHeight:j}=y;if(_<0||j<0)return null;Cf(Qo(a)||Qo(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Cf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Qo(a)?_:a,E=Qo(i)?j:i;return r&&r>0&&(k?E=k/r:E&&(k=E*r),c&&E>c&&(E=c)),Cf(k>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,E,a,i,l,o,r),w.Children.map(u,T=>w.cloneElement(T,{width:k,height:E,style:Ey({width:k,height:E},T.props.style)}))},[r,u,i,c,o,l,y,a]);return w.createElement("div",{id:f?"".concat(f):void 0,className:jt("recharts-responsive-container",h),style:Ey(Ey({},p),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:x},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),Td=e=>null;Td.displayName="Cell";function Mre(e,t,r){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lre(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bre{constructor(t){Mre(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ure(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){zre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zre(e,t,r){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hre={cacheSize:2e3,enableCache:!0},mI=Ure({},Hre),xC=new Bre(mI.cacheSize),Kre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gC="recharts_measurement_span";function qre(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(o)}var vC=(e,t)=>{try{var r=document.getElementById(gC);r||(r=document.createElement("span"),r.setAttribute("id",gC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Kre,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Tf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Nl.isSsr)return{width:0,height:0};if(!mI.enableCache)return vC(t,r);var n=qre(t,r),a=xC.get(n);if(a)return a;var i=vC(t,r);return xC.set(n,i),i},yC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qre=Object.keys(pI),gu="NaN";function Yre(e,t){return e*pI[t]}class da{static parse(t){var r,[,n,a]=(r=Xre.exec(t))!==null&&r!==void 0?r:[];return new da(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,_a(t)&&(this.unit=""),r!==""&&!Gre.test(r)&&(this.num=NaN,this.unit=""),Qre.includes(r)&&(this.num=Yre(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new da(NaN,""):new da(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new da(NaN,""):new da(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new da(NaN,""):new da(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new da(NaN,""):new da(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _a(this.num)}}function xI(e){if(e.includes(gu))return gu;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=yC.exec(t))!==null&&r!==void 0?r:[],l=da.parse(n??""),o=da.parse(i??""),c=a==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return gu;t=t.replace(yC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=bC.exec(t))!==null&&u!==void 0?u:[],m=da.parse(d??""),p=da.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return gu;t=t.replace(bC,x.toString())}return t}var wC=/\(([^()]*)\)/;function Jre(e){for(var t=e,r;(r=wC.exec(t))!=null;){var[,n]=r;t=t.replace(wC,xI(n))}return t}function Zre(e){var t=e.replace(/\s+/g,"");return t=Jre(t),t=xI(t),t}function ene(e){try{return Zre(e)}catch{return gu}}function Cy(e){var t=ene(e.slice(5,-1));return t===gu?"":t}var tne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rne=["dx","dy","angle","className","breakAll"];function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(null,arguments)}function jC(e,t){if(e==null)return{};var r,n,a=nne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gI=/[ \f\n\r\t\v\u2028\u2029]+/,vI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Jt(t)||(r?a=t.toString().split(""):a=t.toString().split(gI));var i=a.map(o=>({word:o,width:Tf(o,n).width})),l=r?0:Tf("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},ane=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,u=Qe(i),d=l,f=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce((S,B)=>{var{word:M,width:Y}=B,z=S[S.length-1];if(z&&(n==null||a||z.width+Y+r<Number(n)))z.words.push(M),z.width+=Y+r;else{var R={words:[M],width:Y};S.push(R)}return S},[])},h=f(t),m=C=>C.reduce((A,S)=>A.width>S.width?A:S);if(!u||a)return h;var p=h.length>i||m(h).width>Number(n);if(!p)return h;for(var x="",g=C=>{var A=d.slice(0,C),S=vI({breakAll:c,style:o,children:A+x}).wordsWithComputedWidth,B=f(S),M=B.length>i||m(B).width>Number(n);return[M,B]},y=0,b=d.length-1,v=0,N;y<=b&&v<=d.length-1;){var _=Math.floor((y+b)/2),j=_-1,[k,E]=g(j),[T]=g(_);if(!k&&!T&&(y=_+1),k&&T&&(b=_-1),!k&&T){N=E;break}v++}return N||h},NC=e=>{var t=Jt(e)?[]:e.toString().split(gI);return[{words:t}]},sne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!Nl.isSsr){var o,c,u=vI({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return NC(n);return ane({breakAll:i,children:n,maxLines:l,style:a},o,c,t,r)}return NC(n)},_C="#808080",lv=w.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=_C}=e,d=jC(e,tne),f=w.useMemo(()=>sne({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:h,dy:m,angle:p,className:x,breakAll:g}=d,y=jC(d,rne);if(!Ti(r)||!Ti(n)||f.length===0)return null;var b=r+(Qe(h)?h:0),v=n+(Qe(m)?m:0),N;switch(c){case"start":N=Cy("calc(".concat(i,")"));break;case"middle":N=Cy("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:N=Cy("calc(".concat(f.length-1," * -").concat(a,")"));break}var _=[];if(l){var j=f[0].width,{width:k}=d;_.push("scale(".concat(Qe(k)?k/j:1,")"))}return p&&_.push("rotate(".concat(p,", ").concat(b,", ").concat(v,")")),_.length&&(y.transform=_.join(" ")),w.createElement("text",aw({},tr(y,!0),{ref:t,x:b,y:v,className:jt("recharts-text",x),textAnchor:o,fill:u.includes("url")?_C:u}),f.map((E,T)=>{var C=E.words.join(g?"":" ");return w.createElement("tspan",{x:b,dy:T===0?N:a,key:"".concat(C,"-").concat(T)},C)}))});lv.displayName="Text";var ine=["labelRef"];function lne(e,t){if(e==null)return{};var r,n,a=one(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function one(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t,r){return(t=une(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function une(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(null,arguments)}var yI=w.createContext(null),fne=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=w.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return w.createElement(yI.Provider,{value:l},i)},bI=()=>{var e=w.useContext(yI),t=N2();return e||t},hne=w.createContext(null),mne=()=>{var e=w.useContext(hne),t=qe(aF);return e||t},pne=e=>{var{value:t,formatter:r}=e,n=Jt(e.children)?t:e.children;return typeof r=="function"?r(n):n},PN=e=>e!=null&&typeof e=="function",xne=(e,t)=>{var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n},gne=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,x=xne(f,h),g=x>=0?1:-1,y,b;switch(t){case"insideStart":y=f+g*i,b=m;break;case"insideEnd":y=h-g*i,b=!m;break;case"end":y=h+g*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=x<=0?b:!b;var v=Vr(o,c,p,y),N=Vr(o,c,p,y+(b?1:-1)*359),_="M".concat(v.x,",").concat(v.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),j=Jt(e.id)?i0("recharts-radial-line-"):e.id;return w.createElement("text",Hi({},n,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:j,d:_})),w.createElement("textPath",{xlinkHref:"#".concat(j)},r))},vne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=Vr(n,a,l+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+l)/2,{x:m,y:p}=Vr(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},wI=e=>"cx"in e&&Qe(e.cx),yne=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!wI(r)&&(i=r);var{x:l,y:o,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",p=c>=0?1:-1,x=p*n,g=p>0?"end":"start",y=p>0?"start":"end";if(a==="top"){var b={x:l+c/2,y:o-d*n,textAnchor:"middle",verticalAnchor:h};return Ar(Ar({},b),i?{height:Math.max(o-i.y,0),width:c}:{})}if(a==="bottom"){var v={x:l+c/2,y:o+u+f,textAnchor:"middle",verticalAnchor:m};return Ar(Ar({},v),i?{height:Math.max(i.y+i.height-(o+u),0),width:c}:{})}if(a==="left"){var N={x:l-x,y:o+u/2,textAnchor:g,verticalAnchor:"middle"};return Ar(Ar({},N),i?{width:Math.max(N.x-i.x,0),height:u}:{})}if(a==="right"){var _={x:l+c+x,y:o+u/2,textAnchor:y,verticalAnchor:"middle"};return Ar(Ar({},_),i?{width:Math.max(i.x+i.width-_.x,0),height:u}:{})}var j=i?{width:c,height:u}:{};return a==="insideLeft"?Ar({x:l+x,y:o+u/2,textAnchor:y,verticalAnchor:"middle"},j):a==="insideRight"?Ar({x:l+c-x,y:o+u/2,textAnchor:g,verticalAnchor:"middle"},j):a==="insideTop"?Ar({x:l+c/2,y:o+f,textAnchor:"middle",verticalAnchor:m},j):a==="insideBottom"?Ar({x:l+c/2,y:o+u-f,textAnchor:"middle",verticalAnchor:h},j):a==="insideTopLeft"?Ar({x:l+x,y:o+f,textAnchor:y,verticalAnchor:m},j):a==="insideTopRight"?Ar({x:l+c-x,y:o+f,textAnchor:g,verticalAnchor:m},j):a==="insideBottomLeft"?Ar({x:l+x,y:o+u-f,textAnchor:y,verticalAnchor:h},j):a==="insideBottomRight"?Ar({x:l+c-x,y:o+u-f,textAnchor:g,verticalAnchor:h},j):a&&typeof a=="object"&&(Qe(a.x)||Qo(a.x))&&(Qe(a.y)||Qo(a.y))?Ar({x:l+Wn(a.x,c),y:o+Wn(a.y,u),textAnchor:"end",verticalAnchor:"end"},j):Ar({x:l+c/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},j)},bne={offset:5};function Ml(e){var t=Zr(e,bne),{viewBox:r,position:n,value:a,children:i,content:l,className:o="",textBreakAll:c,labelRef:u}=t,d=mne(),f=bI(),h=n==="center"?f:d??f,m=r||h;if(!m||Jt(a)&&Jt(i)&&!w.isValidElement(l)&&typeof l!="function")return null;var p=Ar(Ar({},t),{},{viewBox:m});if(w.isValidElement(l)){var{labelRef:x}=p,g=lne(p,ine);return w.cloneElement(l,g)}var y;if(typeof l=="function"){if(y=w.createElement(l,p),w.isValidElement(y))return y}else y=pne(t);var b=wI(m),v=tr(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return gne(t,n,y,v,m);var N=b?vne(m,t.offset,t.position):yne(t,m);return w.createElement(lv,Hi({ref:u,className:jt("recharts-label",o)},v,N,{breakAll:c}),y)}Ml.displayName="Label";var wne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(Ml,Hi({key:"label-implicit"},n)):Ti(e)?w.createElement(Ml,Hi({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===Ml?w.cloneElement(e,Ar({key:"label-implicit"},n)):w.createElement(Ml,Hi({key:"label-implicit",content:e},n)):PN(e)?w.createElement(Ml,Hi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(Ml,Hi({},e,{key:"label-implicit"},n)):null};function jne(e){var{label:t}=e,r=bI();return wne(t,r)||null}var jI={},NI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(NI);var _I={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(_I);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI,r=_I,n=Og;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(jI);var Nne=jI.last;const _ne=Es(Nne);var kne=["valueAccessor"],Sne=["dataKey","clockWise","id","textBreakAll"];function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fx.apply(null,arguments)}function SC(e,t){if(e==null)return{};var r,n,a=Ene(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ene(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cne=e=>Array.isArray(e.value)?_ne(e.value):e.value,kI=w.createContext(void 0),ON=kI.Provider,SI=w.createContext(void 0),Tne=SI.Provider;function Ane(){return w.useContext(kI)}function Pne(){return w.useContext(SI)}function Km(e){var{valueAccessor:t=Cne}=e,r=SC(e,kne),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,o=SC(r,Sne),c=Ane(),u=Pne(),d=c||u;return!d||!d.length?null:w.createElement(Sr,{className:"recharts-label-list"},d.map((f,h)=>{var m,p=Jt(n)?t(f,h):$t(f&&f.payload,n),x=Jt(i)?{}:{id:"".concat(i,"-").concat(h)};return w.createElement(Ml,fx({},tr(f,!0),o,x,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}Km.displayName="LabelList";function ov(e){var{label:t}=e;return t?t===!0?w.createElement(Km,{key:"labelList-implicit"}):w.isValidElement(t)||PN(t)?w.createElement(Km,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Km,fx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(null,arguments)}var DN=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=jt("recharts-dot",a);return t===+t&&r===+r&&n===+n?w.createElement("circle",sw({},Ps(e),Qj(e),{className:i,cx:t,cy:r,r:n})):null},EI=e=>e.graphicalItems.polarItems,One=fe([or,nh],iN),FN=fe([EI,Fr,One],lN),Dne=fe([FN],oN),IN=fe([Dne,Q2],cN),Fne=fe([IN,Fr,FN],dN),Ine=fe([IN,Fr,FN],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=$t(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$t(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),EC=()=>{},Rne=fe([Fr,_F,EC,Ine,EC,vt,or],hN),CI=fe([Fr,vt,IN,Fne,rh,or,Rne],mN),Mne=fe([CI,Fr,kd],gN);fe([Fr,CI,Mne,or],yN);var Lne={radiusAxis:{},angleAxis:{}},TI=Za({name:"polarAxis",initialState:Lne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:awe,removeRadiusAxis:swe,addAngleAxis:iwe,removeAngleAxis:lwe}=TI.actions,$ne=TI.reducer;function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){Bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bne(e,t,r){return(t=Une(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Une(e){var t=zne(e,"string");return typeof t=="symbol"?t:t+""}function zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wne=(e,t)=>t,RN=fe([EI,Wne],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Vne=[],MN=(e,t,r)=>(r==null?void 0:r.length)===0?Vne:r,AI=fe([Q2,RN,MN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>TC(TC({},t.presentationProps),i.props))),a!=null)return a}}),Hne=fe([AI,RN,MN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=$t(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:wo(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),Kne=fe([AI,RN,MN,Jr],(e,t,r,n)=>{if(!(t==null||e==null))return Uae({offset:n,pieSettings:t,displayedData:e,cells:r})}),PI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(PI);var qne=PI.isPlainObject;const Gne=Es(qne);function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){Xne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xne(e,t,r){return(t=Qne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qne(e){var t=Yne(e,"string");return typeof t=="symbol"?t:t+""}function Yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hx.apply(null,arguments)}var OC=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},Jne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zne=e=>{var t=Zr(e,Jne),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=w.useRef(),[m,p]=w.useState(-1),x=w.useRef(a),g=w.useRef(i),y=w.useRef(l),b=w.useRef(r),v=w.useRef(n),N=yd(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var M=h.current.getTotalLength();M&&p(M)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var _=jt("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",hx({},tr(t,!0),{className:_,d:OC(r,n,a,i,l)})));var j=x.current,k=g.current,E=y.current,T=b.current,C=v.current,A="0px ".concat(m===-1?1:m,"px"),S="".concat(m,"px 0px"),B=H6(["strokeDasharray"],u,c);return w.createElement(vd,{animationId:N,key:N,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},M=>{var Y=Lt(j,a,M),z=Lt(k,i,M),R=Lt(E,l,M),H=Lt(T,r,M),U=Lt(C,n,M);h.current&&(x.current=Y,g.current=z,y.current=R,b.current=H,v.current=U);var te=M>0?{transition:B,strokeDasharray:S}:{strokeDasharray:A};return w.createElement("path",hx({},tr(t,!0),{className:_,d:OC(H,U,Y,z,R),ref:h,style:PC(PC({},te),t.style)}))})},eae=["option","shapeType","propTransformer","activeClassName","isActive"];function tae(e,t){if(e==null)return{};var r,n,a=rae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nae(e,t,r){return(t=aae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aae(e){var t=sae(e,"string");return typeof t=="symbol"?t:t+""}function sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iae(e,t){return mx(mx({},t),e)}function lae(e,t){return e==="symbols"}function FC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(X6,r);case"trapezoid":return w.createElement(Zne,r);case"sector":return w.createElement(J6,r);case"symbols":if(lae(t))return w.createElement(r2,r);break;default:return null}}function oae(e){return w.isValidElement(e)?e.props:e}function OI(e){var{option:t,shapeType:r,propTransformer:n=iae,activeClassName:a="recharts-active-shape",isActive:i}=e,l=tae(e,eae),o;if(w.isValidElement(t))o=w.cloneElement(t,mx(mx({},l),oae(t)));else if(typeof t=="function")o=t(l);else if(Gne(t)&&typeof t!="boolean"){var c=n(t,l);o=w.createElement(FC,{shapeType:r,elementProps:c})}else{var u=l;o=w.createElement(FC,{shapeType:r,elementProps:u})}return i?w.createElement(Sr,{className:a},o):o}var LN=(e,t)=>{var r=yr();return(n,a)=>i=>{e==null||e(n,a,i),r(BF({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},$N=e=>{var t=yr();return(r,n)=>a=>{e==null||e(r,n,a),t(rte())}},BN=(e,t)=>{var r=yr();return(n,a)=>i=>{e==null||e(n,a,i),r(nte({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function cv(e){var{fn:t,args:r}=e,n=yr(),a=Xn();return w.useEffect(()=>{if(!a){var i=t(r);return n(Zee(i)),()=>{n(ete(i))}}},[t,r,n,a]),null}var DI=()=>{};function UN(e){var{legendPayload:t}=e,r=yr(),n=Xn();return w.useEffect(()=>n?DI:(r(z6(t)),()=>{r(W6(t))}),[r,n,t]),null}function cae(e){var{legendPayload:t}=e,r=yr(),n=qe(vt);return w.useEffect(()=>n!=="centric"&&n!=="radial"?DI:(r(z6(t)),()=>{r(W6(t))}),[r,n,t]),null}var Ty,uae=()=>{var[e]=w.useState(()=>i0("uid-"));return e},dae=(Ty=jA.useId)!==null&&Ty!==void 0?Ty:uae;function fae(e,t){var r=dae();return t||(e?"".concat(e,"-").concat(r):r)}var hae=w.createContext(void 0),uv=e=>{var{id:t,type:r,children:n}=e,a=fae("recharts-".concat(r),t);return w.createElement(hae.Provider,{value:a},n(a))},mae={cartesianItems:[],polarItems:[]},FI=Za({name:"graphicalItems",initialState:mae,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=nl(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=nl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=nl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:pae,replaceCartesianGraphicalItem:xae,removeCartesianGraphicalItem:gae,addPolarGraphicalItem:vae,removePolarGraphicalItem:yae}=FI.actions,bae=FI.reducer;function zN(e){var t=yr(),r=w.useRef(null);return w.useEffect(()=>{r.current===null?t(pae(e)):r.current!==e&&t(xae({prev:r.current,next:e})),r.current=e},[t,e]),w.useEffect(()=>()=>{r.current&&(t(gae(r.current)),r.current=null)},[t]),null}function wae(e){var t=yr();return w.useEffect(()=>(t(vae(e)),()=>{t(yae(e))}),[t,e]),null}var jae=["onMouseEnter","onClick","onMouseLeave"],Nae=["id"],_ae=["id"];function WN(e,t){if(e==null)return{};var r,n,a=kae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){Sae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sae(e,t,r){return(t=Eae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eae(e){var t=Cae(e,"string");return typeof t=="symbol"?t:t+""}function Cae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}function Tae(e){var t=w.useMemo(()=>Yj(e.children,Td),[e.children]),r=qe(n=>Hne(n,e.id,t));return r==null?null:w.createElement(cae,{legendPayload:r})}function Aae(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:o,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:wo(o,t),hide:c,type:u,color:l,unit:""}}}var Pae=(e,t)=>e>t?"start":e<t?"end":"middle",Oae=(e,t,r)=>Wn(typeof t=="function"?t(e):t,r,r*.8),Dae=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,o=O6(i,l),c=a+Wn(e.cx,i,i/2),u=n+Wn(e.cy,l,l/2),d=Wn(e.innerRadius,o,0),f=Oae(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Fae=(e,t)=>{var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Iae(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Rae=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=jt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return w.createElement(Eu,co({},t,{type:"linear",className:r}))},Mae=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var a=jt("recharts-pie-label-text",Iae(e));return w.createElement(lv,co({},t,{alignmentBaseline:"middle",className:a}),n)};function Lae(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var o=Ps(r),c=tr(a,!1),u=tr(i,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,x=Vr(h.cx,h.cy,h.outerRadius+d,p),g=nr(nr(nr(nr({},o),h),{},{stroke:"none"},c),{},{index:m,textAnchor:Pae(x.x,h.cx)},x),y=nr(nr(nr(nr({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Vr(h.cx,h.cy,h.outerRadius,p),x],key:"line"});return w.createElement(Sr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&Rae(i,y),Mae(a,g,$t(h,l)))});return w.createElement(Sr,{className:"recharts-pie-labels"},f)}function $ae(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(ov,{label:a}):w.createElement(Lae,{sectors:t,props:r,showLabels:n})}function Bae(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=qe(oo),{onMouseEnter:l,onClick:o,onMouseLeave:c}=a,u=WN(a,jae),d=LN(l,a.dataKey),f=$N(c),h=BN(o,a.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var x=r&&String(p)===i,g=i?n:null,y=x?r:g,b=nr(nr({},m),{},{stroke:m.stroke,tabIndex:-1,[L6]:p,[$6]:a.dataKey});return w.createElement(Sr,co({tabIndex:-1,className:"recharts-pie-sector"},K0(u,m,p),{onMouseEnter:d(m,p),onMouseLeave:f(m,p),onClick:h(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),w.createElement(OI,co({option:y,isActive:x,shapeType:"sector"},b)))}))}function Uae(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Fae(o,c),p=Math.abs(m),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(j=>$t(j,u,0)!==0).length,y=(p>=360?g:g-1)*x,b=p-g*h-y,v=n.reduce((j,k)=>{var E=$t(k,u,0);return j+(Qe(E)?E:0)},0),N;if(v>0){var _;N=n.map((j,k)=>{var E=$t(j,u,0),T=$t(j,d,k),C=Dae(r,i,j),A=(Qe(E)?E:0)/v,S,B=nr(nr({},j),a&&a[k]&&a[k].props);k?S=_.endAngle+un(m)*x*(E!==0?1:0):S=o;var M=S+un(m)*((E!==0?h:0)+A*b),Y=(S+M)/2,z=(C.innerRadius+C.outerRadius)/2,R=[{name:T,value:E,payload:B,dataKey:u,type:f}],H=Vr(C.cx,C.cy,z,Y);return _=nr(nr(nr(nr({},r.presentationProps),{},{percent:A,cornerRadius:l,name:T,tooltipPayload:R,midAngle:Y,middleRadius:z,tooltipPosition:H},B),C),{},{value:E,startAngle:S,endAngle:M,payload:B,paddingAngle:un(m)*x}),_})}return N}function zae(e){var{showLabels:t,sectors:r,children:n}=e,a=w.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return w.createElement(Tne,{value:t?a:void 0},n)}function Wae(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=yd(t,"recharts-pie-"),m=r.current,[p,x]=w.useState(!1),g=w.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),y=w.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return w.createElement(zae,{showLabels:!p,sectors:n},w.createElement(vd,{animationId:h,begin:i,duration:l,isActive:a,easing:o,onAnimationStart:y,onAnimationEnd:g,key:h},b=>{var v=[],N=n&&n[0],_=N==null?void 0:N.startAngle;return n==null||n.forEach((j,k)=>{var E=m&&m[k],T=k>0?Nc(j,"paddingAngle",0):0;if(E){var C=Lt(E.endAngle-E.startAngle,j.endAngle-j.startAngle,b),A=nr(nr({},j),{},{startAngle:_+T,endAngle:_+C+T});v.push(A),_=A.endAngle}else{var{endAngle:S,startAngle:B}=j,M=Lt(0,S-B,b),Y=nr(nr({},j),{},{startAngle:_+T,endAngle:_+M+T});v.push(Y),_=Y.endAngle}}),r.current=v,w.createElement(Sr,null,w.createElement(Bae,{sectors:v,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),w.createElement($ae,{showLabels:!p,sectors:n,props:t}),t.children)}var Vae={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Nl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Hae(e){var{id:t}=e,r=WN(e,Nae),{hide:n,className:a,rootTabIndex:i}=e,l=w.useMemo(()=>Yj(e.children,Td),[e.children]),o=qe(d=>Kne(d,t,l)),c=w.useRef(null),u=jt("recharts-pie",a);return n||o==null?(c.current=null,w.createElement(Sr,{tabIndex:i,className:u})):w.createElement(w.Fragment,null,w.createElement(cv,{fn:Aae,args:nr(nr({},e),{},{sectors:o})}),w.createElement(Sr,{tabIndex:i,className:u},w.createElement(Wae,{props:nr(nr({},r),{},{sectors:o}),previousSectorsRef:c})))}function VN(e){var t=Zr(e,Vae),{id:r}=t,n=WN(t,_ae),a=Ps(n);return w.createElement(uv,{id:r,type:"pie"},i=>w.createElement(w.Fragment,null,w.createElement(wae,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),w.createElement(Tae,co({},n,{id:i})),w.createElement(Hae,co({},n,{id:i}))))}VN.displayName="Pie";function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){Kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kae(e,t,r){return(t=qae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qae(e){var t=Gae(e,"string");return typeof t=="symbol"?t:t+""}function Gae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xae={xAxis:{},yAxis:{},zAxis:{}},II=Za({name:"cartesianAxis",initialState:Xae,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=MC(MC({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Qae,removeXAxis:Yae,addYAxis:Jae,removeYAxis:Zae,addZAxis:owe,removeZAxis:cwe,updateYAxisWidth:ese}=II.actions,tse=II.reducer,rse=fe([Jr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),nse=fe([rse,wl,jl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),dv=()=>qe(nse),ase=()=>qe(Wte);function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sse(e,t,r){return(t=ise(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ise(e){var t=lse(e,"string");return typeof t=="symbol"?t:t+""}function lse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ose=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=$C($C({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},tr(a,!1)),Qj(a)),o;return w.isValidElement(a)?o=w.cloneElement(a,l):typeof a=="function"?o=a(l):o=w.createElement(DN,l),w.createElement(Sr,{className:"recharts-active-dot"},o)};function iw(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=qe(oo),l=ase();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return Jt(o)?null:ose({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var cse="Invariant failed";function use(e,t){throw new Error(cse)}var dse=["x","y"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fse(e,t,r){return(t=hse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pse(e,t){if(e==null)return{};var r,n,a=xse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gse(e,t){var{x:r,y:n}=e,a=pse(e,dse),i="".concat(r),l=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return tf(tf(tf(tf(tf({},t),a),l?{x:l}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function HN(e){return w.createElement(OI,lw({shapeType:"rectangle",propTransformer:gse,activeClassName:"recharts-active-bar"},e))}var vse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Qe(t))return t;var i=Qe(n)||Jt(n);return i?t(n,a):(i||use(),r)}},yse={},RI=Za({name:"errorBars",initialState:yse,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:uwe,replaceErrorBar:dwe,removeErrorBar:fwe}=RI.actions,bse=RI.reducer,wse=["children"];function jse(e,t){if(e==null)return{};var r,n,a=Nse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _se={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kse=w.createContext(_se);function MI(e){var{children:t}=e,r=jse(e,wse);return w.createElement(kse.Provider,{value:r},t)}function fv(e,t){var r,n,a=qe(u=>kl(u,e)),i=qe(u=>Sl(u,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ea.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ca.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function KN(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=dv(),{needClipX:i,needClipY:l,needClip:o}=fv(t,r);if(!o)return null;var{x:c,y:u,width:d,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?c:c-d/2,y:l?u:u-f/2,width:i?d:d*2,height:l?f:f*2}))}var Sse=["onMouseEnter","onMouseLeave","onClick"],Ese=["value","background","tooltipPosition"],Cse=["id"],Tse=["onMouseEnter","onClick","onMouseLeave"];function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(null,arguments)}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){Ase(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ase(e,t,r){return(t=Pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pse(e){var t=Ose(e,"string");return typeof t=="symbol"?t:t+""}function Ose(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function px(e,t){if(e==null)return{};var r,n,a=Dse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fse=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:wo(r,t),payload:e}]};function Ise(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:wo(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function Rse(e){var t=qe(oo),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,u=px(i,Sse),d=LN(l,n),f=$N(o),h=BN(c,n);if(!a||r==null)return null;var m=tr(a,!1);return w.createElement(w.Fragment,null,r.map((p,x)=>{var{value:g,background:y,tooltipPosition:b}=p,v=px(p,Ese);if(!y)return null;var N=d(p,x),_=f(p,x),j=h(p,x),k=ra(ra(ra(ra(ra({option:a,isActive:String(x)===t},v),{},{fill:"#eee"},y),m),K0(u,p,x)),{},{onMouseEnter:N,onMouseLeave:_,onClick:j,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return w.createElement(HN,uo({key:"background-bar-".concat(k.index)},k))}))}function Mse(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return ra(ra({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return w.createElement(ON,{value:t?a:void 0},r)}function Lse(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,o=qe(oo),c=qe(ZF),u=r&&String(i)===o&&(c==null||l===c),d=u?r:t;return w.createElement(HN,uo({},n,a,{isActive:u,option:d,index:i,dataKey:l}))}function $se(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return w.createElement(HN,uo({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function Bse(e){var{data:t,props:r}=e,n=Ps(r),{id:a}=n,i=px(n,Cse),{shape:l,dataKey:o,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:f}=r,h=px(r,Tse),m=LN(u,o),p=$N(f),x=BN(d,o);return t?w.createElement(w.Fragment,null,t.map((g,y)=>w.createElement(Sr,uo({className:"recharts-bar-rectangle"},K0(h,g,y),{onMouseEnter:m(g,y),onMouseLeave:p(g,y),onClick:x(g,y),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),c?w.createElement(Lse,{shape:l,activeBar:c,baseProps:i,entry:g,index:y,dataKey:o}):w.createElement($se,{shape:l,baseProps:i,entry:g,index:y,dataKey:o})))):null}function Use(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=yd(t,"recharts-bar-"),[m,p]=w.useState(!1),x=!m,g=w.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),y=w.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return w.createElement(Mse,{showLabels:x,rects:n},w.createElement(vd,{animationId:h,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:g,onAnimationStart:y,key:h},b=>{var v=b===1?n:n==null?void 0:n.map((N,_)=>{var j=f&&f[_];if(j)return ra(ra({},N),{},{x:Lt(j.x,N.x,b),y:Lt(j.y,N.y,b),width:Lt(j.width,N.width,b),height:Lt(j.height,N.height,b)});if(a==="horizontal"){var k=Lt(0,N.height,b);return ra(ra({},N),{},{y:N.y+N.height-k,height:k})}var E=Lt(0,N.width,b);return ra(ra({},N),{},{width:E})});return b>0&&(r.current=v??null),v==null?null:w.createElement(Sr,null,w.createElement(Bse,{props:t,data:v}))}),w.createElement(ov,{label:t.label}),t.children)}function zse(e){var t=w.useRef(null);return w.createElement(Use,{previousRectanglesRef:t,props:e})}var LI=0,Wse=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$t(e,t)}};class Vse extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=jt("recharts-bar",a),f=u;return w.createElement(Sr,{className:d,id:u},o&&w.createElement("defs",null,w.createElement(KN,{clipPathId:f,xAxisId:i,yAxisId:l})),w.createElement(Sr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(Rse,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),w.createElement(zse,this.props)))}}var Hse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Nl.isSsr,legendType:"rect",minPointSize:LI,xAxisId:0,yAxisId:0};function Kse(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=fv(t,r),h=Q0(),m=Xn(),p=Yj(e.children,Td),x=qe(b=>bie(b,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var g,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?g=0:g=h==="vertical"?y.height/2:y.width/2,w.createElement(MI,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Wse,errorBarOffset:g},w.createElement(Vse,uo({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function qse(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p}=e,x=t==="horizontal"?o:l,g=d?x.scale.domain():null,y=jX({numericAxis:x});return f.map((b,v)=>{var N,_,j,k,E,T;d?N=gX(d[v],g):(N=$t(b,r),Array.isArray(N)||(N=[y,N]));var C=vse(n,LI)(N[1],v);if(t==="horizontal"){var A,[S,B]=[o.scale(N[0]),o.scale(N[1])];_=U4({axis:l,ticks:c,bandSize:i,offset:a.offset,entry:b,index:v}),j=(A=B??S)!==null&&A!==void 0?A:void 0,k=a.size;var M=S-B;if(E=_a(M)?0:M,T={x:_,y:h.top,width:k,height:h.height},Math.abs(C)>0&&Math.abs(E)<Math.abs(C)){var Y=un(E||C)*(Math.abs(C)-Math.abs(E));j-=Y,E+=Y}}else{var[z,R]=[l.scale(N[0]),l.scale(N[1])];if(_=z,j=U4({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:b,index:v}),k=R-z,E=a.size,T={x:h.left,y:j,width:h.width,height:E},Math.abs(C)>0&&Math.abs(k)<Math.abs(C)){var H=un(k||C)*(Math.abs(C)-Math.abs(k));k+=H}}if(_==null||j==null||k==null||E==null)return null;var U=ra(ra({},b),{},{x:_,y:j,width:k,height:E,value:d?N:N[1],payload:b,background:T,tooltipPosition:{x:_+k/2,y:j+E/2},parentViewBox:p},m&&m[v]&&m[v].props);return U}).filter(Boolean)}function Gse(e){var t=Zr(e,Hse),r=Xn();return w.createElement(uv,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(UN,{legendPayload:Fse(t)}),w.createElement(cv,{fn:Ise,args:t}),w.createElement(zN,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:R6(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(Kse,uo({},t,{id:n}))))}var qN=w.memo(Gse);qN.displayName="Bar";function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){Xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xse(e,t,r){return(t=Qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=Yse(e,"string");return typeof t=="symbol"?t:t+""}function Yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jse=(e,t)=>t,Zse=(e,t,r)=>r,eie=(e,t,r,n)=>n,tie=(e,t,r,n,a)=>a,uh=fe([sh,tie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),rie=fe([uh],e=>e==null?void 0:e.maxBarSize),nie=(e,t,r,n,a,i)=>i,WC=(e,t,r)=>{var n=r??e;if(!Jt(n))return Wn(n,t,0)},aie=fe([vt,sh,Jse,Zse,eie],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),sie=(e,t,r,n)=>{var a=vt(e);return a==="horizontal"?p0(e,"yAxis",r,n):p0(e,"xAxis",t,n)},iie=(e,t,r)=>{var n=vt(e);return n==="horizontal"?eC(e,"xAxis",t):eC(e,"yAxis",r)},lie=(e,t,r)=>{var n={},a=e.filter(ev),i=e.filter(u=>u.stackId==null),l=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(l).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=WC(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=WC(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},oie=fe([aie,JZ,iie],lie),cie=(e,t,r,n,a)=>{var i,l,o=uh(e,t,r,n,a);if(o!=null){var c=vt(e),u=YD(e),{maxBarSize:d}=o,f=Jt(d)?u:d,h,m;return c==="horizontal"?(h=Oi(e,"xAxis",t,n),m=Pi(e,"xAxis",t,n)):(h=Oi(e,"yAxis",r,n),m=Pi(e,"yAxis",r,n)),(i=(l=Sc(h,m,!0))!==null&&l!==void 0?l:f)!==null&&i!==void 0?i:0}},$I=(e,t,r,n)=>{var a=vt(e),i,l;return a==="horizontal"?(i=Oi(e,"xAxis",t,n),l=Pi(e,"xAxis",t,n)):(i=Oi(e,"yAxis",r,n),l=Pi(e,"yAxis",r,n)),Sc(i,l)};function uie(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Wn(e,r,0,!0),o,c=[];if(Sn(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((y,b)=>y+(b.barSize||0),0);f+=(i-1)*l,f>=r&&(f-=(i-1)*l,l=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-l,size:0};o=n.reduce((y,b)=>{var v,N={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+l,size:u?d:(v=b.barSize)!==null&&v!==void 0?v:0}},_=[...y,N];return m=_[_.length-1].position,_},c)}else{var p=Wn(t,r,0,!0);r-2*p-(i-1)*l<=0&&(l=0);var x=(r-2*p-(i-1)*l)/i;x>1&&(x>>=0);var g=Sn(a)?Math.min(x,a):x;o=n.reduce((y,b,v)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(x+l)*v+(x-g)/2,size:g}}],c)}return o}}var die=(e,t,r,n,a,i,l)=>{var o=Jt(l)?t:l,c=uie(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(u=>sm(sm({},u),{},{position:sm(sm({},u.position),{},{offset:u.position.offset-a/2})}))),c},fie=fe([oie,YD,YZ,JD,cie,$I,rie],die),hie=(e,t,r,n)=>Oi(e,"xAxis",t,n),mie=(e,t,r,n)=>Oi(e,"yAxis",r,n),pie=(e,t,r,n)=>Pi(e,"xAxis",t,n),xie=(e,t,r,n)=>Pi(e,"yAxis",r,n),gie=fe([fie,uh],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),vie=(e,t)=>{var r=Zg(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},yie=fe([sie,uh],vie),bie=fe([Jr,j2,hie,mie,pie,xie,gie,vt,th,$I,yie,uh,nie],(e,t,r,n,a,i,l,o,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:g}=f,y;if(g!=null&&g.length>0?y=g:y=m==null?void 0:m.slice(p,x+1),y!=null)return qse({layout:o,barSettings:f,pos:l,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:h})}}),BI=e=>{var{chartData:t}=e,r=yr(),n=Xn();return w.useEffect(()=>n?()=>{}:(r(cC(t)),()=>{r(cC(void 0))}),[t,r,n]),null},VC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},UI=Za({name:"brush",initialState:VC,reducers:{setBrushSettings(e,t){return t.payload==null?VC:t.payload}}}),{setBrushSettings:hwe}=UI.actions,wie=UI.reducer;function jie(e,t,r){return(t=Nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nie(e){var t=_ie(e,"string");return typeof t=="symbol"?t:t+""}function _ie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GN{static create(t){return new GN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}jie(GN,"EPS",1e-4);function kie(e){return(e%180+180)%180}var Sie=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=kie(a),l=i*Math.PI/180,o=Math.atan(n/r),c=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},Eie={dots:[],areas:[],lines:[]},zI=Za({name:"referenceElements",initialState:Eie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=nl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=nl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=nl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:mwe,removeDot:pwe,addArea:xwe,removeArea:gwe,addLine:vwe,removeLine:ywe}=zI.actions,Cie=zI.reducer,Tie=w.createContext(void 0),Aie=e=>{var{children:t}=e,[r]=w.useState("".concat(i0("recharts"),"-clip")),n=dv();if(n==null)return null;var{x:a,y:i,width:l,height:o}=n;return w.createElement(Tie.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function ad(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Pie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Sie(n,r)}function Oie(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function xx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Die(e,t){return WI(e,t+1)}function Fie(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,c=0,u=1,d=l,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:WI(n,u)};var x=c,g,y=()=>(g===void 0&&(g=r(p,x)),g),b=p.coordinate,v=c===0||xx(e,b,y,d,o);v||(c=0,d=l,u+=1),v&&(d=b+e*(y()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){Iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iie(e,t,r){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rie(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lie(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,u=function(h){var m=i[h],p,x=()=>(p===void 0&&(p=r(m,h)),p);if(h===l-1){var g=e*(m.coordinate+e*x()/2-c);i[h]=m=On(On({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[h]=m=On(On({},m),{},{tickCoord:m.coordinate});var y=xx(e,m.tickCoord,x,o,c);y&&(c=m.tickCoord-e*(x()/2+a),i[h]=On(On({},m),{},{isShow:!0}))},d=l-1;d>=0;d--)u(d);return i}function $ie(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:c,end:u}=t;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);l[o-1]=d=On(On({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=xx(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),l[o-1]=On(On({},d),{},{isShow:!0}))}for(var p=i?o-1:o,x=function(b){var v=l[b],N,_=()=>(N===void 0&&(N=r(v,b)),N);if(b===0){var j=e*(v.coordinate-e*_()/2-c);l[b]=v=On(On({},v),{},{tickCoord:j<0?v.coordinate-j*e:v.coordinate})}else l[b]=v=On(On({},v),{},{tickCoord:v.coordinate});var k=xx(e,v.tickCoord,_,c,u);k&&(c=v.tickCoord+e*(_()/2+a),l[b]=On(On({},v),{},{isShow:!0}))},g=0;g<p;g++)x(g);return l}function XN(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(Qe(c)||Nl.isSsr){var h;return(h=Die(a,Qe(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",x=d&&p==="width"?Tf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(v,N)=>{var _=typeof u=="function"?u(v.value,N):v.value;return p==="width"?Pie(Tf(_,{fontSize:t,letterSpacing:r}),x,f):Tf(_,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?un(a[1].coordinate-a[0].coordinate):1,b=Oie(i,y,p);return c==="equidistantPreserveStart"?Fie(y,b,g,a,l):(c==="preserveStart"||c==="preserveStartEnd"?m=$ie(y,b,g,a,l,c==="preserveStartEnd"):m=Lie(y,b,g,a,l),m.filter(v=>v.isShow))}var Bie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,u=l+c+o+(r?n:0);return Math.round(u)}return 0},Uie=["axisLine","width","height","className","hide","ticks"],zie=["viewBox"],Wie=["viewBox"];function ow(e,t){if(e==null)return{};var r,n,a=Vie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(null,arguments)}function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){Hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hie(e,t,r){return(t=Kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Gie(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Gr(Gr(Gr({},c),tr(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!l||i==="bottom"&&l);u=Gr(Gr({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!l||i==="right"&&l);u=Gr(Gr({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",Cc({},u,{className:jt("recharts-cartesian-axis-line",Nc(o,"className"))}))}function Xie(e,t,r,n,a,i,l,o,c){var u,d,f,h,m,p,x=o?-1:1,g=e.tickSize||l,y=Qe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!o*a,f=h-x*g,p=f-x*c,m=y;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-x*g,m=u-x*c,p=y;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+x*g,m=u+x*c,p=y;break;default:u=d=e.coordinate,h=r+ +o*a,f=h+x*g,p=f+x*c,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Qie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Yie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Jie(e){var{option:t,tickProps:r,value:n}=e,a,i=jt(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Gr(Gr({},r),{},{className:i}));else if(typeof t=="function")a=t(Gr(Gr({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=jt(l,t==null?void 0:t.className)),a=w.createElement(lv,Cc({},r,{className:l}),n)}return a}function Zie(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:o,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:p,tickSize:x,tickMargin:g,fontSize:y,letterSpacing:b,getTicksConfig:v,events:N}=e,_=XN(Gr(Gr({},v),{},{ticks:t}),y,b),j=Qie(u,d),k=Yie(u,d),E=Ps(v),T=tr(r,!1),C=Gr(Gr({},E),{},{fill:"none"},tr(n,!1)),A=_.map((S,B)=>{var{line:M,tick:Y}=Xie(S,f,h,m,p,u,x,d,g),z=Gr(Gr(Gr(Gr({textAnchor:j,verticalAnchor:k},E),{},{stroke:"none",fill:a},T),Y),{},{index:B,payload:S,visibleTicksCount:_.length,tickFormatter:i,padding:o},c);return w.createElement(Sr,Cc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},K0(N,S,B)),n&&w.createElement("line",Cc({},C,M,{className:jt("recharts-cartesian-axis-tick-line",Nc(n,"className"))})),r&&w.createElement(Jie,{option:r,tickProps:z,value:"".concat(typeof i=="function"?i(S.value,B):S.value).concat(l||"")}))});return A.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},A):null}var ele=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:o}=e,c=ow(e,Uie),[u,d]=w.useState(""),[f,h]=w.useState(""),m=w.useRef([]);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return Bie({ticks:m.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=w.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(g);var y=g[0];if(y){var b=window.getComputedStyle(y),v=b.fontSize,N=b.letterSpacing;(v!==u||N!==f)&&(d(v),h(N))}}},[u,f]);return l||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(Sr,{className:jt("recharts-cartesian-axis",i),ref:p},w.createElement(Gie,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ps(e)}),w.createElement(Zie,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),w.createElement(fne,{x:e.x,y:e.y,width:e.width,height:e.height},w.createElement(jne,{label:e.label}),e.children))}),tle=w.memo(ele,(e,t)=>{var{viewBox:r}=e,n=ow(e,zie),{viewBox:a}=t,i=ow(t,Wie);return ad(r,a)&&ad(n,i)}),YN=w.forwardRef((e,t)=>{var r=Zr(e,QN);return w.createElement(tle,Cc({},r,{ref:t}))});YN.displayName="CartesianAxis";var rle=["x1","y1","x2","y2","key"],nle=["offset"],ale=["xAxisId","yAxisId"],sle=["xAxisId","yAxisId"];function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){ile(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ile(e,t,r){return(t=lle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lle(e){var t=ole(e,"string");return typeof t=="symbol"?t:t+""}function ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(null,arguments)}function gx(e,t){if(e==null)return{};var r,n,a=cle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ule=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return w.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VI(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,c=gx(t,rle),u=Ps(c),{offset:d}=u,f=gx(u,nle);r=w.createElement("line",tc({},f,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function dle(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=gx(e,ale),c=a.map((u,d)=>{var f=Mn(Mn({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return VI(n,f)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function fle(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=gx(e,sle),c=a.map((u,d)=>{var f=Mn(Mn({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return VI(n,f)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function hle(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+l-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function mle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+l-f:u[h+1]-f;if(p<=0)return null;var x=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ple=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return F6(XN(Mn(Mn(Mn({},QN),r),{},{ticks:I6(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},xle=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return F6(XN(Mn(Mn(Mn({},QN),r),{},{ticks:I6(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},gle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Tu(e){var t=_2(),r=k2(),n=B6(),a=Mn(Mn({},Zr(e,gle)),{},{x:Qe(e.x)?e.x:n.left,y:Qe(e.y)?e.y:n.top,width:Qe(e.width)?e.width:n.width,height:Qe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=Xn(),x=qe(T=>tC(T,"xAxis",i,p)),g=qe(T=>tC(T,"yAxis",l,p));if(!Qe(u)||u<=0||!Qe(d)||d<=0||!Qe(o)||o!==+o||!Qe(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||ple,b=a.horizontalCoordinatesGenerator||xle,{horizontalPoints:v,verticalPoints:N}=a;if((!v||!v.length)&&typeof b=="function"){var _=h&&h.length,j=b({yAxis:g?Mn(Mn({},g),{},{ticks:_?h:g.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);Cf(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(v=j)}if((!N||!N.length)&&typeof y=="function"){var k=m&&m.length,E=y({xAxis:x?Mn(Mn({},x),{},{ticks:k?m:x.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);Cf(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(N=E)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(ule,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(hle,tc({},a,{horizontalPoints:v})),w.createElement(mle,tc({},a,{verticalPoints:N})),w.createElement(dle,tc({},a,{offset:n,horizontalPoints:v,xAxis:x,yAxis:g})),w.createElement(fle,tc({},a,{offset:n,verticalPoints:N,xAxis:x,yAxis:g})))}Tu.displayName="CartesianGrid";var HI=(e,t,r,n)=>Oi(e,"xAxis",t,n),KI=(e,t,r,n)=>Pi(e,"xAxis",t,n),qI=(e,t,r,n)=>Oi(e,"yAxis",r,n),GI=(e,t,r,n)=>Pi(e,"yAxis",r,n),vle=fe([vt,HI,qI,KI,GI],(e,t,r,n,a)=>Ii(e,"xAxis")?Sc(t,n,!1):Sc(r,a,!1)),yle=(e,t,r,n,a)=>a;function ble(e){return e.type==="line"}var wle=fe([sh,yle],(e,t)=>e.filter(ble).find(r=>r.id===t)),jle=fe([vt,HI,qI,KI,GI,wle,vle,th],(e,t,r,n,a,i,l,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return Vle({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:l,displayedData:m})}}),Nle=["id"],_le=["type","layout","connectNulls","needClip"],kle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){Sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sle(e,t,r){return(t=Ele(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ele(e){var t=Cle(e,"string");return typeof t=="symbol"?t:t+""}function Cle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JN(e,t){if(e==null)return{};var r,n,a=Tle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(null,arguments)}var Ale=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:wo(r,t),payload:e}]};function Ple(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:wo(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var XI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ole(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Dle=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return XI(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,l]:[l];return[...Ole(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Fle(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=jt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=w.createElement(DN,Tc({},t,{className:n}))}return r}function Ile(e,t){return e==null?!1:t?!0:e.length===1}function Rle(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!Ile(r,a))return null;var{id:o}=n,c=JN(n,Nle),u=Cg(a),d=Ps(c),f=tr(a,!0),h=r.map((p,x)=>{var g=Pa(Pa(Pa({key:"dot-".concat(x),r:3},d),f),{},{index:x,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return Fle(a,g)}),m={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return w.createElement(Sr,Tc({className:"recharts-line-dots",key:"dots"},m),h)}function Mle(e){var{showLabels:t,children:r,points:n}=e,a=w.useMemo(()=>n==null?void 0:n.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Pa(Pa({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(ON,{value:t?a:null},r)}function XC(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:u}=i,d=JN(i,_le),f=Pa(Pa({},tr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return w.createElement(w.Fragment,null,(n==null?void 0:n.length)>1&&w.createElement(Eu,Tc({},f,{pathRef:r})),w.createElement(Rle,{points:n,clipPathId:t,props:i}))}function Lle(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function $le(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:x,onAnimationStart:g}=r,y=a.current,b=yd(r,"recharts-line-"),[v,N]=w.useState(!1),_=!v,j=w.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),k=w.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]),E=Lle(n.current),T=i.current;return w.createElement(Mle,{points:l,showLabels:_},r.children,w.createElement(vd,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:j,onAnimationStart:k,key:b},C=>{var A=Lt(T,E+T,C),S=Math.min(A,E),B;if(c)if(o){var M="".concat(o).split(/[,\s]+/gim).map(R=>parseFloat(R));B=Dle(S,E,M)}else B=XI(E,S);else B=o==null?void 0:String(o);if(y){var Y=y.length/l.length,z=C===1?l:l.map((R,H)=>{var U=Math.floor(H*Y);if(y[U]){var te=y[U];return Pa(Pa({},R),{},{x:Lt(te.x,R.x,C),y:Lt(te.y,R.y,C)})}return h?Pa(Pa({},R),{},{x:Lt(m*2,R.x,C),y:Lt(p/2,R.y,C)}):Pa(Pa({},R),{},{x:R.x,y:R.y})});return a.current=z,w.createElement(XC,{props:r,points:z,clipPathId:t,pathRef:n,strokeDasharray:B})}return C>0&&E>0&&(a.current=l,i.current=S),w.createElement(XC,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:B})}),w.createElement(ov,{label:r.label}))}function Ble(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),a=w.useRef(0),i=w.useRef(null);return w.createElement($le,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Ule=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:$t(e.payload,t)});class zle extends w.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:l,yAxisId:o,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var p=jt("recharts-line",i),x=h,{r:g=3,strokeWidth:y=2}=(t=tr(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Cg(n),v=g*2+y;return w.createElement(w.Fragment,null,w.createElement(Sr,{className:p},m&&w.createElement("defs",null,w.createElement(KN,{clipPathId:x,xAxisId:l,yAxisId:o}),!b&&w.createElement("clipPath",{id:"clipPath-dots-".concat(x)},w.createElement("rect",{x:u-v/2,y:c-v/2,width:d+v,height:f+v}))),w.createElement(MI,{xAxisId:l,yAxisId:o,data:a,dataPointFormatter:Ule,errorBarOffset:0},w.createElement(Ble,{props:this.props,clipPathId:x}))),w.createElement(iw,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var QI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Nl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Wle(e){var t=Zr(e,QI),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:x}=t,g=JN(t,kle),{needClip:y}=fv(m,p),b=dv(),v=Q0(),N=Xn(),_=qe(C=>jle(C,m,p,N,x));if(v!=="horizontal"&&v!=="vertical"||_==null||b==null)return null;var{height:j,width:k,x:E,y:T}=b;return w.createElement(zle,Tc({},g,{id:x,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:_,layout:v,height:j,width:k,left:E,top:T,needClip:y}))}function Vle(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=$t(u,l);if(t==="horizontal"){var h=Xp({axis:r,ticks:a,bandSize:o,entry:u,index:d}),m=Jt(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var p=Jt(f)?null:r.scale(f),x=Xp({axis:n,ticks:i,bandSize:o,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function Hle(e){var t=Zr(e,QI),r=Xn();return w.createElement(uv,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(UN,{legendPayload:Ale(t)}),w.createElement(cv,{fn:Ple,args:t}),w.createElement(zN,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(Wle,Tc({},t,{id:n}))))}var uc=w.memo(Hle);uc.displayName="Line";var YI=(e,t,r,n)=>Oi(e,"xAxis",t,n),JI=(e,t,r,n)=>Pi(e,"xAxis",t,n),ZI=(e,t,r,n)=>Oi(e,"yAxis",r,n),eR=(e,t,r,n)=>Pi(e,"yAxis",r,n),Kle=fe([vt,YI,ZI,JI,eR],(e,t,r,n,a)=>Ii(e,"xAxis")?Sc(t,n,!1):Sc(r,a,!1)),qle=(e,t,r,n,a)=>a,tR=fe([sh,qle],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Gle=(e,t,r,n,a)=>{var i,l=tR(e,t,r,n,a);if(l!=null){var o=vt(e),c=Ii(o,"xAxis"),u;if(c?u=p0(e,"yAxis",r,n):u=p0(e,"xAxis",t,n),u!=null){var{stackId:d}=l,f=Zg(l);if(!(d==null||f==null)){var h=(i=u[d])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(m=>m.key===f)}}}},Xle=fe([vt,YI,ZI,JI,eR,Gle,th,Kle,tR],(e,t,r,n,a,i,l,o,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:h}=c,m;if(h&&h.length>0?m=h:m=u==null?void 0:u.slice(d,f+1),m!=null){var p=void 0;return xoe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:m,chartBaseValue:p,bandSize:o})}}}),Qle=["id"],Yle=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function rR(e,t){if(e==null)return{};var r,n,a=Jle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){Zle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zle(e,t,r){return(t=eoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eoe(e){var t=toe(e,"string");return typeof t=="symbol"?t:t+""}function toe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(null,arguments)}function vx(e,t){return e&&e!=="none"?e:t}var roe=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:vx(n,a),value:wo(r,t),payload:e}]};function noe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:wo(l,t),hide:o,type:e.tooltipType,color:vx(n,i),unit:c}}}var aoe=(e,t)=>{var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=jt("recharts-area-dot",typeof e!="boolean"?e.className:"");r=w.createElement(DN,sl({},t,{className:n}))}return r};function soe(e,t){return e==null?!1:t?!0:e.length===1}function ioe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:l}=n;if(!soe(r,i))return null;var o=Cg(i),c=Ps(n),u=tr(i,!0),d=r.map((h,m)=>{var p=Ji(Ji(Ji({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:h.x,cy:h.y,dataKey:l,value:h.value,payload:h.payload,points:r});return aoe(i,p)}),f={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return w.createElement(Sr,sl({className:"recharts-area-dots"},f),d)}function loe(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Ji(Ji({},l),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return w.createElement(ON,{value:t?a:null},r)}function YC(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:l,type:o,stroke:c,connectNulls:u,isRange:d}=i,{id:f}=i,h=rR(i,Qle),m=Ps(h);return w.createElement(w.Fragment,null,(t==null?void 0:t.length)>1&&w.createElement(Sr,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},w.createElement(Eu,sl({},m,{id:f,points:t,connectNulls:u,type:o,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&w.createElement(Eu,sl({},m,{className:"recharts-area-curve",layout:l,type:o,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&w.createElement(Eu,sl({},m,{className:"recharts-area-curve",layout:l,type:o,connectNulls:u,fill:"none",points:r}))),w.createElement(ioe,{points:t,props:h,clipPathId:a}))}function ooe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,l=n[n.length-1].y;if(!Sn(i)||!Sn(l))return null;var o=t*Math.abs(i-l),c=Math.max(...n.map(u=>u.x||0));return Qe(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),Qe(c)?w.createElement("rect",{x:0,y:i<l?i:i-o,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function coe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,l=n[n.length-1].x;if(!Sn(i)||!Sn(l))return null;var o=t*Math.abs(i-l),c=Math.max(...n.map(u=>u.y||0));return Qe(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),Qe(c)?w.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function uoe(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?w.createElement(ooe,{alpha:t,points:n,baseLine:a,strokeWidth:i}):w.createElement(coe,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function doe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=n,p=yd(n,"recharts-area-"),[x,g]=w.useState(!1),y=!x,b=w.useCallback(()=>{typeof m=="function"&&m(),g(!1)},[m]),v=w.useCallback(()=>{typeof h=="function"&&h(),g(!0)},[h]),N=a.current,_=i.current;return w.createElement(loe,{showLabels:y,points:l},n.children,w.createElement(vd,{animationId:p,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:b,onAnimationStart:v,key:p},j=>{if(N){var k=N.length/l.length,E=j===1?l:l.map((C,A)=>{var S=Math.floor(A*k);if(N[S]){var B=N[S];return Ji(Ji({},C),{},{x:Lt(B.x,C.x,j),y:Lt(B.y,C.y,j)})}return C}),T;return Qe(o)?T=Lt(_,o,j):Jt(o)||_a(o)?T=Lt(_,0,j):T=o.map((C,A)=>{var S=Math.floor(A*k);if(Array.isArray(_)&&_[S]){var B=_[S];return Ji(Ji({},C),{},{x:Lt(B.x,C.x,j),y:Lt(B.y,C.y,j)})}return C}),j>0&&(a.current=E,i.current=T),w.createElement(YC,{points:E,baseLine:T,needClip:t,clipPathId:r,props:n})}return j>0&&(a.current=l,i.current=o),w.createElement(Sr,null,c&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(uoe,{alpha:j,points:l,baseLine:o,layout:n.layout,strokeWidth:n.strokeWidth}))),w.createElement(Sr,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(YC,{points:l,baseLine:o,needClip:t,clipPathId:r,props:n})))}),w.createElement(ov,{label:n.label}))}function foe(e){var{needClip:t,clipPathId:r,props:n}=e,a=w.useRef(null),i=w.useRef();return w.createElement(doe,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class hoe extends w.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:l,left:o,needClip:c,xAxisId:u,yAxisId:d,width:f,height:h,id:m,baseLine:p}=this.props;if(r)return null;var x=jt("recharts-area",i),g=m,{r:y=3,strokeWidth:b=2}=(t=tr(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},v=Cg(n),N=y*2+b;return w.createElement(w.Fragment,null,w.createElement(Sr,{className:x},c&&w.createElement("defs",null,w.createElement(KN,{clipPathId:g,xAxisId:u,yAxisId:d}),!v&&w.createElement("clipPath",{id:"clipPath-dots-".concat(g)},w.createElement("rect",{x:o-N/2,y:l-N/2,width:f+N,height:h+N}))),w.createElement(foe,{needClip:c,clipPathId:g,props:this.props})),w.createElement(iw,{points:a,mainColor:vx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&w.createElement(iw,{points:p,mainColor:vx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var nR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Nl.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function moe(e){var t,r=Zr(e,nR),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:m,stroke:p,xAxisId:x,yAxisId:g}=r,y=rR(r,Yle),b=Q0(),v=tI(),{needClip:N}=fv(x,g),_=Xn(),{points:j,isRange:k,baseLine:E}=(t=qe(M=>Xle(M,x,g,_,e.id)))!==null&&t!==void 0?t:{},T=dv();if(b!=="horizontal"&&b!=="vertical"||T==null||v!=="AreaChart"&&v!=="ComposedChart")return null;var{height:C,width:A,x:S,y:B}=T;return!j||!j.length?null:w.createElement(hoe,sl({},y,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,baseLine:E,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:C,hide:f,layout:b,isAnimationActive:h,isRange:k,legendType:m,needClip:N,points:j,stroke:p,width:A,left:S,top:B,xAxisId:x,yAxisId:g}))}var poe=(e,t,r,n,a)=>{var i=r??t;if(Qe(i))return i;var l=e==="horizontal"?a:n,o=l.scale.domain();if(l.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function xoe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,p=a&&a.length,x=poe(i,l,r,o,c),g=i==="horizontal",y=!1,b=u.map((N,_)=>{var j;p?j=a[d+_]:(j=$t(N,n),Array.isArray(j)?y=!0:j=[x,j]);var k=j[1]==null||p&&!t&&$t(N,n)==null;return g?{x:Xp({axis:o,ticks:f,bandSize:m,entry:N,index:_}),y:k?null:c.scale(j[1]),value:j,payload:N}:{x:k?null:o.scale(j[1]),y:Xp({axis:c,ticks:h,bandSize:m,entry:N,index:_}),value:j,payload:N}}),v;return p||y?v=b.map(N=>{var _=Array.isArray(N.value)?N.value[0]:null;return g?{x:N.x,y:_!=null&&N.y!=null?c.scale(_):null,payload:N.payload}:{x:_!=null?o.scale(_):null,y:N.y,payload:N.payload}}):v=g?c.scale(x):o.scale(x),{points:b,baseLine:v,isRange:y}}function goe(e){var t=Zr(e,nR),r=Xn();return w.createElement(uv,{id:t.id,type:"area"},n=>w.createElement(w.Fragment,null,w.createElement(UN,{legendPayload:roe(t)}),w.createElement(cv,{fn:noe,args:t}),w.createElement(zN,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:R6(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(moe,sl({},t,{id:n}))))}var aR=w.memo(goe);aR.displayName="Area";var voe=["dangerouslySetInnerHTML","ticks"],yoe=["id"],boe=["domain"],woe=["domain"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(null,arguments)}function yx(e,t){if(e==null)return{};var r,n,a=joe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function joe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Noe(e){var t=yr();return w.useEffect(()=>(t(Qae(e)),()=>{t(Yae(e))}),[e,t]),null}var _oe=e=>{var{xAxisId:t,className:r}=e,n=qe(j2),a=Xn(),i="xAxis",l=qe(g=>Sd(g,i,t,a)),o=qe(g=>FF(g,i,t,a)),c=qe(g=>AF(g,t)),u=qe(g=>Wee(g,t)),d=qe(g=>lF(g,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=yx(e,voe),{id:p}=d,x=yx(d,yoe);return w.createElement(YN,cw({},m,x,{scale:l,x:u.x,y:u.y,width:c.width,height:c.height,className:jt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},koe={allowDataOverflow:Ea.allowDataOverflow,allowDecimals:Ea.allowDecimals,allowDuplicatedCategory:Ea.allowDuplicatedCategory,height:Ea.height,hide:!1,mirror:Ea.mirror,orientation:Ea.orientation,padding:Ea.padding,reversed:Ea.reversed,scale:Ea.scale,tickCount:Ea.tickCount,type:Ea.type,xAxisId:0},Soe=e=>{var t,r,n,a,i,l=Zr(e,koe);return w.createElement(w.Fragment,null,w.createElement(Noe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),w.createElement(_oe,l))},Eoe=(e,t)=>{var{domain:r}=e,n=yx(e,boe),{domain:a}=t,i=yx(t,woe);return ad(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:ad({domain:r},{domain:a}):!1},Au=w.memo(Soe,Eoe);Au.displayName="XAxis";var Coe=["dangerouslySetInnerHTML","ticks"],Toe=["id"],Aoe=["domain"],Poe=["domain"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(null,arguments)}function bx(e,t){if(e==null)return{};var r,n,a=Ooe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ooe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Doe(e){var t=yr();return w.useEffect(()=>(t(Jae(e)),()=>{t(Zae(e))}),[e,t]),null}var Foe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=w.useRef(null),l=w.useRef(null),o=qe(j2),c=Xn(),u=yr(),d="yAxis",f=qe(_=>Sd(_,d,t,c)),h=qe(_=>PF(_,t)),m=qe(_=>Hee(_,t)),p=qe(_=>FF(_,d,t,c)),x=qe(_=>oF(_,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!h||PN(a)||w.isValidElement(a)||x==null)){var _=i.current;if(_){var j=_.getCalculatedWidth();Math.round(h.width)!==Math.round(j)&&u(ese({id:t,width:j}))}}},[p,h,u,a,t,n,x]),h==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,b=bx(e,Coe),{id:v}=x,N=bx(x,Toe);return w.createElement(YN,uw({},b,N,{ref:i,labelRef:l,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:jt("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:p}))},Ioe={allowDataOverflow:Ca.allowDataOverflow,allowDecimals:Ca.allowDecimals,allowDuplicatedCategory:Ca.allowDuplicatedCategory,hide:!1,mirror:Ca.mirror,orientation:Ca.orientation,padding:Ca.padding,reversed:Ca.reversed,scale:Ca.scale,tickCount:Ca.tickCount,type:Ca.type,width:Ca.width,yAxisId:0},Roe=e=>{var t,r,n,a,i,l=Zr(e,Ioe);return w.createElement(w.Fragment,null,w.createElement(Doe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),w.createElement(Foe,l))},Moe=(e,t)=>{var{domain:r}=e,n=bx(e,Aoe),{domain:a}=t,i=bx(t,Poe);return ad(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:ad({domain:r},{domain:a}):!1},Pu=w.memo(Roe,Moe);Pu.displayName="YAxis";var Loe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=w;function $oe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Boe=typeof Object.is=="function"?Object.is:$oe,Uoe=dh.useSyncExternalStore,zoe=dh.useRef,Woe=dh.useEffect,Voe=dh.useMemo,Hoe=dh.useDebugValue;Loe.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=zoe(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Voe(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&l.hasValue){var p=l.value;if(a(p,m))return f=p}return f=m}if(p=f,Boe(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=Uoe(e,i[0],i[1]);return Woe(function(){l.hasValue=!0,l.value=o},[o]),Hoe(o),o};function Koe(e){e()}function qoe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Koe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var JC={notify(){},get:()=>[]};function Goe(e,t){let r,n=JC,a=0,i=!1;function l(x){d();const g=n.subscribe(x);let y=!1;return()=>{y||(y=!0,g(),f())}}function o(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=qoe())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=JC)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var Xoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qoe=Xoe(),Yoe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Joe=Yoe(),Zoe=()=>Qoe||Joe?w.useLayoutEffect:w.useEffect,ece=Zoe(),Ay=Symbol.for("react-redux-context"),Py=typeof globalThis<"u"?globalThis:{};function tce(){if(!w.createContext)return{};const e=Py[Ay]??(Py[Ay]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var rce=tce();function nce(e){const{children:t,context:r,serverState:n,store:a}=e,i=w.useMemo(()=>{const c=Goe(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),l=w.useMemo(()=>a.getState(),[a]);ece(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||rce;return w.createElement(o.Provider,{value:i},t)}var ace=nce,sce=(e,t)=>t,ZN=fe([sce,vt,aF,tn,XF,El,Xte,Jr],ere),e_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},sR=_s("mouseClick"),iR=G0();iR.startListening({actionCreator:sR,effect:(e,t)=>{var r=e.payload,n=ZN(t.getState(),e_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(ate({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var dw=_s("mouseMove"),lR=G0();lR.startListening({actionCreator:dw,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=jN(n,n.tooltip.settings.shared),i=ZN(n,e_(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(zF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(UF()))}});var ZC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},oR=Za({name:"rootProps",initialState:ZC,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ZC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),ice=oR.reducer,{updateOptions:lce}=oR.actions,cR=Za({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:oce}=cR.actions,cce=cR.reducer,uR=_s("keyDown"),dR=_s("focus"),t_=G0();t_.startListening({actionCreator:uR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(NN(a,Cd(r))),o=El(r);if(i==="Enter"){var c=dx(r,"axis","hover",String(a.index));t.dispatch(tw({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=Xee(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=l+f*d;if(!(o==null||h>=o.length||h<0)){var m=dx(r,"axis","hover",String(h));t.dispatch(tw({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});t_.startListening({actionCreator:dR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=dx(r,"axis","hover",String(i));t.dispatch(tw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var ss=_s("externalEvent"),fR=G0();fR.startListening({actionCreator:ss,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Bte(r),activeDataKey:ZF(r),activeIndex:oo(r),activeLabel:JF(r),activeTooltipIndex:oo(r),isTooltipActive:Ute(r)};e.payload.handler(n,e.payload.reactEvent)}}});var uce=fe([Ed],e=>e.tooltipItemPayloads),dce=fe([uce,oh,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),hR=_s("touchMove"),mR=G0();mR.startListening({actionCreator:hR,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=jN(n,n.tooltip.settings.shared);if(a==="axis"){var i=ZN(n,e_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(zF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(L6),d=(l=c.getAttribute($6))!==null&&l!==void 0?l:void 0,f=dce(t.getState(),u,d);t.dispatch(BF({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var fce=c6({brush:wie,cartesianAxis:tse,chartData:pre,errorBars:bse,graphicalItems:bae,layout:tX,legend:VX,options:ure,polarAxis:$ne,polarOptions:cce,referenceElements:Cie,rootProps:ice,tooltip:ste}),hce=function(t){return SG({reducer:fce,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([iR.middleware,lR.middleware,t_.middleware,fR.middleware,mR.middleware]),devTools:Nl.devToolsEnabled})};function pR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Xn(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=hce(t));var l=m2;return w.createElement(ace,{context:l,store:i.current},r)}function xR(e){var{layout:t,width:r,height:n,margin:a}=e,i=yr(),l=Xn();return w.useEffect(()=>{l||(i(JG(t)),i(ZG({width:r,height:n})),i(YG(a)))},[i,l,t,r,n,a]),null}function gR(e){var t=yr();return w.useEffect(()=>{t(lce(e))},[t,e]),null}var mce=["children"];function pce(e,t){if(e==null)return{};var r,n,a=xce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(null,arguments)}var gce={width:"100%",height:"100%"},vce=w.forwardRef((e,t)=>{var r=_2(),n=k2(),a=V6();if(!Zu(r)||!Zu(n))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,u,d;return typeof l.tabIndex=="number"?u=l.tabIndex:u=a?0:void 0,typeof l.role=="string"?d=l.role:d=a?"application":void 0,w.createElement(Jj,wx({},l,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:gce,ref:t}),i)}),yce=e=>{var{children:t}=e,r=qe(Wg);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return w.createElement(Jj,{width:n,height:a,x:l,y:i},t)},eT=w.forwardRef((e,t)=>{var{children:r}=e,n=pce(e,mce),a=Xn();return a?w.createElement(yce,null,r):w.createElement(vce,wx({ref:t},n),r)});function bce(){var e=yr(),[t,r]=w.useState(null),n=qe(TX);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Sn(i)&&i!==n&&e(eX(i))}},[t,e,n]),r}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jce(e,t,r){return(t=Nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kce=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:g,width:y}=e,b=yr(),[v,N]=w.useState(null),[_,j]=w.useState(null);_re();var k=bce(),E=w.useCallback(D=>{k(D),typeof t=="function"&&t(D),N(D),j(D)},[k,t,N,j]),T=w.useCallback(D=>{b(sR(D)),b(ss({handler:i,reactEvent:D}))},[b,i]),C=w.useCallback(D=>{b(dw(D)),b(ss({handler:u,reactEvent:D}))},[b,u]),A=w.useCallback(D=>{b(UF()),b(ss({handler:d,reactEvent:D}))},[b,d]),S=w.useCallback(D=>{b(dw(D)),b(ss({handler:f,reactEvent:D}))},[b,f]),B=w.useCallback(()=>{b(dR())},[b]),M=w.useCallback(D=>{b(uR(D.key))},[b]),Y=w.useCallback(D=>{b(ss({handler:l,reactEvent:D}))},[b,l]),z=w.useCallback(D=>{b(ss({handler:o,reactEvent:D}))},[b,o]),R=w.useCallback(D=>{b(ss({handler:c,reactEvent:D}))},[b,c]),H=w.useCallback(D=>{b(ss({handler:h,reactEvent:D}))},[b,h]),U=w.useCallback(D=>{b(ss({handler:x,reactEvent:D}))},[b,x]),te=w.useCallback(D=>{b(hR(D)),b(ss({handler:p,reactEvent:D}))},[b,p]),K=w.useCallback(D=>{b(ss({handler:m,reactEvent:D}))},[b,m]);return w.createElement(iI.Provider,{value:v},w.createElement(p5.Provider,{value:_},w.createElement("div",{className:jt("recharts-wrapper",n),style:wce({position:"relative",cursor:"default",width:y,height:a},g),onClick:T,onContextMenu:Y,onDoubleClick:z,onFocus:B,onKeyDown:M,onMouseDown:R,onMouseEnter:C,onMouseLeave:A,onMouseMove:S,onMouseUp:H,onTouchEnd:K,onTouchMove:te,onTouchStart:U,ref:E},r)))}),Sce=["children","className","width","height","style","compact","title","desc"];function Ece(e,t){if(e==null)return{};var r,n,a=Cce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vR=w.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:l,compact:o,title:c,desc:u}=e,d=Ece(e,Sce),f=Ps(d);return o?w.createElement(eT,{otherAttributes:f,title:c,desc:u},r):w.createElement(kce,{className:n,style:l,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(eT,{otherAttributes:f,title:c,desc:u,ref:t},w.createElement(Aie,null,r)))}),Tce=["width","height"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(null,arguments)}function Ace(e,t){if(e==null)return{};var r,n,a=Pce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oce={top:5,right:5,bottom:5,left:5},Dce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Oce,reverseStackOrder:!1,syncMethod:"index"},r_=w.forwardRef(function(t,r){var n,a=Zr(t.categoricalChartProps,Dce),{width:i,height:l}=a,o=Ace(a,Tce);if(!Zu(i)||!Zu(l))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(pR,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},w.createElement(BI,{chartData:h.data}),w.createElement(xR,{width:i,height:l,layout:a.layout,margin:a.margin}),w.createElement(gR,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),w.createElement(vR,fw({},o,{width:i,height:l,ref:r})))}),Fce=["axis"],yR=w.forwardRef((e,t)=>w.createElement(r_,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fce,tooltipPayloadSearcher:iv,categoricalChartProps:e,ref:t})),Ice=["axis","item"],bR=w.forwardRef((e,t)=>w.createElement(r_,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ice,tooltipPayloadSearcher:iv,categoricalChartProps:e,ref:t}));function Rce(e){var t=yr();return w.useEffect(()=>{t(oce(e))},[t,e]),null}var Mce=["width","height","layout"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(null,arguments)}function Lce(e,t){if(e==null)return{};var r,n,a=$ce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $ce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bce={top:5,right:5,bottom:5,left:5},Uce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bce,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},zce=w.forwardRef(function(t,r){var n,a=Zr(t.categoricalChartProps,Uce),{width:i,height:l,layout:o}=a,c=Lce(a,Mce);if(!Zu(i)||!Zu(l))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return w.createElement(pR,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},w.createElement(BI,{chartData:a.data}),w.createElement(xR,{width:i,height:l,layout:o,margin:a.margin}),w.createElement(gR,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),w.createElement(Rce,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(vR,hw({width:i,height:l},c,{ref:r})))}),Wce=["item"],Vce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wR=w.forwardRef((e,t)=>{var r=Zr(e,Vce);return w.createElement(zce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Wce,tooltipPayloadSearcher:iv,categoricalChartProps:r,ref:t})}),Hce=["axis"],Kce=w.forwardRef((e,t)=>w.createElement(r_,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hce,tooltipPayloadSearcher:iv,categoricalChartProps:e,ref:t}));const Oy=({title:e,data:t,type:r="line",height:n=300,colors:a=["#3B82F6","#10B981","#F59E0B","#EF4444"],className:i="",showDateRange:l=!1,dateRange:o=null,onDateRangeChange:c=null,onApplyFilter:u=null,isLoading:d=!1})=>{const[f,h]=w.useState(o),[m,p]=w.useState(!1);yt.useEffect(()=>{h(o)},[o]);const x=b=>{const v=new Date,N=new Date;b===0?N.setHours(0,0,0,0):N.setDate(v.getDate()-b);const _={start:N.toISOString().split("T")[0],end:v.toISOString().split("T")[0]};h(_),c&&c(_),u&&u(_),p(!1)},g=()=>{u&&f&&u(f)},y=()=>{switch(r){case"line":return s.jsx(ec,{width:"100%",height:n,children:s.jsxs(yR,{data:t,children:[s.jsx(Tu,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Au,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:v=>{if(v){const N=new Date(v);return`${N.getDate()}/${N.getMonth()+1}`}return v}}),s.jsx(Pu,{stroke:"#6b7280",fontSize:12}),s.jsx(Zo,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},labelFormatter:v=>v&&new Date(v).toLocaleDateString("id-ID")}),s.jsx(Ju,{verticalAlign:"bottom",height:24,wrapperStyle:{paddingTop:"8px"}}),s.jsx(uc,{type:"monotone",dataKey:"created",stroke:a[0],strokeWidth:2,name:"Created",dot:{fill:a[0],strokeWidth:2,r:4},activeDot:{r:6}}),s.jsx(uc,{type:"monotone",dataKey:"completed",stroke:a[1],strokeWidth:2,name:"Completed",dot:{fill:a[1],strokeWidth:2,r:4},activeDot:{r:6}}),s.jsx(uc,{type:"monotone",dataKey:"critical",stroke:a[3],strokeWidth:2,name:"Critical",dot:{fill:a[3],strokeWidth:2,r:4},activeDot:{r:6}})]})});case"area":return s.jsx(ec,{width:"100%",height:n,children:s.jsxs(Kce,{data:t,children:[s.jsx(Tu,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Au,{dataKey:"date",stroke:"#6b7280",fontSize:12}),s.jsx(Pu,{stroke:"#6b7280",fontSize:12}),s.jsx(Zo,{}),s.jsx(aR,{type:"monotone",dataKey:"created",stackId:"1",stroke:a[0],fill:a[0],fillOpacity:.6})]})});case"bar":return s.jsx(ec,{width:"100%",height:n,children:s.jsxs(bR,{data:t,children:[s.jsx(Tu,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Au,{dataKey:"name",stroke:"#6b7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),s.jsx(Pu,{stroke:"#6b7280",fontSize:12}),s.jsx(Zo,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),s.jsx(qN,{dataKey:"completedTickets",fill:a[0],radius:[4,4,0,0],name:"Completed Tickets"})]})});case"pie":const b=t.map(v=>({...v,displayName:v.type?v.type.split("_").map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join(" "):v.name}));return s.jsx(ec,{width:"100%",height:n,children:s.jsxs(wR,{children:[s.jsx(VN,{data:b,cx:"50%",cy:"45%",labelLine:!1,label:({percentage:v})=>`${v}%`,outerRadius:110,fill:"#8884d8",dataKey:"count",nameKey:"displayName",children:b.map((v,N)=>s.jsx(Td,{fill:a[N%a.length]},`cell-${N}`))}),s.jsx(Zo,{formatter:(v,N)=>[v,N],contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),s.jsx(Ju,{verticalAlign:"bottom",height:28,iconType:"circle",wrapperStyle:{paddingTop:"10px"}})]})});default:return s.jsx("div",{children:"Chart type not supported"})}};return s.jsxs("div",{className:`bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow duration-200 ${i}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),l&&s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(Nr,{className:"h-4 w-4"}),"Quick Select"]}),m&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>x(0),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Today"}),s.jsx("button",{onClick:()=>x(7),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Last 7 days"}),s.jsx("button",{onClick:()=>x(30),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Last 30 days"}),s.jsx("button",{onClick:()=>x(90),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Last 90 days"})]})})]})]}),l&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("input",{type:"date",value:(f==null?void 0:f.start)||"",onChange:b=>h({...f,start:b.target.value}),className:"text-sm px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("span",{className:"text-gray-500",children:"-"}),s.jsx("input",{type:"date",value:(f==null?void 0:f.end)||"",onChange:b=>h({...f,end:b.target.value}),className:"text-sm px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:g,disabled:d,className:"btn-primary text-sm px-4 py-1.5 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ap,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):"Apply"})]})]}),d?s.jsx("div",{className:"flex items-center justify-center",style:{height:n},children:s.jsx(Ap,{className:"h-8 w-8 text-blue-500 animate-spin"})}):y()]})},qce=({activities:e=[]})=>{const t=a=>{switch(a){case"completed":return s.jsx(Ke,{className:"h-4 w-4 text-green-500"});case"in_progress":return s.jsx(Ut,{className:"h-4 w-4 text-blue-500"});case"cancelled":return s.jsx(wt,{className:"h-4 w-4 text-red-500"});default:return s.jsx(Ht,{className:"h-4 w-4 text-yellow-500"})}},r=a=>{switch(a){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"normal":return"text-blue-600 bg-blue-50";case"low":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}},n=a=>{const i=new Date,l=new Date(a),o=Math.floor((i-l)/(1e3*60));if(o<1)return"Just now";if(o<60)return`${o}m ago`;const c=Math.floor(o/60);return c<24?`${c}h ago`:`${Math.floor(c/24)}d ago`};return e.length===0?s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ut,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No recent activities"})]})]}):s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:e.map((a,i)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:t(a.status)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.ticketNumber}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r(a.priority)}`,children:a.priority})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:a.title}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx(Ct,{className:"h-3 w-3"}),s.jsx("span",{children:a.customerName}),a.technicianName&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:a.technicianName})]})]}),s.jsx("span",{className:"text-xs text-gray-400",children:n(a.timestamp)})]})]})]},a.id||i))})]})},Gce=()=>{var A,S,B,M,Y,z,R,H,U,te,K,D,L,F,O,re,oe,J,Z,se,G,P,ie,je;const[e,t]=w.useState(30),r=vr(),[n,a]=w.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[i,l]=w.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[o,c]=w.useState(!1),[u,d]=w.useState(!1),f=async Te=>{c(!0),a(Te),await b(),c(!1)},h=async Te=>{d(!0),l(Te),await _(),d(!1)},{data:m,isLoading:p,error:x}=Ge(["dashboard-overview",e],()=>Bo.getDashboardOverview(e),{refetchInterval:3e4,staleTime:25e3}),{data:g,isLoading:y,refetch:b}=Ge(["ticket-trends",n],()=>Bo.getTicketTrends(e),{refetchInterval:6e4,staleTime:5e4}),{data:v,isLoading:N,refetch:_}=Ge(["service-distribution",i],()=>Bo.getServiceDistribution(),{refetchInterval:6e4,staleTime:5e4}),{data:j,isLoading:k}=Ge("technician-performance",Bo.getTechnicianPerformance,{refetchInterval:6e4,staleTime:5e4}),{data:E,isLoading:T}=Ge("recent-activities",()=>Bo.getRecentActivities(3),{refetchInterval:15e3,staleTime:1e4});if(w.useEffect(()=>{console.log(" Setting up dashboard real-time listeners...");const Te=nt=>{console.log(" Dashboard update received:",nt),r.invalidateQueries("dashboard-overview"),r.invalidateQueries("ticket-trends"),r.invalidateQueries("service-distribution"),r.invalidateQueries("technician-performance"),r.invalidateQueries("recent-activities")},Le=nt=>{console.log(" New ticket created:",nt),r.invalidateQueries("dashboard-overview"),r.invalidateQueries("ticket-trends"),r.invalidateQueries("service-distribution"),r.invalidateQueries("recent-activities")},Se=nt=>{console.log(" Ticket status updated:",nt),r.invalidateQueries("dashboard-overview"),r.invalidateQueries("recent-activities")},rt=nt=>{console.log(" Ticket assigned:",nt),r.invalidateQueries("dashboard-overview"),r.invalidateQueries("technician-performance"),r.invalidateQueries("recent-activities")};return it.on("dashboard_update",Te),it.on("new_ticket",Le),it.on("new_ticket_global",Le),it.on("ticket_status_updated",Se),it.on("ticket_assigned",rt),it.on("ticket_updated",rt),()=>{console.log(" Cleaning up dashboard listeners..."),it.off("dashboard_update",Te),it.off("new_ticket",Le),it.off("new_ticket_global",Le),it.off("ticket_status_updated",Se),it.off("ticket_assigned",rt),it.off("ticket_updated",rt)}},[r]),p)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(At,{})});if(x)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Si,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page"})]})});const C=(m==null?void 0:m.data)||{};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Monitor your ISP operations performance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:e,onChange:Te=>t(parseInt(Te.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:7,children:"Last 7 days"}),s.jsx("option",{value:30,children:"Last 30 days"}),s.jsx("option",{value:90,children:"Last 90 days"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(Zs,{className:"h-4 w-4"}),s.jsx("span",{children:"Auto-refresh: 30s"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[s.jsx(Ue,{title:"Total Tickets",value:((A=C.tickets)==null?void 0:A.total)||0,icon:Gi,color:"blue"}),s.jsx(Ue,{title:"SLA Compliance",value:((S=C.sla)==null?void 0:S.complianceRate)||0,icon:Ke,color:"green",format:"percentage"}),s.jsx(Ue,{title:"Avg Resolution",value:((B=C.resolution)==null?void 0:B.averageHours)||0,icon:Ut,color:"yellow",format:"decimal",suffix:"h"}),s.jsx(Ue,{title:"Customer Rating",value:((M=C.satisfaction)==null?void 0:M.averageRating)||0,icon:qu,color:"purple",format:"decimal",suffix:"/5"}),s.jsx(Ue,{title:"Active Technicians",value:((Y=C.technicians)==null?void 0:Y.total)||0,icon:Va,color:"indigo"}),s.jsx(Ue,{title:"Monthly Revenue",value:((z=C.revenue)==null?void 0:z.estimatedMonthly)||0,icon:Cp,color:"green",format:"currency"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Oy,{title:"Ticket Trends",data:(g==null?void 0:g.data)||[],type:"line",height:350,colors:["#3B82F6","#10B981","#EF4444"],showDateRange:!0,dateRange:n,onDateRangeChange:a,onApplyFilter:f,isLoading:o}),s.jsx(Oy,{title:"Service Type Distribution",data:(v==null?void 0:v.data)||[],type:"pie",height:400,colors:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],showDateRange:!0,dateRange:i,onDateRangeChange:l,onApplyFilter:h,isLoading:u})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Oy,{title:"Technician Performance",data:(j==null?void 0:j.data)||[],type:"bar",height:350,colors:["#3B82F6","#10B981","#F59E0B"]})}),s.jsx(qce,{activities:(E==null?void 0:E.data)||[]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Tickets"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((R=C.tickets)==null?void 0:R.today)||0})]}),s.jsx(hg,{className:"h-8 w-8 text-blue-500"})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Open"}),s.jsx("span",{className:"font-medium",children:((U=(H=C.tickets)==null?void 0:H.byStatus)==null?void 0:U.open)||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"In Progress"}),s.jsx("span",{className:"font-medium",children:((K=(te=C.tickets)==null?void 0:te.byStatus)==null?void 0:K.in_progress)||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Assigned"}),s.jsx("span",{className:"font-medium",children:((L=(D=C.tickets)==null?void 0:D.byStatus)==null?void 0:L.assigned)||0})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Technician Status"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((F=C.technicians)==null?void 0:F.total)||0})]}),s.jsx(Va,{className:"h-8 w-8 text-green-500"})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Available"}),s.jsx("span",{className:"font-medium text-green-600",children:((O=C.technicians)==null?void 0:O.available)||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Busy"}),s.jsx("span",{className:"font-medium text-yellow-600",children:((re=C.technicians)==null?void 0:re.busy)||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Offline"}),s.jsx("span",{className:"font-medium text-gray-600",children:((oe=C.technicians)==null?void 0:oe.offline)||0})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"SLA Performance"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[((J=C.sla)==null?void 0:J.complianceRate)||0,"%"]})]}),s.jsx(Ke,{className:"h-8 w-8 text-purple-500"})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Within SLA"}),s.jsx("span",{className:"font-medium text-green-600",children:((Z=C.sla)==null?void 0:Z.withinSLA)||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Completed"}),s.jsx("span",{className:"font-medium",children:((se=C.sla)==null?void 0:se.totalCompleted)||0})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(((G=C.revenue)==null?void 0:G.estimatedMonthly)||0)})]}),s.jsx(Cp,{className:"h-8 w-8 text-indigo-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Active Customers"}),s.jsx("span",{className:"font-medium",children:((P=C.revenue)==null?void 0:P.activeCustomers)||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Avg per Customer"}),s.jsx("span",{className:"font-medium",children:((ie=C.revenue)==null?void 0:ie.activeCustomers)>0?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format((((je=C.revenue)==null?void 0:je.estimatedMonthly)||0)/C.revenue.activeCustomers):"Rp 0"})]})]})]})]})]})},Oa={getTickets:async(e={})=>{const t=new URLSearchParams(e).toString();return await be.get(`/tickets?${t}`)},getTicket:async e=>await be.get(`/tickets/${e}`),createTicket:async e=>await be.post("/tickets",e),updateTicketStatus:async(e,t)=>await be.put(`/tickets/${e}/status`,t),assignTicket:async(e,t)=>await be.put(`/tickets/${e}/assign`,{technician_id:t}),uploadAttachment:async(e,t,r="document")=>{const n=new FormData;return n.append("file",t),n.append("upload_type",r),await be.post(`/tickets/${e}/attachments`,n,{headers:{"Content-Type":"multipart/form-data"}})},autoAssignTicket:async(e,t={})=>await be.post(`/tickets/${e}/auto-assign`,t),getAssignmentRecommendations:async e=>await be.get(`/tickets/${e}/assignment-recommendations`),getTicketStats:async()=>await be.get("/tickets/stats/overview")},Dn={getCustomers:async(e={})=>{const t=new URLSearchParams(e).toString();return await be.get(`/customers?${t}`)},getCustomer:async e=>await be.get(`/customers/${e}`),createCustomer:async e=>await be.post("/customers",e),updateCustomer:async(e,t)=>await be.put(`/customers/${e}`,t),deleteCustomer:async e=>await be.delete(`/customers/${e}`),addEquipment:async(e,t)=>await be.post(`/customers/${e}/equipment`,t),addPayment:async(e,t)=>await be.post(`/customers/${e}/payments`,t),getCustomerStats:async()=>await be.get("/customers/stats")},so={getAll:async(e={})=>{try{const t=new URLSearchParams;e.active_only&&t.append("active_only",e.active_only),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await be.get(`/service-types${r?"?"+r:""}`)}catch(t){return console.error(" ServiceTypeService error:",t),{data:[],pagination:{}}}},getById:async e=>await be.get(`/service-types/${e}`),create:async e=>await be.post("/service-types",e),update:async(e,t)=>await be.put(`/service-types/${e}`,t),delete:async e=>await be.delete(`/service-types/${e}`)},g0={getAll:async(e={})=>{try{const t=new URLSearchParams;e.service_type_code&&t.append("service_type_code",e.service_type_code),e.active_only&&t.append("active_only",e.active_only),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await be.get(`/service-categories${r?"?"+r:""}`)}catch(t){return console.error(" ServiceCategoryService error:",t),{data:[],pagination:{}}}},getById:async e=>await be.get(`/service-categories/${e}`),create:async e=>await be.post("/service-categories",e),update:async(e,t)=>await be.put(`/service-categories/${e}`,t),delete:async e=>await be.delete(`/service-categories/${e}`)},Ou={getAll:async(e={})=>{try{const t=new URLSearchParams;e.category&&t.append("category",e.category),e.status&&t.append("status",e.status),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await be.get(`/equipment${r?"?"+r:""}`)}catch(t){return console.error(" EquipmentService error:",t),{data:[],pagination:{}}}},getById:async e=>await be.get(`/equipment/${e}`),create:async e=>await be.post("/equipment",e),update:async(e,t)=>await be.put(`/equipment/${e}`,t),delete:async e=>await be.delete(`/equipment/${e}`)},Xce=({isOpen:e,onClose:t,onSuccess:r})=>{var S,B;const[n,a]=w.useState(!1),[i,l]=w.useState(null),[o,c]=w.useState([]),{register:u,handleSubmit:d,formState:{errors:f},reset:h,watch:m,setValue:p}=Ha({defaultValues:{type:"",category:"",priority:"normal"}}),{data:x,isLoading:g}=Ge("customers",()=>Dn.getCustomers({limit:100}),{enabled:e}),{data:y,isLoading:b}=Ge("service-types-active",()=>so.getAll(!0),{enabled:e}),{data:v}=Ge("service-categories-active",()=>g0.getAll(null,!0),{enabled:e}),{data:N}=Ge(["equipment-list"],Ou.getAll,{enabled:e}),_=m("type"),j=m("category"),k=m("customer_id");w.useEffect(()=>{var M;if(k&&((M=x==null?void 0:x.data)!=null&&M.customers)){const Y=x.data.customers.find(z=>z.id==k);Y&&l(Y)}else l(null)},[k,x,p]),w.useEffect(()=>{if(_&&v){const M=v.filter(Y=>Y.service_type_code===_);c(M),p("category",""),M.length===1&&p("category",M[0].category_code)}else c([]),p("category","")},[_,v,p]),w.useEffect(()=>{if(j&&o.length>0){const M=o.find(Y=>Y.category_code===j);M&&M.estimated_duration&&p("estimated_duration",M.estimated_duration)}else if(_&&y){const M=y.find(Y=>Y.type_code===_);M&&M.default_duration&&p("estimated_duration",M.default_duration)}},[j,o,_,y,p]),w.useEffect(()=>{if(i&&_){const M=y==null?void 0:y.find(R=>R.type_code===_),Y=o.find(R=>R.category_code===j);let z="";Y?z=`${Y.category_name} - ${i.name}`:M&&(z=`${M.type_name} - ${i.name}`),z&&p("title",z)}},[i,_,j,y,o,p]),w.useEffect(()=>{var M,Y;if(i&&_){const z=y==null?void 0:y.find(D=>D.type_code===_),R=o.find(D=>D.category_code===j),H=(Y=(M=x==null?void 0:x.data)==null?void 0:M.customers)==null?void 0:Y.find(D=>D.id==k),U=(H==null?void 0:H.package_name)||"Tidak diketahui";let te=`INFORMASI PELANGGAN
`;te+=`Nama: ${i.name}
`,te+=`Alamat: ${i.address||"Belum ditentukan"}
`,te+=`Telepon: ${i.phone||"-"}
`,te+=`Paket: ${U}
`,te+=`Tipe Layanan: ${i.service_type||"broadband"}

`,te+=`JENIS PEKERJAAN
`,te+=`Service Type: ${(z==null?void 0:z.type_name)||_}
`,R&&(te+=`Category: ${R.category_name}
`),te+=`
`,te+=`DESKRIPSI PEKERJAAN
`,te+={installation:"Survey lokasi, instalasi perangkat, konfigurasi koneksi, testing kualitas sinyal.",repair:"Pengecekan perangkat, kabel, kualitas sinyal, troubleshooting masalah koneksi.",maintenance:"Pengecekan kondisi perangkat, pembersihan, update firmware, optimisasi konfigurasi.",upgrade:"Penggantian atau konfigurasi ulang perangkat untuk paket lebih tinggi. Upgrade speed atau bandwidth sesuai permintaan.",downgrade:"Penyesuaian konfigurasi perangkat untuk paket lebih rendah. Downgrade speed atau bandwidth sesuai permintaan.",wifi_setup:"Setup WiFi router, konfigurasi SSID dan password, optimisasi channel, testing coverage.",dismantle:"Pelepasan perangkat, pencabutan kabel, pengembalian equipment ke warehouse."}[_]||"Pekerjaan sesuai dengan service type yang dipilih.",p("description",te)}},[i,_,j,y,o,k,x,p]),w.useEffect(()=>{if(e){const M=new Date,Y=M.getFullYear(),z=String(M.getMonth()+1).padStart(2,"0"),R=String(M.getDate()).padStart(2,"0"),H=String(M.getHours()).padStart(2,"0"),U=String(M.getMinutes()).padStart(2,"0"),te=`${Y}-${z}-${R}T${H}:${U}`;p("scheduled_date",te)}},[e,p]);const E=()=>{var R,H,U;if(!i||!_||!N)return[];const M={installation:{broadband:["devices","cables","accessories","tools"],dedicated:["devices","cables","accessories"],corporate:["devices","accessories"],mitra:["devices","accessories"]},repair:{all:["tools"]},maintenance:{all:["tools","accessories"]},upgrade:{all:["devices"]},wifi_setup:{all:["devices","accessories"]},dismantle:{all:["tools"]},downgrade:{all:["devices"]}},Y=((R=M[_])==null?void 0:R[i.service_type])||((H=M[_])==null?void 0:H.all)||["devices","tools"];return(((U=N==null?void 0:N.filter(te=>te.is_active&&Y.includes(te.category)))==null?void 0:U.map(te=>te.equipment_name))||[]).slice(0,10)},T=[{value:"low",label:"Low",color:"text-gray-600",bgColor:"bg-gray-100"},{value:"normal",label:"Normal",color:"text-blue-600",bgColor:"bg-blue-100"},{value:"high",label:"High",color:"text-orange-600",bgColor:"bg-orange-100"},{value:"critical",label:"Critical",color:"text-red-600",bgColor:"bg-red-100"}],C=async M=>{var Y,z;a(!0);try{const R=await Oa.createTicket(M);ne.success("Ticket created successfully!"),h(),r==null||r(R.data.ticket),t()}catch(R){console.error("Create ticket error:",R),ne.error(((z=(Y=R.response)==null?void 0:Y.data)==null?void 0:z.message)||"Failed to create ticket")}finally{a(!1)}},A=()=>{h(),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Ticket"}),s.jsx("button",{onClick:A,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(En,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:d(C),className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Customer *"}),s.jsxs("select",{className:`form-input ${f.customer_id?"border-red-500":""}`,...u("customer_id",{required:"Customer is required"}),disabled:g,children:[s.jsx("option",{value:"",children:"Select a customer..."}),(B=(S=x==null?void 0:x.data)==null?void 0:S.customers)==null?void 0:B.map(M=>s.jsxs("option",{value:M.id,children:[M.customer_id," - ",M.name," (",M.service_type,")"]},M.id))]}),f.customer_id&&s.jsx("p",{className:"form-error",children:f.customer_id.message}),g&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading customers..."})]}),i&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Customer Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(zn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:i.phone})]}),i.email&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:i.email})]}),s.jsxs("div",{className:"flex items-start text-gray-600",children:[s.jsx(jn,{className:"h-4 w-4 mr-2 mt-0.5"}),s.jsx("span",{className:"text-xs",children:i.address})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:i.package_name})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Service: ",i.service_type]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.account_status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.account_status})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Service Type *"}),s.jsxs("select",{className:"form-input",...u("type",{required:"Service type wajib dipilih"}),children:[s.jsx("option",{value:"",children:"Pilih Service Type..."}),y==null?void 0:y.map(M=>s.jsxs("option",{value:M.type_code,children:[M.type_name," - ",M.description]},M.type_code))]}),f.type&&s.jsx("p",{className:"form-error",children:f.type.message})]}),_&&s.jsxs("div",{children:[s.jsxs("label",{className:"form-label",children:["Service Category ",o.length>0&&"*"]}),o.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("select",{className:"form-input",...u("category",{required:o.length>0?"Category wajib dipilih":!1}),children:[s.jsx("option",{value:"",children:"Pilih Category..."}),o.map(M=>s.jsxs("option",{value:M.category_code,children:[M.category_name," - ",M.description]},M.category_code))]}),f.category&&s.jsx("p",{className:"form-error",children:f.category.message})]}):s.jsx("p",{className:"text-sm text-gray-500 italic mt-1",children:"Tidak ada kategori tersedia untuk service type ini"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Priority *"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(M=>s.jsxs("label",{className:`
                    flex items-center px-3 py-2 rounded-lg border cursor-pointer transition-colors
                    ${m("priority")===M.value?`border-current ${M.color} ${M.bgColor}`:"border-gray-300 hover:bg-gray-50"}
                  `,children:[s.jsx("input",{type:"radio",value:M.value,className:"sr-only",...u("priority",{required:"Priority is required"})}),s.jsx("span",{className:`text-sm font-medium ${m("priority")===M.value?M.color:"text-gray-700"}`,children:M.label})]},M.value))}),f.priority&&s.jsx("p",{className:"form-error",children:f.priority.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Title *"}),s.jsx("input",{type:"text",className:`form-input ${f.title?"border-red-500":""}`,placeholder:"Brief description of the service request",...u("title",{required:"Title is required",minLength:{value:5,message:"Title must be at least 5 characters"}})}),f.title&&s.jsx("p",{className:"form-error",children:f.title.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Description *"}),s.jsx("textarea",{rows:4,className:`form-input ${f.description?"border-red-500":""}`,placeholder:"Detailed description of the work to be performed...",...u("description",{required:"Description is required",minLength:{value:10,message:"Description must be at least 10 characters"}})}),f.description&&s.jsx("p",{className:"form-error",children:f.description.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Scheduled Date"}),s.jsx("input",{type:"datetime-local",className:"form-input",...u("scheduled_date")}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for immediate assignment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Estimated Duration (minutes)"}),s.jsx("input",{type:"number",min:"15",step:"15",className:"form-input",placeholder:"e.g., 120 for 2 hours",...u("estimated_duration",{min:{value:15,message:"Minimum duration is 15 minutes"}})}),f.estimated_duration&&s.jsx("p",{className:"form-error",children:f.estimated_duration.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Equipment Needed"}),s.jsx("textarea",{rows:3,className:"form-input",placeholder:"List required equipment, tools, or materials...",...u("equipment_needed")}),i&&_&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Suggested equipment for ",_,":"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:E().map((M,Y)=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 cursor-pointer hover:bg-blue-200",onClick:()=>{const z=m("equipment_needed")||"",R=z?`${z}, ${M}`:M;p("equipment_needed",R)},children:["+ ",M]},Y))})]})]}),s.jsxs("div",{className:"space-y-4",children:[i&&i.latitude&&i.longitude&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(jn,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Location Information"}),s.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["GPS Coordinates: ",i.latitude,", ",i.longitude]}),i.odp&&s.jsxs("p",{className:"text-sm text-green-700",children:["ODP: ",i.odp]})]})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Ht,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"SLA Information"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Service Level Agreement will be automatically set based on priority: Critical (2h), High (4h), Normal (24h), Low (48h)"}),i&&s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Customer Package SLA: ",i.sla_level||"Standard"]})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:A,className:"btn-outline",disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn-primary",disabled:n||g,children:n?s.jsxs(s.Fragment,{children:[s.jsx(At,{size:"sm",className:"mr-2"}),"Creating..."]}):"Create Ticket"})]})]})]})}):null},dc={getTechnicians:async(e={})=>{const t=new URLSearchParams(e).toString();return await be.get(`/technicians?${t}`)},getTechnician:async e=>await be.get(`/technicians/${e}`),createTechnician:async e=>await be.post("/technicians",e),updateTechnician:async(e,t)=>await be.put(`/technicians/${e}`,t),deleteTechnician:async e=>await be.delete(`/technicians/${e}`),updateAvailability:async(e,t)=>await be.patch(`/technicians/${e}/availability`,t),addSkill:async(e,t)=>await be.post(`/technicians/${e}/skills`,t),getTechnicianStats:async()=>await be.get("/technicians/stats/overview"),getAvailableTechnicians:async(e={})=>{const t=new URLSearchParams(e).toString();return await be.get(`/technicians/available/assignment?${t}`)},getTechnicianPerformance:async(e,t="month")=>await be.get(`/technicians/${e}/performance?period=${t}`),updateLocation:async(e,t)=>await be.patch(`/technicians/${e}/location`,t),getTechnicianSchedule:async(e,t,r)=>{const n=new URLSearchParams({start_date:t,end_date:r});return await be.get(`/technicians/${e}/schedule?${n}`)},updateSchedule:async(e,t)=>await be.put(`/technicians/${e}/schedule`,t)},Qce=({isOpen:e,onClose:t,ticket:r})=>{var j,k;const[n,a]=w.useState("auto"),[i,l]=w.useState(null),[o,c]=w.useState({force_zone:"",required_skills:[]}),u=vr(),{data:d,isLoading:f}=Ge(["assignment-recommendations",r==null?void 0:r.id],()=>Oa.getAssignmentRecommendations(r.id),{enabled:e&&!!(r!=null&&r.id),refetchOnWindowFocus:!1}),h=qt(E=>Oa.autoAssignTicket(r.id,E),{onSuccess:E=>{ne.success("Ticket berhasil di-assign secara otomatis!"),u.invalidateQueries(["tickets"]),u.invalidateQueries(["ticket",r.id]),t()},onError:E=>{var T,C;ne.error(((C=(T=E.response)==null?void 0:T.data)==null?void 0:C.message)||"Gagal melakukan auto assignment")}}),m=qt(E=>Oa.assignTicket(r.id,E),{onSuccess:()=>{ne.success("Ticket berhasil di-assign!"),u.invalidateQueries(["tickets"]),u.invalidateQueries(["ticket",r.id]),t()},onError:E=>{var T,C;ne.error(((C=(T=E.response)==null?void 0:T.data)==null?void 0:C.message)||"Gagal melakukan assignment")}}),p=()=>{h.mutate(o)},x=()=>{if(!i){ne.error("Pilih teknisi terlebih dahulu");return}m.mutate(i.id)},g=E=>{const T={available:{color:"bg-green-100 text-green-800",icon:Ke,label:"Available"},unavailable:{color:"bg-red-100 text-red-800",icon:Ht,label:"Unavailable"}},C=T[E]||T.unavailable,A=C.icon;return s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:[s.jsx(A,{className:"h-3 w-3 mr-1"}),C.label]})},y=E=>{const T={available:{color:"bg-blue-100 text-blue-800",label:"Has Capacity"},full:{color:"bg-orange-100 text-orange-800",label:"At Capacity"}},C=T[E]||T.full;return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:C.label})},b=E=>{const T={near:{color:"bg-green-100 text-green-800",icon:zh,label:"Nearby"},medium:{color:"bg-yellow-100 text-yellow-800",icon:zh,label:"Medium"},far:{color:"bg-red-100 text-red-800",icon:zh,label:"Far"},unknown:{color:"bg-gray-100 text-gray-800",icon:zh,label:"Unknown"}},C=T[E]||T.unknown,A=C.icon;return s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:[s.jsx(A,{className:"h-3 w-3 mr-1"}),C.label]})},v=E=>{const T={junior:{color:"bg-blue-100 text-blue-800",label:"Junior"},senior:{color:"bg-purple-100 text-purple-800",label:"Senior"},expert:{color:"bg-orange-100 text-orange-800",label:"Expert"},specialist:{color:"bg-red-100 text-red-800",label:"Specialist"}},C=T[E]||T.junior;return s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:[s.jsx(n0,{className:"h-3 w-3 mr-1"}),C.label]})};if(!e)return null;const N=((j=d==null?void 0:d.data)==null?void 0:j.recommendations)||[],_=((k=d==null?void 0:d.data)==null?void 0:k.ticket)||r;return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wW,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Smart Assignment - Ticket #",_==null?void 0:_.ticket_number]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"text-sm text-gray-900",children:_==null?void 0:_.customer_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Service Type"}),s.jsx("p",{className:"text-sm text-gray-900",children:(_==null?void 0:_.service_type)||"General"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Priority"}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(_==null?void 0:_.priority)==="high"?"bg-red-100 text-red-800":(_==null?void 0:_.priority)==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:(_==null?void 0:_.priority)||"low"})]})]})}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsxs("button",{onClick:()=>a("auto"),className:`flex items-center px-4 py-2 rounded-lg font-medium ${n==="auto"?"bg-blue-100 text-blue-700 border-2 border-blue-200":"bg-gray-100 text-gray-700 border-2 border-transparent hover:bg-gray-200"}`,children:[s.jsx(Op,{className:"h-4 w-4 mr-2"}),"Auto Assignment"]}),s.jsxs("button",{onClick:()=>a("manual"),className:`flex items-center px-4 py-2 rounded-lg font-medium ${n==="manual"?"bg-blue-100 text-blue-700 border-2 border-blue-200":"bg-gray-100 text-gray-700 border-2 border-transparent hover:bg-gray-200"}`,children:[s.jsx(Va,{className:"h-4 w-4 mr-2"}),"Manual Selection"]})]}),n==="auto"&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Assignment Options"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Force Work Zone"}),s.jsxs("select",{className:"form-input text-sm",value:o.force_zone,onChange:E=>c(T=>({...T,force_zone:E.target.value})),children:[s.jsx("option",{value:"",children:"Any Zone"}),s.jsx("option",{value:"Jakarta_Pusat",children:"Jakarta Pusat"}),s.jsx("option",{value:"Jakarta_Selatan",children:"Jakarta Selatan"}),s.jsx("option",{value:"Jakarta_Utara",children:"Jakarta Utara"}),s.jsx("option",{value:"Jakarta_Timur",children:"Jakarta Timur"}),s.jsx("option",{value:"Jakarta_Barat",children:"Jakarta Barat"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Required Skills"}),s.jsxs("select",{className:"form-input text-sm",multiple:!0,value:o.required_skills,onChange:E=>{const T=Array.from(E.target.selectedOptions,C=>C.value);c(C=>({...C,required_skills:T}))},children:[s.jsx("option",{value:"fiber_optic",children:"Fiber Optic"}),s.jsx("option",{value:"wireless",children:"Wireless"}),s.jsx("option",{value:"networking",children:"Networking"}),s.jsx("option",{value:"installation",children:"Installation"}),s.jsx("option",{value:"troubleshooting",children:"Troubleshooting"})]})]})]})]}),f&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(At,{size:"lg"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading recommendations..."})]}),!f&&N.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:n==="auto"?"Top Matches":"Available Technicians"}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:N.slice(0,n==="auto"?3:10).map(E=>{var T;return s.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${n==="manual"&&(i==null?void 0:i.id)===E.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>n==="manual"&&l(E),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Ct,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-900",children:E.full_name}),v(E.skill_level)]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["ID: ",E.employee_id]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[g(E.availability_status),y(E.capacity_status),b(E.distance_status)]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(qu,{className:"h-3 w-3 text-yellow-400 mr-1"}),s.jsx("span",{children:E.avg_rating?parseFloat(E.avg_rating).toFixed(1):"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ut,{className:"h-3 w-3 text-blue-400 mr-1"}),s.jsxs("span",{children:[E.current_tickets,"/",E.max_daily_tickets]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(hg,{className:"h-3 w-3 text-green-400 mr-1"}),s.jsxs("span",{children:[E.avg_sla?parseFloat(E.avg_sla).toFixed(1):"N/A","%"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(jn,{className:"h-3 w-3 text-purple-400 mr-1"}),s.jsx("span",{children:(T=E.work_zone)==null?void 0:T.replace("_"," ")})]})]}),E.specializations&&E.specializations.length>0&&s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.specializations.slice(0,3).map((C,A)=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:[s.jsx(Pp,{className:"h-3 w-3 mr-1"}),C.replace("_"," ")]},A)),E.specializations.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",E.specializations.length-3," more"]})]})})]})]}),s.jsxs("div",{className:"flex-shrink-0 text-right",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:E.recommendation_score||0}),s.jsx("div",{className:"text-xs text-gray-500",children:"Score"})]})]})},E.id)})})]}),!f&&N.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Va,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No technicians available"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No technicians match the current criteria."})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[n==="auto"?s.jsx("button",{onClick:p,disabled:h.isLoading||N.length===0,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:h.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(BS,{className:"animate-spin h-4 w-4 mr-2"}),"Assigning..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Op,{className:"h-4 w-4 mr-2"}),"Auto Assign"]})}):s.jsx("button",{onClick:x,disabled:m.isLoading||!i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:m.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(BS,{className:"animate-spin h-4 w-4 mr-2"}),"Assigning..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Assign Selected"]})}),s.jsx("button",{onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jx={};jx.version="0.18.5";var jR=1252,Yce=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],n_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},a_=function(e){Yce.indexOf(e)!=-1&&(jR=n_[0]=e)};function Jce(){a_(1252)}var Xs=function(e){a_(e)};function s_(){Xs(1200),Jce()}function rT(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Zce(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function NR(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var df=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Zce(e.slice(2)):t==254&&r==255?NR(e.slice(2)):t==65279?e.slice(1):e},im=function(t){return String.fromCharCode(t)},nT=function(t){return String.fromCharCode(t)},v0,Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function y0(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),l=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=Kl.charAt(i)+Kl.charAt(l)+Kl.charAt(o)+Kl.charAt(c);return t}function qa(e){var t="",r=0,n=0,a=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Kl.indexOf(e.charAt(u++)),l=Kl.indexOf(e.charAt(u++)),r=i<<2|l>>4,t+=String.fromCharCode(r),o=Kl.indexOf(e.charAt(u++)),n=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Kl.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var ht=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Cl=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function fo(e){return ht?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function aT(e){return ht?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ma=function(t){return ht?Cl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function hv(e){if(typeof ArrayBuffer>"u")return Ma(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ko(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function eue(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function i_(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return i_(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var on=ht?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Cl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function tue(e){for(var t=[],r=0,n=e.length+250,a=fo(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|o>>6&15|(l&3)<<4,a[r++]=128|o&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(t.push(a.slice(0,r)),r=0,a=fo(65535),n=65530)}return t.push(a.slice(0,r)),on(t)}var sa=/\u0000/g,ff=/[\u0001-\u0006]/g;function Du(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Qs(e,t){var r=""+e;return r.length>=t?r:_r("0",t-r.length)+r}function l_(e,t){var r=""+e;return r.length>=t?r:_r(" ",t-r.length)+r}function Nx(e,t){var r=""+e;return r.length>=t?r:r+_r(" ",t-r.length)}function rue(e,t){var r=""+Math.round(e);return r.length>=t?r:_r("0",t-r.length)+r}function nue(e,t){var r=""+e;return r.length>=t?r:_r("0",t-r.length)+r}var sT=Math.pow(2,32);function Zc(e,t){if(e>sT||e<-sT)return rue(e,t);var r=Math.round(e);return nue(r,t)}function _x(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var iT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Dy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function aue(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var et={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},lT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function kx(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,l=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*l+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=l,l=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=i):(d=u,o=l)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function rc(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,l=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=due(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var _R=new Date(1899,11,31,0,0,0),iue=_R.getTime(),lue=new Date(1900,2,1,0,0,0);function kR(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=lue&&(r+=24*60*60*1e3),(r-(iue+(e.getTimezoneOffset()-_R.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function o_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function oue(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function cue(e){var t=e<0?12:11,r=o_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function uue(e){var t=o_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function b0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=cue(e):t===10?r=e.toFixed(10).substr(0,12):r=uue(e),o_(oue(r.toUpperCase()))}function Ac(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):b0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ss(14,kR(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function due(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function fue(e,t,r,n){var a="",i=0,l=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Dy[r.m-1][1];case 5:return Dy[r.m-1][0];default:return Dy[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return iT[r.q][0];default:return iT[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Qs(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(a=Qs(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?Qs(c,u):"";return d}function ql(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var SR=/%/g;function hue(e,t,r){var n=t.replace(SR,""),a=t.length-n.length;return il(e,n,r*Math.pow(10,2*a))+_r("%",a)}function mue(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return il(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ER(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ER(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var CR=/# (\?+)( ?)\/( ?)(\d+)/;function pue(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),l=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(l===0?_r(" ",e[1].length+1+e[4].length):l_(l,e[1].length)+e[2]+"/"+e[3]+Qs(o,e[4].length))}function xue(e,t,r){return r+(t===0?"":""+t)+_r(" ",e[1].length+2+e[4].length)}var TR=/^#*0*\.([0#]+)/,AR=/\).*[0#]/,PR=/\(###\) ###\\?-####/;function ea(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function oT(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function cT(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function gue(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function vue(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function is(e,t,r){if(e.charCodeAt(0)===40&&!t.match(AR)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?is("n",n,r):"("+is("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return mue(e,t,r);if(t.indexOf("%")!==-1)return hue(e,t,r);if(t.indexOf("E")!==-1)return ER(t,r);if(t.charCodeAt(0)===36)return"$"+is(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Zc(c,t.length);if(t.match(/^[#?]+$/))return a=Zc(r,0),a==="0"&&(a=""),a.length>t.length?a:ea(t.substr(0,t.length-a.length))+a;if(i=t.match(CR))return pue(i,c,u);if(t.match(/^#+0+$/))return u+Zc(c,t.length-t.indexOf("0"));if(i=t.match(TR))return a=oT(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ea(i[1])).replace(/\.$/,"."+ea(i[1])).replace(/\.(\d*)$/,function(p,x){return"."+x+_r("0",ea(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+oT(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+ql(Zc(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+is(e,t,-r):ql(""+(Math.floor(r)+gue(r,i[1].length)))+"."+Qs(cT(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return is(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Du(is(e,t.replace(/[\\-]/g,""),r)),l=0,Du(Du(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<a.length?a.charAt(l++):p==="0"?"0":""}));if(t.match(PR))return a=is(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=kx(c,Math.pow(10,l)-1,!1),a=""+u,d=il("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Nx(o[2],l),d.length<i[4].length&&(d=ea(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=kx(c,Math.pow(10,l)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?l_(o[1],l)+i[2]+"/"+i[3]+Nx(o[2],l):_r(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Zc(r,0),t.length<=a.length?a:ea(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var f=t.indexOf(".")-l,h=t.length-a.length-f;return ea(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=cT(r,i[1].length),r<0?"-"+is(e,t,-r):ql(vue(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Qs(0,3-p.length):"")+p})+"."+Qs(l,i[1].length);switch(t){case"###,##0.00":return is(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=ql(Zc(c,0));return m!=="0"?u+m:"";case"###,###.00":return is(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return is(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function yue(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return il(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function bue(e,t,r){var n=t.replace(SR,""),a=t.length-n.length;return il(e,n,r*Math.pow(10,2*a))+_r("%",a)}function OR(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+OR(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function hi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(AR)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?hi("n",n,r):"("+hi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return yue(e,t,r);if(t.indexOf("%")!==-1)return bue(e,t,r);if(t.indexOf("E")!==-1)return OR(t,r);if(t.charCodeAt(0)===36)return"$"+hi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Qs(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ea(t.substr(0,t.length-a.length))+a;if(i=t.match(CR))return xue(i,c,u);if(t.match(/^#+0+$/))return u+Qs(c,t.length-t.indexOf("0"));if(i=t.match(TR))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ea(i[1])).replace(/\.$/,"."+ea(i[1])),a=a.replace(/\.(\d*)$/,function(p,x){return"."+x+_r("0",ea(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+ql(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+hi(e,t,-r):ql(""+r)+"."+_r("0",i[1].length);if(i=t.match(/^#,#*,#0/))return hi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Du(hi(e,t.replace(/[\\-]/g,""),r)),l=0,Du(Du(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<a.length?a.charAt(l++):p==="0"?"0":""}));if(t.match(PR))return a=hi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=kx(c,Math.pow(10,l)-1,!1),a=""+u,d=il("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Nx(o[2],l),d.length<i[4].length&&(d=ea(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=kx(c,Math.pow(10,l)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?l_(o[1],l)+i[2]+"/"+i[3]+Nx(o[2],l):_r(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ea(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var f=t.indexOf(".")-l,h=t.length-a.length-f;return ea(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+hi(e,t,-r):ql(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Qs(0,3-p.length):"")+p})+"."+Qs(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=ql(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return hi(e,t.slice(0,t.lastIndexOf(".")),r)+ea(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function il(e,t,r){return(r|0)===r?hi(e,t,r):is(e,t,r)}function wue(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var DR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ad(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":_x(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(DR))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function jue(e,t,r,n){for(var a=[],i="",l=0,o="",c="t",u,d,f,h="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!_x(e,l))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(f=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++l;break;case"\\":var m=e.charAt(++l),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(u==null&&(u=rc(t,r,e.charAt(l+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=rc(t,r),u==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var x={t:o,v:o};if(u==null&&(u=rc(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",h="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",l+=5,h="h"):e.substr(l,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",l+=5,h="h"):(x.t="t",++l),u==null&&x.t==="T")return"";a[a.length]=x,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(DR)){if(u==null&&(u=rc(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ad(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++l;break}var g=0,y=0,b;for(l=a.length-1,c="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=h,c="h",g<1&&(g=1);break;case"s":(b=a[l].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[l].t;break;case"m":c==="s"&&(a[l].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[l].v.match(/[Hh]/)&&(g=1),g<2&&a[l].v.match(/[Mm]/)&&(g=2),g<3&&a[l].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var v="",N;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=fue(a[l].t.charCodeAt(0),a[l].v,u,y),a[l].t="t";break;case"n":case"?":for(N=l+1;a[N]!=null&&((o=a[N].t)==="?"||o==="D"||(o===" "||o==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[l].v+=a[N].v,a[N]={v:"",t:";"},++N;v+=a[l].v,l=N-1;break;case"G":a[l].t="t",a[l].v=Ac(t,r);break}var _="",j,k;if(v.length>0){v.charCodeAt(0)==40?(j=t<0&&v.charCodeAt(0)===45?-t:t,k=il("n",v,j)):(j=t<0&&n>1?-t:t,k=il("n",v,j),j<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),N=k.length-1;var E=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){E=l;break}var T=a.length;if(E===a.length&&k.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(N>=a[l].v.length-1?(N-=a[l].v.length,a[l].v=k.substr(N+1,a[l].v.length)):N<0?a[l].v="":(a[l].v=k.substr(0,N+1),N=-1),a[l].t="t",T=l);N>=0&&T<a.length&&(a[T].v=k.substr(0,N+1)+a[T].v)}else if(E!==a.length&&k.indexOf("E")===-1){for(N=k.indexOf(".")-1,l=E;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(d=a[l].v.indexOf(".")>-1&&l===E?a[l].v.indexOf(".")-1:a[l].v.length-1,_=a[l].v.substr(d+1);d>=0;--d)N>=0&&(a[l].v.charAt(d)==="0"||a[l].v.charAt(d)==="#")&&(_=k.charAt(N--)+_);a[l].v=_,a[l].t="t",T=l}for(N>=0&&T<a.length&&(a[T].v=k.substr(0,N+1)+a[T].v),N=k.indexOf(".")+1,l=E;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==E)){for(d=a[l].v.indexOf(".")>-1&&l===E?a[l].v.indexOf(".")+1:0,_=a[l].v.substr(0,d);d<a[l].v.length;++d)N<k.length&&(_+=k.charAt(N++));a[l].v=_,a[l].t="t",T=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(j=n>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=il(a[l].t,a[l].v,j),a[l].t="t");var C="";for(l=0;l!==a.length;++l)a[l]!=null&&(C+=a[l].v);return C}var uT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function dT(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Nue(e,t){var r=wue(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(uT),o=r[1].match(uT);return dT(t,l)?[n,r[0]]:dT(t,o)?[n,r[1]]:[n,r[l!=null&&o!=null?2:1]]}return[n,i]}function Ss(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:et)[e],n==null&&(n=r.table&&r.table[lT[e]]||et[lT[e]]),n==null&&(n=sue[e]||"General");break}if(_x(n,0))return Ac(t,r);t instanceof Date&&(t=kR(t,r.date1904));var a=Nue(n,t);if(_x(a[1]))return Ac(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return jue(a[1],t,r,a[0])}function ll(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(et[r]==null){t<0&&(t=r);continue}if(et[r]==e){t=r;break}}t<0&&(t=391)}return et[t]=e,t}function mv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ll(e[t],t)}function Pd(){et=aue()}var _ue={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},FR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kue(e){var t=typeof e=="number"?et[e]:e;return t=t.replace(FR,"(\\d+)"),new RegExp("^"+t+"$")}function Sue(e,t,r){var n=-1,a=-1,i=-1,l=-1,o=-1,c=-1;(t.match(FR)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":l=m;break;case"s":c=m;break;case"m":l>=0?o=m:a=m;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var Eue=function(){var e={};e.version="1.2.0";function t(){for(var k=0,E=new Array(256),T=0;T!=256;++T)k=T,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,E[T]=k;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(k){var E=0,T=0,C=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)A[C]=k[C];for(C=0;C!=256;++C)for(T=k[C],E=256+C;E<4096;E+=256)T=A[E]=T>>>8^k[T&255];var S=[];for(C=1;C!=16;++C)S[C-1]=typeof Int32Array<"u"?A.subarray(C*256,C*256+256):A.slice(C*256,C*256+256);return S}var a=n(r),i=a[0],l=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],p=a[9],x=a[10],g=a[11],y=a[12],b=a[13],v=a[14];function N(k,E){for(var T=E^-1,C=0,A=k.length;C<A;)T=T>>>8^r[(T^k.charCodeAt(C++))&255];return~T}function _(k,E){for(var T=E^-1,C=k.length-15,A=0;A<C;)T=v[k[A++]^T&255]^b[k[A++]^T>>8&255]^y[k[A++]^T>>16&255]^g[k[A++]^T>>>24]^x[k[A++]]^p[k[A++]]^m[k[A++]]^h[k[A++]]^f[k[A++]]^d[k[A++]]^u[k[A++]]^c[k[A++]]^o[k[A++]]^l[k[A++]]^i[k[A++]]^r[k[A++]];for(C+=15;A<C;)T=T>>>8^r[(T^k[A++])&255];return~T}function j(k,E){for(var T=E^-1,C=0,A=k.length,S=0,B=0;C<A;)S=k.charCodeAt(C++),S<128?T=T>>>8^r[(T^S)&255]:S<2048?(T=T>>>8^r[(T^(192|S>>6&31))&255],T=T>>>8^r[(T^(128|S&63))&255]):S>=55296&&S<57344?(S=(S&1023)+64,B=k.charCodeAt(C++)&1023,T=T>>>8^r[(T^(240|S>>8&7))&255],T=T>>>8^r[(T^(128|S>>2&63))&255],T=T>>>8^r[(T^(128|B>>6&15|(S&3)<<4))&255],T=T>>>8^r[(T^(128|B&63))&255]):(T=T>>>8^r[(T^(224|S>>12&15))&255],T=T>>>8^r[(T^(128|S>>6&63))&255],T=T>>>8^r[(T^(128|S&63))&255]);return~T}return e.table=r,e.bstr=N,e.buf=_,e.str=j,e}(),Je=function(){var t={};t.version="1.2.1";function r(I,q){for(var W=I.split("/"),V=q.split("/"),X=0,Q=0,me=Math.min(W.length,V.length);X<me;++X){if(Q=W[X].length-V[X].length)return Q;if(W[X]!=V[X])return W[X]<V[X]?-1:1}return W.length-V.length}function n(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:n(I.slice(0,-1));var q=I.lastIndexOf("/");return q===-1?I:I.slice(0,q+1)}function a(I){if(I.charAt(I.length-1)=="/")return a(I.slice(0,-1));var q=I.lastIndexOf("/");return q===-1?I:I.slice(q+1)}function i(I,q){typeof q=="string"&&(q=new Date(q));var W=q.getHours();W=W<<6|q.getMinutes(),W=W<<5|q.getSeconds()>>>1,I.write_shift(2,W);var V=q.getFullYear()-1980;V=V<<4|q.getMonth()+1,V=V<<5|q.getDate(),I.write_shift(2,V)}function l(I){var q=I.read_shift(2)&65535,W=I.read_shift(2)&65535,V=new Date,X=W&31;W>>>=5;var Q=W&15;W>>>=4,V.setMilliseconds(0),V.setFullYear(W+1980),V.setMonth(Q-1),V.setDate(X);var me=q&31;q>>>=5;var Ne=q&63;return q>>>=6,V.setHours(q),V.setMinutes(Ne),V.setSeconds(me<<1),V}function o(I){wn(I,0);for(var q={},W=0;I.l<=I.length-4;){var V=I.read_shift(2),X=I.read_shift(2),Q=I.l+X,me={};switch(V){case 21589:W=I.read_shift(1),W&1&&(me.mtime=I.read_shift(4)),X>5&&(W&2&&(me.atime=I.read_shift(4)),W&4&&(me.ctime=I.read_shift(4))),me.mtime&&(me.mt=new Date(me.mtime*1e3));break}I.l=Q,q[V]=me}return q}var c;function u(){return c||(c={})}function d(I,q){if(I[0]==80&&I[1]==75)return To(I,q);if((I[0]|32)==109&&(I[1]|32)==105)return _e(I,q);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var W=3,V=512,X=0,Q=0,me=0,Ne=0,de=0,pe=[],xe=I.slice(0,512);wn(xe,0);var Pe=f(xe);switch(W=Pe[0],W){case 3:V=512;break;case 4:V=4096;break;case 0:if(Pe[1]==0)return To(I,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+W)}V!==512&&(xe=I.slice(0,V),wn(xe,28));var Be=I.slice(0,V);h(xe,W);var We=xe.read_shift(4,"i");if(W===3&&We!==0)throw new Error("# Directory Sectors: Expected 0 saw "+We);xe.l+=4,me=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),Ne=xe.read_shift(4,"i"),X=xe.read_shift(4,"i"),de=xe.read_shift(4,"i"),Q=xe.read_shift(4,"i");for(var De=-1,ze=0;ze<109&&(De=xe.read_shift(4,"i"),!(De<0));++ze)pe[ze]=De;var lt=m(I,V);g(de,Q,lt,V,pe);var cr=b(lt,me,pe,V);cr[me].name="!Directory",X>0&&Ne!==B&&(cr[Ne].name="!MiniFAT"),cr[pe[0]].name="!FAT",cr.fat_addrs=pe,cr.ssz=V;var ur={},Cn=[],Fd=[],Id=[];v(me,cr,lt,Cn,X,ur,Fd,Ne),p(Fd,Id,Cn),Cn.shift();var Rd={FileIndex:Fd,FullPaths:Id};return q&&q.raw&&(Rd.raw={header:Be,sectors:lt}),Rd}function f(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(M,"Header Signature: "),I.l+=16;var q=I.read_shift(2,"u");return[I.read_shift(2,"u"),q]}function h(I,q){var W=9;switch(I.l+=2,W=I.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+W);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+W);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+W)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function m(I,q){for(var W=Math.ceil(I.length/q)-1,V=[],X=1;X<W;++X)V[X-1]=I.slice(X*q,(X+1)*q);return V[W-1]=I.slice(W*q),V}function p(I,q,W){for(var V=0,X=0,Q=0,me=0,Ne=0,de=W.length,pe=[],xe=[];V<de;++V)pe[V]=xe[V]=V,q[V]=W[V];for(;Ne<xe.length;++Ne)V=xe[Ne],X=I[V].L,Q=I[V].R,me=I[V].C,pe[V]===V&&(X!==-1&&pe[X]!==X&&(pe[V]=pe[X]),Q!==-1&&pe[Q]!==Q&&(pe[V]=pe[Q])),me!==-1&&(pe[me]=V),X!==-1&&V!=pe[V]&&(pe[X]=pe[V],xe.lastIndexOf(X)<Ne&&xe.push(X)),Q!==-1&&V!=pe[V]&&(pe[Q]=pe[V],xe.lastIndexOf(Q)<Ne&&xe.push(Q));for(V=1;V<de;++V)pe[V]===V&&(Q!==-1&&pe[Q]!==Q?pe[V]=pe[Q]:X!==-1&&pe[X]!==X&&(pe[V]=pe[X]));for(V=1;V<de;++V)if(I[V].type!==0){if(Ne=V,Ne!=pe[Ne])do Ne=pe[Ne],q[V]=q[Ne]+"/"+q[V];while(Ne!==0&&pe[Ne]!==-1&&Ne!=pe[Ne]);pe[V]=-1}for(q[0]+="/",V=1;V<de;++V)I[V].type!==2&&(q[V]+="/")}function x(I,q,W){for(var V=I.start,X=I.size,Q=[],me=V;W&&X>0&&me>=0;)Q.push(q.slice(me*S,me*S+S)),X-=S,me=Uo(W,me*4);return Q.length===0?we(0):on(Q).slice(0,I.size)}function g(I,q,W,V,X){var Q=B;if(I===B){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var me=W[I],Ne=(V>>>2)-1;if(!me)return;for(var de=0;de<Ne&&(Q=Uo(me,de*4))!==B;++de)X.push(Q);g(Uo(me,V-4),q-1,W,V,X)}}function y(I,q,W,V,X){var Q=[],me=[];X||(X=[]);var Ne=V-1,de=0,pe=0;for(de=q;de>=0;){X[de]=!0,Q[Q.length]=de,me.push(I[de]);var xe=W[Math.floor(de*4/V)];if(pe=de*4&Ne,V<4+pe)throw new Error("FAT boundary crossed: "+de+" 4 "+V);if(!I[xe])break;de=Uo(I[xe],pe)}return{nodes:Q,data:NT([me])}}function b(I,q,W,V){var X=I.length,Q=[],me=[],Ne=[],de=[],pe=V-1,xe=0,Pe=0,Be=0,We=0;for(xe=0;xe<X;++xe)if(Ne=[],Be=xe+q,Be>=X&&(Be-=X),!me[Be]){de=[];var De=[];for(Pe=Be;Pe>=0;){De[Pe]=!0,me[Pe]=!0,Ne[Ne.length]=Pe,de.push(I[Pe]);var ze=W[Math.floor(Pe*4/V)];if(We=Pe*4&pe,V<4+We)throw new Error("FAT boundary crossed: "+Pe+" 4 "+V);if(!I[ze]||(Pe=Uo(I[ze],We),De[Pe]))break}Q[Be]={nodes:Ne,data:NT([de])}}return Q}function v(I,q,W,V,X,Q,me,Ne){for(var de=0,pe=V.length?2:0,xe=q[I].data,Pe=0,Be=0,We;Pe<xe.length;Pe+=128){var De=xe.slice(Pe,Pe+128);wn(De,64),Be=De.read_shift(2),We=p_(De,0,Be-pe),V.push(We);var ze={name:We,type:De.read_shift(1),color:De.read_shift(1),L:De.read_shift(4,"i"),R:De.read_shift(4,"i"),C:De.read_shift(4,"i"),clsid:De.read_shift(16),state:De.read_shift(4,"i"),start:0,size:0},lt=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);lt!==0&&(ze.ct=N(De,De.l-8));var cr=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);cr!==0&&(ze.mt=N(De,De.l-8)),ze.start=De.read_shift(4,"i"),ze.size=De.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=B,ze.name=""),ze.type===5?(de=ze.start,X>0&&de!==B&&(q[de].name="!StreamData")):ze.size>=4096?(ze.storage="fat",q[ze.start]===void 0&&(q[ze.start]=y(W,ze.start,q.fat_addrs,q.ssz)),q[ze.start].name=ze.name,ze.content=q[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:de!==B&&ze.start!==B&&q[de]&&(ze.content=x(ze,q[de].data,(q[Ne]||{}).data))),ze.content&&wn(ze.content,0),Q[We]=ze,me.push(ze)}}function N(I,q){return new Date((Fa(I,q+4)/1e7*Math.pow(2,32)+Fa(I,q)/1e7-11644473600)*1e3)}function _(I,q){return u(),d(c.readFileSync(I),q)}function j(I,q){var W=q&&q.type;switch(W||ht&&Buffer.isBuffer(I)&&(W="buffer"),W||"base64"){case"file":return _(I,q);case"base64":return d(Ma(qa(I)),q);case"binary":return d(Ma(I),q)}return d(I,q)}function k(I,q){var W=q||{},V=W.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=V+"/",I.FileIndex[0]={name:V,type:5}),W.CLSID&&(I.FileIndex[0].clsid=W.CLSID),E(I)}function E(I){var q="Sh33tJ5";if(!Je.find(I,"/"+q)){var W=we(4);W[0]=55,W[1]=W[3]=50,W[2]=54,I.FileIndex.push({name:q,type:2,content:W,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+q),T(I)}}function T(I,q){k(I);for(var W=!1,V=!1,X=I.FullPaths.length-1;X>=0;--X){var Q=I.FileIndex[X];switch(Q.type){case 0:V?W=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(Q.R*Q.L*Q.C)&&(W=!0),Q.R>-1&&Q.L>-1&&Q.R==Q.L&&(W=!0);break;default:W=!0;break}}if(!(!W&&!q)){var me=new Date(1987,1,19),Ne=0,de=Object.create?Object.create(null):{},pe=[];for(X=0;X<I.FullPaths.length;++X)de[I.FullPaths[X]]=!0,I.FileIndex[X].type!==0&&pe.push([I.FullPaths[X],I.FileIndex[X]]);for(X=0;X<pe.length;++X){var xe=n(pe[X][0]);V=de[xe],V||(pe.push([xe,{name:a(xe).replace("/",""),type:1,clsid:z,ct:me,mt:me,content:null}]),de[xe]=!0)}for(pe.sort(function(We,De){return r(We[0],De[0])}),I.FullPaths=[],I.FileIndex=[],X=0;X<pe.length;++X)I.FullPaths[X]=pe[X][0],I.FileIndex[X]=pe[X][1];for(X=0;X<pe.length;++X){var Pe=I.FileIndex[X],Be=I.FullPaths[X];if(Pe.name=a(Be).replace("/",""),Pe.L=Pe.R=Pe.C=-(Pe.color=1),Pe.size=Pe.content?Pe.content.length:0,Pe.start=0,Pe.clsid=Pe.clsid||z,X===0)Pe.C=pe.length>1?1:-1,Pe.size=0,Pe.type=5;else if(Be.slice(-1)=="/"){for(Ne=X+1;Ne<pe.length&&n(I.FullPaths[Ne])!=Be;++Ne);for(Pe.C=Ne>=pe.length?-1:Ne,Ne=X+1;Ne<pe.length&&n(I.FullPaths[Ne])!=n(Be);++Ne);Pe.R=Ne>=pe.length?-1:Ne,Pe.type=1}else n(I.FullPaths[X+1]||"")==n(Be)&&(Pe.R=X+1),Pe.type=2}}}function C(I,q){var W=q||{};if(W.fileType=="mad")return xt(I,W);switch(T(I),W.fileType){case"zip":return Gc(I,W)}var V=function(We){for(var De=0,ze=0,lt=0;lt<We.FileIndex.length;++lt){var cr=We.FileIndex[lt];if(cr.content){var ur=cr.content.length;ur>0&&(ur<4096?De+=ur+63>>6:ze+=ur+511>>9)}}for(var Cn=We.FullPaths.length+3>>2,Fd=De+7>>3,Id=De+127>>7,Rd=Fd+ze+Cn+Id,Po=Rd+127>>7,jv=Po<=109?0:Math.ceil((Po-109)/127);Rd+Po+jv+127>>7>Po;)jv=++Po<=109?0:Math.ceil((Po-109)/127);var Li=[1,jv,Po,Id,Cn,ze,De,0];return We.FileIndex[0].size=De<<6,Li[7]=(We.FileIndex[0].start=Li[0]+Li[1]+Li[2]+Li[3]+Li[4]+Li[5])+(Li[6]+7>>3),Li}(I),X=we(V[7]<<9),Q=0,me=0;{for(Q=0;Q<8;++Q)X.write_shift(1,Y[Q]);for(Q=0;Q<8;++Q)X.write_shift(2,0);for(X.write_shift(2,62),X.write_shift(2,3),X.write_shift(2,65534),X.write_shift(2,9),X.write_shift(2,6),Q=0;Q<3;++Q)X.write_shift(2,0);for(X.write_shift(4,0),X.write_shift(4,V[2]),X.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),X.write_shift(4,0),X.write_shift(4,4096),X.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:B),X.write_shift(4,V[3]),X.write_shift(-4,V[1]?V[0]-1:B),X.write_shift(4,V[1]),Q=0;Q<109;++Q)X.write_shift(-4,Q<V[2]?V[1]+Q:-1)}if(V[1])for(me=0;me<V[1];++me){for(;Q<236+me*127;++Q)X.write_shift(-4,Q<V[2]?V[1]+Q:-1);X.write_shift(-4,me===V[1]-1?B:me+1)}var Ne=function(We){for(me+=We;Q<me-1;++Q)X.write_shift(-4,Q+1);We&&(++Q,X.write_shift(-4,B))};for(me=Q=0,me+=V[1];Q<me;++Q)X.write_shift(-4,R.DIFSECT);for(me+=V[2];Q<me;++Q)X.write_shift(-4,R.FATSECT);Ne(V[3]),Ne(V[4]);for(var de=0,pe=0,xe=I.FileIndex[0];de<I.FileIndex.length;++de)xe=I.FileIndex[de],xe.content&&(pe=xe.content.length,!(pe<4096)&&(xe.start=me,Ne(pe+511>>9)));for(Ne(V[6]+7>>3);X.l&511;)X.write_shift(-4,R.ENDOFCHAIN);for(me=Q=0,de=0;de<I.FileIndex.length;++de)xe=I.FileIndex[de],xe.content&&(pe=xe.content.length,!(!pe||pe>=4096)&&(xe.start=me,Ne(pe+63>>6)));for(;X.l&511;)X.write_shift(-4,R.ENDOFCHAIN);for(Q=0;Q<V[4]<<2;++Q){var Pe=I.FullPaths[Q];if(!Pe||Pe.length===0){for(de=0;de<17;++de)X.write_shift(4,0);for(de=0;de<3;++de)X.write_shift(4,-1);for(de=0;de<12;++de)X.write_shift(4,0);continue}xe=I.FileIndex[Q],Q===0&&(xe.start=xe.size?xe.start-1:B);var Be=Q===0&&W.root||xe.name;if(pe=2*(Be.length+1),X.write_shift(64,Be,"utf16le"),X.write_shift(2,pe),X.write_shift(1,xe.type),X.write_shift(1,xe.color),X.write_shift(-4,xe.L),X.write_shift(-4,xe.R),X.write_shift(-4,xe.C),xe.clsid)X.write_shift(16,xe.clsid,"hex");else for(de=0;de<4;++de)X.write_shift(4,0);X.write_shift(4,xe.state||0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,xe.start),X.write_shift(4,xe.size),X.write_shift(4,0)}for(Q=1;Q<I.FileIndex.length;++Q)if(xe=I.FileIndex[Q],xe.size>=4096)if(X.l=xe.start+1<<9,ht&&Buffer.isBuffer(xe.content))xe.content.copy(X,X.l,0,xe.size),X.l+=xe.size+511&-512;else{for(de=0;de<xe.size;++de)X.write_shift(1,xe.content[de]);for(;de&511;++de)X.write_shift(1,0)}for(Q=1;Q<I.FileIndex.length;++Q)if(xe=I.FileIndex[Q],xe.size>0&&xe.size<4096)if(ht&&Buffer.isBuffer(xe.content))xe.content.copy(X,X.l,0,xe.size),X.l+=xe.size+63&-64;else{for(de=0;de<xe.size;++de)X.write_shift(1,xe.content[de]);for(;de&63;++de)X.write_shift(1,0)}if(ht)X.l=X.length;else for(;X.l<X.length;)X.write_shift(1,0);return X}function A(I,q){var W=I.FullPaths.map(function(de){return de.toUpperCase()}),V=W.map(function(de){var pe=de.split("/");return pe[pe.length-(de.slice(-1)=="/"?2:1)]}),X=!1;q.charCodeAt(0)===47?(X=!0,q=W[0].slice(0,-1)+q):X=q.indexOf("/")!==-1;var Q=q.toUpperCase(),me=X===!0?W.indexOf(Q):V.indexOf(Q);if(me!==-1)return I.FileIndex[me];var Ne=!Q.match(ff);for(Q=Q.replace(sa,""),Ne&&(Q=Q.replace(ff,"!")),me=0;me<W.length;++me)if((Ne?W[me].replace(ff,"!"):W[me]).replace(sa,"")==Q||(Ne?V[me].replace(ff,"!"):V[me]).replace(sa,"")==Q)return I.FileIndex[me];return null}var S=64,B=-2,M="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",R={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(I,q,W){u();var V=C(I,W);c.writeFileSync(q,V)}function U(I){for(var q=new Array(I.length),W=0;W<I.length;++W)q[W]=String.fromCharCode(I[W]);return q.join("")}function te(I,q){var W=C(I,q);switch(q&&q.type||"buffer"){case"file":return u(),c.writeFileSync(q.filename,W),W;case"binary":return typeof W=="string"?W:U(W);case"base64":return y0(typeof W=="string"?W:U(W));case"buffer":if(ht)return Buffer.isBuffer(W)?W:Cl(W);case"array":return typeof W=="string"?Ma(W):W}return W}var K;function D(I){try{var q=I.InflateRaw,W=new q;if(W._processChunk(new Uint8Array([3,0]),W._finishFlushFlag),W.bytesRead)K=I;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function L(I,q){if(!K)return es(I,q);var W=K.InflateRaw,V=new W,X=V._processChunk(I.slice(I.l),V._finishFlushFlag);return I.l+=V.bytesRead,X}function F(I){return K?K.deflateRawSync(I):Xe(I)}var O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function J(I){var q=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(q>>16|q>>8|q)&255}for(var Z=typeof Uint8Array<"u",se=Z?new Uint8Array(256):[],G=0;G<256;++G)se[G]=J(G);function P(I,q){var W=se[I&255];return q<=8?W>>>8-q:(W=W<<8|se[I>>8&255],q<=16?W>>>16-q:(W=W<<8|se[I>>16&255],W>>>24-q))}function ie(I,q){var W=q&7,V=q>>>3;return(I[V]|(W<=6?0:I[V+1]<<8))>>>W&3}function je(I,q){var W=q&7,V=q>>>3;return(I[V]|(W<=5?0:I[V+1]<<8))>>>W&7}function Te(I,q){var W=q&7,V=q>>>3;return(I[V]|(W<=4?0:I[V+1]<<8))>>>W&15}function Le(I,q){var W=q&7,V=q>>>3;return(I[V]|(W<=3?0:I[V+1]<<8))>>>W&31}function Se(I,q){var W=q&7,V=q>>>3;return(I[V]|(W<=1?0:I[V+1]<<8))>>>W&127}function rt(I,q,W){var V=q&7,X=q>>>3,Q=(1<<W)-1,me=I[X]>>>V;return W<8-V||(me|=I[X+1]<<8-V,W<16-V)||(me|=I[X+2]<<16-V,W<24-V)||(me|=I[X+3]<<24-V),me&Q}function nt(I,q,W){var V=q&7,X=q>>>3;return V<=5?I[X]|=(W&7)<<V:(I[X]|=W<<V&255,I[X+1]=(W&7)>>8-V),q+3}function ee(I,q,W){var V=q&7,X=q>>>3;return W=(W&1)<<V,I[X]|=W,q+1}function le(I,q,W){var V=q&7,X=q>>>3;return W<<=V,I[X]|=W&255,W>>>=8,I[X+1]=W,q+8}function ue(I,q,W){var V=q&7,X=q>>>3;return W<<=V,I[X]|=W&255,W>>>=8,I[X+1]=W&255,I[X+2]=W>>>8,q+16}function ke(I,q){var W=I.length,V=2*W>q?2*W:q+5,X=0;if(W>=q)return I;if(ht){var Q=aT(V);if(I.copy)I.copy(Q);else for(;X<I.length;++X)Q[X]=I[X];return Q}else if(Z){var me=new Uint8Array(V);if(me.set)me.set(I);else for(;X<W;++X)me[X]=I[X];return me}return I.length=V,I}function Ee(I){for(var q=new Array(I),W=0;W<I;++W)q[W]=0;return q}function ae(I,q,W){var V=1,X=0,Q=0,me=0,Ne=0,de=I.length,pe=Z?new Uint16Array(32):Ee(32);for(Q=0;Q<32;++Q)pe[Q]=0;for(Q=de;Q<W;++Q)I[Q]=0;de=I.length;var xe=Z?new Uint16Array(de):Ee(de);for(Q=0;Q<de;++Q)pe[X=I[Q]]++,V<X&&(V=X),xe[Q]=0;for(pe[0]=0,Q=1;Q<=V;++Q)pe[Q+16]=Ne=Ne+pe[Q-1]<<1;for(Q=0;Q<de;++Q)Ne=I[Q],Ne!=0&&(xe[Q]=pe[Ne+16]++);var Pe=0;for(Q=0;Q<de;++Q)if(Pe=I[Q],Pe!=0)for(Ne=P(xe[Q],V)>>V-Pe,me=(1<<V+4-Pe)-1;me>=0;--me)q[Ne|me<<Pe]=Pe&15|Q<<4;return V}var ve=Z?new Uint16Array(512):Ee(512),ce=Z?new Uint16Array(32):Ee(32);if(!Z){for(var ye=0;ye<512;++ye)ve[ye]=0;for(ye=0;ye<32;++ye)ce[ye]=0}(function(){for(var I=[],q=0;q<32;q++)I.push(5);ae(I,ce,32);var W=[];for(q=0;q<=143;q++)W.push(8);for(;q<=255;q++)W.push(9);for(;q<=279;q++)W.push(7);for(;q<=287;q++)W.push(8);ae(W,ve,288)})();var Me=function(){for(var q=Z?new Uint8Array(32768):[],W=0,V=0;W<oe.length-1;++W)for(;V<oe[W+1];++V)q[V]=W;for(;V<32768;++V)q[V]=29;var X=Z?new Uint8Array(259):[];for(W=0,V=0;W<re.length-1;++W)for(;V<re[W+1];++V)X[V]=W;function Q(Ne,de){for(var pe=0;pe<Ne.length;){var xe=Math.min(65535,Ne.length-pe),Pe=pe+xe==Ne.length;for(de.write_shift(1,+Pe),de.write_shift(2,xe),de.write_shift(2,~xe&65535);xe-- >0;)de[de.l++]=Ne[pe++]}return de.l}function me(Ne,de){for(var pe=0,xe=0,Pe=Z?new Uint16Array(32768):[];xe<Ne.length;){var Be=Math.min(65535,Ne.length-xe);if(Be<10){for(pe=nt(de,pe,+(xe+Be==Ne.length)),pe&7&&(pe+=8-(pe&7)),de.l=pe/8|0,de.write_shift(2,Be),de.write_shift(2,~Be&65535);Be-- >0;)de[de.l++]=Ne[xe++];pe=de.l*8;continue}pe=nt(de,pe,+(xe+Be==Ne.length)+2);for(var We=0;Be-- >0;){var De=Ne[xe];We=(We<<5^De)&32767;var ze=-1,lt=0;if((ze=Pe[We])&&(ze|=xe&-32768,ze>xe&&(ze-=32768),ze<xe))for(;Ne[ze+lt]==Ne[xe+lt]&&lt<250;)++lt;if(lt>2){De=X[lt],De<=22?pe=le(de,pe,se[De+1]>>1)-1:(le(de,pe,3),pe+=5,le(de,pe,se[De-23]>>5),pe+=3);var cr=De<8?0:De-4>>2;cr>0&&(ue(de,pe,lt-re[De]),pe+=cr),De=q[xe-ze],pe=le(de,pe,se[De]>>3),pe-=3;var ur=De<4?0:De-2>>1;ur>0&&(ue(de,pe,xe-ze-oe[De]),pe+=ur);for(var Cn=0;Cn<lt;++Cn)Pe[We]=xe&32767,We=(We<<5^Ne[xe])&32767,++xe;Be-=lt-1}else De<=143?De=De+48:pe=ee(de,pe,1),pe=le(de,pe,se[De]),Pe[We]=xe&32767,++xe}pe=le(de,pe,0)-1}return de.l=(pe+7)/8|0,de.l}return function(de,pe){return de.length<8?Q(de,pe):me(de,pe)}}();function Xe(I){var q=we(50+Math.floor(I.length*1.1)),W=Me(I,q);return q.slice(0,W)}var st=Z?new Uint16Array(32768):Ee(32768),$e=Z?new Uint16Array(32768):Ee(32768),Ze=Z?new Uint16Array(128):Ee(128),Nt=1,br=1;function Fs(I,q){var W=Le(I,q)+257;q+=5;var V=Le(I,q)+1;q+=5;var X=Te(I,q)+4;q+=4;for(var Q=0,me=Z?new Uint8Array(19):Ee(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de=1,pe=Z?new Uint8Array(8):Ee(8),xe=Z?new Uint8Array(8):Ee(8),Pe=me.length,Be=0;Be<X;++Be)me[O[Be]]=Q=je(I,q),de<Q&&(de=Q),pe[Q]++,q+=3;var We=0;for(pe[0]=0,Be=1;Be<=de;++Be)xe[Be]=We=We+pe[Be-1]<<1;for(Be=0;Be<Pe;++Be)(We=me[Be])!=0&&(Ne[Be]=xe[We]++);var De=0;for(Be=0;Be<Pe;++Be)if(De=me[Be],De!=0){We=se[Ne[Be]]>>8-De;for(var ze=(1<<7-De)-1;ze>=0;--ze)Ze[We|ze<<De]=De&7|Be<<3}var lt=[];for(de=1;lt.length<W+V;)switch(We=Ze[Se(I,q)],q+=We&7,We>>>=3){case 16:for(Q=3+ie(I,q),q+=2,We=lt[lt.length-1];Q-- >0;)lt.push(We);break;case 17:for(Q=3+je(I,q),q+=3;Q-- >0;)lt.push(0);break;case 18:for(Q=11+Se(I,q),q+=7;Q-- >0;)lt.push(0);break;default:lt.push(We),de<We&&(de=We);break}var cr=lt.slice(0,W),ur=lt.slice(W);for(Be=W;Be<286;++Be)cr[Be]=0;for(Be=V;Be<30;++Be)ur[Be]=0;return Nt=ae(cr,st,286),br=ae(ur,$e,30),q}function oi(I,q){if(I[0]==3&&!(I[1]&3))return[fo(q),2];for(var W=0,V=0,X=aT(q||1<<18),Q=0,me=X.length>>>0,Ne=0,de=0;!(V&1);){if(V=je(I,W),W+=3,V>>>1)V>>1==1?(Ne=9,de=5):(W=Fs(I,W),Ne=Nt,de=br);else{W&7&&(W+=8-(W&7));var pe=I[W>>>3]|I[(W>>>3)+1]<<8;if(W+=32,pe>0)for(!q&&me<Q+pe&&(X=ke(X,Q+pe),me=X.length);pe-- >0;)X[Q++]=I[W>>>3],W+=8;continue}for(;;){!q&&me<Q+32767&&(X=ke(X,Q+32767),me=X.length);var xe=rt(I,W,Ne),Pe=V>>>1==1?ve[xe]:st[xe];if(W+=Pe&15,Pe>>>=4,!(Pe>>>8&255))X[Q++]=Pe;else{if(Pe==256)break;Pe-=257;var Be=Pe<8?0:Pe-4>>2;Be>5&&(Be=0);var We=Q+re[Pe];Be>0&&(We+=rt(I,W,Be),W+=Be),xe=rt(I,W,de),Pe=V>>>1==1?ce[xe]:$e[xe],W+=Pe&15,Pe>>>=4;var De=Pe<4?0:Pe-2>>1,ze=oe[Pe];for(De>0&&(ze+=rt(I,W,De),W+=De),!q&&me<We&&(X=ke(X,We+100),me=X.length);Q<We;)X[Q]=X[Q-ze],++Q}}}return q?[X,W+7>>>3]:[X.slice(0,Q),W+7>>>3]}function es(I,q){var W=I.slice(I.l||0),V=oi(W,q);return I.l+=V[1],V[0]}function Co(I,q){if(I)typeof console<"u"&&console.error(q);else throw new Error(q)}function To(I,q){var W=I;wn(W,0);var V=[],X=[],Q={FileIndex:V,FullPaths:X};k(Q,{root:q.root});for(var me=W.length-4;(W[me]!=80||W[me+1]!=75||W[me+2]!=5||W[me+3]!=6)&&me>=0;)--me;W.l=me+4,W.l+=4;var Ne=W.read_shift(2);W.l+=6;var de=W.read_shift(4);for(W.l=de,me=0;me<Ne;++me){W.l+=20;var pe=W.read_shift(4),xe=W.read_shift(4),Pe=W.read_shift(2),Be=W.read_shift(2),We=W.read_shift(2);W.l+=8;var De=W.read_shift(4),ze=o(W.slice(W.l+Pe,W.l+Pe+Be));W.l+=Pe+Be+We;var lt=W.l;W.l=De+4,Ao(W,pe,xe,Q,ze),W.l=lt}return Q}function Ao(I,q,W,V,X){I.l+=2;var Q=I.read_shift(2),me=I.read_shift(2),Ne=l(I);if(Q&8257)throw new Error("Unsupported ZIP encryption");for(var de=I.read_shift(4),pe=I.read_shift(4),xe=I.read_shift(4),Pe=I.read_shift(2),Be=I.read_shift(2),We="",De=0;De<Pe;++De)We+=String.fromCharCode(I[I.l++]);if(Be){var ze=o(I.slice(I.l,I.l+Be));(ze[21589]||{}).mt&&(Ne=ze[21589].mt),((X||{})[21589]||{}).mt&&(Ne=X[21589].mt)}I.l+=Be;var lt=I.slice(I.l,I.l+pe);switch(me){case 8:lt=L(I,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+me)}var cr=!1;Q&8&&(de=I.read_shift(4),de==134695760&&(de=I.read_shift(4),cr=!0),pe=I.read_shift(4),xe=I.read_shift(4)),pe!=q&&Co(cr,"Bad compressed size: "+q+" != "+pe),xe!=W&&Co(cr,"Bad uncompressed size: "+W+" != "+xe),Rr(V,We,lt,{unsafe:!0,mt:Ne})}function Gc(I,q){var W=q||{},V=[],X=[],Q=we(1),me=W.compression?8:0,Ne=0,de=0,pe=0,xe=0,Pe=0,Be=I.FullPaths[0],We=Be,De=I.FileIndex[0],ze=[],lt=0;for(de=1;de<I.FullPaths.length;++de)if(We=I.FullPaths[de].slice(Be.length),De=I.FileIndex[de],!(!De.size||!De.content||We=="Sh33tJ5")){var cr=xe,ur=we(We.length);for(pe=0;pe<We.length;++pe)ur.write_shift(1,We.charCodeAt(pe)&127);ur=ur.slice(0,ur.l),ze[Pe]=Eue.buf(De.content,0);var Cn=De.content;me==8&&(Cn=F(Cn)),Q=we(30),Q.write_shift(4,67324752),Q.write_shift(2,20),Q.write_shift(2,Ne),Q.write_shift(2,me),De.mt?i(Q,De.mt):Q.write_shift(4,0),Q.write_shift(-4,ze[Pe]),Q.write_shift(4,Cn.length),Q.write_shift(4,De.content.length),Q.write_shift(2,ur.length),Q.write_shift(2,0),xe+=Q.length,V.push(Q),xe+=ur.length,V.push(ur),xe+=Cn.length,V.push(Cn),Q=we(46),Q.write_shift(4,33639248),Q.write_shift(2,0),Q.write_shift(2,20),Q.write_shift(2,Ne),Q.write_shift(2,me),Q.write_shift(4,0),Q.write_shift(-4,ze[Pe]),Q.write_shift(4,Cn.length),Q.write_shift(4,De.content.length),Q.write_shift(2,ur.length),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(4,0),Q.write_shift(4,cr),lt+=Q.l,X.push(Q),lt+=ur.length,X.push(ur),++Pe}return Q=we(22),Q.write_shift(4,101010256),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,Pe),Q.write_shift(2,Pe),Q.write_shift(4,lt),Q.write_shift(4,xe),Q.write_shift(2,0),on([on(V),on(X),Q])}var Sa={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ci(I,q){if(I.ctype)return I.ctype;var W=I.name||"",V=W.match(/\.([^\.]+)$/);return V&&Sa[V[1]]||q&&(V=(W=q).match(/[\.\\]([^\.\\])+$/),V&&Sa[V[1]])?Sa[V[1]]:"application/octet-stream"}function he(I){for(var q=y0(I),W=[],V=0;V<q.length;V+=76)W.push(q.slice(V,V+76));return W.join(`\r
`)+`\r
`}function Ae(I){var q=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var xe=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var W=[],V=q.split(`\r
`),X=0;X<V.length;++X){var Q=V[X];if(Q.length==0){W.push("");continue}for(var me=0;me<Q.length;){var Ne=76,de=Q.slice(me,me+Ne);de.charAt(Ne-1)=="="?Ne--:de.charAt(Ne-2)=="="?Ne-=2:de.charAt(Ne-3)=="="&&(Ne-=3),de=Q.slice(me,me+Ne),me+=Ne,me<Q.length&&(de+="="),W.push(de)}}return W.join(`\r
`)}function ut(I){for(var q=[],W=0;W<I.length;++W){for(var V=I[W];W<=I.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+I[++W];q.push(V)}for(var X=0;X<q.length;++X)q[X]=q[X].replace(/[=][0-9A-Fa-f]{2}/g,function(Q){return String.fromCharCode(parseInt(Q.slice(1),16))});return Ma(q.join(`\r
`))}function Cr(I,q,W){for(var V="",X="",Q="",me,Ne=0;Ne<10;++Ne){var de=q[Ne];if(!de||de.match(/^\s*$/))break;var pe=de.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":V=pe[2].trim();break;case"content-type":Q=pe[2].trim();break;case"content-transfer-encoding":X=pe[2].trim();break}}switch(++Ne,X.toLowerCase()){case"base64":me=Ma(qa(q.slice(Ne).join("")));break;case"quoted-printable":me=ut(q.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+X)}var xe=Rr(I,V.slice(W.length),me,{unsafe:!0});Q&&(xe.ctype=Q)}function _e(I,q){if(U(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var W=q&&q.root||"",V=(ht&&Buffer.isBuffer(I)?I.toString("binary"):U(I)).split(`\r
`),X=0,Q="";for(X=0;X<V.length;++X)if(Q=V[X],!!/^Content-Location:/i.test(Q)&&(Q=Q.slice(Q.indexOf("file")),W||(W=Q.slice(0,Q.lastIndexOf("/")+1)),Q.slice(0,W.length)!=W))for(;W.length>0&&(W=W.slice(0,W.length-1),W=W.slice(0,W.lastIndexOf("/")+1),Q.slice(0,W.length)!=W););var me=(V[1]||"").match(/boundary="(.*?)"/);if(!me)throw new Error("MAD cannot find boundary");var Ne="--"+(me[1]||""),de=[],pe=[],xe={FileIndex:de,FullPaths:pe};k(xe);var Pe,Be=0;for(X=0;X<V.length;++X){var We=V[X];We!==Ne&&We!==Ne+"--"||(Be++&&Cr(xe,V.slice(Pe,X),W),Pe=X)}return xe}function xt(I,q){var W=q||{},V=W.boundary||"SheetJS";V="------="+V;for(var X=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],Q=I.FullPaths[0],me=Q,Ne=I.FileIndex[0],de=1;de<I.FullPaths.length;++de)if(me=I.FullPaths[de].slice(Q.length),Ne=I.FileIndex[de],!(!Ne.size||!Ne.content||me=="Sh33tJ5")){me=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(lt){return"_x"+lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(lt){return"_u"+lt.charCodeAt(0).toString(16)+"_"});for(var pe=Ne.content,xe=ht&&Buffer.isBuffer(pe)?pe.toString("binary"):U(pe),Pe=0,Be=Math.min(1024,xe.length),We=0,De=0;De<=Be;++De)(We=xe.charCodeAt(De))>=32&&We<128&&++Pe;var ze=Pe>=Be*4/5;X.push(V),X.push("Content-Location: "+(W.root||"file:///C:/SheetJS/")+me),X.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),X.push("Content-Type: "+ci(Ne,me)),X.push(""),X.push(ze?Ae(xe):he(xe))}return X.push(V+`--\r
`),X.join(`\r
`)}function dt(I){var q={};return k(q,I),q}function Rr(I,q,W,V){var X=V&&V.unsafe;X||k(I);var Q=!X&&Je.find(I,q);if(!Q){var me=I.FullPaths[0];q.slice(0,me.length)==me?me=q:(me.slice(-1)!="/"&&(me+="/"),me=(me+q).replace("//","/")),Q={name:a(q),type:2},I.FileIndex.push(Q),I.FullPaths.push(me),X||Je.utils.cfb_gc(I)}return Q.content=W,Q.size=W?W.length:0,V&&(V.CLSID&&(Q.clsid=V.CLSID),V.mt&&(Q.mt=V.mt),V.ct&&(Q.ct=V.ct)),Q}function Is(I,q){k(I);var W=Je.find(I,q);if(W){for(var V=0;V<I.FileIndex.length;++V)if(I.FileIndex[V]==W)return I.FileIndex.splice(V,1),I.FullPaths.splice(V,1),!0}return!1}function Yn(I,q,W){k(I);var V=Je.find(I,q);if(V){for(var X=0;X<I.FileIndex.length;++X)if(I.FileIndex[X]==V)return I.FileIndex[X].name=a(W),I.FullPaths[X]=W,!0}return!1}function Xc(I){T(I,!0)}return t.find=A,t.read=j,t.parse=d,t.write=te,t.writeFile=H,t.utils={cfb_new:dt,cfb_add:Rr,cfb_del:Is,cfb_mov:Yn,cfb_gc:Xc,ReadShift:Af,CheckField:r8,prep_blob:wn,bconcat:on,use_zlib:D,_deflateRaw:Xe,_inflateRaw:es,consts:R},t}();function Cue(e){return typeof e=="string"?hv(e):Array.isArray(e)?eue(e):e}function fh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=hv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ji(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Cue(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=ko(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Tue(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Er(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function fT(e,t){for(var r=[],n=Er(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function pv(e){for(var t=[],r=Er(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function xv(e){for(var t=[],r=Er(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Aue(e){for(var t=[],r=Er(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Sx=new Date(1899,11,30,0,0,0);function Yr(e,t){var r=e.getTime(),n=Sx.getTime()+(e.getTimezoneOffset()-Sx.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var IR=new Date,Pue=Sx.getTime()+(IR.getTimezoneOffset()-Sx.getTimezoneOffset())*6e4,hT=IR.getTimezoneOffset();function gv(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Pue),t.getTimezoneOffset()!==hT&&t.setTime(t.getTime()+(t.getTimezoneOffset()-hT)*6e4),t}function Oue(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var mT=new Date("2017-02-19T19:06:09.000Z"),RR=isNaN(mT.getFullYear())?new Date("2/19/17"):mT,Due=RR.getFullYear()==2017;function Zt(e,t){var r=new Date(e);if(Due)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(RR.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Pc(e,t){if(ht&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ji(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ji(NR(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ji(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ji(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function er(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=er(e[r]));return t}function _r(e,t){for(var r="";r.length<t;)r+=e;return r}function ri(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Fue=["january","february","march","april","may","june","july","august","september","october","november","december"];function sd(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Fue.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Iue=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),l=[i[0]],o=1;o<i.length;++o)l.push(a),l.push(i[o]);return l}}();function MR(e){return e?e.content&&e.type?Pc(e.content,!0):e.data?df(e.data):e.asNodeBuffer&&ht?df(e.asNodeBuffer().toString("binary")):e.asBinary?df(e.asBinary()):e._data&&e._data.getContent?df(Pc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function LR(e){if(!e)return null;if(e.data)return rT(e.data);if(e.asNodeBuffer&&ht)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?rT(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Rue(e){return e&&e.name.slice(-4)===".bin"?LR(e):MR(e)}function cs(e,t){for(var r=e.FullPaths||Er(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var l=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||a==l)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function c_(e,t){var r=cs(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function $r(e,t,r){if(!r)return Rue(c_(e,t));if(!t)return null;try{return $r(e,t)}catch{return null}}function La(e,t,r){if(!r)return MR(c_(e,t));if(!t)return null;try{return La(e,t)}catch{return null}}function Mue(e,t,r){return LR(c_(e,t))}function pT(e){for(var t=e.FullPaths||Er(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function ft(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ht?n=Cl(r):n=tue(r),Je.utils.cfb_add(e,t,n)}Je.utils.cfb_add(e,t,r)}else e.file(t,r)}function u_(){return Je.utils.cfb_new()}function $R(e,t){switch(t.type){case"base64":return Je.read(e,{type:"base64"});case"binary":return Je.read(e,{type:"binary"});case"buffer":case"array":return Je.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function hf(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Ir=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Lue=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,xT=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,$ue=/<[^>]*>/g,Qn=Ir.match(xT)?xT:$ue,Bue=/<\w*:/,Uue=/<(\/?)\w+:/;function at(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var l=e.match(Lue),o=0,c="",u=0,d="",f="",h=1;if(l)for(u=0;u!=l.length;++u){for(f=l[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[m]&&d.slice(o-3,o)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function Ri(e){return e.replace(Uue,"<$1")}var BR={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},d_=pv(BR),kt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,c){return BR[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var l=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,l)+r(a.slice(l+3))}}(),f_=/[&<>'"]/g,zue=/[\u0000-\u0008\u000b-\u001f]/g;function It(e){var t=e+"";return t.replace(f_,function(r){return d_[r]}).replace(zue,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function gT(e){return It(e).replace(/ /g,"_x0020_")}var UR=/[\u0000-\u001f]/g;function h_(e){var t=e+"";return t.replace(f_,function(r){return d_[r]}).replace(/\n/g,"<br/>").replace(UR,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Wue(e){var t=e+"";return t.replace(f_,function(r){return d_[r]}).replace(UR,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var vT=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Vue(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Qt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Fy(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function yT(e){var t=fo(2*e.length),r,n,a=1,i=0,l=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function bT(e){return Cl(e,"binary").toString("utf8")}var lm="foo bar baz",Bt=ht&&(bT(lm)==Fy(lm)&&bT||yT(lm)==Fy(lm)&&yT)||Fy,ji=ht?function(e){return Cl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},w0=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),zR=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Hue=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Kue=/<\/?(?:vt:)?variant>/g,que=/<(?:vt:)([^>]*)>([\s\S]*)</;function wT(e,t){var r=at(e),n=e.match(Hue(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var l=i.replace(Kue,"").match(que);l&&a.push({v:Bt(l[2]),t:l[1]})}),a}var WR=/(^\s|\s$|\n)/;function Nn(e,t){return"<"+e+(t.match(WR)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function j0(e){return Er(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ie(e,t,r){return"<"+e+(r!=null?j0(r):"")+(t!=null?(t.match(WR)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function mw(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Gue(e,t){switch(typeof e){case"string":var r=Ie("vt:lpwstr",It(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ie((e|0)==e?"vt:i4":"vt:r8",It(String(e)));case"boolean":return Ie("vt:bool",e?"true":"false")}if(e instanceof Date)return Ie("vt:filetime",mw(e));throw new Error("Unable to serialize "+e)}function m_(e){if(ht&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Bt(ko(i_(e)));throw new Error("Bad input format: expected Buffer or string")}var N0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Xr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Da={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Xue(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Que(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,l=n?-t:t;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var jT=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},NT=ht?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Cl(t)})):jT(e)}:jT,_T=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Zi(e,a)));return n.join("").replace(sa,"")},p_=ht?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(sa,""):_T(e,t,r)}:_T,kT=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},VR=ht?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):kT(e,t,r)}:kT,ST=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(au(e,a)));return n.join("")},hh=ht?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):ST(t,r,n)}:ST,HR=function(e,t){var r=Fa(e,t);return r>0?hh(e,t+4,t+4+r-1):""},KR=HR,qR=function(e,t){var r=Fa(e,t);return r>0?hh(e,t+4,t+4+r-1):""},GR=qR,XR=function(e,t){var r=2*Fa(e,t);return r>0?hh(e,t+4,t+4+r-1):""},QR=XR,YR=function(t,r){var n=Fa(t,r);return n>0?p_(t,r+4,r+4+n):""},JR=YR,ZR=function(e,t){var r=Fa(e,t);return r>0?hh(e,t+4,t+4+r):""},e8=ZR,t8=function(e,t){return Xue(e,t)},Ex=t8,x_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ht&&(KR=function(t,r){if(!Buffer.isBuffer(t))return HR(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},GR=function(t,r){if(!Buffer.isBuffer(t))return qR(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},QR=function(t,r){if(!Buffer.isBuffer(t))return XR(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},JR=function(t,r){if(!Buffer.isBuffer(t))return YR(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},e8=function(t,r){if(!Buffer.isBuffer(t))return ZR(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Ex=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):t8(t,r)},x_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var au=function(e,t){return e[t]},Zi=function(e,t){return e[t+1]*256+e[t]},Yue=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Fa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Uo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Jue=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Af(e,t){var r="",n,a,i=[],l,o,c,u;switch(t){case"dbcs":if(u=this.l,ht&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Zi(this,u)),u+=2;e*=2;break;case"utf8":r=hh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=p_(this,this.l,this.l+e);break;case"wstr":return Af.call(this,e,"dbcs");case"lpstr-ansi":r=KR(this,this.l),e=4+Fa(this,this.l);break;case"lpstr-cp":r=GR(this,this.l),e=4+Fa(this,this.l);break;case"lpwstr":r=QR(this,this.l),e=4+2*Fa(this,this.l);break;case"lpp4":e=4+Fa(this,this.l),r=JR(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Fa(this,this.l),r=e8(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=au(this,this.l+e++))!==0;)i.push(im(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=Zi(this,this.l+e))!==0;)i.push(im(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return l=au(this,u),this.l=u+1,o=Af.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(im(Zi(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return l=au(this,u),this.l=u+1,o=Af.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(im(au(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=au(this,this.l),this.l++,n;case 2:return n=(t==="i"?Yue:Zi)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Uo:Jue)(this,this.l),this.l+=4,n):(a=Fa(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Ex(this,this.l):a=Ex([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=VR(this,this.l,e);break}}return this.l+=e,r}var Zue=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ede=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},tde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function rde(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)tde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Zue(this,t,this.l);break;case 8:if(n=8,r==="f"){Que(this,t,this.l);break}case 16:break;case-4:n=4,ede(this,t,this.l);break}return this.l+=n,this}function r8(e,t){var r=VR(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function wn(e,t){e.l=t,e.read_shift=Af,e.chk=r8,e.write_shift=rde}function qn(e,t){e.l+=t}function we(e){var t=fo(e);return wn(t,0),t}function Tl(e,t,r){if(e){var n,a,i;wn(e,e.l||0);for(var l=e.length,o=0,c=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=T0[o]||T0[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,o))return}}}function Na(){var e=[],t=ht?256:2048,r=function(u){var d=we(u);return wn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},l=function(){return a(),on(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function Ce(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=T0[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=e.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&x_(r)&&e.push(r)}}function Pf(e,t,r){var n=er(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function ET(e,t,r){var n=er(e);return n.s=Pf(n.s,t.s,r),n.e=Pf(n.e,t.s,r),n}function Of(e,t){if(e.cRel&&e.c<0)for(e=er(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=er(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=tt(e);return!e.cRel&&e.cRel!=null&&(r=sde(r)),!e.rRel&&e.rRel!=null&&(r=nde(r)),r}function Iy(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+hr(e.s.c)+":"+(e.e.cRel?"":"$")+hr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Or(e.s.r)+":"+(e.e.rRel?"":"$")+Or(e.e.r):Of(e.s,t.biff)+":"+Of(e.e,t.biff)}function g_(e){return parseInt(ade(e),10)-1}function Or(e){return""+(e+1)}function nde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ade(e){return e.replace(/\$(\d+)$/,"$1")}function v_(e){for(var t=ide(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function hr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function sde(e){return e.replace(/^([A-Z])/,"$$$1")}function ide(e){return e.replace(/^\$([A-Z])/,"$1")}function lde(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function mr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function tt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ka(e){var t=e.indexOf(":");return t==-1?{s:mr(e),e:mr(e)}:{s:mr(e.slice(0,t)),e:mr(e.slice(t+1))}}function ct(e,t){return typeof t>"u"||typeof t=="number"?ct(e.s,e.e):(typeof e!="string"&&(e=tt(e)),typeof t!="string"&&(t=tt(t)),e==t?e:e+":"+t)}function St(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function CT(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ss(e.z,r?Yr(t):t)}catch{}try{return e.w=Ss((e.XF||{}).numFmtId||(r?14:0),r?Yr(t):t)}catch{return""+t}}function vl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Al[e.v]||e.v:t==null?CT(e,e.v):CT(e,t))}function So(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function n8(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),l=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var c=typeof n.origin=="string"?mr(n.origin):n.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=St(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),l==-1&&(u.e.r=l=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=l+f,x=o+h;if(u.s.r>p&&(u.s.r=p),u.s.c>x&&(u.s.c=x),u.e.r<p&&(u.e.r=p),u.e.c<x&&(u.e.c=x),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||et[14],n.cellDates?(m.t="d",m.w=Ss(m.z,Yr(m.v))):(m.t="n",m.v=Yr(m.v),m.w=Ss(m.z,m.v))):m.t="s";if(a)i[p]||(i[p]=[]),i[p][x]&&i[p][x].z&&(m.z=i[p][x].z),i[p][x]=m;else{var g=tt({c:x,r:p});i[g]&&i[g].z&&(m.z=i[g].z),i[g]=m}}}return u.s.c<1e7&&(i["!ref"]=ct(u)),i}function Od(e,t){return n8(null,e,t)}function ode(e){return e.read_shift(4,"i")}function ni(e,t){return t||(t=we(4)),t.write_shift(4,e),t}function Vn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function dn(e,t){var r=!1;return t==null&&(r=!0,t=we(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function cde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ude(e,t){return t||(t=we(4)),t.write_shift(2,0),t.write_shift(2,0),t}function y_(e,t){var r=e.l,n=e.read_shift(1),a=Vn(e),i=[],l={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(cde(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function dde(e,t){var r=!1;return t==null&&(r=!0,t=we(15+4*e.t.length)),t.write_shift(1,0),dn(e.t,t),r?t.slice(0,t.l):t}var fde=y_;function hde(e,t){var r=!1;return t==null&&(r=!0,t=we(23+4*e.t.length)),t.write_shift(1,1),dn(e.t,t),t.write_shift(4,1),ude({},t),r?t.slice(0,t.l):t}function Ds(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Wc(e,t){return t==null&&(t=we(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Vc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Hc(e,t){return t==null&&(t=we(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var mde=Vn,a8=dn;function b_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Cx(e,t){var r=!1;return t==null&&(r=!0,t=we(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var pde=Vn,pw=b_,w_=Cx;function j_(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Ex([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Uo(t,0)>>2;return r?a/100:a}function s8(e,t){t==null&&(t=we(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function i8(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function xde(e,t){return t||(t=we(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Kc=i8,Dd=xde;function Bn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Oc(e,t){return(t||we(8)).write_shift(8,e,"f")}function gde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=fc[a];u&&(t.rgb=k0(u));break;case 2:t.rgb=k0([l,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Tx(e,t){if(t||(t=we(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function vde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function yde(e,t){t||(t=we(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function l8(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function bde(e){return l8(e,1)}function wde(e){return l8(e,2)}var N_=2,fa=3,om=11,TT=12,Ax=19,cm=64,jde=65,Nde=71,_de=4108,kde=4126,an=80,o8=81,Sde=[an,o8],xw={1:{n:"CodePage",t:N_},2:{n:"Category",t:an},3:{n:"PresentationFormat",t:an},4:{n:"ByteCount",t:fa},5:{n:"LineCount",t:fa},6:{n:"ParagraphCount",t:fa},7:{n:"SlideCount",t:fa},8:{n:"NoteCount",t:fa},9:{n:"HiddenCount",t:fa},10:{n:"MultimediaClipCount",t:fa},11:{n:"ScaleCrop",t:om},12:{n:"HeadingPairs",t:_de},13:{n:"TitlesOfParts",t:kde},14:{n:"Manager",t:an},15:{n:"Company",t:an},16:{n:"LinksUpToDate",t:om},17:{n:"CharacterCount",t:fa},19:{n:"SharedDoc",t:om},22:{n:"HyperlinksChanged",t:om},23:{n:"AppVersion",t:fa,p:"version"},24:{n:"DigSig",t:jde},26:{n:"ContentType",t:an},27:{n:"ContentStatus",t:an},28:{n:"Language",t:an},29:{n:"Version",t:an},255:{},2147483648:{n:"Locale",t:Ax},2147483651:{n:"Behavior",t:Ax},1919054434:{}},gw={1:{n:"CodePage",t:N_},2:{n:"Title",t:an},3:{n:"Subject",t:an},4:{n:"Author",t:an},5:{n:"Keywords",t:an},6:{n:"Comments",t:an},7:{n:"Template",t:an},8:{n:"LastAuthor",t:an},9:{n:"RevNumber",t:an},10:{n:"EditTime",t:cm},11:{n:"LastPrinted",t:cm},12:{n:"CreatedDate",t:cm},13:{n:"ModifiedDate",t:cm},14:{n:"PageCount",t:fa},15:{n:"WordCount",t:fa},16:{n:"CharCount",t:fa},17:{n:"Thumbnail",t:Nde},18:{n:"Application",t:an},19:{n:"DocSecurity",t:fa},255:{},2147483648:{n:"Locale",t:Ax},2147483651:{n:"Behavior",t:Ax},1919054434:{}},AT={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ede=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Cde(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Tde=Cde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),fc=er(Tde),Al={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},c8={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},vw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},um={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function __(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Ade(e){var t=__();if(!e||!e.match)return t;var r={};if((e.match(Qn)||[]).forEach(function(n){var a=at(n);switch(a[0].replace(Bue,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[vw[a.ContentType]]!==void 0&&t[vw[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Xr.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function u8(e,t){var r=Aue(vw),n=[],a;n[n.length]=Ir,n[n.length]=Ie("Types",null,{xmlns:Xr.CT,"xmlns:xsd":Xr.xsd,"xmlns:xsi":Xr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ie("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Ie("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:um[c][t.bookType]||um[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ie("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:um[c][t.bookType]||um[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ie("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _0(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Df(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Qn)||[]).forEach(function(a){var i=at(a);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:hf(i.Target,t);r[o]=l,n[i.Id]=l}}),r["!id"]=n,r}function Fu(e){var t=[Ir,Ie("Relationships",null,{xmlns:Xr.RELS})];return Er(e["!id"]).forEach(function(r){t[t.length]=Ie("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Dt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[mt.HLINK,mt.XPATH,mt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var Pde="application/vnd.oasis.opendocument.spreadsheet";function Ode(e,t){for(var r=m_(e),n,a;n=N0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=at(n[0],!1),a.path=="/"&&a.type!==Pde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Dde(e){var t=[Ir];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function PT(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Fde(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Ide(e){var t=[Ir];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(PT(e[r][0],e[r][1])),t.push(Fde("",e[r][0]));return t.push(PT("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function d8(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+jx.version+"</meta:generator></office:meta></office:document-meta>"}var bs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Rde=function(){for(var e=new Array(bs.length),t=0;t<bs.length;++t){var r=bs[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function f8(e){var t={};e=Bt(e);for(var r=0;r<bs.length;++r){var n=bs[r],a=e.match(Rde[r]);a!=null&&a.length>0&&(t[n[1]]=kt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Zt(t[n[1]]))}return t}function Ry(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=It(t),n[n.length]=r?Ie(e,t,r):Nn(e,t))}function h8(e,t){var r=t||{},n=[Ir,Ie("cp:coreProperties",null,{"xmlns:cp":Xr.CORE_PROPS,"xmlns:dc":Xr.dc,"xmlns:dcterms":Xr.dcterms,"xmlns:dcmitype":Xr.dcmitype,"xmlns:xsi":Xr.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Ry("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:mw(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Ry("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:mw(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=bs.length;++i){var l=bs[i],o=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Ry(l[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var hc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],m8=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function p8(e,t,r,n){var a=[];if(typeof e=="string")a=wT(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var l=typeof t=="string"?wT(t,n).map(function(d){return d.v}):t,o=0,c=0;if(l.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=l.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=l.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=l.slice(o,o+c);break}o+=c}}function Mde(e,t,r){var n={};return t||(t={}),e=Bt(e),hc.forEach(function(a){var i=(e.match(w0(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=kt(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));l&&l.length>0&&(n[a[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&p8(n.HeadingPairs,n.TitlesOfParts,t,r),t}function x8(e){var t=[],r=Ie;return e||(e={}),e.Application="SheetJS",t[t.length]=Ir,t[t.length]=Ie("Properties",null,{xmlns:Xr.EXT_PROPS,"xmlns:vt":Xr.vt}),hc.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=It(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+It(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Lde=/<[^>]+>[^<]*/g;function $de(e,t){var r={},n="",a=e.match(Lde);if(a)for(var i=0;i!=a.length;++i){var l=a[i],o=at(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=kt(o.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var c=l.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=kt(d);break;case"bool":r[n]=Qt(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Zt(d);break;case"cy":case"error":r[n]=kt(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,u,c)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}function g8(e){var t=[Ir,Ie("Properties",null,{xmlns:Xr.CUST_PROPS,"xmlns:vt":Xr.vt})];if(!e)return t.join("");var r=1;return Er(e).forEach(function(a){++r,t[t.length]=Ie("property",Gue(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:It(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var yw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},My;function Bde(e,t,r){My||(My=pv(yw)),t=My[t]||t,e[t]=r}function Ude(e,t){var r=[];return Er(yw).map(function(n){for(var a=0;a<bs.length;++a)if(bs[a][1]==n)return bs[a];for(a=0;a<hc.length;++a)if(hc[a][1]==n)return hc[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Nn(yw[n[1]]||n[1],a))}}),Ie("DocumentProperties",r.join(""),{xmlns:Da.o})}function zde(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Er(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<bs.length;++l)if(i==bs[l][1])return;for(l=0;l<hc.length;++l)if(i==hc[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(Ie(gT(i),o,{"dt:dt":c}))}}),t&&Er(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),a.push(Ie(gT(i),l,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Da.o+'">'+a.join("")+"</"+n+">"}function k_(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Wde(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=we(8);return l.write_shift(4,n),l.write_shift(4,a),l}function v8(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function y8(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function b8(e,t,r){return t===31?y8(e):v8(e,t,r)}function bw(e,t,r){return b8(e,t,r===!1?0:4)}function Vde(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return b8(e,t,0)}function Hde(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(sa,""),e.l-a&2&&(e.l+=2)}return r}function Kde(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(sa,"");return r}function qde(e){var t=e.l,r=Px(e,o8);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Px(e,fa);return[r,n]}function Gde(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(qde(e));return r}function OT(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),l=e.read_shift(4);n[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(sa,"").replace(ff,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function w8(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Xde(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Px(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==TT&&n!==t&&Sde.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===TT?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return v8(e,n,4).replace(sa,"");case 31:return y8(e);case 64:return k_(e);case 65:return w8(e);case 71:return Xde(e);case 80:return bw(e,n,!i.raw).replace(sa,"");case 81:return Vde(e,n).replace(sa,"");case 4108:return Gde(e);case 4126:case 4127:return n==4127?Hde(e):Kde(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function DT(e,t){var r=we(4),n=we(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=we(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Wde(t);break;case 31:case 80:for(n=we(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return on([r,n])}function FT(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0,o=0,c=-1,u={};for(l=0;l!=a;++l){var d=e.read_shift(4),f=e.read_shift(4);i[l]=[d,f+r]}i.sort(function(b,v){return b[1]-v[1]});var h={};for(l=0;l!=a;++l){if(e.l!==i[l][1]){var m=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(m=!1,e.l=i[l][1]),m)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var p=t[i[l][0]];if(h[p.n]=Px(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Xs(o=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(i[l][0]===1){if(o=h.CodePage=Px(e,N_),Xs(o),c!==-1){var x=e.l;e.l=i[c][1],u=OT(e,o),e.l=x}}else if(i[l][0]===0){if(o===0){c=l,e.l=i[l+1][1];continue}u=OT(e,o)}else{var g=u[i[l][0]],y;switch(e[e.l]){case 65:e.l+=4,y=w8(e);break;case 30:e.l+=4,y=bw(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=bw(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Tr(e,4);break;case 64:e.l+=4,y=Zt(k_(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=y}}return e.l=r+n,h}var j8=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Qde(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function IT(e,t,r){var n=we(8),a=[],i=[],l=8,o=0,c=we(8),u=we(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),l+=8+c.length,!t){u=we(8),u.write_shift(4,0),a.unshift(u);var d=[we(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=we(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=on(d),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(j8.indexOf(e[o][0])>-1||m8.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var p=r[m];if(p.p=="version"&&typeof h=="string"){var x=h.split(".");h=(+x[0]<<16)+(+x[1]||0)}c=DT(p.t,h)}else{var g=Qde(h);g==-1&&(g=31,h=String(h)),c=DT(g,h)}i.push(c),u=we(8),u.write_shift(4,t?m:2+o),a.push(u),l+=8+c.length}var y=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,y),y+=i[o].length;return n.write_shift(4,l),n.write_shift(4,i.length),on([n].concat(a).concat(i))}function RT(e,t,r){var n=e.content;if(!n)return{};wn(n,0);var a,i,l,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Je.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(l=n.read_shift(16),c=n.read_shift(4));var f=FT(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var p;try{p=FT(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[i,l],h}function MT(e,t,r,n,a,i){var l=we(a?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Je.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var c=IT(e,r,n);if(o.push(c),a){var u=IT(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(u)}return on(o)}function Ol(e,t){return e.read_shift(t),null}function Yde(e,t){t||(t=we(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Jde(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Tr(e,t){return e.read_shift(t)===1}function ta(e,t){return t||(t=we(2)),t.write_shift(2,+!!e),t}function Br(e){return e.read_shift(2,"u")}function us(e,t){return t||(t=we(2)),t.write_shift(2,e),t}function N8(e,t){return Jde(e,t,Br)}function Zde(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function _8(e,t,r){return r||(r=we(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function mh(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function efe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),l=0,o,c={};a&&(l=e.read_shift(2)),n&&(o=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*l),n&&(e.l+=o),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function tfe(e){var t=e.t||"",r=we(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=we(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return on(a)}function Dc(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ph(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Dc(e,n,r)}function qc(e,t,r){if(r.biff>5)return ph(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function k8(e,t,r){return r||(r=we(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function rfe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function nfe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(sa,"");return n&&(e.l+=24),a}function afe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(sa,"");return r+l}function sfe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return nfe(e);case"0303000000000000c000000000000046":return afe(e);default:throw new Error("Unsupported Moniker "+r)}}function dm(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(sa,""):"";return r}function LT(e,t){t||(t=we(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function ife(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,l,o,c,u="",d,f;a&16&&(i=dm(e,r-e.l)),a&128&&(l=dm(e,r-e.l)),(a&257)===257&&(o=dm(e,r-e.l)),(a&257)===1&&(c=sfe(e,r-e.l)),a&8&&(u=dm(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=k_(e)),e.l=r;var h=l||o||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),i&&(m.Tooltip=i),m}function lfe(e){var t=we(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)n=n.slice(1),LT(n,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&LT(a>-1?n.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function S8(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function E8(e,t){var r=S8(e);return r[3]=0,r}function Mi(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Fc(e,t,r,n){return n||(n=we(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function ofe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function cfe(e,t,r){return t===0?"":qc(e,t,r)}function ufe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,i,l]}function C8(e){var t=e.read_shift(2),r=j_(e);return[t,r]}function dfe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=mh(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function vv(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function T8(e,t){return t||(t=we(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function A8(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var ffe=A8;function P8(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function hfe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function mfe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Pn(e){e.l+=2,e.l+=e.read_shift(2)}var pfe={0:Pn,4:Pn,5:Pn,6:Pn,7:mfe,8:Pn,9:Pn,10:Pn,11:Pn,12:Pn,13:hfe,14:Pn,15:Pn,16:Pn,17:Pn,18:Pn,19:Pn,20:Pn,21:P8};function xfe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(pfe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function fm(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function S_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=we(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function gfe(e,t){return t===0||e.read_shift(2),1200}function vfe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=qc(e,0,r);return e.read_shift(t+n-e.l),a}function yfe(e,t){var r=!t||t.biff==8,n=we(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function bfe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function wfe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=mh(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:a,dt:i,name:l}}function jfe(e,t){var r=!t||t.biff>=8?2:1,n=we(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Nfe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0;l!=a&&e.l<r;++l)i.push(efe(e));return i.Count=n,i.Unique=a,i}function _fe(e,t){var r=we(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=tfe(e[a]);var i=on([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function kfe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Sfe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Efe(e){var t=ofe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Cfe(e){return e.read_shift(2),e.read_shift(4)}function $T(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Tfe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:l,FirstTab:o,Selected:c,TabRatio:u}}function Afe(){var e=we(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Pfe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Ofe(e){var t=we(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Dfe(){}function Ffe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=mh(e,0,r),n}function Ife(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=we(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Rfe(e){var t=Mi(e);return t.isst=e.read_shift(4),t}function Mfe(e,t,r,n){var a=we(10);return Fc(e,t,n,a),a.write_shift(4,r),a}function Lfe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Mi(e);r.biff==2&&e.l++;var i=ph(e,n-e.l,r);return a.val=i,a}function $fe(e,t,r,n,a){var i=!a||a.biff==8,l=we(8+ +i+(1+i)*r.length);return Fc(e,t,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function Bfe(e,t,r){var n=e.read_shift(2),a=qc(e,0,r);return[n,a]}function Ufe(e,t,r,n){var a=r&&r.biff==5;n||(n=we(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var zfe=qc;function BT(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:l,c}}}function Wfe(e,t){var r=t.biff==8||!t.biff?4:2,n=we(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function Vfe(e){var t=e.read_shift(2),r=e.read_shift(2),n=C8(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Hfe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(C8(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:l,rkrec:i}}function Kfe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:l,ixfe:i}}function qfe(e,t,r,n){var a={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return a.patternType=Ede[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=l&15,a.dgRight=l>>4&15,a.dgTop=l>>8&15,a.dgBottom=l>>12&15,a.icvLeft=l>>16&127,a.icvRight=l>>23&127,a.grbitDiag=l>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function Gfe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=qfe(e,t,n.fStyle,r),n}function UT(e,t,r,n){var a=r&&r.biff==5;n||(n=we(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Xfe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Qfe(e){var t=we(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function zT(e,t,r){var n=Mi(e);(r.biff==2||t==9)&&++e.l;var a=Zde(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Yfe(e,t,r,n,a,i){var l=we(8);return Fc(e,t,n,l),_8(r,i,l),l}function Jfe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Mi(e),a=Bn(e);return n.val=a,n}function Zfe(e,t,r,n){var a=we(14);return Fc(e,t,n,a),Oc(r,a),a}var WT=cfe;function e0e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=Dc(e,i),o=[];n>e.l;)o.push(ph(e));return[i,a,l,o]}function VT(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=dfe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var t0e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function HT(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Dc(e,l,r);a&32&&(u=t0e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:xxe(e,d,r,o);return{chKey:i,Name:u,itab:c,rgce:f}}function O8(e,t,r){if(r.biff<8)return r0e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ufe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function r0e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=mh(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function n0e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Dc(e,n,r),l=Dc(e,a,r);return[i,l]}function a0e(e,t,r){var n=A8(e);e.l++;var a=e.read_shift(1);return t-=8,[gxe(e,t,r),a,n]}function KT(e,t,r){var n=ffe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,mxe(e,t,r)]}function s0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function i0e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=qc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,l,i]}}function l0e(e,t,r){return i0e(e,t,r)}function o0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(vv(e));return r}function c0e(e){var t=we(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)T8(e[r],t);return t}function u0e(e,t,r){if(r&&r.biff<8)return f0e(e,t,r);var n=P8(e),a=xfe(e,t-22,n[1]);return{cmo:n,ft:a}}var d0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function f0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((d0e[n]||qn)(e,t,r)),{cmo:[a,n,i],ft:l}}function h0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=rfe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Br(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Dc(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function m0e(e,t){var r=vv(e);e.l+=16;var n=ife(e,t-24);return[r,n]}function p0e(e){var t=we(24),r=mr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return on([t,lfe(e[1])])}function x0e(e,t){e.read_shift(2);var r=vv(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(sa,""),[r,n]}function g0e(e){var t=e[1].Tooltip,r=we(10+2*(t.length+1));r.write_shift(2,2048);var n=mr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function v0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=AT[r]||r,r=e.read_shift(2),t[1]=AT[r]||r,t}function y0e(e){return e||(e=we(4)),e.write_shift(2,1),e.write_shift(2,1),e}function b0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(E8(e));return r}function w0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(E8(e));return r}function j0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function D8(e,t,r){if(!r.cellStyles)return qn(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:l,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function N0e(e,t){var r=we(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function _0e(e,t){var r={};return t<32||(e.l+=16,r.header=Bn(e),r.footer=Bn(e),e.l+=2),r}function k0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function S0e(e){for(var t=we(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var E0e=Mi,C0e=N8,T0e=ph;function A0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function P0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Mi(e);++e.l;var a=qc(e,t-7,r);return n.t="str",n.val=a,n}function O0e(e){var t=Mi(e);++e.l;var r=Bn(e);return t.t="n",t.val=r,t}function D0e(e,t,r){var n=we(15);return yh(n,e,t),n.write_shift(8,r,"f"),n}function F0e(e){var t=Mi(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function I0e(e,t,r){var n=we(9);return yh(n,e,t),n.write_shift(2,r),n}function R0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function M0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function L0e(e,t,r){var n=e.l+t,a=Mi(e),i=e.read_shift(2),l=Dc(e,i,r);return e.l=n,a.t="str",a.val=l,a}var $0e=[2,3,48,49,131,139,140,245],ww=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=pv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=fo(1);switch(c.type){case"base64":d=Ma(qa(o));break;case"binary":d=Ma(o);break;case"buffer":case"array":d=o;break}wn(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,g=521;f==2&&(x=d.read_shift(2)),d.l+=3,f!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(g=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var v=[],N={},_=Math.min(d.length,f==2?521:g-10-(m?264:0)),j=p?32:11;d.l<_&&d[d.l]!=13;)switch(N={},N.name=v0.utils.decode(b,d.slice(d.l,d.l+j)).replace(/[\u0000\r\n].*$/g,""),d.l+=j,N.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(N.offset=d.read_shift(4)),N.len=d.read_shift(1),f==2&&(N.offset=d.read_shift(2)),N.dec=d.read_shift(1),N.name.length&&v.push(N),f!=2&&(d.l+=p?13:14),N.type){case"B":(!m||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var k=0,E=0;for(u[0]=[],E=0;E!=v.length;++E)u[0][E]=v[E].name;for(;x-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++k]=[],E=0,E=0;E!=v.length;++E){var T=d.slice(d.l,d.l+v[E].len);d.l+=v[E].len,wn(T,0);var C=v0.utils.decode(b,T);switch(v[E].type){case"C":C.trim().length&&(u[k][E]=C.replace(/\s+$/,""));break;case"D":C.length===8?u[k][E]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):u[k][E]=C;break;case"F":u[k][E]=parseFloat(C.trim());break;case"+":case"I":u[k][E]=p?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":u[k][E]=!0;break;case"N":case"F":u[k][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][E]="##MEMO##"+(p?parseInt(C.trim(),10):T.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(u[k][E]=+C||0);break;case"@":u[k][E]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[k][E]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[k][E]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][E]=-T.read_shift(-8,"f");break;case"B":if(m&&v[E].len==8){u[k][E]=T.read_shift(8,"f");break}case"G":case"P":T.l+=v[E].len;break;case"0":if(v[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=v,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Od(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return So(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var u=c||{};if(+u.codepage>=0&&Xs(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Na(),f=Fx(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=o["!cols"]||[],x=0,g=0,y=0,b=1;for(x=0;x<h.length;++x){if(((p[x]||{}).DBF||{}).name){h[x]=p[x].DBF.name,++y;continue}if(h[x]!=null){if(++y,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(g=0;g<1024;++g)if(h.indexOf(h[x]+"_"+g)==-1){h[x]+="_"+g;break}}}}var v=St(o["!ref"]),N=[],_=[],j=[];for(x=0;x<=v.e.c-v.s.c;++x){var k="",E="",T=0,C=[];for(g=0;g<m.length;++g)m[g][x]!=null&&C.push(m[g][x]);if(C.length==0||h[x]==null){N[x]="?";continue}for(g=0;g<C.length;++g){switch(typeof C[g]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=C[g]instanceof Date?"D":"C";break;default:E="C"}T=Math.max(T,String(C[g]).length),k=k&&k!=E?"C":E}T>250&&(T=250),E=((p[x]||{}).DBF||{}).type,E=="C"&&p[x].DBF.len>T&&(T=p[x].DBF.len),k=="B"&&E=="N"&&(k="N",j[x]=p[x].DBF.dec,T=p[x].DBF.len),_[x]=k=="C"||E=="N"?T:i[k]||0,b+=_[x],N[x]=k}var A=d.next(32);for(A.write_shift(4,318902576),A.write_shift(4,m.length),A.write_shift(2,296+32*y),A.write_shift(2,b),x=0;x<4;++x)A.write_shift(4,0);for(A.write_shift(4,0|(+t[jR]||3)<<8),x=0,g=0;x<h.length;++x)if(h[x]!=null){var S=d.next(32),B=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,B,"sbcs"),S.write_shift(1,N[x]=="?"?"C":N[x],"sbcs"),S.write_shift(4,g),S.write_shift(1,_[x]||i[N[x]]||0),S.write_shift(1,j[x]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),g+=_[x]||i[N[x]]||0}var M=d.next(264);for(M.write_shift(4,13),x=0;x<65;++x)M.write_shift(4,0);for(x=0;x<m.length;++x){var Y=d.next(b);for(Y.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(N[g]){case"L":Y.write_shift(1,m[x][g]==null?63:m[x][g]?84:70);break;case"B":Y.write_shift(8,m[x][g]||0,"f");break;case"N":var z="0";for(typeof m[x][g]=="number"&&(z=m[x][g].toFixed(j[g]||0)),y=0;y<_[g]-z.length;++y)Y.write_shift(1,32);Y.write_shift(1,z,"sbcs");break;case"D":m[x][g]?(Y.write_shift(4,("0000"+m[x][g].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(m[x][g].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+m[x][g].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var R=String(m[x][g]!=null?m[x][g]:"").slice(0,_[g]);for(Y.write_shift(1,R,"sbcs"),y=0;y<_[g]-R.length;++y)Y.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}}(),F8=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Er(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?nT(p):p},n=function(h,m,p){var x=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return x==59?h:nT(x)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(qa(h),m);case"binary":return i(h,m);case"buffer":return i(ht&&Buffer.isBuffer(h)?h.toString("binary"):ko(h),m);case"array":return i(Pc(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var p=h.split(/[\n\r]+/),x=-1,g=-1,y=0,b=0,v=[],N=[],_=null,j={},k=[],E=[],T=[],C=0,A;for(+m.codepage>=0&&Xs(+m.codepage);y!==p.length;++y){C=0;var S=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),B=S.replace(/;;/g,"\0").split(";").map(function(O){return O.replace(/\u0000/g,";")}),M=B[0],Y;if(S.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&N.push(S.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,R=!1,H=!1,U=!1,te=-1,K=-1;for(b=1;b<B.length;++b)switch(B[b].charAt(0)){case"A":break;case"X":g=parseInt(B[b].slice(1))-1,R=!0;break;case"Y":for(x=parseInt(B[b].slice(1))-1,R||(g=0),A=v.length;A<=x;++A)v[A]=[];break;case"K":Y=B[b].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(ri(Y))?isNaN(sd(Y).getDate())||(Y=Zt(Y)):(Y=ri(Y),_!==null&&Ad(_)&&(Y=gv(Y))),z=!0;break;case"E":U=!0;var D=Iu(B[b].slice(1),{r:x,c:g});v[x][g]=[v[x][g],D];break;case"S":H=!0,v[x][g]=[v[x][g],"S5S"];break;case"G":break;case"R":te=parseInt(B[b].slice(1))-1;break;case"C":K=parseInt(B[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+S)}if(z&&(v[x][g]&&v[x][g].length==2?v[x][g][0]=Y:v[x][g]=Y,_=null),H){if(U)throw new Error("SYLK shared formula cannot have own formula");var L=te>-1&&v[te][K];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");v[x][g][1]=J8(L[1],{r:x-te,c:g-K})}break;case"F":var F=0;for(b=1;b<B.length;++b)switch(B[b].charAt(0)){case"X":g=parseInt(B[b].slice(1))-1,++F;break;case"Y":for(x=parseInt(B[b].slice(1))-1,A=v.length;A<=x;++A)v[A]=[];break;case"M":C=parseInt(B[b].slice(1))/20;break;case"F":break;case"G":break;case"P":_=N[parseInt(B[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=B[b].slice(1).split(" "),A=parseInt(T[0],10);A<=parseInt(T[1],10);++A)C=parseInt(T[2],10),E[A-1]=C===0?{hidden:!0}:{wch:C},ho(E[A-1]);break;case"C":g=parseInt(B[b].slice(1))-1,E[g]||(E[g]={});break;case"R":x=parseInt(B[b].slice(1))-1,k[x]||(k[x]={}),C>0?(k[x].hpt=C,k[x].hpx=ld(C)):C===0&&(k[x].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+S)}F<1&&(_=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+S)}}return k.length>0&&(j["!rows"]=k),E.length>0&&(j["!cols"]=E),m&&m.sheetRows&&(v=v.slice(0,m.sheetRows)),[v,j]}function l(h,m){var p=a(h,m),x=p[0],g=p[1],y=Od(x,m);return Er(g).forEach(function(b){y[b]=g[b]}),y}function o(h,m){return So(l(h,m),m)}function c(h,m,p,x){var g="C;Y"+(p+1)+";X"+(x+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+O_(h.f,{r:p,c:x}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,m){m.forEach(function(p,x){var g="F;W"+(x+1)+" "+(x+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=S0(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=E0(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,m){m.forEach(function(p,x){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*C0(p.hpx)+";"),g.length>2&&h.push(g+"R"+(x+1))})}function f(h,m){var p=["ID;PWXL;N;E"],x=[],g=St(h["!ref"]),y,b=Array.isArray(h),v=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var N=g.s.r;N<=g.e.r;++N)for(var _=g.s.c;_<=g.e.c;++_){var j=tt({r:N,c:_});y=b?(h[N]||[])[_]:h[j],!(!y||y.v==null&&(!y.f||y.F))&&x.push(c(y,h,N,_))}return p.join(v)+v+x.join(v)+v+"E"+v}return{to_workbook:o,to_sheet:l,from_sheet:f}}(),I8=function(){function e(i,l){switch(l.type){case"base64":return t(qa(i),l);case"binary":return t(i,l);case"buffer":return t(ht&&Buffer.isBuffer(i)?i.toString("binary"):ko(i),l);case"array":return t(Pc(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),m=h[0],p=h[1];++d;for(var x=o[d]||"";(x.match(/["]/g)||[]).length&1&&d<o.length-1;)x+=`
`+o[++d];switch(x=x.trim(),+m){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN(ri(p))?isNaN(sd(p).getDate())?f[c][u]=p:f[c][u]=Zt(p):f[c][u]=ri(p),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function r(i,l){return Od(e(i,l),l)}function n(i,l){return So(r(i,l),l)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},l=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=St(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){l(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var x=tt({r:m,c:p});if(f=h?(c[m]||[])[p]:c[x],!f){l(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?l(u,1,0,"="+f.f):l(u,1,0,""):l(u,0,g,"V");break;case"b":l(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ss(f.z||et[14],Yr(Zt(f.v)))),l(u,0,f.w,"V");break;default:l(u,1,0,"")}}}l(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),R8=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,x=-1,g=0,y=[];g!==m.length;++g){var b=m[g].trim().split(":");if(b[0]==="cell"){var v=mr(b[1]);if(y.length<=v.r)for(p=y.length;p<=v.r;++p)y[p]||(y[p]=[]);switch(p=v.r,x=v.c,b[2]){case"t":y[p][x]=e(b[3]);break;case"v":y[p][x]=+b[3];break;case"vtf":var N=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[p][x]=!!+b[4];break;default:y[p][x]=+b[4];break}b[2]=="vtf"&&(y[p][x]=[y[p][x],N])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Od(r(f,h),h)}function a(f,h){return So(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,x="",g=ka(f["!ref"]),y=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var v=g.s.c;v<=g.e.c;++v)if(x=tt({r:b,c:v}),p=y?(f[b]||[])[v]:f[x],!(!p||p.v==null||p.t==="z")){switch(m=["cell",x,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var N=Yr(Zt(p.v));m[2]="vtc",m[3]="nd",m[4]=""+N,m[5]=p.w||Ss(p.z||et[14],N);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,l,o,l,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),id=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(ri(d))?isNaN(sd(d).getDate())?f[h][m]=d:f[h][m]=Zt(d):f[h][m]=ri(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),x=p.length-1;x>=0&&p[x].length===0;)--x;for(var g=10,y=0,b=0;b<=x;++b)y=p[b].indexOf(" "),y==-1?y=p[b].length:y++,g=Math.max(g,y);for(b=0;b<=x;++b){m[b]=[];var v=0;for(e(p[b].slice(0,g).trim(),m,b,v,h),v=1;v<=(p[b].length-g)/10+1;++v)e(p[b].slice(g+(v-1)*10,g+v*10).trim(),m,b,v,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(x,g){return x[0]-g[0]||n[x[1]]-n[g[1]]}),r[p.pop()[1]]||44}function i(d,f){var h=f||{},m="",p=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var g=0,y=0,b=0,v=0,N=0,_=m.charCodeAt(0),j=!1,k=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?kue(h.dateNF):null;function C(){var A=d.slice(v,N),S={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)S.t="z";else if(h.raw)S.t="s",S.v=A;else if(A.trim().length===0)S.t="s",S.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(S.t="s",S.v=A.slice(2,-1).replace(/""/g,'"')):epe(A)?(S.t="n",S.f=A.slice(1)):(S.t="s",S.v=A);else if(A=="TRUE")S.t="b",S.v=!0;else if(A=="FALSE")S.t="b",S.v=!1;else if(!isNaN(b=ri(A)))S.t="n",h.cellText!==!1&&(S.w=A),S.v=b;else if(!isNaN(sd(A).getDate())||T&&A.match(T)){S.z=h.dateNF||et[14];var B=0;T&&A.match(T)&&(A=Sue(A,h.dateNF,A.match(T)||[]),B=1),h.cellDates?(S.t="d",S.v=Zt(A,B)):(S.t="n",S.v=Yr(Zt(A,B))),h.cellText!==!1&&(S.w=Ss(S.z,S.v instanceof Date?Yr(S.v):S.v)),h.cellNF||delete S.z}else S.t="s",S.v=A;if(S.t=="z"||(h.dense?(p[g]||(p[g]=[]),p[g][y]=S):p[tt({c:y,r:g})]=S),v=N+1,E=d.charCodeAt(v),x.e.c<y&&(x.e.c=y),x.e.r<g&&(x.e.r=g),k==_)++y;else if(y=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;N<d.length;++N)switch(k=d.charCodeAt(N)){case 34:E===34&&(j=!j);break;case _:case 10:case 13:if(!j&&C())break e;break}return N-v>0&&C(),p["!ref"]=ct(x),p}function l(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Od(t(d,f),f)}function o(d,f){var h="",m=f.type=="string"?[0,0,0,0]:B_(d,f);switch(f.type){case"base64":h=qa(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof v0<"u"||(h=ht&&Buffer.isBuffer(d)?d.toString("binary"):ko(d));break;case"array":h=Pc(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Bt(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Bt(h):f.type=="binary"&&typeof v0<"u",h.slice(0,19)=="socialcalc:version:"?R8.to_sheet(f.type=="string"?h:Bt(h),f):l(h,f)}function c(d,f){return So(o(d,f),f)}function u(d){for(var f=[],h=St(d["!ref"]),m,p=Array.isArray(d),x=h.s.r;x<=h.e.r;++x){for(var g=[],y=h.s.c;y<=h.e.c;++y){var b=tt({r:x,c:y});if(m=p?(d[x]||[])[y]:d[b],!m||m.v==null){g.push("          ");continue}for(var v=(m.w||(vl(m),m.w)||"").slice(0,10);v.length<10;)v+=" ";g.push(v+(y===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function B0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=F8.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return id.to_workbook(e,t)}}var mc=function(){function e(D,L,F){if(D){wn(D,D.l||0);for(var O=F.Enum||te;D.l<D.length;){var re=D.read_shift(2),oe=O[re]||O[65535],J=D.read_shift(2),Z=D.l+J,se=oe.f&&oe.f(D,J,F);if(D.l=Z,L(se,oe,re))return}}}function t(D,L){switch(L.type){case"base64":return r(Ma(qa(D)),L);case"binary":return r(Ma(D),L);case"buffer":case"array":return r(D,L)}throw"Unsupported type "+L.type}function r(D,L){if(!D)return D;var F=L||{},O=F.dense?[]:{},re="Sheet1",oe="",J=0,Z={},se=[],G=[],P={s:{r:0,c:0},e:{r:0,c:0}},ie=F.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)F.Enum=te,e(D,function(Se,rt,nt){switch(nt){case 0:F.vers=Se,Se>=4096&&(F.qpro=!0);break;case 6:P=Se;break;case 204:Se&&(oe=Se);break;case 222:oe=Se;break;case 15:case 51:F.qpro||(Se[1].v=Se[1].v.slice(1));case 13:case 14:case 16:nt==14&&(Se[2]&112)==112&&(Se[2]&15)>1&&(Se[2]&15)<15&&(Se[1].z=F.dateNF||et[14],F.cellDates&&(Se[1].t="d",Se[1].v=gv(Se[1].v))),F.qpro&&Se[3]>J&&(O["!ref"]=ct(P),Z[re]=O,se.push(re),O=F.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},J=Se[3],re=oe||"Sheet"+(J+1),oe="");var ee=F.dense?(O[Se[0].r]||[])[Se[0].c]:O[tt(Se[0])];if(ee){ee.t=Se[1].t,ee.v=Se[1].v,Se[1].z!=null&&(ee.z=Se[1].z),Se[1].f!=null&&(ee.f=Se[1].f);break}F.dense?(O[Se[0].r]||(O[Se[0].r]=[]),O[Se[0].r][Se[0].c]=Se[1]):O[tt(Se[0])]=Se[1];break}},F);else if(D[2]==26||D[2]==14)F.Enum=K,D[2]==14&&(F.qpro=!0,D.l=0),e(D,function(Se,rt,nt){switch(nt){case 204:re=Se;break;case 22:Se[1].v=Se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Se[3]>J&&(O["!ref"]=ct(P),Z[re]=O,se.push(re),O=F.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},J=Se[3],re="Sheet"+(J+1)),ie>0&&Se[0].r>=ie)break;F.dense?(O[Se[0].r]||(O[Se[0].r]=[]),O[Se[0].r][Se[0].c]=Se[1]):O[tt(Se[0])]=Se[1],P.e.c<Se[0].c&&(P.e.c=Se[0].c),P.e.r<Se[0].r&&(P.e.r=Se[0].r);break;case 27:Se[14e3]&&(G[Se[14e3][0]]=Se[14e3][1]);break;case 1537:G[Se[0]]=Se[1],Se[0]==J&&(re=Se[1]);break}},F);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(O["!ref"]=ct(P),Z[oe||re]=O,se.push(oe||re),!G.length)return{SheetNames:se,Sheets:Z};for(var je={},Te=[],Le=0;Le<G.length;++Le)Z[se[Le]]?(Te.push(G[Le]||se[Le]),je[G[Le]]=Z[G[Le]]||Z[se[Le]]):(Te.push(G[Le]),je[G[Le]]={"!ref":"A1"});return{SheetNames:Te,Sheets:je}}function n(D,L){var F=L||{};if(+F.codepage>=0&&Xs(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var O=Na(),re=St(D["!ref"]),oe=Array.isArray(D),J=[];Re(O,0,i(1030)),Re(O,6,c(re));for(var Z=Math.min(re.e.r,8191),se=re.s.r;se<=Z;++se)for(var G=Or(se),P=re.s.c;P<=re.e.c;++P){se===re.s.r&&(J[P]=hr(P));var ie=J[P]+G,je=oe?(D[se]||[])[P]:D[ie];if(!(!je||je.t=="z"))if(je.t=="n")(je.v|0)==je.v&&je.v>=-32768&&je.v<=32767?Re(O,13,m(se,P,je.v)):Re(O,14,x(se,P,je.v));else{var Te=vl(je);Re(O,15,f(se,P,Te.slice(0,239)))}}return Re(O,1),O.end()}function a(D,L){var F=L||{};if(+F.codepage>=0&&Xs(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var O=Na();Re(O,0,l(D));for(var re=0,oe=0;re<D.SheetNames.length;++re)(D.Sheets[D.SheetNames[re]]||{})["!ref"]&&Re(O,27,U(D.SheetNames[re],oe++));var J=0;for(re=0;re<D.SheetNames.length;++re){var Z=D.Sheets[D.SheetNames[re]];if(!(!Z||!Z["!ref"])){for(var se=St(Z["!ref"]),G=Array.isArray(Z),P=[],ie=Math.min(se.e.r,8191),je=se.s.r;je<=ie;++je)for(var Te=Or(je),Le=se.s.c;Le<=se.e.c;++Le){je===se.s.r&&(P[Le]=hr(Le));var Se=P[Le]+Te,rt=G?(Z[je]||[])[Le]:Z[Se];if(!(!rt||rt.t=="z"))if(rt.t=="n")Re(O,23,C(je,Le,J,rt.v));else{var nt=vl(rt);Re(O,22,k(je,Le,J,nt.slice(0,239)))}}++J}}return Re(O,1),O.end()}function i(D){var L=we(2);return L.write_shift(2,D),L}function l(D){var L=we(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var F=0,O=0,re=0,oe=0;oe<D.SheetNames.length;++oe){var J=D.SheetNames[oe],Z=D.Sheets[J];if(!(!Z||!Z["!ref"])){++re;var se=ka(Z["!ref"]);F<se.e.r&&(F=se.e.r),O<se.e.c&&(O=se.e.c)}}return F>8191&&(F=8191),L.write_shift(2,F),L.write_shift(1,re),L.write_shift(1,O),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function o(D,L,F){var O={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&F.qpro?(O.s.c=D.read_shift(1),D.l++,O.s.r=D.read_shift(2),O.e.c=D.read_shift(1),D.l++,O.e.r=D.read_shift(2),O):(O.s.c=D.read_shift(2),O.s.r=D.read_shift(2),L==12&&F.qpro&&(D.l+=2),O.e.c=D.read_shift(2),O.e.r=D.read_shift(2),L==12&&F.qpro&&(D.l+=2),O.s.c==65535&&(O.s.c=O.e.c=O.s.r=O.e.r=0),O)}function c(D){var L=we(8);return L.write_shift(2,D.s.c),L.write_shift(2,D.s.r),L.write_shift(2,D.e.c),L.write_shift(2,D.e.r),L}function u(D,L,F){var O=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(O[0].c=D.read_shift(1),O[3]=D.read_shift(1),O[0].r=D.read_shift(2),D.l+=2):(O[2]=D.read_shift(1),O[0].c=D.read_shift(2),O[0].r=D.read_shift(2)),O}function d(D,L,F){var O=D.l+L,re=u(D,L,F);if(re[1].t="s",F.vers==20768){D.l++;var oe=D.read_shift(1);return re[1].v=D.read_shift(oe,"utf8"),re}return F.qpro&&D.l++,re[1].v=D.read_shift(O-D.l,"cstr"),re}function f(D,L,F){var O=we(7+F.length);O.write_shift(1,255),O.write_shift(2,L),O.write_shift(2,D),O.write_shift(1,39);for(var re=0;re<O.length;++re){var oe=F.charCodeAt(re);O.write_shift(1,oe>=128?95:oe)}return O.write_shift(1,0),O}function h(D,L,F){var O=u(D,L,F);return O[1].v=D.read_shift(2,"i"),O}function m(D,L,F){var O=we(7);return O.write_shift(1,255),O.write_shift(2,L),O.write_shift(2,D),O.write_shift(2,F,"i"),O}function p(D,L,F){var O=u(D,L,F);return O[1].v=D.read_shift(8,"f"),O}function x(D,L,F){var O=we(13);return O.write_shift(1,255),O.write_shift(2,L),O.write_shift(2,D),O.write_shift(8,F,"f"),O}function g(D,L,F){var O=D.l+L,re=u(D,L,F);if(re[1].v=D.read_shift(8,"f"),F.qpro)D.l=O;else{var oe=D.read_shift(2);N(D.slice(D.l,D.l+oe),re),D.l+=oe}return re}function y(D,L,F){var O=L&32768;return L&=-32769,L=(O?D:0)+(L>=8192?L-16384:L),(O?"":"$")+(F?hr(L):Or(L))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(D,L){wn(D,0);for(var F=[],O=0,re="",oe="",J="",Z="";D.l<D.length;){var se=D[D.l++];switch(se){case 0:F.push(D.read_shift(8,"f"));break;case 1:oe=y(L[0].c,D.read_shift(2),!0),re=y(L[0].r,D.read_shift(2),!1),F.push(oe+re);break;case 2:{var G=y(L[0].c,D.read_shift(2),!0),P=y(L[0].r,D.read_shift(2),!1);oe=y(L[0].c,D.read_shift(2),!0),re=y(L[0].r,D.read_shift(2),!1),F.push(G+P+":"+oe+re)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(D.read_shift(2));break;case 6:{for(var ie="";se=D[D.l++];)ie+=String.fromCharCode(se);F.push('"'+ie.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:Z=F.pop(),J=F.pop(),F.push(["AND","OR"][se-20]+"("+J+","+Z+")");break;default:if(se<32&&v[se])Z=F.pop(),J=F.pop(),F.push(J+v[se]+Z);else if(b[se]){if(O=b[se][1],O==69&&(O=D[D.l++]),O>F.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+F.join("|")+"|");return}var je=F.slice(-O);F.length-=O,F.push(b[se][0]+"("+je.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}F.length==1?L[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function _(D){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=D.read_shift(2),L[3]=D[D.l++],L[0].c=D[D.l++],L}function j(D,L){var F=_(D);return F[1].t="s",F[1].v=D.read_shift(L-4,"cstr"),F}function k(D,L,F,O){var re=we(6+O.length);re.write_shift(2,D),re.write_shift(1,F),re.write_shift(1,L),re.write_shift(1,39);for(var oe=0;oe<O.length;++oe){var J=O.charCodeAt(oe);re.write_shift(1,J>=128?95:J)}return re.write_shift(1,0),re}function E(D,L){var F=_(D);F[1].v=D.read_shift(2);var O=F[1].v>>1;if(F[1].v&1)switch(O&7){case 0:O=(O>>3)*5e3;break;case 1:O=(O>>3)*500;break;case 2:O=(O>>3)/20;break;case 3:O=(O>>3)/200;break;case 4:O=(O>>3)/2e3;break;case 5:O=(O>>3)/2e4;break;case 6:O=(O>>3)/16;break;case 7:O=(O>>3)/64;break}return F[1].v=O,F}function T(D,L){var F=_(D),O=D.read_shift(4),re=D.read_shift(4),oe=D.read_shift(2);if(oe==65535)return O===0&&re===3221225472?(F[1].t="e",F[1].v=15):O===0&&re===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var J=oe&32768;return oe=(oe&32767)-16446,F[1].v=(1-J*2)*(re*Math.pow(2,oe+32)+O*Math.pow(2,oe)),F}function C(D,L,F,O){var re=we(14);if(re.write_shift(2,D),re.write_shift(1,F),re.write_shift(1,L),O==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var oe=0,J=0,Z=0,se=0;return O<0&&(oe=1,O=-O),J=Math.log2(O)|0,O/=Math.pow(2,J-31),se=O>>>0,se&2147483648||(O/=2,++J,se=O>>>0),O-=se,se|=2147483648,se>>>=0,O*=Math.pow(2,32),Z=O>>>0,re.write_shift(4,Z),re.write_shift(4,se),J+=16383+(oe?32768:0),re.write_shift(2,J),re}function A(D,L){var F=T(D);return D.l+=L-14,F}function S(D,L){var F=_(D),O=D.read_shift(4);return F[1].v=O>>6,F}function B(D,L){var F=_(D),O=D.read_shift(8,"f");return F[1].v=O,F}function M(D,L){var F=B(D);return D.l+=L-10,F}function Y(D,L){return D[D.l+L-1]==0?D.read_shift(L,"cstr"):""}function z(D,L){var F=D[D.l++];F>L-1&&(F=L-1);for(var O="";O.length<F;)O+=String.fromCharCode(D[D.l++]);return O}function R(D,L,F){if(!(!F.qpro||L<21)){var O=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var re=D.read_shift(L-21,"cstr");return[O,re]}}function H(D,L){for(var F={},O=D.l+L;D.l<O;){var re=D.read_shift(2);if(re==14e3){for(F[re]=[0,""],F[re][0]=D.read_shift(2);D[D.l];)F[re][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return F}function U(D,L){var F=we(5+D.length);F.write_shift(2,14e3),F.write_shift(2,L);for(var O=0;O<D.length;++O){var re=D.charCodeAt(O);F[F.l++]=re>127?95:re}return F[F.l++]=0,F}var te={0:{n:"BOF",f:Br},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},K={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:S},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:R},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function U0e(e){var t={},r=e.match(Qn),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=at(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=n_[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var z0e=function(){var e=w0("t"),t=w0("rPr");function r(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:kt(l[1])},c=i.match(t);return c&&(o.s=U0e(c[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),W0e=function(){var t=/(\r\n|\n)/g;function r(a,i,l){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),l.push("</b>")),a.i&&(i.push("<i>"),l.push("</i>")),a.strike&&(i.push("<s>"),l.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),l.push("</"+c+">")),l.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),V0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,H0e=/<(?:\w+:)?r>/,K0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function E_(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=kt(Bt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Bt(e),r&&(n.h=h_(n.t))):e.match(H0e)&&(n.r=Bt(e),n.t=kt(Bt((e.replace(K0e,"").match(V0e)||[]).join("").replace(Qn,""))),r&&(n.h=W0e(z0e(n.r)))),n):{t:""}}var q0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,G0e=/<(?:\w+:)?(?:si|sstItem)>/g,X0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function Q0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(q0e);if(a){n=a[2].replace(G0e,"").split(X0e);for(var i=0;i!=n.length;++i){var l=E_(n[i].trim(),t);l!=null&&(r[r.length]=l)}a=at(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var Y0e=/^\s|\s$|[\t\n\r]/;function M8(e,t){if(!t.bookSST)return"";var r=[Ir];r[r.length]=Ie("sst",null,{xmlns:zc[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Y0e)&&(i+=' xml:space="preserve"'),i+=">"+It(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function J0e(e){return[e.read_shift(4),e.read_shift(4)]}function Z0e(e,t){var r=[],n=!1;return Tl(e,function(i,l,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function ehe(e,t){return t||(t=we(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var the=dde;function rhe(e){var t=Na();Ce(t,159,ehe(e));for(var r=0;r<e.length;++r)Ce(t,19,the(e[r]));return Ce(t,160),t.end()}function L8(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ol(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function nhe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ol(e,4),t.U=ol(e,4),t.W=ol(e,4),t}function ahe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function she(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ahe(e));return t}function ihe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function lhe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ol(e,4),t.U=ol(e,4),t.W=ol(e,4),t}function ohe(e){var t=lhe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function $8(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function B8(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function che(e){var t=ol(e);switch(t.Minor){case 2:return[t.Minor,uhe(e)];case 3:return[t.Minor,dhe()];case 4:return[t.Minor,fhe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function uhe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=$8(e,r),a=B8(e,e.length-e.l);return{t:"Std",h:n,v:a}}function dhe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function fhe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Qn,function(i){var l=at(i);switch(Ri(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=l[o]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function hhe(e,t){var r={},n=r.EncryptionVersionInfo=ol(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=$8(e,a),t-=a,r.EncryptionVerifier=B8(e,t),r}function mhe(e){var t={},r=t.EncryptionVersionInfo=ol(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function C_(e){var t=0,r,n=L8(e),a=n.length+1,i,l,o,c,u;for(r=fo(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)l=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^l;return t^52811}var U8=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},a=function(l,o){return n(l^o)},i=function(l){for(var o=t[l.length-1],c=104,u=l.length-1;u>=0;--u)for(var d=l[u],f=0;f!=7;++f)d&64&&(o^=r[c]),d*=2,--c;return o};return function(l){for(var o=L8(l),c=i(o),u=o.length,d=fo(16),f=0;f!=16;++f)d[f]=0;var h,m,p;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=o[o.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(o[u],h),--u,h=c&255,d[u]=a(o[u],h);for(u=15,p=15-o.length;p>0;)h=c>>8,d[u]=a(e[p],h),--u,--p,h=c&255,d[u]=a(o[u],h),--u,--p;return d}}(),phe=function(e,t,r,n,a){a||(a=t),n||(n=U8(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=n[r],l=(l>>5|l<<3)&255,a[i]=l,++r;return[a,r,n]},xhe=function(e){var t=0,r=U8(e);return function(n){var a=phe("",n,t,r);return t=a[1],a[0]}};function ghe(e,t,r,n){var a={key:Br(e),verificationBytes:Br(e)};return r.password&&(a.verifier=C_(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=xhe(r.password)),a}function vhe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=mhe(e):n.Data=hhe(e,t),n}function yhe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?vhe(e,t-2,n):ghe(e,r.biff>=8?t:t-2,r,n),n}var z8=function(){function e(a,i){switch(i.type){case"base64":return t(qa(a),i);case"binary":return t(a,i);case"buffer":return t(ht&&Buffer.isBuffer(a)?a.toString("binary"):ko(a),i);case"array":return t(Pc(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var l=i||{},o=l.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,p,x=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var g=d.slice(m,h.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var y={v:g,t:"s"};Array.isArray(o)?o[f][x]=y:o[tt({r:f,c:x})]=y}break}m=h.lastIndex}x>u.e.c&&(u.e.c=x)}),o["!ref"]=ct(u),o}function r(a,i){return So(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=St(a["!ref"]),o,c=Array.isArray(a),u=l.s.r;u<=l.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=l.s.c;d<=l.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=l.s.c;d<=l.e.c;++d){var f=tt({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(vl(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function bhe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function k0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function whe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),l=a-i;if(l===0)return[0,0,t];var o=0,c=0,u=a+i;switch(c=l/(u>1?2-u:u),a){case t:o=((r-n)/l+6)%6;break;case r:o=(n-t)/l+2;break;case n:o=(t-r)/l+4;break}return[o/6,c,u/2]}function jhe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,l=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=a*o,l[0]+=a,l[1]+=c;break;case 1:c=a*(2-o),l[0]+=c,l[1]+=a;break;case 2:c=a*(o-2),l[1]+=a,l[2]+=c;break;case 3:c=a*(4-o),l[1]+=c,l[2]+=a;break;case 4:c=a*(o-4),l[2]+=a,l[0]+=c;break;case 5:c=a*(6-o),l[2]+=c,l[0]+=a;break}for(var u=0;u!=3;++u)l[u]=Math.round(l[u]*255);return l}function Ox(e,t){if(t===0)return e;var r=whe(bhe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),k0(jhe(r))}var W8=6,Nhe=15,_he=1,Ln=W8;function S0(e){return Math.floor((e+Math.round(128/Ln)/256)*Ln)}function E0(e){return Math.floor((e-5)/Ln*100+.5)/100}function Dx(e){return Math.round((e*Ln+5)/Ln*256)/256}function Ly(e){return Dx(E0(S0(e)))}function T_(e){var t=Math.abs(e-Ly(e)),r=Ln;if(t>.005)for(Ln=_he;Ln<Nhe;++Ln)Math.abs(e-Ly(e))<=t&&(t=Math.abs(e-Ly(e)),r=Ln);Ln=r}function ho(e){e.width?(e.wpx=S0(e.width),e.wch=E0(e.wpx),e.MDW=Ln):e.wpx?(e.wch=E0(e.wpx),e.width=Dx(e.wch),e.MDW=Ln):typeof e.wch=="number"&&(e.width=Dx(e.wch),e.wpx=S0(e.width),e.MDW=Ln),e.customWidth&&delete e.customWidth}var khe=96,V8=khe;function C0(e){return e*96/V8}function ld(e){return e*V8/96}var She={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ehe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Qn)||[]).forEach(function(l){var o=at(l);switch(Ri(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Qt(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Qt(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Che(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Qn)||[]).forEach(function(l){var o=at(l);switch(Ri(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function The(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Qn)||[]).forEach(function(l){var o=at(l);switch(Ri(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Bt(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Qt(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Qt(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Qt(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Qt(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Qt(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Qt(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Qt(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=n_[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Qt(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var c=fc[a.color.index];a.color.index==81&&(c=fc[1]),c||(c=fc[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Ox(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Ahe(e,t,r){t.NumberFmt=[];for(var n=Er(et),a=0;a<n.length;++a)t.NumberFmt[n[a]]=et[n[a]];var i=e[0].match(Qn);if(i)for(a=0;a<i.length;++a){var l=at(i[a]);switch(Ri(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=kt(Bt(l.formatCode)),c=parseInt(l.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}ll(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function Phe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ie("numFmt",null,{numFmtId:n,formatCode:It(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ie("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var hm=["numFmtId","fillId","fontId","borderId","xfId"],mm=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Ohe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Qn)||[]).forEach(function(i){var l=at(i),o=0;switch(Ri(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],o=0;o<hm.length;++o)n[hm[o]]&&(n[hm[o]]=parseInt(n[hm[o]],10));for(o=0;o<mm.length;++o)n[mm[o]]&&(n[mm[o]]=Qt(n[mm[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};l.vertical&&(c.vertical=l.vertical),l.horizontal&&(c.horizontal=l.horizontal),l.textRotation!=null&&(c.textRotation=l.textRotation),l.indent&&(c.indent=l.indent),l.wrapText&&(c.wrapText=Qt(l.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function Dhe(e){var t=[];return t[t.length]=Ie("cellXfs",null),e.forEach(function(r){t[t.length]=Ie("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ie("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Fhe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Ahe(f,d,u),(f=o.match(a))&&The(f,d,c,u),(f=o.match(n))&&Che(f,d,c,u),(f=o.match(i))&&Ehe(f,d,c,u),(f=o.match(r))&&Ohe(f,d,u),d}}();function H8(e,t){var r=[Ir,Ie("styleSheet",null,{xmlns:zc[0],"xmlns:vt":Xr.vt})],n;return e.SSF&&(n=Phe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Dhe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Ihe(e,t){var r=e.read_shift(2),n=Vn(e);return[r,n]}function Rhe(e,t,r){r||(r=we(6+4*t.length)),r.write_shift(2,e),dn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Mhe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=vde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=gde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Vn(e),n}function Lhe(e,t){t||(t=we(25+4*32)),t.write_shift(2,e.sz*20),yde(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Tx(e.color,t);var n=0;return n=2,t.write_shift(1,n),dn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var $he=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],$y,Bhe=qn;function qT(e,t){t||(t=we(4*3+8*7+16*1)),$y||($y=pv($he));var r=$y[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Tx({auto:1},t),Tx({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Uhe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function K8(e,t,r){r||(r=we(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function rf(e,t){return t||(t=we(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var zhe=qn;function Whe(e,t){return t||(t=we(51)),t.write_shift(1,0),rf(null,t),rf(null,t),rf(null,t),rf(null,t),rf(null,t),t.length>t.l?t.slice(0,t.l):t}function Vhe(e,t){return t||(t=we(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Cx(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Hhe(e,t,r){var n=we(2052);return n.write_shift(4,e),Cx(t,n),Cx(r,n),n.length>n.l?n.slice(0,n.l):n}function Khe(e,t,r){var n={};n.NumberFmt=[];for(var a in et)n.NumberFmt[a]=et[a];n.CellXf=[],n.Fonts=[];var i=[],l=!1;return Tl(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],ll(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Ox(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(d),l=!0;break;case 38:i.pop(),l=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!l||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function qhe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Ce(e,615,ni(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ce(e,44,Rhe(a,t[a]))}),Ce(e,616))}}function Ghe(e){var t=1;Ce(e,611,ni(t)),Ce(e,43,Lhe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ce(e,612)}function Xhe(e){var t=2;Ce(e,603,ni(t)),Ce(e,45,qT({patternType:"none"})),Ce(e,45,qT({patternType:"gray125"})),Ce(e,604)}function Qhe(e){var t=1;Ce(e,613,ni(t)),Ce(e,46,Whe()),Ce(e,614)}function Yhe(e){var t=1;Ce(e,626,ni(t)),Ce(e,47,K8({numFmtId:0},65535)),Ce(e,627)}function Jhe(e,t){Ce(e,617,ni(t.length)),t.forEach(function(r){Ce(e,47,K8(r,0))}),Ce(e,618)}function Zhe(e){var t=1;Ce(e,619,ni(t)),Ce(e,48,Vhe({xfId:0,name:"Normal"})),Ce(e,620)}function eme(e){var t=0;Ce(e,505,ni(t)),Ce(e,506)}function tme(e){var t=0;Ce(e,508,Hhe(t,"TableStyleMedium9","PivotStyleMedium4")),Ce(e,509)}function rme(e,t){var r=Na();return Ce(r,278),qhe(r,e.SSF),Ghe(r),Xhe(r),Qhe(r),Yhe(r),Jhe(r,t.cellXfs),Zhe(r),eme(r),tme(r),Ce(r,279),r.end()}var nme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function ame(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Qn)||[]).forEach(function(a){var i=at(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[nme.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function sme(){}function ime(){}var lme=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ome=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,cme=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ume(e,t,r){t.themeElements={};var n;[["clrScheme",lme,ame],["fontScheme",ome,sme],["fmtScheme",cme,ime]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var dme=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function q8(e,t){(!e||e.length===0)&&(e=A_());var r,n={};if(!(r=e.match(dme)))throw new Error("themeElements not found in theme");return ume(r[0],n,t),n.raw=e,n}function A_(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ir];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function fme(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var l;try{l=$R(i,{type:"array"})}catch{return}var o=La(l,"theme/theme/theme1.xml",!0);if(o)return q8(o,r)}}function hme(e){return e.read_shift(4)}function mme(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=pme(e,4);break;case 2:t.xclrValue=S8(e);break;case 3:t.xclrValue=hme(e);break;case 4:e.l+=4;break}return e.l+=8,t}function pme(e,t){return qn(e,t)}function xme(e,t){return qn(e,t)}function gme(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=mme(e);break;case 6:n[1]=xme(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function vme(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(gme(e,r-e.l));return{ixfe:n,ext:i}}function yme(e,t){t.forEach(function(r){switch(r[0]){}})}function bme(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Vn(e)}}function wme(e){var t=we(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),dn(e.name,t),t.slice(0,t.l)}function jme(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Nme(e){var t=we(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function _me(e,t){var r=we(8+2*t.length);return r.write_shift(4,e),dn(t,r),r.slice(0,r.l)}function kme(e){return e.l+=4,e.read_shift(4)!=0}function Sme(e,t){var r=we(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Eme(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],l=!1,o=2;return Tl(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(d),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!u.T){if(!l||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function Cme(){var e=Na();return Ce(e,332),Ce(e,334,ni(1)),Ce(e,335,wme({name:"XLDAPR",version:12e4,flags:3496657072})),Ce(e,336),Ce(e,339,_me(1,"XLDAPR")),Ce(e,52),Ce(e,35,ni(514)),Ce(e,4096,ni(0)),Ce(e,4097,us(1)),Ce(e,36),Ce(e,53),Ce(e,340),Ce(e,337,Sme(1)),Ce(e,51,Nme([[1,0]])),Ce(e,338),Ce(e,333),e.end()}function Tme(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,l;return e.replace(Qn,function(o){var c=at(o);switch(Ri(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(l=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function G8(){var e=[Ir];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Ame(e){var t=[];if(!e)return t;var r=1;return(e.match(Qn)||[]).forEach(function(n){var a=at(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Pme(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=tt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Ome(e,t,r){var n=[];return Tl(e,function(i,l,o){switch(o){case 63:n.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Dme(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Tl(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function Fme(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var vu=1024;function X8(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ie("xml",null,{"xmlns:v":Da.v,"xmlns:o":Da.o,"xmlns:x":Da.x,"xmlns:mv":Da.mv}).replace(/\/>/,">"),Ie("o:shapelayout",Ie("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ie("v:shapetype",[Ie("v:stroke",null,{joinstyle:"miter"}),Ie("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];vu<e*1e3;)vu+=1e3;return t.forEach(function(i){var l=mr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Ie("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ie("v:fill",c,o),d={on:"t",obscured:"t"};++vu,a=a.concat(["<v:shape"+j0({id:"_x0000_s"+vu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ie("v:shadow",null,d),Ie("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Nn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Nn("x:AutoFill","False"),Nn("x:Row",String(l.r)),Nn("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function GT(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(l){var o=mr(l.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[l.ref]=i;var c=St(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=ct(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:l.author,t:l.t,r:l.r,T:r};l.h&&(d.h=l.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function Ime(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=at(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=mr(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&E_(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function Q8(e){var t=[Ir,Ie("comments",null,{xmlns:zc[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=It(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(It(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Nn("t",It(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(Nn("t",It(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Rme(e,t){var r=[],n=!1,a={},i=0;return e.replace(Qn,function(o,c){var u=at(o);switch(Ri(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function Mme(e,t,r){var n=[Ir,Ie("ThreadedComments",null,{xmlns:Xr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(Ie("threadedComment",Nn("text",l.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Lme(e,t){var r=[],n=!1;return e.replace(Qn,function(i){var l=at(i);switch(Ri(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}function $me(e){var t=[Ir,Ie("personList",null,{xmlns:Xr.TCMNT,"xmlns:x":zc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ie("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Bme(e){var t={};t.iauthor=e.read_shift(4);var r=Kc(e);return t.rfx=r.s,t.ref=tt(r.s),e.l+=16,t}function Ume(e,t){return t==null&&(t=we(36)),t.write_shift(4,e[1].iauthor),Dd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var zme=Vn;function Wme(e){return dn(e.slice(0,54))}function Vme(e,t){var r=[],n=[],a={},i=!1;return Tl(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Hme(e){var t=Na(),r=[];return Ce(t,628),Ce(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ce(t,632,Wme(a.a)))})}),Ce(t,631),Ce(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:mr(n[0]),e:mr(n[0])};Ce(t,635,Ume([i,a])),a.t&&a.t.length>0&&Ce(t,637,hde(a)),Ce(t,636),delete a.iauthor})}),Ce(t,634),Ce(t,629),t.end()}var Kme="application/vnd.ms-office.vbaProject";function qme(e){var t=Je.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Je.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Je.write(t)}function Gme(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Je.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Y8=["xlsb","xlsm","xlam","biff8","xla"];function Xme(){return{"!type":"dialog"}}function Qme(){return{"!type":"dialog"}}function Yme(){return{"!type":"macro"}}function Jme(){return{"!type":"macro"}}var Iu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=l.length>0?parseInt(l,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+hr(d)+(c?"":"$")+Or(u)}return function(a,i){return t=i,a.replace(e,r)}}(),P_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,O_=function(){return function(t,r){return t.replace(P_,function(n,a,i,l,o,c){var u=v_(l)-(i?0:r.c),d=g_(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function J8(e,t){return e.replace(P_,function(r,n,a,i,l,o){return n+(a=="$"?a+i:hr(v_(i)+t.c))+(l=="$"?l+o:Or(g_(o)+t.r))})}function Zme(e,t,r){var n=ka(t),a=n.s,i=mr(r),l={r:i.r-a.r,c:i.c-a.c};return J8(e,l)}function epe(e){return e.length!=1}function XT(e){return e.replace(/_xlfn\./g,"")}function Mr(e){e.l+=1}function mo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Z8(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return eM(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),l=mo(e),o=mo(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function eM(e){var t=mo(e),r=mo(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function tpe(e,t,r){if(r.biff<8)return eM(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=mo(e),l=mo(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function tM(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return rpe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=mo(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function rpe(e){var t=mo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function npe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function ape(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return spe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:o}}function spe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function ipe(e,t,r){var n=(e[e.l++]&96)>>5,a=Z8(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function lpe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=Z8(e,i,r);return[n,a,l]}function ope(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function cpe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function upe(e,t,r){var n=(e[e.l++]&96)>>5,a=tpe(e,t-1,r);return[n,a]}function dpe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function QT(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function fpe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function hpe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function mpe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ppe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function xpe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function rM(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function gpe(e){return e.read_shift(2),rM(e)}function vpe(e){return e.read_shift(2),rM(e)}function ype(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=tM(e,0,r);return[n,a]}function bpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=ape(e,0,r);return[n,a]}function wpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=tM(e,0,r);return[n,a,i]}function jpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[kxe[a],sM[a],n]}function Npe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:_pe(e);return[a,(i[0]===0?sM:_xe)[i[1]]]}function _pe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function kpe(e,t,r){e.l+=r&&r.biff==2?3:4}function Spe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Epe(e){return e.l++,Al[e.read_shift(1)]}function Cpe(e){return e.l++,e.read_shift(2)}function Tpe(e){return e.l++,e.read_shift(1)!==0}function Ape(e){return e.l++,Bn(e)}function Ppe(e,t,r){return e.l++,mh(e,t-1,r)}function Ope(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Tr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Al[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Bn(e);break;case 2:r[1]=qc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Dpe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Kc:vv)(e));return a}function Fpe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var o=0;o!=a;++o)l[i][o]=Ope(e,r.biff);return l}function Ipe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Rpe(e,t,r){if(r.biff==5)return Mpe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Mpe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Lpe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $pe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Bpe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Upe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var zpe=qn,Wpe=qn,Vpe=qn;function xh(e,t,r){return e.l+=2,[npe(e)]}function D_(e){return e.l+=6,[]}var Hpe=xh,Kpe=D_,qpe=D_,Gpe=xh;function nM(e){return e.l+=2,[Br(e),e.read_shift(2)&1]}var Xpe=xh,Qpe=nM,Ype=D_,Jpe=xh,Zpe=xh,exe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function txe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),l=exe[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:a,C:i}}function rxe(e){return e.l+=2,[e.read_shift(4)]}function nxe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function axe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function sxe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ixe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function lxe(e){return e.l+=4,[0,0]}var YT={1:{n:"PtgExp",f:Spe},2:{n:"PtgTbl",f:Vpe},3:{n:"PtgAdd",f:Mr},4:{n:"PtgSub",f:Mr},5:{n:"PtgMul",f:Mr},6:{n:"PtgDiv",f:Mr},7:{n:"PtgPower",f:Mr},8:{n:"PtgConcat",f:Mr},9:{n:"PtgLt",f:Mr},10:{n:"PtgLe",f:Mr},11:{n:"PtgEq",f:Mr},12:{n:"PtgGe",f:Mr},13:{n:"PtgGt",f:Mr},14:{n:"PtgNe",f:Mr},15:{n:"PtgIsect",f:Mr},16:{n:"PtgUnion",f:Mr},17:{n:"PtgRange",f:Mr},18:{n:"PtgUplus",f:Mr},19:{n:"PtgUminus",f:Mr},20:{n:"PtgPercent",f:Mr},21:{n:"PtgParen",f:Mr},22:{n:"PtgMissArg",f:Mr},23:{n:"PtgStr",f:Ppe},26:{n:"PtgSheet",f:nxe},27:{n:"PtgEndSheet",f:axe},28:{n:"PtgErr",f:Epe},29:{n:"PtgBool",f:Tpe},30:{n:"PtgInt",f:Cpe},31:{n:"PtgNum",f:Ape},32:{n:"PtgArray",f:dpe},33:{n:"PtgFunc",f:jpe},34:{n:"PtgFuncVar",f:Npe},35:{n:"PtgName",f:Ipe},36:{n:"PtgRef",f:ype},37:{n:"PtgArea",f:ipe},38:{n:"PtgMemArea",f:Lpe},39:{n:"PtgMemErr",f:zpe},40:{n:"PtgMemNoMem",f:Wpe},41:{n:"PtgMemFunc",f:$pe},42:{n:"PtgRefErr",f:Bpe},43:{n:"PtgAreaErr",f:ope},44:{n:"PtgRefN",f:bpe},45:{n:"PtgAreaN",f:upe},46:{n:"PtgMemAreaN",f:sxe},47:{n:"PtgMemNoMemN",f:ixe},57:{n:"PtgNameX",f:Rpe},58:{n:"PtgRef3d",f:wpe},59:{n:"PtgArea3d",f:lpe},60:{n:"PtgRefErr3d",f:Upe},61:{n:"PtgAreaErr3d",f:cpe},255:{}},oxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cxe={1:{n:"PtgElfLel",f:nM},2:{n:"PtgElfRw",f:Jpe},3:{n:"PtgElfCol",f:Hpe},6:{n:"PtgElfRwV",f:Zpe},7:{n:"PtgElfColV",f:Gpe},10:{n:"PtgElfRadical",f:Xpe},11:{n:"PtgElfRadicalS",f:Ype},13:{n:"PtgElfColS",f:Kpe},15:{n:"PtgElfColSV",f:qpe},16:{n:"PtgElfRadicalLel",f:Qpe},25:{n:"PtgList",f:txe},29:{n:"PtgSxName",f:rxe},255:{}},uxe={0:{n:"PtgAttrNoop",f:lxe},1:{n:"PtgAttrSemi",f:xpe},2:{n:"PtgAttrIf",f:mpe},4:{n:"PtgAttrChoose",f:fpe},8:{n:"PtgAttrGoto",f:hpe},16:{n:"PtgAttrSum",f:kpe},32:{n:"PtgAttrBaxcel",f:QT},33:{n:"PtgAttrBaxcel",f:QT},64:{n:"PtgAttrSpace",f:gpe},65:{n:"PtgAttrSpaceSemi",f:vpe},128:{n:"PtgAttrIfError",f:ppe},255:{}};function gh(e,t,r,n){if(n.biff<8)return qn(e,t);for(var a=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=Fpe(e,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=Dpe(e,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=a-e.l,t!==0&&i.push(qn(e,t)),i}function vh(e,t,r){for(var n=e.l+t,a,i,l=[];n!=e.l;)t=n-e.l,i=e[e.l],a=YT[i]||YT[oxe[i]],(i===24||i===25)&&(a=(i===24?cxe:uxe)[e[e.l+1]]),!a||!a.f?qn(e,t):l.push([a.n,a.f(e,t,r)]);return l}function dxe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var fxe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hxe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function aM(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function JT(e,t,r){var n=aM(e,t,r);return n=="#REF"?n:hxe(n,r)}function In(e,t,r,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var x=-1,g="",y=0,b=e[0].length;y<b;++y){var v=e[0][y];switch(v[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),x>=0){switch(e[0][x][1][0]){case 0:g=_r(" ",e[0][x][1][1]);break;case 1:g=_r("\r",e[0][x][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+g,x=-1}o.push(u+fxe[v[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Pf(v[1][1],l,a),o.push(Of(d,i));break;case"PtgRefN":d=r?Pf(v[1][1],r,a):v[1][1],o.push(Of(d,i));break;case"PtgRef3d":f=v[1][1],d=Pf(v[1][2],l,a),p=JT(n,f,a),o.push(p+"!"+Of(d,i));break;case"PtgFunc":case"PtgFuncVar":var N=v[1][0],_=v[1][1];N||(N=0),N&=127;var j=N==0?[]:o.slice(-N);o.length-=N,_==="User"&&(_=j.shift()),o.push(_+"("+j.join(",")+")");break;case"PtgBool":o.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(v[1]);break;case"PtgNum":o.push(String(v[1]));break;case"PtgStr":o.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(v[1]);break;case"PtgAreaN":m=ET(v[1][1],r?{s:r}:l,a),o.push(Iy(m,a));break;case"PtgArea":m=ET(v[1][1],l,a),o.push(Iy(m,a));break;case"PtgArea3d":f=v[1][1],m=v[1][2],p=JT(n,f,a),o.push(p+"!"+Iy(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=v[1][2];var k=(n.names||[])[h-1]||(n[0]||[])[h],E=k?k.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),o.push(E);break;case"PtgNameX":var T=v[1][1];h=v[1][2];var C;if(a.biff<=5)T<0&&(T=-T),n[T]&&(C=n[T][h]);else{var A="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(A=n.SheetNames[n[T][h].itab-1]+"!"):A=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])A+=n[T][h].Name;else if(n[0]&&n[0][h])A+=n[0][h].Name;else{var S=(aM(n,T,a)||"").split(";;");S[h-1]?A=S[h-1]:A+="SH33TJSERRX"}o.push(A);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var B="(",M=")";if(x>=0){switch(g="",e[0][x][1][0]){case 2:B=_r(" ",e[0][x][1][1])+B;break;case 3:B=_r("\r",e[0][x][1][1])+B;break;case 4:M=_r(" ",e[0][x][1][1])+M;break;case 5:M=_r("\r",e[0][x][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}o.push(B+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:v[1][1],r:v[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[tt(d)]){var z=n.sharedf[tt(d)];o.push(In(z,l,Y,n,a))}else{var R=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(In(u[1],l,Y,n,a)),R=!0;break}R||o.push(v[1])}break;case"PtgArray":o.push("{"+dxe(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&H.indexOf(e[0][y][0])==-1){v=e[0][x];var U=!0;switch(v[1][0]){case 4:U=!1;case 0:g=_r(" ",v[1][1]);break;case 5:U=!1;case 1:g=_r("\r",v[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}o.push((U?g:"")+o.pop()+(U?"":g)),x=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function mxe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],qn(e,t-2)];var o=vh(e,l,r);return t!==l+a&&(i=gh(e,t-l-a,o,r)),e.l=n,[o,i]}function pxe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],qn(e,t-2)];var o=vh(e,l,r);return t!==l+a&&(i=gh(e,t-l-a,o,r)),e.l=n,[o,i]}function xxe(e,t,r,n){var a=e.l+t,i=vh(e,n,r),l;return a!==e.l&&(l=gh(e,a-e.l,i,r)),[i,l]}function gxe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),l=vh(e,i,r);return i==65535?[[],qn(e,t-2)]:(t!==i+2&&(a=gh(e,n-i-2,l,r)),[l,a])}function vxe(e){var t;if(Zi(e,e.l+6)!==65535)return[Bn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function yxe(e){if(e==null){var t=we(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Oc(e);return Oc(0)}function By(e,t,r){var n=e.l+t,a=Mi(e);r.biff==2&&++e.l;var i=vxe(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=pxe(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function bxe(e,t,r,n,a){var i=Fc(t,r,a),l=yxe(e.v),o=we(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=we(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=on([i,l,o,u]);return f}function yv(e,t,r){var n=e.read_shift(4),a=vh(e,n,r),i=e.read_shift(4),l=i>0?gh(e,i,a,r):null;return[a,l]}var wxe=yv,bv=yv,jxe=yv,Nxe=yv,_xe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},sM={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},kxe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ZT(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Sxe(e){var t="of:="+e.replace(P_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Uy(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Exe(e){return e.replace(/\./,"!")}var Ff={},Ru={},If=typeof Map<"u";function F_(e,t,r){var n=0,a=e.length;if(r){if(If?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=If?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(If?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function wv(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ln=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=E0(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Dx(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function pc(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Eo(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){ll(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function iM(e,t,r,n,a,i){try{n.cellNF&&(e.z=et[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Zt(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(et[t]==null&&ll(_ue[t]||"General",t),e.t==="e")e.w=e.w||Al[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=b0(e.v);else if(e.t==="d"){var l=Yr(e.v);(l|0)===l?e.w=l.toString(10):e.w=b0(l)}else{if(e.v===void 0)return"";e.w=Ac(e.v,Ru)}else e.t==="d"?e.w=Ss(t,Yr(e.v),Ru):e.w=Ss(t,e.v,Ru)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ox(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ox(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Cxe(e,t,r){if(e&&e["!ref"]){var n=St(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Txe(e,t){var r=St(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ct(r))}var Axe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Pxe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Oxe=/<(?:\w:)?hyperlink [^>]*>/mg,Dxe=/"(\w*:\w*)"/,Fxe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Ixe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Rxe=/<(?:\w:)?pageMargins[^>]*\/>/g,lM=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Mxe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Lxe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function $xe(e,t,r,n,a,i,l){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Pxe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(lM);h?I_(h[0],o,a,r):(h=u.match(Mxe))&&Uxe(h[0],h[1]||"",o,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=u.slice(m,m+50).match(Dxe);p&&Txe(o,p[1])}var x=u.match(Lxe);x&&x[1]&&ege(x[1],a);var g=[];if(t.cellStyles){var y=u.match(Fxe);y&&Xxe(g,y)}f&&nge(f[1],o,t,c,i,l);var b=d.match(Ixe);b&&(o["!autofilter"]=Yxe(b[0]));var v=[],N=d.match(Axe);if(N)for(m=0;m!=N.length;++m)v[m]=St(N[m].slice(N[m].indexOf('"')+1));var _=d.match(Oxe);_&&Kxe(o,_,n);var j=d.match(Rxe);if(j&&(o["!margins"]=qxe(at(j[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=ct(c)),t.sheetRows>0&&o["!ref"]){var k=St(o["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>c.e.r&&(k.e.r=c.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>c.e.c&&(k.e.c=c.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ct(k))}return g.length>0&&(o["!cols"]=g),v.length>0&&(o["!merges"]=v),o}function Bxe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ct(e[r])+'"/>';return t+"</mergeCells>"}function I_(e,t,r,n){var a=at(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=kt(Bt(a.codeName)))}function Uxe(e,t,r,n,a){I_(e.slice(0,e.indexOf(">")),r,n,a)}function zxe(e,t,r,n,a){var i=!1,l={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,l.codeName=ji(It(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Ie("outlinePr",null,u)}!i&&!o||(a[a.length]=Ie("sheetPr",o,l))}var Wxe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Vxe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Hxe(e){var t={sheet:1};return Wxe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Vxe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=C_(e.password).toString(16).toUpperCase()),Ie("sheetProtection",null,t)}function Kxe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=at(Bt(t[a]),!0);if(!i.ref)return;var l=((r||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+kt(i.location))):(i.Target="#"+kt(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=St(i.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=tt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function qxe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Gxe(e){return pc(e),Ie("pageMargins",null,e)}function Xxe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=at(t[n],!0);a.hidden&&(a.hidden=Qt(a.hidden));var i=parseInt(a.min,10)-1,l=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,T_(a.width)),ho(a);i<=l;)e[i++]=er(a)}}function Qxe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Ie("col",null,wv(a,n)));return r[r.length]="</cols>",r.join("")}function Yxe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Jxe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:ct(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=ka(a);l.s.r==l.e.r&&(l.e.r=ka(t["!ref"]).e.r,a=ct(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ie("autoFilter",null,{ref:a})}var Zxe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ege(e,t){t.Views||(t.Views=[{}]),(e.match(Zxe)||[]).forEach(function(r,n){var a=at(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Qt(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function tge(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ie("sheetViews",Ie("sheetView",null,a),{})}function rge(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Al[e.v];break;case"d":n&&n.cellDates?a=Zt(e.v,-1).toISOString():(e=er(e),e.t="n",a=""+(e.v=Yr(Zt(e.v)))),typeof e.z>"u"&&(e.z=et[14]);break;default:a=e.v;break}var o=Nn("v",It(a)),c={r:t},u=Eo(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Nn("v",""+F_(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ie("f",It(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Ie("c",o,c)}var nge=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=w0("v"),l=w0("f");return function(c,u,d,f,h,m){for(var p=0,x="",g=[],y=[],b=0,v=0,N=0,_="",j,k,E=0,T=0,C,A,S=0,B=0,M=Array.isArray(m.CellXf),Y,z=[],R=[],H=Array.isArray(u),U=[],te={},K=!1,D=!!d.sheetStubs,L=c.split(t),F=0,O=L.length;F!=O;++F){x=L[F].trim();var re=x.length;if(re!==0){var oe=0;e:for(p=0;p<re;++p)switch(x[p]){case">":if(x[p-1]!="/"){++p;break e}if(d&&d.cellStyles){if(k=at(x.slice(oe,p),!0),E=k.r!=null?parseInt(k.r,10):E+1,T=-1,d.sheetRows&&d.sheetRows<E)continue;te={},K=!1,k.ht&&(K=!0,te.hpt=parseFloat(k.ht),te.hpx=ld(te.hpt)),k.hidden=="1"&&(K=!0,te.hidden=!0),k.outlineLevel!=null&&(K=!0,te.level=+k.outlineLevel),K&&(U[E-1]=te)}break;case"<":oe=p;break}if(oe>=p)break;if(k=at(x.slice(oe,p),!0),E=k.r!=null?parseInt(k.r,10):E+1,T=-1,!(d.sheetRows&&d.sheetRows<E)){f.s.r>E-1&&(f.s.r=E-1),f.e.r<E-1&&(f.e.r=E-1),d&&d.cellStyles&&(te={},K=!1,k.ht&&(K=!0,te.hpt=parseFloat(k.ht),te.hpx=ld(te.hpt)),k.hidden=="1"&&(K=!0,te.hidden=!0),k.outlineLevel!=null&&(K=!0,te.level=+k.outlineLevel),K&&(U[E-1]=te)),g=x.slice(p).split(e);for(var J=0;J!=g.length&&g[J].trim().charAt(0)=="<";++J);for(g=g.slice(J),p=0;p!=g.length;++p)if(x=g[p].trim(),x.length!==0){if(y=x.match(r),b=p,v=0,N=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,y!=null&&y.length===2){for(b=0,_=y[1],v=0;v!=_.length&&!((N=_.charCodeAt(v)-64)<1||N>26);++v)b=26*b+N;--b,T=b}else++T;for(v=0;v!=x.length&&x.charCodeAt(v)!==62;++v);if(++v,k=at(x.slice(0,v),!0),k.r||(k.r=tt({r:E-1,c:T})),_=x.slice(v),j={t:""},(y=_.match(i))!=null&&y[1]!==""&&(j.v=kt(y[1])),d.cellFormula){if((y=_.match(l))!=null&&y[1]!==""){if(j.f=kt(Bt(y[1])).replace(/\r\n/g,`
`),d.xlfn||(j.f=XT(j.f)),y[0].indexOf('t="array"')>-1)j.F=(_.match(a)||[])[1],j.F.indexOf(":")>-1&&z.push([St(j.F),j.F]);else if(y[0].indexOf('t="shared"')>-1){A=at(y[0]);var Z=kt(Bt(y[1]));d.xlfn||(Z=XT(Z)),R[parseInt(A.si,10)]=[A,Z,k.r]}}else(y=_.match(/<f[^>]*\/>/))&&(A=at(y[0]),R[A.si]&&(j.f=Zme(R[A.si][1],R[A.si][2],k.r)));var se=mr(k.r);for(v=0;v<z.length;++v)se.r>=z[v][0].s.r&&se.r<=z[v][0].e.r&&se.c>=z[v][0].s.c&&se.c<=z[v][0].e.c&&(j.F=z[v][1])}if(k.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(D)j.t="z";else continue;else j.t=k.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),j.t){case"n":if(j.v==""||j.v==null){if(!D)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!D)continue;j.t="z"}else C=Ff[parseInt(j.v,10)],j.v=C.t,j.r=C.r,d.cellHTML&&(j.h=C.h);break;case"str":j.t="s",j.v=j.v!=null?Bt(j.v):"",d.cellHTML&&(j.h=h_(j.v));break;case"inlineStr":y=_.match(n),j.t="s",y!=null&&(C=E_(y[1]))?(j.v=C.t,d.cellHTML&&(j.h=C.h)):j.v="";break;case"b":j.v=Qt(j.v);break;case"d":d.cellDates?j.v=Zt(j.v,1):(j.v=Yr(Zt(j.v,1)),j.t="n");break;case"e":(!d||d.cellText!==!1)&&(j.w=j.v),j.v=c8[j.v];break}if(S=B=0,Y=null,M&&k.s!==void 0&&(Y=m.CellXf[k.s],Y!=null&&(Y.numFmtId!=null&&(S=Y.numFmtId),d.cellStyles&&Y.fillId!=null&&(B=Y.fillId))),iM(j,S,B,d,h,m),d.cellDates&&M&&j.t=="n"&&Ad(et[S])&&(j.t="d",j.v=gv(j.v)),k.cm&&d.xlmeta){var G=(d.xlmeta.Cell||[])[+k.cm-1];G&&G.type=="XLDAPR"&&(j.D=!0)}if(H){var P=mr(k.r);u[P.r]||(u[P.r]=[]),u[P.r][P.c]=j}else u[k.r]=j}}}}U.length>0&&(u["!rows"]=U)}}();function age(e,t,r,n){var a=[],i=[],l=St(e["!ref"]),o="",c,u="",d=[],f=0,h=0,m=e["!rows"],p=Array.isArray(e),x={r:u},g,y=-1;for(h=l.s.c;h<=l.e.c;++h)d[h]=hr(h);for(f=l.s.r;f<=l.e.r;++f){for(i=[],u=Or(f),h=l.s.c;h<=l.e.c;++h){c=d[h]+u;var b=p?(e[f]||[])[h]:e[c];b!==void 0&&(o=rge(b,c,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(x={r:u},m&&m[f]&&(g=m[f],g.hidden&&(x.hidden=1),y=-1,g.hpx?y=C0(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(x.ht=y,x.customHeight=1),g.level&&(x.outlineLevel=g.level)),a[a.length]=Ie("row",i.join(""),x))}if(m)for(;f<m.length;++f)m&&m[f]&&(x={r:f+1},g=m[f],g.hidden&&(x.hidden=1),y=-1,g.hpx?y=C0(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(x.ht=y,x.customHeight=1),g.level&&(x.outlineLevel=g.level),a[a.length]=Ie("row","",x));return a.join("")}function oM(e,t,r,n){var a=[Ir,Ie("worksheet",null,{xmlns:zc[0],"xmlns:r":Xr.r})],i=r.SheetNames[e],l=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=St(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ct(d)}n||(n={}),c["!comments"]=[];var f=[];zxe(c,r,e,t,a),a[a.length]=Ie("dimension",null,{ref:u}),a[a.length]=tge(c,t,e,r),t.sheetFormat&&(a[a.length]=Ie("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Qxe(c,c["!cols"])),a[l=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=age(c,t),o.length>0&&(a[a.length]=o)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),c["!protect"]&&(a[a.length]=Hxe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Jxe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Bxe(c["!merges"]));var h=-1,m,p=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(m={ref:x[0]},x[1].Target.charAt(0)!="#"&&(p=Dt(n,-1,It(x[1].Target).replace(/#.*$/,""),mt.HLINK),m["r:id"]="rId"+p),(h=x[1].Target.indexOf("#"))>-1&&(m.location=It(x[1].Target.slice(h+1))),x[1].Tooltip&&(m.tooltip=It(x[1].Tooltip)),a[a.length]=Ie("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Gxe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Nn("ignoredErrors",Ie("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(p=Dt(n,-1,"../drawings/drawing"+(e+1)+".xml",mt.DRAW),a[a.length]=Ie("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=f),c["!comments"].length>0&&(p=Dt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",mt.VML),a[a.length]=Ie("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function sge(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function ige(e,t,r){var n=we(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=C0(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var p=Array.isArray(r)?(r[u.r]||[])[u.c]:r[tt(u)];p&&(f<0&&(f=m),h=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var x=n.l;return n.l=c,n.write_shift(4,o),n.l=x,n.length>n.l?n.slice(0,n.l):n}function lge(e,t,r,n){var a=ige(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Ce(e,0,a)}var oge=Kc,cge=Dd;function uge(){}function dge(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=mde(e),r}function fge(e,t,r){r==null&&(r=we(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Tx({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),a8(e,r),r.slice(0,r.l)}function hge(e){var t=Ds(e);return[t]}function mge(e,t,r){return r==null&&(r=we(8)),Wc(t,r)}function pge(e){var t=Vc(e);return[t]}function xge(e,t,r){return r==null&&(r=we(4)),Hc(t,r)}function gge(e){var t=Ds(e),r=e.read_shift(1);return[t,r,"b"]}function vge(e,t,r){return r==null&&(r=we(9)),Wc(t,r),r.write_shift(1,e.v?1:0),r}function yge(e){var t=Vc(e),r=e.read_shift(1);return[t,r,"b"]}function bge(e,t,r){return r==null&&(r=we(5)),Hc(t,r),r.write_shift(1,e.v?1:0),r}function wge(e){var t=Ds(e),r=e.read_shift(1);return[t,r,"e"]}function jge(e,t,r){return r==null&&(r=we(9)),Wc(t,r),r.write_shift(1,e.v),r}function Nge(e){var t=Vc(e),r=e.read_shift(1);return[t,r,"e"]}function _ge(e,t,r){return r==null&&(r=we(8)),Hc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function kge(e){var t=Ds(e),r=e.read_shift(4);return[t,r,"s"]}function Sge(e,t,r){return r==null&&(r=we(12)),Wc(t,r),r.write_shift(4,t.v),r}function Ege(e){var t=Vc(e),r=e.read_shift(4);return[t,r,"s"]}function Cge(e,t,r){return r==null&&(r=we(8)),Hc(t,r),r.write_shift(4,t.v),r}function Tge(e){var t=Ds(e),r=Bn(e);return[t,r,"n"]}function Age(e,t,r){return r==null&&(r=we(16)),Wc(t,r),Oc(e.v,r),r}function cM(e){var t=Vc(e),r=Bn(e);return[t,r,"n"]}function Pge(e,t,r){return r==null&&(r=we(12)),Hc(t,r),Oc(e.v,r),r}function Oge(e){var t=Ds(e),r=j_(e);return[t,r,"n"]}function Dge(e,t,r){return r==null&&(r=we(12)),Wc(t,r),s8(e.v,r),r}function Fge(e){var t=Vc(e),r=j_(e);return[t,r,"n"]}function Ige(e,t,r){return r==null&&(r=we(8)),Hc(t,r),s8(e.v,r),r}function Rge(e){var t=Ds(e),r=y_(e);return[t,r,"is"]}function Mge(e){var t=Ds(e),r=Vn(e);return[t,r,"str"]}function Lge(e,t,r){return r==null&&(r=we(12+4*e.v.length)),Wc(t,r),dn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function $ge(e){var t=Vc(e),r=Vn(e);return[t,r,"str"]}function Bge(e,t,r){return r==null&&(r=we(8+4*e.v.length)),Hc(t,r),dn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Uge(e,t,r){var n=e.l+t,a=Ds(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=bv(e,n-e.l,r);l[3]=In(o,null,a,r.supbooks,r)}else e.l=n;return l}function zge(e,t,r){var n=e.l+t,a=Ds(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=bv(e,n-e.l,r);l[3]=In(o,null,a,r.supbooks,r)}else e.l=n;return l}function Wge(e,t,r){var n=e.l+t,a=Ds(e);a.r=r["!row"];var i=Bn(e),l=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=bv(e,n-e.l,r);l[3]=In(o,null,a,r.supbooks,r)}else e.l=n;return l}function Vge(e,t,r){var n=e.l+t,a=Ds(e);a.r=r["!row"];var i=Vn(e),l=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=bv(e,n-e.l,r);l[3]=In(o,null,a,r.supbooks,r)}else e.l=n;return l}var Hge=Kc,Kge=Dd;function qge(e,t){return t==null&&(t=we(4)),t.write_shift(4,e),t}function Gge(e,t){var r=e.l+t,n=Kc(e),a=b_(e),i=Vn(e),l=Vn(e),o=Vn(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return l&&(c.Tooltip=l),c}function Xge(e,t){var r=we(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Dd({s:mr(e[0]),e:mr(e[0])},r),w_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return dn(a||"",r),dn(e[1].Tooltip||"",r),dn("",r),r.slice(0,r.l)}function Qge(){}function Yge(e,t,r){var n=e.l+t,a=i8(e),i=e.read_shift(1),l=[a];if(l[2]=i,r.cellFormula){var o=wxe(e,n-e.l,r);l[1]=o}else e.l=n;return l}function Jge(e,t,r){var n=e.l+t,a=Kc(e),i=[a];if(r.cellFormula){var l=Nxe(e,n-e.l,r);i[1]=l,e.l=n}else e.l=n;return i}function Zge(e,t,r){r==null&&(r=we(18));var n=wv(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var uM=["left","right","top","bottom","header","footer"];function eve(e){var t={};return uM.forEach(function(r){t[r]=Bn(e)}),t}function tve(e,t){return t==null&&(t=we(6*8)),pc(e),uM.forEach(function(r){Oc(e[r],t)}),t}function rve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function nve(e,t,r){r==null&&(r=we(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ave(e){var t=we(24);return t.write_shift(4,4),t.write_shift(4,1),Dd(e,t),t}function sve(e,t){return t==null&&(t=we(16*4+2)),t.write_shift(2,e.password?C_(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function ive(){}function lve(){}function ove(e,t,r,n,a,i,l){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,x,g,y,b,v,N,_,j=[];o.biff=12,o["!row"]=0;var k=0,E=!1,T=[],C={},A=o.supbooks||a.supbooks||[[]];if(A.sharedf=C,A.arrayf=T,A.SheetNames=a.SheetNames||a.Sheets.map(function(H){return H.name}),!o.supbooks&&(o.supbooks=A,a.Names))for(var S=0;S<a.Names.length;++S)A[0][S+1]=a.Names[S];var B=[],M=[],Y=!1;T0[16]={n:"BrtShortReal",f:cM};var z;if(Tl(e,function(U,te,K){if(!h)switch(K){case 148:u=U;break;case 0:m=U,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),N=Or(g=m.r),o["!row"]=m.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=ld(U.hpt)),M[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:U[2]},U[2]){case"n":p.v=U[1];break;case"s":v=Ff[U[1]],p.v=v.t,p.r=v.r;break;case"b":p.v=!!U[1];break;case"e":p.v=U[1],o.cellText!==!1&&(p.w=Al[p.v]);break;case"str":p.t="s",p.v=U[1];break;case"is":p.t="s",p.v=U[1].t;break}if((x=l.CellXf[U[0].iStyleRef])&&iM(p,x.numFmtId,null,o,i,l),y=U[0].c==-1?y+1:U[0].c,o.dense?(c[g]||(c[g]=[]),c[g][y]=p):c[hr(y)+N]=p,o.cellFormula){for(E=!1,k=0;k<T.length;++k){var D=T[k];m.r>=D[0].s.r&&m.r<=D[0].e.r&&y>=D[0].s.c&&y<=D[0].e.c&&(p.F=ct(D[0]),E=!0)}!E&&U.length>3&&(p.f=U[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),o.cellDates&&x&&p.t=="n"&&Ad(et[x.numFmtId])){var L=rc(p.v);L&&(p.t="d",p.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}z&&(z.type=="XLDAPR"&&(p.D=!0),z=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},y=U[0].c==-1?y+1:U[0].c,o.dense?(c[g]||(c[g]=[]),c[g][y]=p):c[hr(y)+N]=p,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),z&&(z.type=="XLDAPR"&&(p.D=!0),z=void 0);break;case 176:j.push(U);break;case 49:z=((o.xlmeta||{}).Cell||[])[U-1];break;case 494:var F=n["!id"][U.relId];for(F?(U.Target=F.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=F):U.relId==""&&(U.Target="#"+U.loc),g=U.rfx.s.r;g<=U.rfx.e.r;++g)for(y=U.rfx.s.c;y<=U.rfx.e.c;++y)o.dense?(c[g]||(c[g]=[]),c[g][y]||(c[g][y]={t:"z",v:void 0}),c[g][y].l=U):(b=tt({c:y,r:g}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=U);break;case 426:if(!o.cellFormula)break;T.push(U),_=o.dense?c[g][y]:c[hr(y)+N],_.f=In(U[1],d,{r:m.r,c:y},A,o),_.F=ct(U[0]);break;case 427:if(!o.cellFormula)break;C[tt(U[0].s)]=U[1],_=o.dense?c[g][y]:c[hr(y)+N],_.f=In(U[1],d,{r:m.r,c:y},A,o);break;case 60:if(!o.cellStyles)break;for(;U.e>=U.s;)B[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},Y||(Y=!0,T_(U.w/256)),ho(B[U.e+1]);break;case 161:c["!autofilter"]={ref:ct(U)};break;case 476:c["!margins"]=U;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),U.name&&(a.Sheets[r].CodeName=U.name),(U.above||U.left)&&(c["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!te.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+K.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=ct(u||d)),o.sheetRows&&c["!ref"]){var R=St(c["!ref"]);o.sheetRows<=+R.e.r&&(R.e.r=o.sheetRows-1,R.e.r>d.e.r&&(R.e.r=d.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>d.e.c&&(R.e.c=d.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ct(R))}return j.length>0&&(c["!merges"]=j),B.length>0&&(c["!cols"]=B),M.length>0&&(c["!rows"]=M),c}function cve(e,t,r,n,a,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=er(t),t.z=t.z||et[14],t.v=Yr(Zt(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=Eo(a.cellXfs,t,a),t.l&&i["!links"].push([tt(c),t.l]),t.c&&i["!comments"].push([tt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=F_(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,l?Ce(e,18,Cge(t,c)):Ce(e,7,Sge(t,c))):(c.t="str",l?Ce(e,17,Bge(t,c)):Ce(e,6,Lge(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Ce(e,13,Ige(t,c)):Ce(e,2,Dge(t,c)):l?Ce(e,16,Pge(t,c)):Ce(e,5,Age(t,c)),!0;case"b":return c.t="b",l?Ce(e,15,bge(t,c)):Ce(e,4,vge(t,c)),!0;case"e":return c.t="e",l?Ce(e,14,_ge(t,c)):Ce(e,3,jge(t,c)),!0}return l?Ce(e,12,xge(t,c)):Ce(e,1,mge(t,c)),!0}function uve(e,t,r,n){var a=St(t["!ref"]||"A1"),i,l="",o=[];Ce(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){l=Or(d),lge(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=hr(h)),i=o[h]+l;var m=c?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=cve(e,m,d,h,n,t,f)}}Ce(e,146)}function dve(e,t){!t||!t["!merges"]||(Ce(e,177,qge(t["!merges"].length)),t["!merges"].forEach(function(r){Ce(e,176,Kge(r))}),Ce(e,178))}function fve(e,t){!t||!t["!cols"]||(Ce(e,390),t["!cols"].forEach(function(r,n){r&&Ce(e,60,Zge(n,r))}),Ce(e,391))}function hve(e,t){!t||!t["!ref"]||(Ce(e,648),Ce(e,649,ave(St(t["!ref"]))),Ce(e,650))}function mve(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Dt(r,-1,n[1].Target.replace(/#.*$/,""),mt.HLINK);Ce(e,494,Xge(n,a))}}),delete t["!links"]}function pve(e,t,r,n){if(t["!comments"].length>0){var a=Dt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",mt.VML);Ce(e,551,w_("rId"+a)),t["!legacy"]=a}}function xve(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:ct(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,o=ka(i);o.s.r==o.e.r&&(o.e.r=ka(t["!ref"]).e.r,i=ct(o));for(var c=0;c<l.length;++c){var u=l[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ce(e,161,Dd(St(i))),Ce(e,162)}}function gve(e,t,r){Ce(e,133),Ce(e,137,nve(t,r)),Ce(e,138),Ce(e,134)}function vve(e,t){t["!protect"]&&Ce(e,535,sve(t["!protect"]))}function yve(e,t,r,n){var a=Na(),i=r.SheetNames[e],l=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=St(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ce(a,129),(r.vbaraw||l["!outline"])&&Ce(a,147,fge(o,l["!outline"])),Ce(a,148,cge(c)),gve(a,l,r.Workbook),fve(a,l),uve(a,l,e,t),vve(a,l),xve(a,l,r,e),dve(a,l),mve(a,l,n),l["!margins"]&&Ce(a,476,tve(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&hve(a,l),pve(a,l,e,n),Ce(a,130),a.end()}function bve(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var a=kt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function wve(e,t,r,n,a,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=bve(f);d.s.r=d.s.c=0,d.e.c=o,u=hr(o),h[0].forEach(function(m,p){l[u+Or(p)]={t:"n",v:m,z:h[1]},c=p}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(l["!ref"]=ct(d)),l}function jve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(lM);return o&&I_(o[0],i,a,r),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Nve(e,t){e.l+=10;var r=Vn(e);return{name:r}}function _ve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Tl(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var R_=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],kve=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Sve=[],Eve=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function eA(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Qt(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function tA(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Qt(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function dM(e){tA(e.WBProps,R_),tA(e.CalcPr,Eve),eA(e.WBView,kve),eA(e.Sheets,Sve),Ru.date1904=Qt(e.WBProps.date1904)}function Cve(e){return!e.Workbook||!e.Workbook.WBProps?"false":Qt(e.Workbook.WBProps.date1904)?"true":"false"}var Tve="][*?/\\".split("");function fM(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Tve.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ave(e,t,r){e.forEach(function(n,a){fM(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t&&t[a]&&t[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Pve(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Ave(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Cxe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Ove=/<\w+:workbook/;function Dve(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},l=0;if(e.replace(Qn,function(c,u){var d=at(c);switch(Ri(d[0])){case"<?xml":break;case"<workbook":c.match(Ove)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":R_.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Qt(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Bt(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=kt(Bt(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Bt(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Qt(d.hidden||"0")&&(i.Hidden=!0),l=u+c.length;break;case"</definedName>":i.Ref=kt(Bt(e.slice(l,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),zc.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return dM(r),r}function hM(e){var t=[Ir];t[t.length]=Ie("workbook",null,{xmlns:zc[0],"xmlns:r":Xr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(R_.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ie("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:It(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Ie("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Ie("definedName",It(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Fve(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=pw(e),r.name=Vn(e),r}function Ive(e,t){return t||(t=we(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),w_(e.strRelID,t),dn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Rve(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Vn(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Mve(e,t){t||(t=we(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),a8(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Lve(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function $ve(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=pde(e),l=jxe(e,0,r),o=b_(e);e.l=n;var c={Name:i,Ptg:l};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function Bve(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],T0[16]={n:"BrtFRTArchID$",f:Lve},Tl(e,function(c,u,d){switch(d){case 156:l.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=In(c.Ptg,null,null,l,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([d,c]):l[0]=[d,c],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(c),l.XTI=l.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),dM(r),r.Names=i,r.supbooks=l,r}function Uve(e,t){Ce(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ce(e,156,Ive(a))}Ce(e,144)}function zve(e,t){t||(t=we(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return dn("SheetJS",t),dn(jx.version,t),dn(jx.version,t),dn("7262",t),t.length>t.l?t.slice(0,t.l):t}function Wve(e,t){t||(t=we(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Vve(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Ce(e,135),Ce(e,158,Wve(a)),Ce(e,136))}}function Hve(e,t){var r=Na();return Ce(r,131),Ce(r,128,zve()),Ce(r,153,Mve(e.Workbook&&e.Workbook.WBProps||null)),Vve(r,e),Uve(r,e),Ce(r,132),r.end()}function Kve(e,t,r){return t.slice(-4)===".bin"?Bve(e,r):Dve(e,r)}function qve(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?ove(e,n,r,a,i,l,o):$xe(e,n,r,a,i,l,o)}function Gve(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?_ve(e,n,r,a,i):jve(e,n,r,a,i)}function Xve(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?Yme():Jme()}function Qve(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?Xme():Qme()}function Yve(e,t,r,n){return t.slice(-4)===".bin"?Khe(e,r,n):Fhe(e,r,n)}function Jve(e,t,r){return q8(e,r)}function Zve(e,t,r){return t.slice(-4)===".bin"?Z0e(e,r):Q0e(e,r)}function eye(e,t,r){return t.slice(-4)===".bin"?Vme(e,r):Ime(e,r)}function tye(e,t,r){return t.slice(-4)===".bin"?Ome(e):Ame(e)}function rye(e,t,r,n){return r.slice(-4)===".bin"?Dme(e,t,r,n):void 0}function nye(e,t,r){return t.slice(-4)===".bin"?Eme(e,t,r):Tme(e,t,r)}function aye(e,t,r){return(t.slice(-4)===".bin"?Hve:hM)(e)}function sye(e,t,r,n,a){return(t.slice(-4)===".bin"?yve:oM)(e,r,n,a)}function iye(e,t,r){return(t.slice(-4)===".bin"?rme:H8)(e,r)}function lye(e,t,r){return(t.slice(-4)===".bin"?rhe:M8)(e,r)}function oye(e,t,r){return(t.slice(-4)===".bin"?Hme:Q8)(e)}function cye(e){return(e.slice(-4)===".bin"?Cme:G8)()}var mM=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,pM=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ls(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(mM),i,l,o,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(pM),(l=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),n[o]=i[2].slice(1,i[2].length-1));return n}function uye(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(mM),a,i,l,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(pM),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(i+1),r[l]=a[2].slice(1,a[2].length-1));return r}var Rf;function dye(e,t){var r=Rf[e]||kt(e);return r==="General"?Ac(t):Ss(r,t)}function fye(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Qt(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Zt(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[kt(t)]=a}function hye(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Al[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=b0(e.v):e.w=Ac(e.v):e.w=dye(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Rf[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ad(n)){var a=rc(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function mye(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=She[n.Pattern]||n.Pattern)}e[t.ID]=t}function pye(e,t,r,n,a,i,l,o,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],p=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&l&&(f=l.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Qt(e);break;case"String":n.t="s",n.r=vT(kt(e)),n.v=e.indexOf("<")>-1?kt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Zt(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=kt(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=c8[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=vT(t||e));break}if(hye(n,d,u),u.cellFormula!==!1)if(n.Formula){var x=kt(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=Iu(x,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Iu("RC:RC",a):n.ArrayRange&&(n.F=Iu(n.ArrayRange,a),c.push([St(n.F),n.F]))}else for(p=0;p<c.length;++p)a.r>=c[p][0].s.r&&a.r<=c[p][0].e.r&&a.c>=c[p][0].s.c&&a.c<=c[p][0].e.c&&(n.F=c[p][1]);u.cellStyles&&(m.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function xye(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function zy(e,t){var r=t||{};Pd();var n=df(m_(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Bt(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var l=er(r);return l.type="string",id.to_workbook(n,l)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(rt){a.indexOf("<"+rt)>=0&&(i=!0)}),i)return t1e(n,r);Rf={"General Number":"General","General Date":et[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":et[15],"Short Date":et[14],"Long Time":et[19],"Medium Time":et[18],"Short Time":et[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:et[2],Standard:et[4],Percent:et[10],Scientific:et[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},f=[],h=r.dense?[]:{},m="",p={},x={},g=Ls('<Data ss:Type="String">'),y=0,b=0,v=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},j={},k="",E=0,T=[],C={},A={},S=0,B=[],M=[],Y={},z=[],R,H=!1,U=[],te=[],K={},D=0,L=0,F={Sheets:[],WBProps:{date1904:!1}},O={};N0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";o=N0.exec(n);)switch(o[3]=(re=o[3]).toLowerCase()){case"data":if(re=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?pye(n.slice(y,o.index),k,g,c[c.length-1][0]=="comment"?Y:p,{c:b,r:v},_,z[b],x,U,r):(k="",g=Ls(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(p.c=M),(!r.sheetRows||r.sheetRows>v)&&p.v!==void 0&&(r.dense?(h[v]||(h[v]=[]),h[v][b]=p):h[hr(b)+Or(v)]=p),p.HRef&&(p.l={Target:kt(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(D=b+(parseInt(p.MergeAcross,10)|0),L=v+(parseInt(p.MergeDown,10)|0),T.push({s:{c:b,r:v},e:{c:D,r:L}})),!r.sheetStubs)p.MergeAcross?b=D+1:++b;else if(p.MergeAcross||p.MergeDown){for(var oe=b;oe<=D;++oe)for(var J=v;J<=L;++J)(oe>b||J>v)&&(r.dense?(h[J]||(h[J]=[]),h[J][oe]={t:"z"}):h[hr(oe)+Or(J)]={t:"z"});b=D+1}else++b;else p=uye(o[0]),p.Index&&(b=+p.Index-1),b<N.s.c&&(N.s.c=b),b>N.e.c&&(N.e.c=b),o[0].slice(-2)==="/>"&&++b,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(v<N.s.r&&(N.s.r=v),v>N.e.r&&(N.e.r=v),o[0].slice(-2)==="/>"&&(x=Ls(o[0]),x.Index&&(v=+x.Index-1)),b=0,++v):(x=Ls(o[0]),x.Index&&(v=+x.Index-1),K={},(x.AutoFitHeight=="0"||x.Height)&&(K.hpx=parseInt(x.Height,10),K.hpt=C0(K.hpx),te[v]=K),x.Hidden=="1"&&(K.hidden=!0,te[v]=K));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(m),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(h["!ref"]=ct(N),r.sheetRows&&r.sheetRows<=N.e.r&&(h["!fullref"]=h["!ref"],N.e.r=r.sheetRows-1,h["!ref"]=ct(N))),T.length&&(h["!merges"]=T),z.length>0&&(h["!cols"]=z),te.length>0&&(h["!rows"]=te),d[m]=h}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=b=0,c.push([o[3],!1]),u=Ls(o[0]),m=kt(u.Name),h=r.dense?[]:{},T=[],U=[],te=[],O={name:m,Hidden:0},F.Sheets.push(O);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),z=[],H=!1}break;case"style":o[1]==="/"?mye(_,j,r):j=Ls(o[0]);break;case"numberformat":j.nf=kt(Ls(o[0]).Format||"General"),Rf[j.nf]&&(j.nf=Rf[j.nf]);for(var Z=0;Z!=392&&et[Z]!=j.nf;++Z);if(Z==392){for(Z=57;Z!=392;++Z)if(et[Z]==null){ll(j.nf,Z);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(R=Ls(o[0]),R.Hidden&&(R.hidden=!0,delete R.Hidden),R.Width&&(R.wpx=parseInt(R.Width,10)),!H&&R.wpx>10){H=!0,Ln=W8;for(var se=0;se<z.length;++se)z[se]&&ho(z[se])}H&&ho(R),z[R.Index-1||z.length]=R;for(var G=0;G<+R.Span;++G)z[z.length]=er(R);break;case"namedrange":if(o[1]==="/")break;F.Names||(F.Names=[]);var P=at(o[0]),ie={Name:P.Name,Ref:Iu(P.RefersTo.slice(1),{r:0,c:0})};F.Sheets.length>0&&(ie.Sheet=F.Sheets.length-1),F.Names.push(ie);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?k+=n.slice(E,o.index):E=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=Ls(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Bde(C,re,n.slice(S,o.index)):S=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));xye(Y),M.push(Y)}else c.push([o[3],!1]),u=Ls(o[0]),Y={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var je=Ls(o[0]);h["!autofilter"]={ref:Iu(je.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return iA(n,r);var Te=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Te=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Te=!1}break;case"excelworkbook":switch(o[3]){case"date1904":F.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Te=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Te=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(S,o.index)){case"SheetHidden":O.Hidden=1;break;case"SheetVeryHidden":O.Hidden=2;break}else S=o.index+o[0].length;break;case"header":h["!margins"]||pc(h["!margins"]={},"xlml"),isNaN(+at(o[0]).Margin)||(h["!margins"].header=+at(o[0]).Margin);break;case"footer":h["!margins"]||pc(h["!margins"]={},"xlml"),isNaN(+at(o[0]).Margin)||(h["!margins"].footer=+at(o[0]).Margin);break;case"pagemargins":var Le=at(o[0]);h["!margins"]||pc(h["!margins"]={},"xlml"),isNaN(+Le.Top)||(h["!margins"].top=+Le.Top),isNaN(+Le.Left)||(h["!margins"].left=+Le.Left),isNaN(+Le.Right)||(h["!margins"].right=+Le.Right),isNaN(+Le.Bottom)||(h["!margins"].bottom=+Le.Bottom);break;case"displayrighttoleft":F.Views||(F.Views=[]),F.Views[0]||(F.Views[0]={}),F.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Te=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Te=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Te=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Te=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Te=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Te=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Te=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Te=!1}break;case"smarttags":break;default:Te=!1;break}if(Te||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?fye(A,re,B,n.slice(S,o.index)):(B=o,S=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Se={};return!r.bookSheets&&!r.bookProps&&(Se.Sheets=d),Se.SheetNames=f,Se.Workbook=F,Se.SSF=er(et),Se.Props=C,Se.Custprops=A,Se}function jw(e,t){switch(L_(t=t||{}),t.type||"base64"){case"base64":return zy(qa(e),t);case"binary":case"buffer":case"file":return zy(e,t);case"array":return zy(ko(e),t)}}function gye(e,t){var r=[];return e.Props&&r.push(Ude(e.Props,t)),e.Custprops&&r.push(zde(e.Props,e.Custprops)),r.join("")}function vye(){return""}function yye(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Ie("NumberFormat",null,{"ss:Format":It(et[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(Ie("Style",i.join(""),l))}),Ie("Styles",r.join(""))}function xM(e){return Ie("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+O_(e.Ref,{r:0,c:0})})}function bye(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(xM(a)))}return Ie("Names",r.join(""))}function wye(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var o=a[l];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(xM(o)))}return i.join("")}function jye(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ie("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ie("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ie("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ie("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Nn("ProtectContents","True")),e["!protect"].objects&&a.push(Nn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Nn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Nn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Nn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":Ie("WorksheetOptions",a.join(""),{xmlns:Da.x})}function Nye(e){return e.map(function(t){var r=Vue(t.t||""),n=Ie("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ie("Comment",n,{"ss:Author":t.a})}).join("")}function _ye(e,t,r,n,a,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+It(O_(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var c=mr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=It(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=It(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=l.c||u[d].s.r!=l.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Al[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||et[14]);break;case"s":f="String",h=Wue(e.v||"");break}var m=Eo(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=l.c+1;var p=e.v!=null?h:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(x+=Nye(e.c)),Ie("Cell",x,o)}function kye(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ld(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Sye(e,t,r,n){if(!e["!ref"])return"";var a=St(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(g,y){ho(g);var b=!!g.width,v=wv(y,g),N={"ss:Index":y+1};b&&(N["ss:Width"]=S0(v.width)),g.hidden&&(N["ss:Hidden"]="1"),o.push(Ie("Column",null,N))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[kye(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>f)&&!(i[l].s.r>u)&&!(i[l].e.c<f)&&!(i[l].e.r<u)){(i[l].s.c!=f||i[l].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},p=tt(m),x=c?(e[u]||[])[f]:e[p];d.push(_ye(x,p,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function Eye(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],l=i?wye(i,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?Sye(i,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(jye(i,t,e,r)),n.join("")}function Cye(e,t){t||(t={}),e.SSF||(e.SSF=er(et)),e.SSF&&(Pd(),mv(e.SSF),t.revssf=xv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Eo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(gye(e,t)),r.push(vye()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ie("Worksheet",Eye(n,t,e),{"ss:Name":It(e.SheetNames[n])}));return r[2]=yye(e,t),r[3]=bye(e),Ir+Ie("Workbook",r.join(""),{xmlns:Da.ss,"xmlns:o":Da.o,"xmlns:x":Da.x,"xmlns:ss":Da.ss,"xmlns:dt":Da.dt,"xmlns:html":Da.html})}function Tye(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=bde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=wde(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Aye=[60,1084,2066,2165,2175];function Pye(e,t,r,n,a){var i=n,l=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}l.push(o),r.l+=i;for(var c=Zi(r,r.l),u=Nw[c],d=0;u!=null&&Aye.indexOf(c)>-1;)i=Zi(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+i),l.push(o),r.l+=4+i,u=Nw[c=Zi(r,r.l)];var f=on(l);wn(f,0);var h=0;f.lens=[];for(var m=0;m<l.length;++m)f.lens.push(h),h+=l[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function fi(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=et[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Al[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=b0(e.v):e.w=Ac(e.v):e.w=Ss(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Ad(et[n]||String(n))){var a=rc(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function pm(e,t,r){return{v:e,ixfe:t,t:r}}function Oye(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},l={},o=null,c=[],u="",d={},f,h="",m,p,x,g,y={},b=[],v,N,_=[],j=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},T=function(Xe){return Xe<8?fc[Xe]:Xe<64&&j[Xe-8]||fc[Xe]},C=function(Xe,st,$e){var Ze=st.XF.data;if(!(!Ze||!Ze.patternType||!$e||!$e.cellStyles)){st.s={},st.s.patternType=Ze.patternType;var Nt;(Nt=k0(T(Ze.icvFore)))&&(st.s.fgColor={rgb:Nt}),(Nt=k0(T(Ze.icvBack)))&&(st.s.bgColor={rgb:Nt})}},A=function(Xe,st,$e){if(!(K>1)&&!($e.sheetRows&&Xe.r>=$e.sheetRows)){if($e.cellStyles&&st.XF&&st.XF.data&&C(Xe,st,$e),delete st.ixfe,delete st.XF,f=Xe,h=tt(Xe),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),Xe.r<l.s.r&&(l.s.r=Xe.r),Xe.c<l.s.c&&(l.s.c=Xe.c),Xe.r+1>l.e.r&&(l.e.r=Xe.r+1),Xe.c+1>l.e.c&&(l.e.c=Xe.c+1),$e.cellFormula&&st.f){for(var Ze=0;Ze<b.length;++Ze)if(!(b[Ze][0].s.c>Xe.c||b[Ze][0].s.r>Xe.r)&&!(b[Ze][0].e.c<Xe.c||b[Ze][0].e.r<Xe.r)){st.F=ct(b[Ze][0]),(b[Ze][0].s.c!=Xe.c||b[Ze][0].s.r!=Xe.r)&&delete st.f,st.f&&(st.f=""+In(b[Ze][1],l,Xe,U,S));break}}$e.dense?(a[Xe.r]||(a[Xe.r]=[]),a[Xe.r][Xe.c]=st):a[h]=st}},S={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(S.password=t.password);var B,M=[],Y=[],z=[],R=[],H=!1,U=[];U.SheetNames=S.snames,U.sharedf=S.sharedf,U.arrayf=S.arrayf,U.names=[],U.XTI=[];var te=0,K=0,D=0,L=[],F=[],O;S.codepage=1200,Xs(1200);for(var re=!1;e.l<e.length-1;){var oe=e.l,J=e.read_shift(2);if(J===0&&te===10)break;var Z=e.l===e.length?0:e.read_shift(2),se=Nw[J];if(se&&se.f){if(t.bookSheets&&te===133&&J!==133)break;if(te=J,se.r===2||se.r==12){var G=e.read_shift(2);if(Z-=2,!S.enc&&G!==J&&((G&255)<<8|G>>8)!==J)throw new Error("rt mismatch: "+G+"!="+J);se.r==12&&(e.l+=10,Z-=10)}var P={};if(J===10?P=se.f(e,Z,S):P=Pye(J,se,e,Z,S),K==0&&[9,521,1033,2057].indexOf(te)===-1)continue;switch(J){case 34:r.opts.Date1904=k.WBProps.date1904=P;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(S.enc||(e.l=0),S.enc=P,!t.password)throw new Error("File is password-protected");if(P.valid==null)throw new Error("Encryption scheme unsupported");if(!P.valid)throw new Error("Password is incorrect");break;case 92:S.lastuser=P;break;case 66:var ie=Number(P);switch(ie){case 21010:ie=1200;break;case 32768:ie=1e4;break;case 32769:ie=1252;break}Xs(S.codepage=ie),re=!0;break;case 317:S.rrtabid=P;break;case 25:S.winlocked=P;break;case 439:r.opts.RefreshAll=P;break;case 12:r.opts.CalcCount=P;break;case 16:r.opts.CalcDelta=P;break;case 17:r.opts.CalcIter=P;break;case 13:r.opts.CalcMode=P;break;case 14:r.opts.CalcPrecision=P;break;case 95:r.opts.CalcSaveRecalc=P;break;case 15:S.CalcRefMode=P;break;case 2211:r.opts.FullCalc=P;break;case 129:P.fDialog&&(a["!type"]="dialog"),P.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),P.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(P);break;case 430:U.push([P]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(P);break;case 24:case 536:O={Name:P.Name,Ref:In(P.rgce,l,null,U,S)},P.itab>0&&(O.Sheet=P.itab-1),U.names.push(O),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(P),P.Name=="_xlnm._FilterDatabase"&&P.itab>0&&P.rgce&&P.rgce[0]&&P.rgce[0][0]&&P.rgce[0][0][0]=="PtgArea3d"&&(F[P.itab-1]={ref:ct(P.rgce[0][0][1][2])});break;case 22:S.ExternCount=P;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(P),U.XTI=U.XTI.concat(P);break;case 2196:if(S.biff<8)break;O!=null&&(O.Comment=P[1]);break;case 18:a["!protect"]=P;break;case 19:P!==0&&S.WTF&&console.error("Password verifier: "+P);break;case 133:i[P.pos]=P,S.snames.push(P.name);break;case 10:{if(--K)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,a["!ref"]=ct(l),t.sheetRows&&t.sheetRows<=l.e.r){var je=l.e.r;l.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=ct(l),l.e.r=je}l.e.r++,l.e.c++}M.length>0&&(a["!merges"]=M),Y.length>0&&(a["!objects"]=Y),z.length>0&&(a["!cols"]=z),R.length>0&&(a["!rows"]=R),k.Sheets.push(E)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(S.biff===8&&(S.biff={9:2,521:3,1033:4}[J]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[P.BIFFVer]||8),S.biffguess=P.BIFFVer==0,P.BIFFVer==0&&P.dt==4096&&(S.biff=5,re=!0,Xs(S.codepage=28591)),S.biff==8&&P.BIFFVer==0&&P.dt==16&&(S.biff=2),K++)break;if(a=t.dense?[]:{},S.biff<8&&!re&&(re=!0,Xs(S.codepage=t.codepage||1252)),S.biff<5||P.BIFFVer==0&&P.dt==4096){u===""&&(u="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var Te={pos:e.l-Z,name:u};i[Te.pos]=Te,S.snames.push(u)}else u=(i[oe]||{name:""}).name;P.dt==32&&(a["!type"]="chart"),P.dt==64&&(a["!type"]="macro"),M=[],Y=[],S.arrayf=b=[],z=[],R=[],H=!1,E={Hidden:(i[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[P.r]||[])[P.c]:a[tt({c:P.c,r:P.r})])&&++P.c,v={ixfe:P.ixfe,XF:_[P.ixfe]||{},v:P.val,t:"n"},D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A({c:P.c,r:P.r},v,t);break;case 5:case 517:v={ixfe:P.ixfe,XF:_[P.ixfe],v:P.val,t:P.t},D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A({c:P.c,r:P.r},v,t);break;case 638:v={ixfe:P.ixfe,XF:_[P.ixfe],v:P.rknum,t:"n"},D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A({c:P.c,r:P.r},v,t);break;case 189:for(var Le=P.c;Le<=P.C;++Le){var Se=P.rkrec[Le-P.c][0];v={ixfe:Se,XF:_[Se],v:P.rkrec[Le-P.c][1],t:"n"},D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A({c:Le,r:P.r},v,t)}break;case 6:case 518:case 1030:{if(P.val=="String"){o=P;break}if(v=pm(P.val,P.cell.ixfe,P.tt),v.XF=_[v.ixfe],t.cellFormula){var rt=P.formula;if(rt&&rt[0]&&rt[0][0]&&rt[0][0][0]=="PtgExp"){var nt=rt[0][0][1][0],ee=rt[0][0][1][1],le=tt({r:nt,c:ee});y[le]?v.f=""+In(P.formula,l,P.cell,U,S):v.F=((t.dense?(a[nt]||[])[ee]:a[le])||{}).F}else v.f=""+In(P.formula,l,P.cell,U,S)}D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A(P.cell,v,t),o=P}break;case 7:case 519:if(o)o.val=P,v=pm(P,o.cell.ixfe,"s"),v.XF=_[v.ixfe],t.cellFormula&&(v.f=""+In(o.formula,l,o.cell,U,S)),D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A(o.cell,v,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(P);var ue=tt(P[0].s);if(m=t.dense?(a[P[0].s.r]||[])[P[0].s.c]:a[ue],t.cellFormula&&m){if(!o||!ue||!m)break;m.f=""+In(P[1],l,P[0],U,S),m.F=ct(P[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[tt(o.cell)]=P[0],m=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[tt(o.cell)],(m||{}).f=""+In(P[0],l,f,U,S)}}break;case 253:v=pm(c[P.isst].t,P.ixfe,"s"),c[P.isst].h&&(v.h=c[P.isst].h),v.XF=_[v.ixfe],D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A({c:P.c,r:P.r},v,t);break;case 513:t.sheetStubs&&(v={ixfe:P.ixfe,XF:_[P.ixfe],t:"z"},D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A({c:P.c,r:P.r},v,t));break;case 190:if(t.sheetStubs)for(var ke=P.c;ke<=P.C;++ke){var Ee=P.ixfe[ke-P.c];v={ixfe:Ee,XF:_[Ee],t:"z"},D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A({c:ke,r:P.r},v,t)}break;case 214:case 516:case 4:v=pm(P.val,P.ixfe,"s"),v.XF=_[v.ixfe],D>0&&(v.z=L[v.ixfe>>8&63]),fi(v,t,r.opts.Date1904),A({c:P.c,r:P.r},v,t);break;case 0:case 512:K===1&&(l=P);break;case 252:c=P;break;case 1054:if(S.biff==4){L[D++]=P[1];for(var ae=0;ae<D+163&&et[ae]!=P[1];++ae);ae>=163&&ll(P[1],D+163)}else ll(P[1],P[0]);break;case 30:{L[D++]=P;for(var ve=0;ve<D+163&&et[ve]!=P;++ve);ve>=163&&ll(P,D+163)}break;case 229:M=M.concat(P);break;case 93:Y[P.cmo[0]]=S.lastobj=P;break;case 438:S.lastobj.TxO=P;break;case 127:S.lastobj.ImData=P;break;case 440:for(g=P[0].s.r;g<=P[0].e.r;++g)for(x=P[0].s.c;x<=P[0].e.c;++x)m=t.dense?(a[g]||[])[x]:a[tt({c:x,r:g})],m&&(m.l=P[1]);break;case 2048:for(g=P[0].s.r;g<=P[0].e.r;++g)for(x=P[0].s.c;x<=P[0].e.c;++x)m=t.dense?(a[g]||[])[x]:a[tt({c:x,r:g})],m&&m.l&&(m.l.Tooltip=P[1]);break;case 28:{if(S.biff<=5&&S.biff>=2)break;m=t.dense?(a[P[0].r]||[])[P[0].c]:a[tt(P[0])];var ce=Y[P[2]];m||(t.dense?(a[P[0].r]||(a[P[0].r]=[]),m=a[P[0].r][P[0].c]={t:"z"}):m=a[tt(P[0])]={t:"z"},l.e.r=Math.max(l.e.r,P[0].r),l.s.r=Math.min(l.s.r,P[0].r),l.e.c=Math.max(l.e.c,P[0].c),l.s.c=Math.min(l.s.c,P[0].c)),m.c||(m.c=[]),p={a:P[1],t:ce.TxO.t},m.c.push(p)}break;case 2173:yme(_[P.ixfe],P.ext);break;case 125:{if(!S.cellStyles)break;for(;P.e>=P.s;)z[P.e--]={width:P.w/256,level:P.level||0,hidden:!!(P.flags&1)},H||(H=!0,T_(P.w/256)),ho(z[P.e+1])}break;case 520:{var ye={};P.level!=null&&(R[P.r]=ye,ye.level=P.level),P.hidden&&(R[P.r]=ye,ye.hidden=!0),P.hpt&&(R[P.r]=ye,ye.hpt=P.hpt,ye.hpx=ld(P.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||pc(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[J]]=P;break;case 161:a["!margins"]||pc(a["!margins"]={}),a["!margins"].header=P.header,a["!margins"].footer=P.footer;break;case 574:P.RTL&&(k.Views[0].RTL=!0);break;case 146:j=P;break;case 2198:B=P;break;case 140:N=P;break;case 442:u?E.CodeName=P||E.name:k.WBProps.CodeName=P||"ThisWorkbook";break}}else se||console.error("Missing Info for XLS Record 0x"+J.toString(16)),e.l+=Z}return r.SheetNames=Er(i).sort(function(Me,Xe){return Number(Me)-Number(Xe)}).map(function(Me){return i[Me].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&F.forEach(function(Me,Xe){r.Sheets[r.SheetNames[Xe]]["!autofilter"]=Me}),r.Strings=c,r.SSF=er(et),S.enc&&(r.Encryption=S.enc),B&&(r.Themes=B),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),U.names.length>0&&(k.Names=U.names),r.Workbook=k,r}var Mf={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Dye(e,t,r){var n=Je.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=RT(n,xw,Mf.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var l=Je.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=RT(l,gw,Mf.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(p8(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Fye(e,t){var r=[],n=[],a=[],i=0,l,o=fT(xw,"n"),c=fT(gw,"n");if(e.Props)for(l=Er(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(c,l[i])?n:a).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Er(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(c,l[i])?n:a).push([l[i],e.Custprops[l[i]]]);var u=[];for(i=0;i<a.length;++i)j8.indexOf(a[i][0])>-1||m8.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Je.utils.cfb_add(t,"/SummaryInformation",MT(n,Mf.SI,c,gw)),(r.length||u.length)&&Je.utils.cfb_add(t,"/DocumentSummaryInformation",MT(r,Mf.DSI,o,xw,u.length?u:null,Mf.UDI))}function gM(e,t){t||(t={}),L_(t),s_(),t.codepage&&a_(t.codepage);var r,n;if(e.FullPaths){if(Je.find(e,"/encryption"))throw new Error("File is password-protected");r=Je.find(e,"!CompObj"),n=Je.find(e,"/Workbook")||Je.find(e,"/Book")}else{switch(t.type){case"base64":e=Ma(qa(e));break;case"binary":e=Ma(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}wn(e,0),n={content:e}}var a,i;if(r&&Tye(r),t.bookProps&&!t.bookSheets)a={};else{var l=ht?"buffer":"array";if(n&&n.content)a=Oye(n.content,t);else if((i=Je.find(e,"PerfectOffice_MAIN"))&&i.content)a=mc.to_workbook(i.content,(t.type=l,t));else if((i=Je.find(e,"NativeContent_MAIN"))&&i.content)a=mc.to_workbook(i.content,(t.type=l,t));else throw(i=Je.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Je.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=qme(e))}var o={};return e.FullPaths&&Dye(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function Iye(e,t){var r=t||{},n=Je.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Je.utils.cfb_add(n,a,vM(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Fye(e,n),r.biff==8&&e.vbaraw&&Gme(n,Je.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var T0={0:{f:sge},1:{f:hge},2:{f:Oge},3:{f:wge},4:{f:gge},5:{f:Tge},6:{f:Mge},7:{f:kge},8:{f:Vge},9:{f:Wge},10:{f:Uge},11:{f:zge},12:{f:pge},13:{f:Fge},14:{f:Nge},15:{f:yge},16:{f:cM},17:{f:$ge},18:{f:Ege},19:{f:y_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$ve},40:{},42:{},43:{f:Mhe},44:{f:Ihe},45:{f:Bhe},46:{f:zhe},47:{f:Uhe},48:{},49:{f:ode},50:{},51:{f:jme},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:D8},62:{f:Rge},63:{f:Pme},64:{f:ive},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:rve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dge},148:{f:oge,p:16},151:{f:Qge},152:{},153:{f:Rve},154:{},155:{},156:{f:Fve},157:{},158:{},159:{T:1,f:J0e},160:{T:-1},161:{T:1,f:Kc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Hge},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:bme},336:{T:-1},337:{f:kme,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:pw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:O8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Yge},427:{f:Jge},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:eve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:uge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gge},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:pw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zme},633:{T:1},634:{T:-1},635:{T:1,f:Bme},636:{T:-1},637:{f:fde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Nve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lve},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Nw={6:{f:By},10:{f:Ol},12:{f:Br},13:{f:Br},14:{f:Tr},15:{f:Tr},16:{f:Bn},17:{f:Tr},18:{f:Tr},19:{f:Br},20:{f:WT},21:{f:WT},23:{f:O8},24:{f:HT},25:{f:Tr},26:{},27:{},28:{f:l0e},29:{},34:{f:Tr},35:{f:VT},38:{f:Bn},39:{f:Bn},40:{f:Bn},41:{f:Bn},42:{f:Tr},43:{f:Tr},47:{f:yhe},49:{f:Ffe},51:{f:Br},60:{},61:{f:Tfe},64:{f:Tr},65:{f:Dfe},66:{f:Br},77:{},80:{},81:{},82:{},85:{f:Br},89:{},90:{},91:{},92:{f:vfe},93:{f:u0e},94:{},95:{f:Tr},96:{},97:{},99:{f:Tr},125:{f:D8},128:{f:Xfe},129:{f:bfe},130:{f:Br},131:{f:Tr},132:{f:Tr},133:{f:wfe},134:{},140:{f:v0e},141:{f:Br},144:{},146:{f:w0e},151:{},152:{},153:{},154:{},155:{},156:{f:Br},157:{},158:{},160:{f:C0e},161:{f:_0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Hfe},190:{f:Kfe},193:{f:Ol},197:{},198:{},199:{},200:{},201:{},202:{f:Tr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Br},220:{},221:{f:Tr},222:{},224:{f:Gfe},225:{f:gfe},226:{f:Ol},227:{},229:{f:o0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Nfe},253:{f:Rfe},255:{f:kfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:N8},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Tr},353:{f:Ol},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:e0e},431:{f:Tr},432:{},433:{},434:{},437:{},438:{f:h0e},439:{f:Tr},440:{f:m0e},441:{},442:{f:ph},443:{},444:{f:Br},445:{},446:{},448:{f:Ol},449:{f:Cfe,r:2},450:{f:Ol},512:{f:BT},513:{f:E0e},515:{f:Jfe},516:{f:Lfe},517:{f:zT},519:{f:T0e},520:{f:Sfe},523:{},545:{f:KT},549:{f:$T},566:{},574:{f:Pfe},638:{f:Vfe},659:{},1048:{},1054:{f:Bfe},1084:{},1212:{f:a0e},2048:{f:x0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:fm},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ol},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:j0e,r:12},2173:{f:vme,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Tr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:n0e,r:12},2197:{},2198:{f:fme,r:12},2199:{},2200:{},2201:{},2202:{f:s0e,r:12},2203:{f:Ol},2204:{},2205:{},2206:{},2207:{},2211:{f:Efe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Br},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:k0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:b0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:BT},1:{},2:{f:F0e},3:{f:O0e},4:{f:P0e},5:{f:zT},7:{f:R0e},8:{},9:{f:fm},11:{},22:{f:Br},30:{f:zfe},31:{},32:{},33:{f:KT},36:{},37:{f:$T},50:{f:M0e},62:{},52:{},67:{},68:{f:Br},69:{},86:{},126:{},127:{f:A0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:L0e},223:{},234:{},354:{},421:{},518:{f:By},521:{f:fm},536:{f:HT},547:{f:VT},561:{},579:{},1030:{f:By},1033:{f:fm},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Re(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&x_(r)&&e.push(r)}}function Rye(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Re(e,t,r,a);var i=t;if(!isNaN(i)){for(var l=r.parts||[],o=0,c=0,u=0;u+(l[o]||8224)<=8224;)u+=l[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(l[o]||8224)<=8224;)u+=l[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function yh(e,t,r){return e||(e=we(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Mye(e,t,r,n){var a=we(9);return yh(a,e,t),_8(r,n||"b",a),a}function Lye(e,t,r){var n=we(8+2*r.length);return yh(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function $ye(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Yr(Zt(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Re(e,2,I0e(r,n,a)):Re(e,3,D0e(r,n,a));return;case"b":case"e":Re(e,5,Mye(r,n,t.v,t.t));return;case"s":case"str":Re(e,4,Lye(r,n,(t.v||"").slice(0,255)));return}Re(e,1,yh(null,r,n))}function Bye(e,t,r,n){var a=Array.isArray(t),i=St(t["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=ct(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Or(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=hr(d)),l=c[d]+o;var f=a?(t[u]||[])[d]:t[l];f&&$ye(e,f,u,d)}}}function Uye(e,t){for(var r=t||{},n=Na(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Re(n,r.biff==4?1033:r.biff==3?521:9,S_(e,16,r)),Bye(n,e.Sheets[e.SheetNames[a]],a,r),Re(n,10),n.end()}function zye(e,t,r){Re(e,49,Ife({sz:12,name:"Arial"},r))}function Wye(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Re(e,1054,Ufe(a,t[a],r))})}function Vye(e,t){var r=we(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Re(e,2151,r),r=we(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),T8(St(t["!ref"]||"A1"),r),r.write_shift(4,4),Re(e,2152,r)}function Hye(e,t){for(var r=0;r<16;++r)Re(e,224,UT({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Re(e,224,UT(n,0,t))})}function Kye(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Re(e,440,p0e(n)),n[1].Tooltip&&Re(e,2048,g0e(n))}delete t["!links"]}function qye(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Re(e,125,N0e(wv(a,n),a))})}}function Gye(e,t,r,n,a){var i=16+Eo(a.cellXfs,t,a);if(t.v==null&&!t.bf){Re(e,513,Fc(r,n,i));return}if(t.bf)Re(e,6,bxe(t,r,n,a,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?Yr(Zt(t.v)):t.v;Re(e,515,Zfe(r,n,l,i));break;case"b":case"e":Re(e,517,Yfe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=F_(a.Strings,t.v,a.revStrings);Re(e,253,Mfe(r,n,o,i))}else Re(e,516,$fe(r,n,(t.v||"").slice(0,255),i,a));break;default:Re(e,513,Fc(r,n,i))}}function Xye(e,t,r){var n=Na(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=(r||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=St(i["!ref"]||"A1"),p=u?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}Re(n,2057,S_(r,16,t)),Re(n,13,us(1)),Re(n,12,us(100)),Re(n,15,ta(!0)),Re(n,17,ta(!1)),Re(n,16,Oc(.001)),Re(n,95,ta(!0)),Re(n,42,ta(!1)),Re(n,43,ta(!1)),Re(n,130,us(1)),Re(n,128,Qfe()),Re(n,131,ta(!1)),Re(n,132,ta(!1)),u&&qye(n,i["!cols"]),Re(n,512,Wfe(m,t)),u&&(i["!links"]=[]);for(var x=m.s.r;x<=m.e.r;++x){f=Or(x);for(var g=m.s.c;g<=m.e.c;++g){x===m.s.r&&(h[g]=hr(g)),d=h[g]+f;var y=c?(i[x]||[])[g]:i[d];y&&(Gye(n,y,x,g,t),u&&y.l&&i["!links"].push([d,y.l]))}}var b=o.CodeName||o.name||a;return u&&Re(n,574,Ofe((l.Views||[])[0])),u&&(i["!merges"]||[]).length&&Re(n,229,c0e(i["!merges"])),u&&Kye(n,i),Re(n,442,k8(b)),u&&Vye(n,i),Re(n,10),n.end()}function Qye(e,t,r){var n=Na(),a=(e||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(Re(n,2057,S_(e,5,r)),r.bookType=="xla"&&Re(n,135),Re(n,225,o?us(1200):null),Re(n,193,Yde(2)),c&&Re(n,191),c&&Re(n,192),Re(n,226),Re(n,92,yfe("SheetJS",r)),Re(n,66,us(o?1200:1252)),o&&Re(n,353,us(0)),o&&Re(n,448),Re(n,317,S0e(e.SheetNames.length)),o&&e.vbaraw&&Re(n,211),o&&e.vbaraw){var u=l.CodeName||"ThisWorkbook";Re(n,442,k8(u))}Re(n,156,us(17)),Re(n,25,ta(!1)),Re(n,18,ta(!1)),Re(n,19,us(0)),o&&Re(n,431,ta(!1)),o&&Re(n,444,us(0)),Re(n,61,Afe()),Re(n,64,ta(!1)),Re(n,141,us(0)),Re(n,34,ta(Cve(e)=="true")),Re(n,14,ta(!0)),o&&Re(n,439,ta(!1)),Re(n,218,us(0)),zye(n,e,r),Wye(n,e.SSF,r),Hye(n,r),o&&Re(n,352,ta(!1));var d=n.end(),f=Na();o&&Re(f,140,y0e()),o&&r.Strings&&Rye(f,252,_fe(r.Strings)),Re(f,10);var h=f.end(),m=Na(),p=0,x=0;for(x=0;x<e.SheetNames.length;++x)p+=(o?12:11)+(o?2:1)*e.SheetNames[x].length;var g=d.length+p+h.length;for(x=0;x<e.SheetNames.length;++x){var y=i[x]||{};Re(m,133,jfe({pos:g,hs:y.Hidden||0,dt:0,name:e.SheetNames[x]},r)),g+=t[x].length}var b=m.end();if(p!=b.length)throw new Error("BS8 "+p+" != "+b.length);var v=[];return d.length&&v.push(d),b.length&&v.push(b),h.length&&v.push(h),on(v)}function Yye(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=er(et)),e&&e.SSF&&(Pd(),mv(e.SSF),r.revssf=xv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,$_(r),r.cellXfs=[],Eo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Xye(a,r,e);return n.unshift(Qye(e,n,r)),on(n)}function vM(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ka(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Yye(e,t);case 4:case 3:case 2:return Uye(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function rA(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=a.index,o=i&&i.index||e.length,c=Iue(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(l=0;l<c.length;++l){var x=c[l].trim(),g=x.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var y=x.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var v=b,N=0;v.charAt(0)=="<"&&(N=v.indexOf(">"))>-1;)v=v.slice(N+1);for(var _=0;_<p.length;++_){var j=p[_];j.s.c==d&&j.s.r<u&&u<=j.e.r&&(d=j.e.c+1,_=-1)}var k=at(b.slice(0,b.indexOf(">")));h=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||h>1)&&p.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var E=k.t||k["data-t"]||"";if(!v.length){d+=h;continue}if(v=zR(v),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!v.length){d+=h;continue}var T={t:"s",v};r.raw||!v.trim().length||E=="s"||(v==="TRUE"?T={t:"b",v:!0}:v==="FALSE"?T={t:"b",v:!1}:isNaN(ri(v))?isNaN(sd(v).getDate())||(T={t:"d",v:Zt(v)},r.cellDates||(T={t:"n",v:Yr(T.v)}),T.z=r.dateNF||et[14]):T={t:"n",v:ri(v)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=T):n[tt({r:u,c:d})]=T,d+=h}}}}return n["!ref"]=ct(m),p.length&&(n["!merges"]=p),n}function Jye(e,t,r,n){for(var a=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>l)&&!(a[u].e.r<r||a[u].e.c<l)){if(a[u].s.r<r||a[u].s.c<l){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=tt({r,c:l}),f=n.dense?(e[r]||[])[l]:e[d],h=f&&f.v!=null&&(f.h||h_(f.w||(vl(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(Ie("td",h,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var Zye='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',e1e="</body></html>";function t1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return So(rA(r[0],t),t);var n=W_();return r.forEach(function(a,i){V_(n,rA(a,t),"Sheet"+(i+1))}),n}function r1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function yM(e,t){var r=t||{},n=r.header!=null?r.header:Zye,a=r.footer!=null?r.footer:e1e,i=[n],l=ka(e["!ref"]);r.dense=Array.isArray(e),i.push(r1e(e,l,r));for(var o=l.s.r;o<=l.e.r;++o)i.push(Jye(e,l,o,r));return i.push("</table>"+a),i.join("")}function bM(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?mr(n.origin):n.origin;a=l.r,i=l.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=ka(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,x=0,g=0,y=0,b=0,v=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&x<c;++p){var N=o[p];if(nA(N)){if(n.display)continue;m[x]={hidden:!0}}var _=N.children;for(g=y=0;g<_.length;++g){var j=_[g];if(!(n.display&&nA(j))){var k=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):zR(j.innerHTML),E=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==y+i&&T.s.r<x+a&&x+a<=T.e.r&&(y=T.e.c+1-i,h=-1)}v=+j.getAttribute("colspan")||1,((b=+j.getAttribute("rowspan")||1)>1||v>1)&&f.push({s:{r:x+a,c:y+i},e:{r:x+a+(b||1)-1,c:y+i+(v||1)-1}});var C={t:"s",v:k},A=j.getAttribute("data-t")||j.getAttribute("t")||"";k!=null&&(k.length==0?C.t=A||"z":n.raw||k.trim().length==0||A=="s"||(k==="TRUE"?C={t:"b",v:!0}:k==="FALSE"?C={t:"b",v:!1}:isNaN(ri(k))?isNaN(sd(k).getDate())||(C={t:"d",v:Zt(k)},n.cellDates||(C={t:"n",v:Yr(C.v)}),C.z=n.dateNF||et[14]):C={t:"n",v:ri(k)})),C.z===void 0&&E!=null&&(C.z=E);var S="",B=j.getElementsByTagName("A");if(B&&B.length)for(var M=0;M<B.length&&!(B[M].hasAttribute("href")&&(S=B[M].getAttribute("href"),S.charAt(0)!="#"));++M);S&&S.charAt(0)!="#"&&(C.l={Target:S}),n.dense?(e[x+a]||(e[x+a]=[]),e[x+a][y+i]=C):e[tt({c:y+i,r:x+a})]=C,u.e.c<y+i&&(u.e.c=y+i),y+=v}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+a),e["!ref"]=ct(u),x>=c&&(e["!fullref"]=ct((u.e.r=o.length-p+x-1+a,u))),e}function wM(e,t){var r=t||{},n=r.dense?[]:{};return bM(n,e,t)}function n1e(e,t){return So(wM(e,t),t)}function nA(e){var t="",r=a1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function a1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function s1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=kt(t.replace(/<[^>]*>/g,""));return[r]}var aA={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function jM(e,t){var r=t||{},n=m_(e),a=[],i,l,o={name:""},c="",u=0,d,f,h={},m=[],p=r.dense?[]:{},x,g,y={value:""},b="",v=0,N=[],_=-1,j=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,T={},C=[],A={},S=0,B=0,M=[],Y=1,z=1,R=[],H={Names:[]},U={},te=["",""],K=[],D={},L="",F=0,O=!1,re=!1,oe=0;for(N0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=N0.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?p["!ref"]=ct(k):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(p["!fullref"]=p["!ref"],k.e.r=r.sheetRows-1,p["!ref"]=ct(k)),C.length&&(p["!merges"]=C),M.length&&(p["!rows"]=M),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=p,re=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=at(x[0],!1),_=j=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,p=r.dense?[]:{},C=[],M=[],re=!0);break;case"table-row-group":x[1]==="/"?--E:++E;break;case"table-row":case"":if(x[1]==="/"){_+=Y,Y=1;break}if(f=at(x[0],!1),f.?_=f.-1:_==-1&&(_=0),Y=+f["number-rows-repeated"]||1,Y<10)for(oe=0;oe<Y;++oe)E>0&&(M[_+oe]={level:E});j=-1;break;case"covered-table-cell":x[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(p[_]||(p[_]=[]),p[_][j]={t:"z"}):p[tt({r:_,c:j})]={t:"z"}),b="",N=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++j,y=at(x[0],!1),z=parseInt(y["number-columns-repeated"]||"1",10),g={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(g.f=ZT(kt(y.formula))),(y.||y["value-type"])=="string"&&(g.t="s",g.v=kt(y["string-value"]||""),r.dense?(p[_]||(p[_]=[]),p[_][j]=g):p[tt({r:_,c:j})]=g),j+=z-1;else if(x[1]!=="/"){++j,b="",v=0,N=[],z=1;var J=Y?_+Y-1:_;if(j>k.e.c&&(k.e.c=j),j<k.s.c&&(k.s.c=j),_<k.s.r&&(k.s.r=_),J>k.e.r&&(k.e.r=J),y=at(x[0],!1),K=[],D={},g={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=kt(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(S=parseInt(y["number-matrix-rows-spanned"],10)||0,B=parseInt(y["number-matrix-columns-spanned"],10)||0,A={s:{r:_,c:j},e:{r:_+S-1,c:j+B-1}},g.F=ct(A),R.push([A,g.F])),y.formula)g.f=ZT(y.formula);else for(oe=0;oe<R.length;++oe)_>=R[oe][0].s.r&&_<=R[oe][0].e.r&&j>=R[oe][0].s.c&&j<=R[oe][0].e.c&&(g.F=R[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(S=parseInt(y["number-rows-spanned"],10)||0,B=parseInt(y["number-columns-spanned"],10)||0,A={s:{r:_,c:j},e:{r:_+S-1,c:j+B-1}},C.push(A)),y["number-columns-repeated"]&&(z=parseInt(y["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Qt(y["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(y.value);break;case"percentage":g.t="n",g.v=parseFloat(y.value);break;case"currency":g.t="n",g.v=parseFloat(y.value);break;case"date":g.t="d",g.v=Zt(y["date-value"]),r.cellDates||(g.t="n",g.v=Yr(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=Oue(y["time-value"])/86400,r.cellDates&&(g.t="d",g.v=gv(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(y.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",y["string-value"]!=null&&(b=kt(y["string-value"]),N=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(O=!1,g.t==="s"&&(g.v=b||"",N.length&&(g.R=N),O=v==0),U.Target&&(g.l=U),K.length>0&&(g.c=K,K=[]),b&&r.cellText!==!1&&(g.w=b),O&&(g.t="z",delete g.v),(!O||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=_))for(var Z=0;Z<Y;++Z){if(z=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[_+Z]||(p[_+Z]=[]),p[_+Z][j]=Z==0?g:er(g);--z>0;)p[_+Z][j+z]=er(g);else for(p[tt({r:_+Z,c:j})]=g;--z>0;)p[tt({r:_+Z,c:j+z})]=er(g);k.e.c<=j&&(k.e.c=j)}z=parseInt(y["number-columns-repeated"]||"1",10),j+=z-1,z=0,g={},b="",N=[]}U={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i;D.t=b,N.length&&(D.R=N),D.a=L,K.push(D)}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);L="",F=0,b="",v=0,N=[];break;case"creator":x[1]==="/"?L=n.slice(F,x.index):F=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);b="",v=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(T[o.name]=c,(i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",o=at(x[0],!1),a.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":l=at(x[0],!1),c+=aA[x[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":l=at(x[0],!1),c+=aA[x[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":l=at(x[0],!1),te=Uy(l["cell-range-address"]);var se={Name:l.name,Ref:te[0]+"!"+te[1]};re&&(se.Sheet=m.length),H.Names.push(se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(x[1]==="/"&&(!y||!y["string-value"])){var G=s1e(n.slice(v,x.index));b=(b.length>0?b+`
`:"")+G[0]}else at(x[0],!1),v=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{te=Uy(at(x[0])["target-range-address"]),h[te[0]]["!autofilter"]={ref:te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(U=at(x[0],!1),!U.href)break;U.Target=kt(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(te=Uy(U.Target.slice(1)),U.Target="#"+te[0]+"!"+te[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(x)}}var P={Sheets:h,SheetNames:m,Workbook:H};return r.bookSheets&&delete P.Sheets,P}function sA(e,t){t=t||{},cs(e,"META-INF/manifest.xml")&&Ode($r(e,"META-INF/manifest.xml"),t);var r=La(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=jM(Bt(r),t);return cs(e,"meta.xml")&&(n.Props=f8($r(e,"meta.xml"))),n}function iA(e,t){return jM(e,t)}var i1e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+j0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ir+t}}(),lA=function(){var e=function(i){return It(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,o){var c=[];c.push('      <table:table table:name="'+It(l.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=ka(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var x="",g=i["!rows"]||[];for(u=0;u<f.s.r;++u)x=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=f.e.r;++u){for(x=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var y=!1,b={},v="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(y=!0),b["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,b["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(y){c.push(r);continue}var N=tt({r:u,c:d}),_=p?(i[u]||[])[d]:i[N];if(_&&_.f&&(b["table:formula"]=It(Sxe(_.f)),_.F&&_.F.slice(0,N.length)==N)){var j=ka(_.F);b["table:number-matrix-columns-spanned"]=j.e.c-j.s.c+1,b["table:number-matrix-rows-spanned"]=j.e.r-j.s.r+1}if(!_){c.push(t);continue}switch(_.t){case"b":v=_.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=_.v?"true":"false";break;case"n":v=_.w||String(_.v||0),b["office:value-type"]="float",b["office:value"]=_.v||0;break;case"s":case"str":v=_.v==null?"":_.v,b["office:value-type"]="string";break;case"d":v=_.w||Zt(_.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Zt(_.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(v);if(_.l&&_.l.Target){var E=_.l.Target;E=E.charAt(0)=="#"?"#"+Exe(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),k=Ie("text:a",k,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+Ie("table:table-cell",Ie("text:p",k,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(u){return l.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;ho(f),f.ods=o;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(u){return l.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[Ir],u=j0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=j0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(d8().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)c.push(n(l.Sheets[l.SheetNames[f]],l,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function NM(e,t){if(t.bookType=="fods")return lA(e,t);var r=u_(),n="",a=[],i=[];return n="mimetype",ft(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ft(r,n,lA(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",ft(r,n,i1e(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",ft(r,n,Ir+d8()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",ft(r,n,Ide(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ft(r,n,Dde(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ic(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _w(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Bt(ko(e))}function l1e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ma(ji(e))}function o1e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function po(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function oA(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function c1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function u1e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function A0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ot(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function kr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Et(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=A0(e,r),i=a&7;a=Math.floor(a/8);var l=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:l=4,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=A0(e,r),o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function xn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Ot(n*8+a.type)),a.type==2&&t.push(Ot(a.data.length)),t.push(a.data))})}),po(t)}function M_(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function ls(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=A0(e,n),i=Et(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:kr(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Et(o.data),u=kr(c[3][0].data);l.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(l.merge=kr(i[3][0].data)>>>0>0),r.push(l)}return r}function eu(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ot(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ot(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:Ot(l.data.length)}],n[2].push({data:xn(l.meta),type:2})});var i=xn(n);t.push(Ot(i.length)),t.push(i),a.forEach(function(l){return t.push(l)})}),po(t)}function d1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=A0(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[r[0]],o>1&&(l|=t[r[0]+1]<<8),o>2&&(l|=t[r[0]+2]<<16),o>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=o}a.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[po(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=po(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function os(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(d1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return po(t)}function tu(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Ot(n),l=i.length;t.push(i),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return po(t)}function f1e(e,t,r,n){var a=Ic(e),i=a.getUint32(4,!0),l=(n>1?12:8)+oA(i&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(o=a.getUint32(l,!0),l+=4),l+=oA(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(l,!0),l+=4),i&32&&(u=a.getFloat64(l,!0),l+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(l,!0)*1e3),l+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function h1e(e,t,r){var n=Ic(e),a=n.getUint32(8,!0),i=12,l=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=c1e(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(l=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Wy(e,t){var r=new Uint8Array(32),n=Ic(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,u1e(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Vy(e,t){var r=new Uint8Array(32),n=Ic(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function m1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return f1e(e,t,r,e[0]);case 5:return h1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Fn(e){var t=Et(e);return A0(t[1][0].data)}function cA(e,t){var r=Et(t.data),n=kr(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(l){var o=Et(l.data),c=kr(o[1][0].data)>>>0;switch(n){case 1:i[c]=_w(o[3][0].data);break;case 8:{var u=e[Fn(o[9][0].data)][0],d=Et(u.data),f=e[Fn(d[1][0].data)][0],h=kr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Et(f.data);i[c]=m[3].map(function(p){return _w(p.data)}).join("")}break}}),i}function p1e(e,t){var r,n,a,i,l,o,c,u,d,f,h,m,p,x,g=Et(e),y=kr(g[1][0].data)>>>0,b=kr(g[2][0].data)>>>0,v=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&kr(g[8][0].data)>0||!1,N,_;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&t!=0)N=(o=(l=g[7])==null?void 0:l[0])==null?void 0:o.data,_=(u=(c=g[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)N=(m=(h=g[4])==null?void 0:h[0])==null?void 0:m.data,_=(x=(p=g[3])==null?void 0:p[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=v?4:1,k=Ic(N),E=[],T=0;T<N.length/2;++T){var C=k.getUint16(T*2,!0);C<65535&&E.push([T,C])}if(E.length!=b)throw"Expected ".concat(b," cells, found ").concat(E.length);var A=[];for(T=0;T<E.length-1;++T)A[E[T][0]]=_.subarray(E[T][1]*j,E[T+1][1]*j);return E.length>=1&&(A[E[E.length-1][0]]=_.subarray(E[E.length-1][1]*j)),{R:y,cells:A}}function x1e(e,t){var r,n=Et(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?kr(n[7][0].data)>>>0>0?1:0:-1,i=M_(n[5],function(l){return p1e(l,a)});return{nrows:kr(n[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(c,u){if(l[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));l[o.R][u]=c}),l},[])}}function g1e(e,t,r){var n,a=Et(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(kr(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(kr(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=ct(i);var l=Et(a[4][0].data),o=cA(e,e[Fn(l[4][0].data)][0]),c=(n=l[17])!=null&&n[0]?cA(e,e[Fn(l[17][0].data)][0]):[],u=Et(l[3][0].data),d=0;u[1].forEach(function(f){var h=Et(f.data),m=e[Fn(h[2][0].data)][0],p=kr(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var x=x1e(e,m);x.data.forEach(function(g,y){g.forEach(function(b,v){var N=tt({r:d+y,c:v}),_=m1e(b,o,c);_&&(r[N]=_)})}),d+=x.nrows})}function v1e(e,t){var r=Et(t.data),n={"!ref":"A1"},a=e[Fn(r[2][0].data)],i=kr(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return g1e(e,a[0],n),n}function y1e(e,t){var r,n=Et(t.data),a={name:(r=n[1])!=null&&r[0]?_w(n[1][0].data):"",sheets:[]},i=M_(n[2],Fn);return i.forEach(function(l){e[l].forEach(function(o){var c=kr(o.meta[1][0].data);c==6e3&&a.sheets.push(v1e(e,o))})}),a}function b1e(e,t){var r=W_(),n=Et(t.data),a=M_(n[1],Fn);if(a.forEach(function(i){e[i].forEach(function(l){var o=kr(l.meta[1][0].data);if(o==2){var c=y1e(e,l);c.sheets.forEach(function(u,d){V_(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Hy(e){var t,r,n,a,i={},l=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=os(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=ls(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,l.push(f.id)})}}),!l.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&kr(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(c){i[c].forEach(function(u){var d=kr(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return b1e(i,o)}function w1e(e,t,r){var n,a,i,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&kr(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=Ic(e[7][0].data),d=0,f=[],h=Ic(e[4][0].data),m=0,p=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535);continue}u.setUint16(x*2,d,!0),h.setUint16(x*2,m,!0);var g,y;switch(typeof t[x]){case"string":g=Wy({t:"s",v:t[x]},r),y=Vy({t:"s",v:t[x]},r);break;case"number":g=Wy({t:"n",v:t[x]},r),y=Vy({t:"n",v:t[x]},r);break;case"boolean":g=Wy({t:"b",v:t[x]},r),y=Vy({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(g),d+=g.length,p.push(y),m+=y.length,++c}for(e[2][0].data=Ot(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535,!0);return e[6][0].data=po(f),e[3][0].data=po(p),c}function j1e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ka(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ct(n)));var i=Fx(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(L){return L.forEach(function(F){typeof F=="string"&&l.push(F)})});var o={},c=[],u=Je.read(t.numbers,{type:"base64"});u.FileIndex.map(function(L,F){return[L,u.FullPaths[F]]}).forEach(function(L){var F=L[0],O=L[1];if(F.type==2&&F.name.match(/\.iwa/)){var re=F.content,oe=os(re),J=ls(oe);J.forEach(function(Z){c.push(Z.id),o[Z.id]={deps:[],location:O,type:kr(Z.messages[0].meta[1][0].data)}})}}),c.sort(function(L,F){return L-F});var d=c.filter(function(L){return L>1}).map(function(L){return[L,Ot(L)]});u.FileIndex.map(function(L,F){return[L,u.FullPaths[F]]}).forEach(function(L){var F=L[0];if(L[1],!!F.name.match(/\.iwa/)){var O=ls(os(F.content));O.forEach(function(re){re.messages.forEach(function(oe){d.forEach(function(J){re.messages.some(function(Z){return kr(Z.meta[1][0].data)!=11006&&o1e(Z.data,J[1])})&&o[J[0]].deps.push(re.id)})})})}});for(var f=Je.find(u,o[1].location),h=ls(os(f.content)),m,p=0;p<h.length;++p){var x=h[p];x.id==1&&(m=x)}var g=Fn(Et(m.messages[0].data)[1][0].data);for(f=Je.find(u,o[g].location),h=ls(os(f.content)),p=0;p<h.length;++p)x=h[p],x.id==g&&(m=x);for(g=Fn(Et(m.messages[0].data)[2][0].data),f=Je.find(u,o[g].location),h=ls(os(f.content)),p=0;p<h.length;++p)x=h[p],x.id==g&&(m=x);for(g=Fn(Et(m.messages[0].data)[2][0].data),f=Je.find(u,o[g].location),h=ls(os(f.content)),p=0;p<h.length;++p)x=h[p],x.id==g&&(m=x);var y=Et(m.messages[0].data);{y[6][0].data=Ot(n.e.r+1),y[7][0].data=Ot(n.e.c+1);var b=Fn(y[46][0].data),v=Je.find(u,o[b].location),N=ls(os(v.content));{for(var _=0;_<N.length&&N[_].id!=b;++_);if(N[_].id!=b)throw"Bad ColumnRowUIDMapArchive";var j=Et(N[_].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var k=0;k<=n.e.c;++k){var E=[];E[1]=E[2]=[{type:0,data:Ot(k+420690)}],j[1].push({type:2,data:xn(E)}),j[2].push({type:0,data:Ot(k)}),j[3].push({type:0,data:Ot(k)})}j[4]=[],j[5]=[],j[6]=[];for(var T=0;T<=n.e.r;++T)E=[],E[1]=E[2]=[{type:0,data:Ot(T+726270)}],j[4].push({type:2,data:xn(E)}),j[5].push({type:0,data:Ot(T)}),j[6].push({type:0,data:Ot(T)});N[_].messages[0].data=xn(j)}v.content=tu(eu(N)),v.size=v.content.length,delete y[46];var C=Et(y[4][0].data);{C[7][0].data=Ot(n.e.r+1);var A=Et(C[1][0].data),S=Fn(A[2][0].data);v=Je.find(u,o[S].location),N=ls(os(v.content));{if(N[0].id!=S)throw"Bad HeaderStorageBucket";var B=Et(N[0].messages[0].data);for(T=0;T<i.length;++T){var M=Et(B[2][0].data);M[1][0].data=Ot(T),M[4][0].data=Ot(i[T].length),B[2][T]={type:B[2][0].type,data:xn(M)}}N[0].messages[0].data=xn(B)}v.content=tu(eu(N)),v.size=v.content.length;var Y=Fn(C[2][0].data);v=Je.find(u,o[Y].location),N=ls(os(v.content));{if(N[0].id!=Y)throw"Bad HeaderStorageBucket";for(B=Et(N[0].messages[0].data),k=0;k<=n.e.c;++k)M=Et(B[2][0].data),M[1][0].data=Ot(k),M[4][0].data=Ot(n.e.r+1),B[2][k]={type:B[2][0].type,data:xn(M)};N[0].messages[0].data=xn(B)}v.content=tu(eu(N)),v.size=v.content.length;var z=Fn(C[4][0].data);(function(){for(var L=Je.find(u,o[z].location),F=ls(os(L.content)),O,re=0;re<F.length;++re){var oe=F[re];oe.id==z&&(O=oe)}var J=Et(O.messages[0].data);{J[3]=[];var Z=[];l.forEach(function(P,ie){Z[1]=[{type:0,data:Ot(ie)}],Z[2]=[{type:0,data:Ot(1)}],Z[3]=[{type:2,data:l1e(P)}],J[3].push({type:2,data:xn(Z)})})}O.messages[0].data=xn(J);var se=eu(F),G=tu(se);L.content=G,L.size=L.content.length})();var R=Et(C[3][0].data);{var H=R[1][0];delete R[2];var U=Et(H.data);{var te=Fn(U[2][0].data);(function(){for(var L=Je.find(u,o[te].location),F=ls(os(L.content)),O,re=0;re<F.length;++re){var oe=F[re];oe.id==te&&(O=oe)}var J=Et(O.messages[0].data);{delete J[6],delete R[7];var Z=new Uint8Array(J[5][0].data);J[5]=[];for(var se=0,G=0;G<=n.e.r;++G){var P=Et(Z);se+=w1e(P,i[G],l),P[1][0].data=Ot(G),J[5].push({data:xn(P),type:2})}J[1]=[{type:0,data:Ot(n.e.c+1)}],J[2]=[{type:0,data:Ot(n.e.r+1)}],J[3]=[{type:0,data:Ot(se)}],J[4]=[{type:0,data:Ot(n.e.r+1)}]}O.messages[0].data=xn(J);var ie=eu(F),je=tu(ie);L.content=je,L.size=L.content.length})()}H.data=xn(U)}C[3][0].data=xn(R)}y[4][0].data=xn(C)}m.messages[0].data=xn(y);var K=eu(h),D=tu(K);return f.content=D,f.size=f.content.length,u}function _M(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function L_(e){_M([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function $_(e){_M([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function N1e(e){return mt.WS.indexOf(e)>-1?"sheet":e==mt.CS?"chart":e==mt.DS?"dialog":e==mt.MS?"macro":e&&e.length?e:"sheet"}function _1e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,N1e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function k1e(e,t,r,n,a,i,l,o,c,u,d,f){try{i[n]=Df(La(e,r,!0),t);var h=$r(e,t),m;switch(o){case"sheet":m=qve(h,t,a,c,i[n],u,d,f);break;case"chart":if(m=Gve(h,t,a,c,i[n],u,d,f),!m||!m["!drawel"])break;var p=hf(m["!drawel"].Target,t),x=_0(p),g=Fme(La(e,p,!0),Df(La(e,x,!0),p)),y=hf(g,p),b=_0(y);m=wve(La(e,y,!0),y,c,Df(La(e,b,!0),y),u,m);break;case"macro":m=Xve(h,t,a,c,i[n],u,d,f);break;case"dialog":m=Qve(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}l[n]=m;var v=[];i&&i[n]&&Er(i[n]).forEach(function(N){var _="";if(i[n][N].Type==mt.CMNT){_=hf(i[n][N].Target,t);var j=eye($r(e,_,!0),_,c);if(!j||!j.length)return;GT(m,j,!1)}i[n][N].Type==mt.TCMNT&&(_=hf(i[n][N].Target,t),v=v.concat(Rme($r(e,_,!0),c)))}),v&&v.length&&GT(m,v,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function as(e){return e.charAt(0)=="/"?e.slice(1):e}function S1e(e,t){if(Pd(),t=t||{},L_(t),cs(e,"META-INF/manifest.xml")||cs(e,"objectdata.xml"))return sA(e,t);if(cs(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Hy<"u"){if(e.FileIndex)return Hy(e);var r=Je.utils.cfb_new();return pT(e).forEach(function(M){ft(r,M,Mue(e,M))}),Hy(r)}throw new Error("Unsupported NUMBERS file")}if(!cs(e,"[Content_Types].xml"))throw cs(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):cs(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=pT(e),a=Ade(La(e,"[Content_Types].xml")),i=!1,l,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",$r(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!$r(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Ff=[],a.sst)try{Ff=Zve($r(e,as(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(c=Jve(La(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Yve($r(e,as(a.style)),a.style,c,t))}a.links.map(function(M){try{var Y=Df(La(e,_0(as(M))),M);return rye($r(e,as(M)),Y,M,t)}catch{}});var d=Kve($r(e,as(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=$r(e,as(a.coreprops[0]),!0),h&&(f=f8(h)),a.extprops.length!==0&&(h=$r(e,as(a.extprops[0]),!0),h&&Mde(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=La(e,as(a.custprops[0]),!0),h&&(m=$de(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?l=d.Sheets.map(function(Y){return Y.name}):f.Worksheets&&f.SheetNames.length>0&&(l=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof l<"u"&&(p.SheetNames=l),t.bookSheets?p.SheetNames:t.bookProps))return p;l={};var x={};t.bookDeps&&a.calcchain&&(x=tye($r(e,as(a.calcchain)),a.calcchain));var g=0,y={},b,v;{var N=d.Sheets;f.Worksheets=N.length,f.SheetNames=[];for(var _=0;_!=N.length;++_)f.SheetNames[_]=N[_].name}var j=i?"bin":"xml",k=a.workbooks[0].lastIndexOf("/"),E=(a.workbooks[0].slice(0,k+1)+"_rels/"+a.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");cs(e,E)||(E="xl/_rels/workbook."+j+".rels");var T=Df(La(e,E,!0),E.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=nye($r(e,as(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Lme($r(e,as(a.people[0])),t)),T&&(T=_1e(T,d.Sheets));var C=$r(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var A="sheet";if(T&&T[g]?(b="xl/"+T[g][1].replace(/[\/]?xl\//,""),cs(e,b)||(b=T[g][1]),cs(e,b)||(b=E.replace(/_rels\/.*$/,"")+T[g][1]),A=T[g][2]):(b="xl/worksheets/sheet"+(g+1-C)+"."+j,b=b.replace(/sheet0\./,"sheet.")),v=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var S=!1,B=0;B!=t.sheets.length;++B)typeof t.sheets[B]=="number"&&t.sheets[B]==g&&(S=1),typeof t.sheets[B]=="string"&&t.sheets[B].toLowerCase()==f.SheetNames[g].toLowerCase()&&(S=1);if(!S)continue e}}k1e(e,b,v,f.SheetNames[g],g,y,l,A,t,d,c,u)}return p={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:x,Sheets:l,SheetNames:f.SheetNames,Strings:Ff,Styles:u,Themes:c,SSF:er(et)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(M,Y){M=M.replace(/^Root Entry[\/]/,""),p.keys.push(M),p.files[M]=e.FileIndex[Y]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=$r(e,as(a.vba[0]),!0):a.defaults&&a.defaults.bin===Kme&&(p.vbaraw=$r(e,"xl/vbaProject.bin",!0))),p}function E1e(e,t){var r=t||{},n="Workbook",a=Je.find(e,n);try{if(n="/!DataSpaces/Version",a=Je.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(nhe(a.content),n="/!DataSpaces/DataSpaceMap",a=Je.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=she(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Je.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=ihe(a.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Je.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);ohe(a.content)}catch{}if(n="/EncryptionInfo",a=Je.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=che(a.content);if(n="/EncryptedPackage",a=Je.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function C1e(e,t){return t.bookType=="ods"?NM(e,t):t.bookType=="numbers"?j1e(e,t):t.bookType=="xlsb"?T1e(e,t):A1e(e,t)}function T1e(e,t){vu=1024,e&&!e.SSF&&(e.SSF=er(et)),e&&e.SSF&&(Pd(),mv(e.SSF),t.revssf=xv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,If?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Y8.indexOf(t.bookType)>-1,a=__();$_(t=t||{});var i=u_(),l="",o=0;if(t.cellXfs=[],Eo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",ft(i,l,h8(e.Props,t)),a.coreprops.push(l),Dt(t.rels,2,l,mt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,ft(i,l,x8(e.Props)),a.extprops.push(l),Dt(t.rels,3,l,mt.EXT_PROPS),e.Custprops!==e.Props&&Er(e.Custprops||{}).length>0&&(l="docProps/custom.xml",ft(i,l,g8(e.Custprops)),a.custprops.push(l),Dt(t.rels,4,l,mt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,ft(i,l,sye(o-1,l,t,e,d)),a.sheets.push(l),Dt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,mt.WS[0])}if(f){var m=f["!comments"],p=!1,x="";m&&m.length>0&&(x="xl/comments"+o+"."+r,ft(i,x,oye(m,x)),a.comments.push(x),Dt(d,-1,"../comments"+o+"."+r,mt.CMNT),p=!0),f["!legacy"]&&p&&ft(i,"xl/drawings/vmlDrawing"+o+".vml",X8(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&ft(i,_0(l),Fu(d))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,ft(i,l,lye(t.Strings,l,t)),a.strs.push(l),Dt(t.wbrels,-1,"sharedStrings."+r,mt.SST)),l="xl/workbook."+r,ft(i,l,aye(e,l)),a.workbooks.push(l),Dt(t.rels,1,l,mt.WB),l="xl/theme/theme1.xml",ft(i,l,A_(e.Themes,t)),a.themes.push(l),Dt(t.wbrels,-1,"theme/theme1.xml",mt.THEME),l="xl/styles."+r,ft(i,l,iye(e,l,t)),a.styles.push(l),Dt(t.wbrels,-1,"styles."+r,mt.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",ft(i,l,e.vbaraw),a.vba.push(l),Dt(t.wbrels,-1,"vbaProject.bin",mt.VBA)),l="xl/metadata."+r,ft(i,l,cye(l)),a.metadata.push(l),Dt(t.wbrels,-1,"metadata."+r,mt.XLMETA),ft(i,"[Content_Types].xml",u8(a,t)),ft(i,"_rels/.rels",Fu(t.rels)),ft(i,"xl/_rels/workbook."+r+".rels",Fu(t.wbrels)),delete t.revssf,delete t.ssf,i}function A1e(e,t){vu=1024,e&&!e.SSF&&(e.SSF=er(et)),e&&e.SSF&&(Pd(),mv(e.SSF),t.revssf=xv(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,If?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Y8.indexOf(t.bookType)>-1,a=__();$_(t=t||{});var i=u_(),l="",o=0;if(t.cellXfs=[],Eo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",ft(i,l,h8(e.Props,t)),a.coreprops.push(l),Dt(t.rels,2,l,mt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,ft(i,l,x8(e.Props)),a.extprops.push(l),Dt(t.rels,3,l,mt.EXT_PROPS),e.Custprops!==e.Props&&Er(e.Custprops||{}).length>0&&(l="docProps/custom.xml",ft(i,l,g8(e.Custprops)),a.custprops.push(l),Dt(t.rels,4,l,mt.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,ft(i,l,oM(o-1,t,e,f)),a.sheets.push(l),Dt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,mt.WS[0])}if(h){var p=h["!comments"],x=!1,g="";if(p&&p.length>0){var y=!1;p.forEach(function(b){b[1].forEach(function(v){v.T==!0&&(y=!0)})}),y&&(g="xl/threadedComments/threadedComment"+o+"."+r,ft(i,g,Mme(p,d,t)),a.threadedcomments.push(g),Dt(f,-1,"../threadedComments/threadedComment"+o+"."+r,mt.TCMNT)),g="xl/comments"+o+"."+r,ft(i,g,Q8(p)),a.comments.push(g),Dt(f,-1,"../comments"+o+"."+r,mt.CMNT),x=!0}h["!legacy"]&&x&&ft(i,"xl/drawings/vmlDrawing"+o+".vml",X8(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&ft(i,_0(l),Fu(f))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,ft(i,l,M8(t.Strings,t)),a.strs.push(l),Dt(t.wbrels,-1,"sharedStrings."+r,mt.SST)),l="xl/workbook."+r,ft(i,l,hM(e)),a.workbooks.push(l),Dt(t.rels,1,l,mt.WB),l="xl/theme/theme1.xml",ft(i,l,A_(e.Themes,t)),a.themes.push(l),Dt(t.wbrels,-1,"theme/theme1.xml",mt.THEME),l="xl/styles."+r,ft(i,l,H8(e,t)),a.styles.push(l),Dt(t.wbrels,-1,"styles."+r,mt.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",ft(i,l,e.vbaraw),a.vba.push(l),Dt(t.wbrels,-1,"vbaProject.bin",mt.VBA)),l="xl/metadata."+r,ft(i,l,G8()),a.metadata.push(l),Dt(t.wbrels,-1,"metadata."+r,mt.XLMETA),d.length>1&&(l="xl/persons/person.xml",ft(i,l,$me(d)),a.people.push(l),Dt(t.wbrels,-1,"persons/person.xml",mt.PEOPLE)),ft(i,"[Content_Types].xml",u8(a,t)),ft(i,"_rels/.rels",Fu(t.rels)),ft(i,"xl/_rels/workbook."+r+".rels",Fu(t.wbrels)),delete t.revssf,delete t.ssf,i}function B_(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=qa(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function P1e(e,t){return Je.find(e,"EncryptedPackage")?E1e(e,t):gM(e,t)}function O1e(e,t){var r,n=e,a=t||{};return a.type||(a.type=ht&&Buffer.isBuffer(e)?"buffer":"base64"),r=$R(n,a),S1e(r,a)}function kM(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return jw(e.slice(r),t);default:break e}return id.to_workbook(e,t)}function D1e(e,t){var r="",n=B_(e,t);switch(t.type){case"base64":r=qa(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Pc(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Bt(r)),t.type="binary",kM(r,t)}function F1e(e,t){var r=e;return t.type=="base64"&&(r=qa(r)),r=v0.utils.decode(1200,r.slice(2),"str"),t.type="binary",kM(r,t)}function I1e(e){return e.match(/[^\x00-\x7F]/)?ji(e):e}function Ky(e,t,r,n){return n?(r.type="string",id.to_workbook(e,r)):id.to_workbook(t,r)}function kw(e,t){s_();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return kw(new Uint8Array(e),(r=er(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Ru={},r.dateNF&&(Ru.dateNF=r.dateNF),r.type||(r.type=ht&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=ht?"buffer":"binary",n=Tue(e),typeof Uint8Array<"u"&&!ht&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=I1e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return r=er(r),r.type="array",kw(i_(n),r)}switch((a=B_(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return P1e(Je.read(n,r),r);break;case 9:if(a[1]<=8)return gM(n,r);break;case 60:return jw(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return B0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return I8.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?O1e(n,r):Ky(e,n,r,i);case 239:return a[3]===60?jw(n,r):Ky(e,n,r,i);case 255:if(a[1]===254)return F1e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return mc.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return mc.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return ww.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return z8.to_workbook(n,r);break;case 10:case 13:case 32:return D1e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return $0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?ww.to_workbook(n,r):Ky(e,n,r,i)}function SM(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return fh(t.file,Je.write(e,{type:ht?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Je.write(e,t)}function R1e(e,t){var r=er(t||{}),n=C1e(e,r);return M1e(n,r)}function M1e(e,t){var r={},n=ht?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Je.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(hv(a))}return t.password&&typeof encrypt_agile<"u"?SM(encrypt_agile(a,t.password),t):t.type==="file"?fh(t.file,a):t.type=="string"?Bt(a):a}function L1e(e,t){var r=t||{},n=Iye(e,r);return SM(n,r)}function mi(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return y0(ji(n));case"binary":return ji(n);case"string":return e;case"file":return fh(t.file,n,"utf8");case"buffer":return ht?Cl(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):mi(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function $1e(e,t){switch(t.type){case"base64":return y0(e);case"binary":return e;case"string":return e;case"file":return fh(t.file,e,"binary");case"buffer":return ht?Cl(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function xm(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?y0(r):t.type=="string"?Bt(r):r;case"file":return fh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function EM(e,t){s_(),Pve(e);var r=er(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=EM(e,r);return r.type="array",hv(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return mi(Cye(e,r),r);case"slk":case"sylk":return mi(F8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return mi(yM(e.Sheets[e.SheetNames[a]],r),r);case"txt":return $1e(CM(e.Sheets[e.SheetNames[a]],r),r);case"csv":return mi(z_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return mi(I8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return xm(ww.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return mi(id.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return mi(z8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return mi(R8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return mi(NM(e,r),r);case"wk1":return xm(mc.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return xm(mc.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),xm(vM(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),L1e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return R1e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function B1e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function U_(e,t,r){var n={};return n.type="file",n.file=t,B1e(n),EM(e,n)}function U1e(e,t,r,n,a,i,l,o){var c=Or(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!l||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=l?e[r][m]:e[n[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var x=p.v;switch(p.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(x==null)if(p.t=="e"&&x===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&x===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?x:vl(p,x,o);x!=null&&(f=!1)}}return{row:h,isempty:f}}function Fx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=St(d);break;case"number":c=St(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Or(c.s.r),h=[],m=[],p=0,x=0,g=Array.isArray(e),y=c.s.r,b=0,v={};g&&!e[y]&&(e[y]=[]);var N=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(N[b]||{}).hidden)switch(h[b]=hr(b),r=g?e[y][b]:e[h[b]+f],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=vl(r,null,u),x=v[l]||0,!x)v[l]=1;else{do o=l+"_"+x++;while(v[o]);v[l]=x,v[o]=1}i[b]=o}for(y=c.s.r+a;y<=c.e.r;++y)if(!(_[y]||{}).hidden){var j=U1e(e,c,y,h,n,i,g,u);(j.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=j.row)}return m.length=p,m}var uA=/"/g;function z1e(e,t,r,n,a,i,l,o){for(var c=!0,u=[],d="",f=Or(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:vl(m,null,o));for(var p=0,x=0;p!==d.length;++p)if((x=d.charCodeAt(p))===a||x===i||x===34||o.forceQuotes){d='"'+d.replace(uA,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(uA,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(l)}function z_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=St(e["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=hr(p));for(var x=0,g=a.s.r;g<=a.e.r;++g)(m[g]||{}).hidden||(d=z1e(e,a,g,f,l,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((x++?o:"")+d)));return delete n.dense,r.join("")}function CM(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=z_(e,t);return r}function W1e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=St(e["!ref"]),i="",l=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)l[o]=hr(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=Or(d),o=a.s.c;o<=a.e.c;++o)if(t=l[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function TM(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},l=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var c=typeof n.origin=="string"?mr(n.origin):n.origin;l=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:l+t.length-1+a}};if(i["!ref"]){var f=St(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),l==-1&&(l=f.e.r+1,d.e.r=l+t.length-1+a)}else l==-1&&(l=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(x,g){Er(x).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=x[y],v="z",N="",_=tt({c:o+m,r:l+g+a});u=P0(i,_),b&&typeof b=="object"&&!(b instanceof Date)?i[_]=b:(typeof b=="number"?v="n":typeof b=="boolean"?v="b":typeof b=="string"?v="s":b instanceof Date?(v="d",n.cellDates||(v="n",b=Yr(b)),N=n.dateNF||et[14]):b===null&&n.nullError&&(v="e",b=0),u?(u.t=v,u.v=b,delete u.w,delete u.R,N&&(u.z=N)):i[_]=u={t:v,v:b},N&&(u.z=N))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var p=Or(l);if(a)for(m=0;m<h.length;++m)i[hr(m+o)+p]={t:"s",v:h[m]};return i["!ref"]=ct(d),i}function V1e(e,t){return TM(null,e,t)}function P0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=mr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?P0(e,tt(t)):P0(e,tt({r:t,c:r||0}))}function H1e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function W_(){return{SheetNames:[],Sheets:{}}}function V_(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=l+a)!=-1;++a);}if(fM(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function K1e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=H1e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function q1e(e,t){return e.z=t,e}function AM(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function G1e(e,t,r){return AM(e,"#"+t,r)}function X1e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Q1e(e,t,r,n){for(var a=typeof t!="string"?t:St(t),i=typeof t=="string"?t:ct(t),l=a.s.r;l<=a.e.r;++l)for(var o=a.s.c;o<=a.e.c;++o){var c=P0(e,l,o);c.t="n",c.F=i,delete c.v,l==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var xs={encode_col:hr,encode_row:Or,encode_cell:tt,encode_range:ct,decode_col:v_,decode_row:g_,split_cell:lde,decode_cell:mr,decode_range:ka,format_cell:vl,sheet_add_aoa:n8,sheet_add_json:TM,sheet_add_dom:bM,aoa_to_sheet:Od,json_to_sheet:V1e,table_to_sheet:wM,table_to_book:n1e,sheet_to_csv:z_,sheet_to_txt:CM,sheet_to_json:Fx,sheet_to_html:yM,sheet_to_formulae:W1e,sheet_to_row_object_array:Fx,sheet_get_cell:P0,book_new:W_,book_append_sheet:V_,book_set_sheet_visibility:K1e,cell_set_number_format:q1e,cell_set_hyperlink:AM,cell_set_internal_link:G1e,cell_add_comment:X1e,sheet_set_array_formula:Q1e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const H_=(e,t,r="Data",n={})=>{try{if(!e||e.length===0)throw new Error("No data to export");const a=xs.book_new(),i=xs.json_to_sheet(e),o=Object.keys(e[0]||{}).map(d=>{const f=d.length,h=Math.max(...e.map(m=>String(m[d]||"").length));return{wch:Math.min(Math.max(f,h,10),50)}});i["!cols"]=o,i["!freeze"]={xSplit:0,ySplit:1},xs.book_append_sheet(a,i,r);const c=new Date().toISOString().slice(0,19).replace(/[-:]/g,"").replace("T","_"),u=`${t}_${c}.xlsx`;return U_(a,u),{success:!0,filename:u,rows:e.length}}catch(a){throw console.error("Export to Excel error:",a),a}},Y1e=e=>e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"-",el=e=>e?new Date(e).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",PM=e=>e?new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",J1e=()=>{var ee,le,ue,ke,Ee;const e=Fi(),t=vr(),{user:r,isAdmin:n,isSupervisor:a,isTechnician:i,isCustomerService:l}=Gn(),[o,c]=w.useState(!1),[u,d]=w.useState(!1),[f,h]=w.useState(null),[m,p]=w.useState(1),[x,g]=w.useState(10),[y,b]=w.useState("created_at"),[v,N]=w.useState("DESC"),[_,j]=w.useState(!1),[k,E]=w.useState({search:"",status:"",type:"",priority:""}),[T,C]=w.useState([]),[A,S]=w.useState(!1),[B,M]=w.useState(null),Y=ae=>({installation:"Installation",repair:"Repair",maintenance:"Maintenance",upgrade:"Upgrade",downgrade:"Downgrade",wifi_setup:"WiFi Setup",dismantle:"Dismantle",speed_test:"Speed Test",bandwidth_upgrade:"Bandwidth Upgrade",redundancy_setup:"Redundancy Setup",network_config:"Network Config",security_audit:"Security Audit"})[ae]||ae,{data:z,isLoading:R,refetch:H}=Ge(["tickets",k,m,x,y,v],()=>Oa.getTickets({...k,page:m,limit:x,sort_by:y,sort_order:v}),{keepPreviousData:!1,refetchOnMount:!0}),{data:U}=Ge("ticket-stats",()=>Oa.getTicketStats(),{refetchOnWindowFocus:!0,refetchOnMount:"always"});w.useEffect(()=>{const ae=()=>{t.invalidateQueries(["tickets"]),t.invalidateQueries("ticket-stats"),console.log(" Ticket list & stats refreshed due to ticket update")};return window.addEventListener("ticket-updated",ae),window.addEventListener("ticket-created",ae),window.addEventListener("ticket-assigned",ae),window.addEventListener("ticket-completed",ae),()=>{window.removeEventListener("ticket-updated",ae),window.removeEventListener("ticket-created",ae),window.removeEventListener("ticket-assigned",ae),window.removeEventListener("ticket-completed",ae)}},[t]);const te=()=>{p(1),H()},K=ae=>{y===ae?N(v==="ASC"?"DESC":"ASC"):(b(ae),N("DESC")),p(1),t.invalidateQueries(["tickets"])},D=ae=>y!==ae?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):v==="ASC"?s.jsx(As,{className:"h-4 w-4 text-blue-600"}):s.jsx(Cs,{className:"h-4 w-4 text-blue-600"}),L=async()=>{try{j(!0);const ve=(await Oa.getTickets({...k,page:1,limit:1e4,sort_by:y,sort_order:v})).data.tickets||[];if(ve.length===0){ne.error("Tidak ada data untuk di-export");return}const ce=ve.map((Me,Xe)=>{var st,$e;return{No:Xe+1,"Ticket Number":Me.ticket_number,"Tanggal Dibuat":el(Me.created_at),Type:Y(Me.type),Status:((st=Me.status)==null?void 0:st.toUpperCase())||"-",Priority:(($e=Me.priority)==null?void 0:$e.toUpperCase())||"-",Customer:Me.customer_name||"-","Customer Code":Me.customer_code||"-",Teknisi:Me.technician_name||"Unassigned",Judul:Me.title,Category:Me.category||"-","SLA Due Date":el(Me.sla_due_date),"Completed Date":Me.completed_at?el(Me.completed_at):"-","Scheduled Date":Me.scheduled_date?el(Me.scheduled_date):"-","Estimated Duration (min)":Me.estimated_duration||"-"}}),ye=H_(ce,"Tickets_Export","Tickets Data");ne.success(` ${ye.rows} tickets berhasil di-export!`)}catch(ae){console.error("Export error:",ae),ne.error("Gagal export data. Silakan coba lagi.")}finally{j(!1)}},F=()=>{d(!1),h(null)},O=ae=>{const ve={open:{class:"badge-info",label:"Open"},assigned:{class:"badge-warning",label:"Assigned"},in_progress:{class:"badge-warning",label:"In Progress"},completed:{class:"badge-success",label:"Completed"},cancelled:{class:"badge-gray",label:"Cancelled"},on_hold:{class:"badge-gray",label:"On Hold"}},ce=ve[ae]||ve.open;return s.jsx("span",{className:`badge ${ce.class}`,children:ce.label})},re=ae=>{const ve={low:{class:"badge-gray",label:"Low"},normal:{class:"badge-info",label:"Normal"},high:{class:"badge-warning",label:"High"},critical:{class:"badge-danger",label:"Critical"}},ce=ve[ae]||ve.normal;return s.jsx("span",{className:`badge ${ce.class}`,children:ce.label})},oe=ae=>{ae.target.checked?(C(tickets.map(ve=>ve.id)),S(!0)):(C([]),S(!1))},J=ae=>{if(T.includes(ae))C(T.filter(ve=>ve!==ae)),S(!1);else{const ve=[...T,ae];C(ve),ve.length===tickets.length&&S(!0)}},Z=async()=>{if(T.length===0){ne.error("Pilih ticket terlebih dahulu");return}if(window.confirm(`Close ${T.length} ticket yang dipilih?`))try{let ae=0,ve=0;for(const ce of T)try{await Oa.updateTicket(ce,{status:"completed"}),ae++}catch(ye){ve++,console.error(`Failed to close ticket ${ce}:`,ye)}ae>0?(ne.success(` ${ae} ticket berhasil di-close${ve>0?`, ${ve} gagal`:""}`),H(),C([]),S(!1)):ne.error("Gagal close ticket")}catch(ae){console.error("Bulk close error:",ae),ne.error("Terjadi kesalahan saat close ticket")}},se=async()=>{if(T.length===0){ne.error("Pilih ticket terlebih dahulu");return}if(window.confirm(` PERINGATAN: Hapus ${T.length} ticket yang dipilih?`))try{let ae=0,ve=0;for(const ce of T)try{await Oa.deleteTicket(ce),ae++}catch(ye){ve++,console.error(`Failed to delete ticket ${ce}:`,ye)}ae>0?(ne.success(` ${ae} ticket berhasil dihapus${ve>0?`, ${ve} gagal`:""}`),H(),C([]),S(!1)):ne.error("Gagal hapus ticket")}catch(ae){console.error("Bulk delete error:",ae),ne.error("Terjadi kesalahan saat hapus ticket")}},G=(ae,ve)=>{navigator.clipboard.writeText(ae).then(()=>{M(ve),ne.success(`${ve} berhasil di-copy!`),setTimeout(()=>M(null),2e3)}).catch(ce=>{ne.error("Gagal copy ke clipboard"),console.error("Copy error:",ce)})},P=(ae,ve)=>{ae.stopPropagation(),h(ve),d(!0)},ie=async(ae,ve)=>{if(ae.stopPropagation(),!!window.confirm(`Mark ticket ${ve.ticket_number} as completed?`))try{await Oa.updateTicket(ve.id,{status:"completed"}),ne.success(`Ticket ${ve.ticket_number} marked as completed`),H()}catch(ce){ne.error("Failed to complete ticket"),console.error("Quick complete error:",ce)}},je=(ae,ve)=>{ae.stopPropagation(),window.location.href=`tel:${ve}`},Te=n||a||i||l,Le=n||a||l,Se=n,rt=n||a,nt=(U==null?void 0:U.data)||{};return Te?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tickets"}),s.jsx("p",{className:"text-gray-600",children:"Manage service requests and work orders"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:L,disabled:_||R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:_?s.jsxs(s.Fragment,{children:[s.jsx(Ij,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})}),Le&&s.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"New Ticket"]})]})]}),T.length>0&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[T.length," ticket dipilih"]}),s.jsx("button",{onClick:()=>{C([]),S(!1)},className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Batal Pilihan"})]}),s.jsxs("div",{className:"flex gap-2",children:[rt&&s.jsxs("button",{onClick:()=>{if(T.length===1){const ae=tickets.find(ve=>ve.id===T[0]);P({stopPropagation:()=>{}},ae)}else ne.info("Bulk assign coming soon!")},className:"px-3 py-1.5 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm inline-flex items-center",children:[s.jsx(rl,{className:"h-4 w-4 mr-1"}),"Assign"]}),s.jsxs("button",{onClick:Z,className:"px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm inline-flex items-center",children:[s.jsx(Ke,{className:"h-4 w-4 mr-1"}),"Close"]}),Se&&s.jsxs("button",{onClick:se,className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm inline-flex items-center",children:[s.jsx(Ya,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:Gi,title:"Total Tickets",value:nt.total_tickets||0,color:"blue",onClick:()=>{E({search:"",status:"",type:"",priority:""}),p(1)}}),s.jsx(Ue,{icon:Dj,title:"Open",value:nt.open_tickets||0,color:"indigo",onClick:()=>{E({...k,status:k.status==="open"?"":"open"}),p(1)}}),s.jsx(Ue,{icon:Va,title:"Assigned",value:nt.assigned_tickets||0,color:"purple",onClick:()=>{E({...k,status:k.status==="assigned"?"":"assigned"}),p(1)}}),s.jsx(Ue,{icon:Tp,title:"In Progress",value:nt.in_progress_tickets||0,color:"yellow",onClick:()=>{E({...k,status:k.status==="in_progress"?"":"in_progress"}),p(1)}})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Ue,{icon:Ke,title:"Completed",value:nt.completed_tickets||0,color:"green",onClick:()=>{E({...k,status:k.status==="completed"?"":"completed"}),p(1)}}),s.jsx(Ue,{icon:wt,title:"Cancelled",value:nt.cancelled_tickets||0,color:"red",onClick:()=>{E({...k,status:k.status==="cancelled"?"":"cancelled"}),p(1)}})]})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari tiket...",value:k.search,onChange:ae=>E({...k,search:ae.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"form-input",value:k.status,onChange:ae=>E({...k,status:ae.target.value}),children:[s.jsx("option",{value:"",children:"Semua Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"on_hold",children:"On Hold"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipe"}),s.jsxs("select",{className:"form-input",value:k.type,onChange:ae=>E({...k,type:ae.target.value}),children:[s.jsx("option",{value:"",children:"Semua Tipe"}),s.jsx("option",{value:"installation",children:"Installation"}),s.jsx("option",{value:"repair",children:"Repair"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"upgrade",children:"Upgrade"}),s.jsx("option",{value:"downgrade",children:"Downgrade"}),s.jsx("option",{value:"wifi_setup",children:"WiFi Setup"}),s.jsx("option",{value:"dismantle",children:"Dismantle"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioritas"}),s.jsxs("select",{className:"form-input",value:k.priority,onChange:ae=>E({...k,priority:ae.target.value}),children:[s.jsx("option",{value:"",children:"Semua Prioritas"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Tickets",(z==null?void 0:z.data)&&s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",z.data.pagination.total," total)"]})]})}),s.jsx("div",{className:"card-body p-0",children:R?s.jsx("div",{className:"py-12",children:s.jsx(At,{className:"mx-auto"})}):((le=(ee=z==null?void 0:z.data)==null?void 0:ee.tickets)==null?void 0:le.length)>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"1200px"},children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell",style:{width:"50px"},children:s.jsx("input",{type:"checkbox",checked:A,onChange:oe,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",title:"Pilih Semua"})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>K("ticket_number"),style:{width:"200px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Ticket"}),D("ticket_number")]})}),s.jsx("th",{className:"table-header-cell",style:{width:"160px"},children:"Customer"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>K("type"),style:{width:"110px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Type"}),D("type")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>K("priority"),style:{width:"90px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Priority"}),D("priority")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>K("status"),style:{width:"110px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),D("status")]})}),s.jsx("th",{className:"table-header-cell",style:{width:"140px"},children:"Technician"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>K("created_at"),style:{width:"110px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Created"}),D("created_at")]})}),s.jsx("th",{className:"table-header-cell",style:{width:"120px"},children:"Quick Actions"})]})}),s.jsx("tbody",{className:"table-body",children:z.data.tickets.map(ae=>s.jsxs("tr",{onClick:()=>e(`/tickets/${ae.id}`),className:"group cursor-pointer hover:bg-blue-50 hover:shadow-md hover:border-l-4 hover:border-l-blue-500 transition-all duration-200",title:"Klik untuk lihat detail ticket",children:[s.jsx("td",{className:"table-cell",onClick:ve=>ve.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:T.includes(ae.id),onChange:()=>J(ae.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-1",children:[s.jsx("span",{children:ae.ticket_number}),s.jsx("button",{onClick:ve=>{ve.stopPropagation(),G(ae.ticket_number,"Ticket Number")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Ticket Number",children:B==="Ticket Number"?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-500"})})]}),s.jsx("div",{className:"text-sm text-gray-500 truncate",title:ae.title,children:ae.title})]})}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",title:ae.customer_name,children:ae.customer_name}),s.jsxs("div",{className:"text-sm text-gray-500 truncate flex items-center gap-1",children:[s.jsx("span",{children:ae.customer_phone}),s.jsx("button",{onClick:ve=>{ve.stopPropagation(),G(ae.customer_phone,"Phone")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Phone",children:B==="Phone"?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-500"})})]})]})}),s.jsx("td",{className:"table-cell whitespace-nowrap",style:{width:"110px"},children:s.jsx("span",{className:"capitalize",children:Y(ae.type)})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:re(ae.priority)}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:O(ae.status)}),s.jsx("td",{className:"table-cell",children:ae.technician_name?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",title:ae.technician_name,children:ae.technician_name}),s.jsx("div",{className:"text-sm text-gray-500 truncate",children:ae.employee_id})]}):s.jsx("span",{className:"text-gray-400",children:"Unassigned"})}),s.jsxs("td",{className:"table-cell whitespace-nowrap",style:{width:"110px"},children:[s.jsx("div",{className:"text-sm text-gray-900",children:new Date(ae.created_at).toLocaleDateString()}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(ae.created_at).toLocaleTimeString()})]}),s.jsx("td",{className:"table-cell",onClick:ve=>ve.stopPropagation(),children:s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[ae.customer_phone&&s.jsx("button",{onClick:ve=>je(ve,ae.customer_phone),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Call Customer",children:s.jsx(s0,{className:"h-4 w-4 text-green-600"})}),rt&&ae.status!=="completed"&&ae.status!=="cancelled"&&s.jsx("button",{onClick:ve=>P(ve,ae),className:"p-1.5 hover:bg-purple-100 rounded transition-colors",title:"Quick Assign",children:s.jsx(rl,{className:"h-4 w-4 text-purple-600"})}),ae.status!=="completed"&&ae.status!=="cancelled"&&s.jsx("button",{onClick:ve=>ie(ve,ae),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Mark as Completed",children:s.jsx(Ke,{className:"h-4 w-4 text-green-600"})})]})})]},ae.id))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Gi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tickets found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first ticket."}),s.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Create First Ticket"]})]})}),((ke=(ue=z==null?void 0:z.data)==null?void 0:ue.tickets)==null?void 0:ke.length)>0&&((Ee=z==null?void 0:z.data)==null?void 0:Ee.pagination)&&s.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>p(Math.min(z.data.pagination.pages,m+1)),disabled:m===z.data.pagination.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:x,onChange:ae=>{g(parseInt(ae.target.value)),p(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(m-1)*x+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(m*x,z.data.pagination.total)})," ","of ",s.jsx("span",{className:"font-medium",children:z.data.pagination.total})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(z.data.pagination.pages,10)},(ae,ve)=>{const ce=z.data.pagination.pages;return ce<=10||m<=5?ve+1:m>=ce-4?ce-9+ve:m-5+ve}).map(ae=>s.jsx("button",{onClick:()=>p(ae),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${m===ae?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ae},ae)),s.jsx("button",{onClick:()=>p(Math.min(z.data.pagination.pages,m+1)),disabled:m===z.data.pagination.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})})]}),s.jsx(Xce,{isOpen:o,onClose:()=>c(!1),onSuccess:te}),s.jsx(Qce,{isOpen:u,onClose:F,ticket:f})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[s.jsx(fg,{className:"h-24 w-24 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access Tickets."}),s.jsx("p",{className:"text-sm text-gray-500",children:"This page is for staff only."})]})},Mu={getAll:async(e={})=>{try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.area&&t.append("area",e.area),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await be.get(`/odp${r?"?"+r:""}`)}catch(t){return console.error(" ODPService error:",t),{data:[],pagination:{}}}},getById:async e=>await be.get(`/odp/${e}`),create:async e=>await be.post("/odp",e),update:async(e,t)=>await be.put(`/odp/${e}`,t),delete:async e=>await be.delete(`/odp/${e}`)},ws={getPackages:async(e={})=>ws.getAll(e),getAll:async(e={})=>{try{const t=new URLSearchParams;e.type&&t.append("type",e.type),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order),e.is_active&&t.append("is_active",e.is_active);const r=t.toString();return await be.get(`/packages${r?"?"+r:""}`)}catch(t){return console.error(" PackageService error:",t),{data:[],pagination:{}}}},getById:async e=>await be.get(`/packages/${e}`),create:async e=>await be.post("/packages",e),update:async(e,t)=>await be.put(`/packages/${e}`,t),delete:async e=>await be.delete(`/packages/${e}`)},Z1e=({ticket:e,onUpdate:t,isLoading:r,preSelectedStatus:n,onStatusPreSelected:a})=>{var re,oe;const{user:i}=Gn(),[l,o]=w.useState(e.status),[c,u]=w.useState(e.assigned_technician_id||"");w.useEffect(()=>{n&&(o(n),a&&a())},[n,a]);const{register:d,handleSubmit:f,formState:{errors:h},reset:m,watch:p,setValue:x}=Ha(),{data:g,isLoading:y,error:b}=Ge("odp-active",()=>Mu.getAll(),{refetchOnWindowFocus:!1,select:J=>{console.log(" ODP API Response:",J);const Z=Array.isArray(J==null?void 0:J.data)?J.data:[];console.log(" ODP Array:",Z);const se=Z.filter(G=>G.status==="active");return console.log(" Active ODPs:",se),se}}),{data:v,isLoading:N,error:_}=Ge("packages-active",()=>ws.getAll(),{refetchOnWindowFocus:!1,enabled:e.type==="upgrade"||e.type==="downgrade",select:J=>Array.isArray(J)?J:[]}),[j,k]=w.useState(null),[E,T]=w.useState(null),[C,A]=w.useState(null),[S,B]=w.useState(null),[M,Y]=w.useState(null),[z,R]=w.useState(null);w.useEffect(()=>{if(l==="completed"){const J=new Date,Z=J.getFullYear(),se=String(J.getMonth()+1).padStart(2,"0"),G=String(J.getDate()).padStart(2,"0"),P=String(J.getHours()).padStart(2,"0"),ie=String(J.getMinutes()).padStart(2,"0"),je=`${Z}-${se}-${G}T${P}:${ie}`;e.type==="installation"&&x("activation_date",je),(e.type==="repair"||e.type==="maintenance")&&x("repair_date",je)}},[l,e.type,x]);const{data:H,isLoading:U}=Ge("available-technicians",()=>dc.getAvailableTechnicians(),{enabled:l==="assigned"}),te=[{value:"open",label:"Open",icon:Ut,color:"text-blue-600",bgColor:"bg-blue-100",description:"Ticket is open and waiting for assignment"},{value:"assigned",label:"Assigned",icon:WS,color:"text-yellow-600",bgColor:"bg-yellow-100",description:"Ticket has been assigned to a technician"},{value:"in_progress",label:"In Progress",icon:WS,color:"text-orange-600",bgColor:"bg-orange-100",description:"Work is currently being performed"},{value:"completed",label:"Completed",icon:Ke,color:"text-green-600",bgColor:"bg-green-100",description:"Work has been completed successfully"},{value:"on_hold",label:"On Hold",icon:zO,color:"text-gray-600",bgColor:"bg-gray-100",description:"Work is temporarily paused"},{value:"cancelled",label:"Cancelled",icon:wt,color:"text-red-600",bgColor:"bg-red-100",description:"Ticket has been cancelled"}],D=(()=>{const J=e.status,Z=i==null?void 0:i.role;e.assigned_technician_id;let G={open:["assigned","cancelled"],assigned:["in_progress","on_hold","cancelled"],in_progress:["completed","on_hold","cancelled"],on_hold:["in_progress","cancelled"],completed:[],cancelled:[]}[J]||[];return J!=="in_progress"&&J!=="on_hold"&&(G=G.filter(P=>P!=="completed")),Z==="admin"||Z==="supervisor"?te.filter(P=>P.value===J?!0:J==="completed"||J==="cancelled"||P.value==="open"?!1:G.includes(P.value)):Z==="technician"?te.filter(P=>P.value===J||G.includes(P.value)):Z==="customer_service"?te.filter(P=>P.value===J||G.includes(P.value)):te.filter(P=>P.value===J||G.includes(P.value))})(),L=J=>new Promise((Z,se)=>{const G=new FileReader;G.readAsDataURL(J),G.onload=()=>Z(G.result),G.onerror=P=>se(P)}),F=async J=>{if(console.log("=== FORM SUBMIT STARTED ==="),console.log("Form data:",J),console.log("Selected status:",l),l==="completed"&&e.type==="installation"){if(console.log(" [VALIDATION] Checking required files..."),console.log(" [VALIDATION] otdrFile:",S),console.log(" [VALIDATION] attenuationFile:",M),console.log(" [VALIDATION] modemSnFile:",z),console.log(" [VALIDATION] data.otdr_photo:",J.otdr_photo),console.log(" [VALIDATION] data.attenuation_photo:",J.attenuation_photo),console.log(" [VALIDATION] data.modem_sn_photo:",J.modem_sn_photo),!S){console.log(" [VALIDATION] OTDR file missing!"),alert("Foto OTDR is required");return}if(!M){console.log(" [VALIDATION] Attenuation file missing!"),alert("Foto Redaman Terakhir is required");return}if(!z){console.log(" [VALIDATION] Modem SN file missing!"),alert("Foto SN Modem is required");return}console.log(" All required files validated:",{otdr:S.name,attenuation:M.name,modemSn:z.name})}if(l==="assigned"&&e.status==="open"&&!c){alert("Please select a technician when assigning the ticket for the first time");return}const Z=()=>{var Xe,st;if(console.log(" [AUTO-NOTES] Starting auto-generation..."),console.log(" [AUTO-NOTES] Custom notes provided?",!!((Xe=J.notes)!=null&&Xe.trim())),J.notes&&J.notes.trim())return console.log(" [AUTO-NOTES] Using custom notes"),J.notes;const P=e.customer_name||"Customer",ie=e.customer_code||e.customer_id||"",je=e.type||"general",Te=e.type_name||e.type||"Ticket",Le=e.ticket_number||e.id,Se=e.status,rt=l;console.log(" [AUTO-NOTES] Context:",{customerName:P,ticketType:je,oldStatus:Se,newStatus:rt,ticketId:Le});const nt=e.customer_address||"",ee=e.package_name||"",le=e.bandwidth_down||e.bandwidth_up||"";let ue="",ke="";if(c&&((st=H==null?void 0:H.data)!=null&&st.technicians)){console.log(" [AUTO-NOTES] Looking up technician, selectedTechnician:",c),console.log(" [AUTO-NOTES] Available technicians:",H.data.technicians.length);const $e=H.data.technicians.find(Ze=>Ze.id===parseInt(c));$e?(ue=$e.full_name,ke=$e.employee_id,console.log(" [AUTO-NOTES] Found technician:",ue)):console.log(" [AUTO-NOTES] Technician not found in list")}!ue&&e.technician_name&&(ue=e.technician_name,ke=e.technician_employee_id||"",console.log(" [AUTO-NOTES] Using ticket technician:",ue));const Ee=$e=>{const Ze=new Date($e),Nt=String(Ze.getDate()).padStart(2,"0"),br=String(Ze.getMonth()+1).padStart(2,"0"),Fs=Ze.getFullYear(),oi=String(Ze.getHours()).padStart(2,"0"),es=String(Ze.getMinutes()).padStart(2,"0");return`${Nt}/${br}/${Fs} ${oi}:${es}`},ae=$e=>{const Ze=new Date,Nt=new Date(Ze.getTime()+$e*6e4);return Ee(Nt)},ve=$e=>({installation:"Dropcore fiber 50m, ONU/ONT, Patchcord LC-SC 3m, Rosette, Cable ties, Weatherproofing kit",maintenance:"OTDR, Power meter, Spare connectors, Cleaning kit, Patchcords",upgrade:"ONU (jika diperlukan), Configuration tools",downgrade:"Configuration tools, Billing system access",relocation:"Dropcore fiber, Patchcords, Cable management tools",troubleshooting:"OTDR, Power meter, Signal tester, Spare parts"})[$e]||"Standard technician toolkit",ce=$e=>({installation:120,maintenance:90,upgrade:45,downgrade:30,relocation:180,troubleshooting:60})[$e]||60,ye=()=>{if(e.sla_due_date){const $e=new Date(e.sla_due_date),Nt=Math.floor(($e-new Date)/(1e3*60*60)),br=Math.floor(Nt/24);return br>1?`${Ee($e)} (${br} hari lagi)`:Nt>0?`${Ee($e)} (${Nt} jam lagi)`:`${Ee($e)} ( URGENT)`}return"Not set"},Me=je.toLowerCase();if(rt==="assigned"){if(console.log(" [AUTO-NOTES] Generating ASSIGNED notes, technicianName:",ue),Se==="open"&&ue){const $e=` TICKET ASSIGNMENT

Tiket ${Te} (${Le}) berhasil di-assign.

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}${nt?`
Lokasi: ${nt}`:""}${ee?`
Package: ${ee}`:""}

Status berubah: "${Se}"  "Assigned"

Teknisi akan segera menghubungi customer untuk koordinasi jadwal pekerjaan. Estimasi penyelesaian: ${ce(Me)} menit setelah mulai dikerjakan.`;return console.log(" [AUTO-NOTES] Generated:",$e.substring(0,100)+"..."),$e}else if(ue)return` RE-ASSIGNMENT

Tiket ${Te} (${Le}) di-assign ulang.

Teknisi Baru: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}

Status: "${Se}"  "Assigned"

Proses penanganan akan dilanjutkan oleh teknisi yang baru. Koordinasi dengan customer akan segera dilakukan.`}if(rt==="in_progress"){console.log(" [AUTO-NOTES] Generating IN_PROGRESS notes, ticketType:",Me);const $e=Ee(new Date),Ze=ce(Me),Nt=ae(Ze),br=ve(Me);return Me==="installation"?` INSTALLATION DIMULAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}${nt?`
Lokasi: ${nt}`:""}${ee&&le?`
Package: ${ee} (${le} Mbps)`:ee?`
Package: ${ee}`:""}

Equipment: ${br}

Timeline:
- Mulai: ${$e}
- Target selesai: ${Nt} (estimasi ${Ze} menit)
- SLA Deadline: ${ye()}

Status: "${Se}"  "In Progress"

Pekerjaan pemasangan fiber optic sedang berlangsung. Teknisi sedang melakukan routing kabel dan instalasi perangkat dengan monitoring signal quality.`:Me==="maintenance"?` MAINTENANCE DIMULAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}${nt?`
Lokasi: ${nt}`:""}
Issue: ${e.category_name||"Maintenance diperlukan"}

Diagnostic Tools: ${br}

Timeline:
- Mulai: ${$e}
- Target resolusi: ${Nt} (estimasi ${Ze} menit)
- SLA Deadline: ${ye()}

Status: "${Se}"  "In Progress"

Teknisi sedang melakukan troubleshooting dan diagnosis untuk identifikasi akar masalah. Signal testing dan measurement sedang berlangsung.`:Me==="upgrade"?` UPGRADE SERVICE DIMULAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}${ee?`
New Package: ${ee}`:""}

Configuration Tools: ${br}

Timeline:
- Mulai: ${$e}
- Target selesai: ${Nt} (estimasi ${Ze} menit)
- SLA Deadline: ${ye()}

Status: "${Se}"  "In Progress"

Teknisi sedang melakukan rekonfigurasi bandwidth dan update service plan. Perubahan konfigurasi di ONU dan core network sedang berlangsung.`:Me==="downgrade"?` DOWNGRADE SERVICE DIMULAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}${ee?`
New Package: ${ee}`:""}

Timeline:
- Mulai: ${$e}
- Target selesai: ${Nt} (estimasi ${Ze} menit)

Status: "${Se}"  "In Progress"

Teknisi sedang melakukan adjustment bandwidth sesuai package baru. Konfigurasi service plan sedang diupdate di system.`:` PEKERJAAN DIMULAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}${nt?`
Lokasi: ${nt}`:""}
Tipe: ${Te}

Equipment: ${br}

Timeline:
- Mulai: ${$e}
- Target selesai: ${Nt} (estimasi ${Ze} menit)
- SLA Deadline: ${ye()}

Status: "${Se}"  "In Progress"

Pekerjaan ${Te} sedang berlangsung. Teknisi sedang aktif di lokasi customer.`}if(rt==="completed"){const $e=Ee(new Date);return Me==="installation"?` INSTALLATION SELESAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}
Completion: ${$e}

Installation Summary:
 Fiber optic installed & terminated
 ONU configured & activated${ee?`
 Service: ${ee}`:""}
 Signal testing completed
 Speed test passed
 Customer demo & acceptance completed

Status: "${Se}"  "Completed"

Instalasi telah selesai dengan sukses. Layanan internet sudah aktif dan customer telah menerima demo penggunaan. Ticket ditutup.`:Me==="maintenance"?` MAINTENANCE SELESAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}
Completion: ${$e}

Resolution Summary:
 Problem identified & resolved
 Signal strength restored to normal
 Service testing completed
 Connectivity stable
 Customer confirmation received

Status: "${Se}"  "Completed"

Masalah berhasil diselesaikan. Service kembali normal dan customer confirm satisfied. Ticket ditutup.`:Me==="upgrade"?` UPGRADE SELESAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}
Completion: ${$e}

Upgrade Summary:
 Bandwidth reconfigured${ee?`
 New package: ${ee}`:""}
 Speed test passed
 Billing system synced
 Customer notified

Status: "${Se}"  "Completed"

Upgrade service berhasil diselesaikan. Package baru sudah aktif dan speed sesuai target. Ticket ditutup.`:` PEKERJAAN SELESAI

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}
Tipe: ${Te}
Completion: ${$e}

Status: "${Se}"  "Completed"

${Te} untuk ${P} telah selesai dikerjakan dengan baik. Semua pekerjaan telah diselesaikan sesuai SLA. Ticket ditutup.`}return rt==="on_hold"?` PEKERJAAN DITUNDA

Teknisi: ${ue}${ke?` (${ke})`:""}
Customer: ${P}${ie?` (${ie})`:""}
Tipe: ${Te}

Status: "${Se}"  "On Hold"

Pekerjaan ${Te} ditunda sementara. Menunggu:
- Informasi tambahan dari customer, atau
- Material/equipment yang diperlukan, atau
- Konfirmasi dari dispatcher/management

Pekerjaan akan dilanjutkan setelah requirement terpenuhi. Ticket tetap di-monitor.`:rt==="cancelled"?` TICKET DIBATALKAN

Tiket: ${Te} (${Le})
Customer: ${P}${ie?` (${ie})`:""}
Cancelled: ${Ee(new Date)}

Status: "${Se}"  "Cancelled"

Tiket dibatalkan karena:
- Request dari customer, atau
- Tidak feasible secara teknis, atau
- Duplicate ticket, atau
- Alasan lainnya

Mohon hubungi dispatcher untuk informasi lebih lanjut jika diperlukan.`:rt==="open"?` TICKET DIBUKA KEMBALI

Tiket: ${Te} (${Le})
Customer: ${P}${ie?` (${ie})`:""}${nt?`
Lokasi: ${nt}`:""}

Status: "${Se}"  "Open"

Tiket dibuka kembali dan menunggu assignment ke teknisi. Perlu tindak lanjut segera.
SLA Deadline: ${ye()}`:` STATUS UPDATE

Tiket: ${Te} (${Le})
Customer: ${P}${ie?` (${ie})`:""}

Status berubah: "${Se}"  "${rt}"

${ue?`Teknisi: ${ue}${ke?` (${ke})`:""}
`:""}Update pada: ${Ee(new Date)}`},se=()=>{if(J.resolution_notes&&J.resolution_notes.trim())return J.resolution_notes;if(l!=="completed")return;const P=(e.type||"general").toLowerCase(),ie=e.customer_name||"Customer",je=e.package_name||"",Te=e.bandwidth_down||e.bandwidth_up||"";switch(e.technician_name,P){case"installation":return`Installation untuk ${ie} telah selesai dengan sukses. Fiber optic telah terpasang dengan baik dan signal quality dalam kondisi optimal. ONU telah dikonfigurasi${je?` untuk package ${je}`:""}${Te?` dengan bandwidth ${Te} Mbps`:""}. Speed test menunjukkan hasil sesuai spesifikasi. Customer telah menerima perangkat dalam kondisi baik, menerima demo penggunaan layanan, dan menandatangani berita acara serah terima. Layanan internet sudah aktif dan berjalan normal. Tidak ada issue yang ditemukan. Ticket ditutup dengan status completed.`;case"maintenance":case"troubleshooting":return`Issue pada layanan ${ie} berhasil diselesaikan. Root cause telah diidentifikasi dan diperbaiki. Signal strength telah kembali normal dan koneksi stabil. Testing dilakukan untuk memastikan tidak ada packet loss atau latency berlebih. Service telah berjalan dengan baik dan customer confirm bahwa masalah sudah teratasi. Pekerjaan maintenance selesai tanpa kendala. Ticket ditutup dengan status resolved.`;case"upgrade":return`Upgrade package untuk ${ie} berhasil diselesaikan.${je?` New package ${je}`:" Package baru"}${Te?` dengan bandwidth ${Te} Mbps`:""} telah aktif dan berjalan normal. Rekonfigurasi bandwidth dilakukan di ONU dan core network. Speed test menunjukkan hasil sesuai dengan package baru. Billing system telah disinkronisasi dengan perubahan package. Customer telah diberitahu tentang perubahan layanan dan menerima konfirmasi aktivasi. Ticket ditutup dengan status completed.`;case"downgrade":return`Downgrade package untuk ${ie} berhasil diproses.${je?` New package ${je}`:" Package baru"}${Te?` dengan bandwidth ${Te} Mbps`:""} telah aktif. Adjustment bandwidth dilakukan sesuai permintaan customer. Service plan telah diupdate di system dan billing. Layanan berjalan normal dengan konfigurasi baru. Customer confirm perubahan package sesuai dengan yang diinginkan. Ticket ditutup dengan status completed.`;case"relocation":return`Relokasi layanan untuk ${ie} telah selesai. Perangkat telah dipindahkan ke lokasi baru dengan sukses. Fiber optic di-routing ulang dan koneksi telah di-establish dengan baik. Signal quality optimal di lokasi baru. Testing dilakukan dan semua berjalan normal. Customer confirm layanan sudah aktif di lokasi baru dan berfungsi dengan baik. Ticket ditutup dengan status completed.`;default:return`Ticket ${e.type_name||P} untuk ${ie} telah diselesaikan dengan baik. Semua pekerjaan yang diperlukan telah dikerjakan sesuai SLA. Testing telah dilakukan dan hasilnya memuaskan. Customer confirm satisfied dengan hasil pekerjaan. Tidak ada outstanding issue. Ticket ditutup dengan status completed.`}},G={status:l,notes:Z(),work_notes:J.work_notes||void 0,resolution_notes:se(),customer_rating:J.customer_rating||void 0,customer_feedback:J.customer_feedback||void 0};if(l==="assigned"&&c&&(G.assigned_technician_id=parseInt(c,10),console.log("=== FRONTEND: Sending technician assignment ==="),console.log("Selected Technician:",c),console.log("Parsed Technician ID:",G.assigned_technician_id),console.log("Ticket Current Status:",e.status),console.log("New Status:",l)),console.log("=== FRONTEND: Final Update Data ==="),console.log(JSON.stringify(G,null,2)),l==="completed"){console.log(" [SUBMIT] Converting files to base64...");const P=S?await L(S):null,ie=M?await L(M):null,je=z?await L(z):null;console.log(" [SUBMIT] Files converted:",{otdr:P?"OK":"None",attenuation:ie?"OK":"None",modemSn:je?"OK":"None"});const Te=g==null?void 0:g.find(Le=>Le.name===J.odp_location);G.completion_data={odp_location:J.odp_location,odp_id:(Te==null?void 0:Te.id)||null,odp_distance:J.odp_distance,otdr_photo:P?{filename:S.name,data:P}:null,final_attenuation:J.final_attenuation,attenuation_photo:ie?{filename:M.name,data:ie}:null,wifi_name:J.wifi_name,wifi_password:J.wifi_password,activation_date:J.activation_date,modem_sn_photo:je?{filename:z.name,data:je}:null,repair_date:J.repair_date,new_category:J.new_category,new_package:J.new_package,upgrade_notes:J.upgrade_notes,downgrade_notes:J.downgrade_notes},console.log("=== FILE UPLOADS ==="),S&&console.log("OTDR Photo:",S.name,S.size,"bytes"),M&&console.log("Attenuation Photo:",M.name,M.size,"bytes"),z&&console.log("Modem SN Photo:",z.name,z.size,"bytes")}await t(G),m()},O=D.length>1;return e.status==="completed"?s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Status"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ke,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ticket Completed"}),s.jsx("p",{className:"text-gray-600",children:"This ticket has been marked as completed and cannot be modified."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Completed on: ",new Date(e.completed_at).toLocaleString()]})]})})]}):s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Status"})}),s.jsx("div",{className:"card-body",children:s.jsxs("form",{onSubmit:f(F),className:"space-y-6",children:[O&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"New Status"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map(J=>{const Z=J.icon,se=l===J.value,G=e.status===J.value;return s.jsxs("label",{className:`
                        relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                        ${se?`border-current ${J.color} ${J.bgColor}`:G?"border-gray-400 bg-gray-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        ${G?"opacity-75":""}
                      `,children:[s.jsx("input",{type:"radio",value:J.value,checked:l===J.value,onChange:P=>o(P.target.value),className:"sr-only",disabled:G}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Z,{className:`h-5 w-5 mr-3 ${se?J.color:"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:`font-medium ${se?J.color:"text-gray-900"}`,children:[J.label,G&&s.jsx("span",{className:"ml-2 text-xs",children:"(Current)"})]}),s.jsx("div",{className:"text-gray-500",children:J.description})]})]})}),se&&!G&&s.jsx("div",{className:`flex-shrink-0 ${J.color}`,children:s.jsx(Ke,{className:"h-5 w-5"})})]},J.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Status Update Notes"}),s.jsx("textarea",{rows:3,className:"form-input",placeholder:"Optional: Add custom notes (leave empty to auto-generate detailed message)...",...d("notes")})]}),((i==null?void 0:i.role)==="technician"||(i==null?void 0:i.role)==="admin")&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Work Notes"}),s.jsx("textarea",{rows:3,className:"form-input",placeholder:"Technical details about work performed...",...d("work_notes")})]}),l==="assigned"&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:e.status==="open"?"Assign to Technician *":"Re-assign to Technician (optional)"}),s.jsxs("select",{className:`form-input ${e.status==="open"&&!c?"border-red-500":""}`,value:c,onChange:J=>u(J.target.value),disabled:U,children:[s.jsx("option",{value:"",children:e.assigned_technician_id?"Keep current technician":"Select a technician..."}),(oe=(re=H==null?void 0:H.data)==null?void 0:re.technicians)==null?void 0:oe.map(J=>s.jsxs("option",{value:J.id,children:[J.full_name||J.user_full_name," (",J.employee_id||J.employee_code,") - ",J.skill_level]},J.id))]}),e.status==="open"&&!c&&s.jsx("p",{className:"form-error",children:"Technician selection is required for first assignment"})]}),l==="completed"&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Resolution Notes"}),s.jsx("textarea",{rows:3,className:"form-input",placeholder:"Optional: Add custom resolution notes (leave empty to auto-generate summary)...",...d("resolution_notes")})]}),l==="completed"&&s.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Completion Details"}),e.type==="installation"&&s.jsxs("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Installation Completion Fields"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Lokasi ODP *"}),s.jsxs("select",{className:`form-input ${h.odp_location?"border-red-500":""}`,...d("odp_location",{required:"Lokasi ODP is required"}),disabled:y,children:[s.jsx("option",{value:"",children:y?"Loading ODP data...":b?"Error loading ODP":!g||g.length===0?"No active ODP available":"Pilih ODP..."}),g==null?void 0:g.map(J=>s.jsxs("option",{value:J.name,children:[J.name," - ",J.location]},J.id))]}),y&&s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Loading ODP list..."}),b&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[" Error: ",b.message||"Failed to load ODP data"]}),!y&&!b&&(g==null?void 0:g.length)===0&&s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:" No active ODP found. Please add ODP in Master Data first."}),h.odp_location&&s.jsx("p",{className:"form-error",children:h.odp_location.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Jarak ODP (meter) *"}),s.jsx("input",{type:"number",className:`form-input ${h.odp_distance?"border-red-500":""}`,...d("odp_distance",{required:"Jarak ODP is required"})}),h.odp_distance&&s.jsx("p",{className:"form-error",children:h.odp_distance.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Redaman Terakhir (dB) *"}),s.jsx("input",{type:"number",step:"0.01",className:`form-input ${h.final_attenuation?"border-red-500":""}`,...d("final_attenuation",{required:"Redaman Terakhir is required"})}),h.final_attenuation&&s.jsx("p",{className:"form-error",children:h.final_attenuation.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Nama WiFi *"}),s.jsx("input",{type:"text",className:`form-input ${h.wifi_name?"border-red-500":""}`,...d("wifi_name",{required:"Nama WiFi is required"})}),h.wifi_name&&s.jsx("p",{className:"form-error",children:h.wifi_name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Password WiFi *"}),s.jsx("input",{type:"text",className:`form-input ${h.wifi_password?"border-red-500":""}`,...d("wifi_password",{required:"Password WiFi is required"})}),h.wifi_password&&s.jsx("p",{className:"form-error",children:h.wifi_password.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Tanggal Aktif *"}),s.jsx("input",{type:"datetime-local",className:`form-input ${h.activation_date?"border-red-500":""}`,...d("activation_date",{required:"Tanggal Aktif is required"})}),h.activation_date&&s.jsx("p",{className:"form-error",children:h.activation_date.message})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"form-label",children:"Foto OTDR *"}),s.jsx("input",{type:"file",id:"otdr-photo-input",accept:"image/*",className:"hidden",ref:d("otdr_photo").ref,name:"otdr_photo",onChange:J=>{var se;const Z=(se=J.target.files)==null?void 0:se[0];if(console.log(" OTDR Photo selected:",Z==null?void 0:Z.name),Z){B(Z);const G=new FileReader;G.onloadend=()=>{console.log(" OTDR Preview generated"),k(G.result)},G.readAsDataURL(Z),x("otdr_photo",J.target.files)}}}),j?s.jsxs("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:j,alt:"OTDR Preview",className:"w-full h-48 object-cover"}),s.jsx("button",{type:"button",onClick:()=>window.open(j,"_blank"),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Preview full size",children:s.jsxs("svg",{className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),s.jsxs("div",{className:"p-3 bg-white border-t-2 border-green-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("svg",{className:"h-5 w-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm font-semibold text-green-700 truncate",title:S==null?void 0:S.name,children:S==null?void 0:S.name})]}),s.jsx("button",{type:"button",onClick:()=>{x("otdr_photo",null),k(null),B(null)},className:"ml-2 text-red-600 hover:text-red-700 flex-shrink-0",title:"Remove file",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",((S==null?void 0:S.size)/1024).toFixed(1)," KB"]})]})]}):s.jsxs("button",{type:"button",onClick:()=>{console.log(" Triggering OTDR file picker..."),document.getElementById("otdr-photo-input").click()},className:`w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed rounded-lg transition-all ${h.otdr_photo?"border-red-500 bg-red-50 hover:bg-red-100":"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-blue-500"}`,children:[s.jsx(Xi,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Klik untuk pilih Foto OTDR"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"form-label",children:"Foto Redaman Terakhir *"}),s.jsx("input",{type:"file",id:"attenuation-photo-input",accept:"image/*",className:"hidden",ref:d("attenuation_photo").ref,name:"attenuation_photo",onChange:J=>{var se;const Z=(se=J.target.files)==null?void 0:se[0];if(console.log(" Attenuation Photo selected:",Z==null?void 0:Z.name),Z){Y(Z);const G=new FileReader;G.onloadend=()=>{console.log(" Attenuation Preview generated"),T(G.result)},G.readAsDataURL(Z),x("attenuation_photo",J.target.files)}}}),E?s.jsxs("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:E,alt:"Attenuation Preview",className:"w-full h-48 object-cover"}),s.jsx("button",{type:"button",onClick:()=>window.open(E,"_blank"),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Preview full size",children:s.jsxs("svg",{className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),s.jsxs("div",{className:"p-3 bg-white border-t-2 border-green-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("svg",{className:"h-5 w-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm font-semibold text-green-700 truncate",title:M==null?void 0:M.name,children:M==null?void 0:M.name})]}),s.jsx("button",{type:"button",onClick:()=>{x("attenuation_photo",null),T(null),Y(null)},className:"ml-2 text-red-600 hover:text-red-700 flex-shrink-0",title:"Remove file",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",((M==null?void 0:M.size)/1024).toFixed(1)," KB"]})]})]}):s.jsxs("button",{type:"button",onClick:()=>{console.log(" Triggering Attenuation file picker..."),document.getElementById("attenuation-photo-input").click()},className:`w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed rounded-lg transition-all ${h.attenuation_photo?"border-red-500 bg-red-50 hover:bg-red-100":"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-blue-500"}`,children:[s.jsx(Xi,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Klik untuk pilih Foto Redaman"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"form-label",children:"Foto SN Modem *"}),s.jsx("input",{type:"file",id:"modem-sn-photo-input",accept:"image/*",className:"hidden",ref:d("modem_sn_photo").ref,name:"modem_sn_photo",onChange:J=>{var se;const Z=(se=J.target.files)==null?void 0:se[0];if(console.log(" Modem SN Photo selected:",Z==null?void 0:Z.name),Z){R(Z);const G=new FileReader;G.onloadend=()=>{console.log(" Modem SN Preview generated"),A(G.result)},G.readAsDataURL(Z),x("modem_sn_photo",J.target.files)}}}),C?s.jsxs("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:C,alt:"Modem SN Preview",className:"w-full h-48 object-cover"}),s.jsx("button",{type:"button",onClick:()=>window.open(C,"_blank"),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Preview full size",children:s.jsxs("svg",{className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),s.jsxs("div",{className:"p-3 bg-white border-t-2 border-green-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("svg",{className:"h-5 w-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm font-semibold text-green-700 truncate",title:z==null?void 0:z.name,children:z==null?void 0:z.name})]}),s.jsx("button",{type:"button",onClick:()=>{x("modem_sn_photo",null),A(null),R(null)},className:"ml-2 text-red-600 hover:text-red-700 flex-shrink-0",title:"Remove file",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",((z==null?void 0:z.size)/1024).toFixed(1)," KB"]})]})]}):s.jsxs("button",{type:"button",onClick:()=>{console.log(" Triggering Modem SN file picker..."),document.getElementById("modem-sn-photo-input").click()},className:`w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed rounded-lg transition-all ${h.modem_sn_photo?"border-red-500 bg-red-50 hover:bg-red-100":"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-blue-500"}`,children:[s.jsx(Xi,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Klik untuk pilih Foto SN Modem"})]})]})]})]}),(e.type==="repair"||e.type==="maintenance")&&s.jsxs("div",{className:"space-y-4 bg-orange-50 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[e.type==="repair"?"Repair":"Maintenance"," Completion Fields"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Lokasi ODP *"}),s.jsxs("select",{className:`form-input ${h.odp_location?"border-red-500":""}`,...d("odp_location",{required:"Lokasi ODP is required"}),disabled:y,children:[s.jsx("option",{value:"",children:y?"Loading ODP data...":b?"Error loading ODP":!g||g.length===0?"No active ODP available":"Pilih ODP..."}),g==null?void 0:g.map(J=>s.jsxs("option",{value:J.name,children:[J.name," - ",J.location]},J.id))]}),y&&s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Loading ODP list..."}),b&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[" Error: ",b.message||"Failed to load ODP data"]}),!y&&!b&&(g==null?void 0:g.length)===0&&s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:" No active ODP found. Please add ODP in Master Data first."}),h.odp_location&&s.jsx("p",{className:"form-error",children:h.odp_location.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Redaman Terakhir (dB) *"}),s.jsx("input",{type:"number",step:"0.01",className:`form-input ${h.final_attenuation?"border-red-500":""}`,...d("final_attenuation",{required:"Redaman Terakhir is required"})}),h.final_attenuation&&s.jsx("p",{className:"form-error",children:h.final_attenuation.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Foto Redaman Terakhir (Optional)"}),s.jsx("input",{type:"file",id:"maintenance-attenuation-photo-input",accept:"image/*",className:"hidden",ref:d("attenuation_photo").ref,name:"attenuation_photo",onChange:J=>{var se;const Z=(se=J.target.files)==null?void 0:se[0];if(console.log(" Maintenance Attenuation Photo selected:",Z==null?void 0:Z.name),Z){Y(Z);const G=new FileReader;G.onloadend=()=>{console.log(" Maintenance Attenuation Preview generated"),T(G.result)},G.readAsDataURL(Z),x("attenuation_photo",J.target.files)}}}),E?s.jsxs("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:E,alt:"Attenuation Preview",className:"w-full h-48 object-cover"}),s.jsx("button",{type:"button",onClick:()=>window.open(E,"_blank"),className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors",title:"Preview full size",children:s.jsxs("svg",{className:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),s.jsxs("div",{className:"p-3 bg-white border-t-2 border-green-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("svg",{className:"h-5 w-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-sm font-semibold text-green-700 truncate",title:M==null?void 0:M.name,children:M==null?void 0:M.name})]}),s.jsx("button",{type:"button",onClick:()=>{x("attenuation_photo",null),T(null),Y(null)},className:"ml-2 text-red-600 hover:text-red-700 flex-shrink-0",title:"Remove file",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",((M==null?void 0:M.size)/1024).toFixed(1)," KB"]})]})]}):s.jsxs("button",{type:"button",onClick:()=>{console.log(" Triggering Maintenance Attenuation file picker..."),document.getElementById("maintenance-attenuation-photo-input").click()},className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed rounded-lg transition-all border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-orange-500",children:[s.jsx(Xi,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Klik untuk pilih Foto Redaman (Optional)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Nama WiFi"}),s.jsx("input",{type:"text",className:"form-input",...d("wifi_name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Password WiFi"}),s.jsx("input",{type:"text",className:"form-input",...d("wifi_password")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Tanggal Perbaikan *"}),s.jsx("input",{type:"datetime-local",className:`form-input ${h.repair_date?"border-red-500":""}`,...d("repair_date",{required:"Tanggal Perbaikan is required"})}),h.repair_date&&s.jsx("p",{className:"form-error",children:h.repair_date.message})]})]})]}),e.type==="upgrade"&&s.jsxs("div",{className:"space-y-4 bg-green-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:"Upgrade Completion Fields"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Paket Baru *"}),s.jsxs("select",{className:`form-input ${h.new_package?"border-red-500":""}`,...d("new_package",{required:"Paket baru is required"}),disabled:N,children:[s.jsx("option",{value:"",children:N?"Loading packages...":"Pilih Paket Baru..."}),v==null?void 0:v.map(J=>{var Z;return s.jsxs("option",{value:J.name||J.package_name,children:[J.name||J.package_name," - ",J.speed_mbps||J.speed," Mbps - Rp ",(Z=J.price||J.monthly_price)==null?void 0:Z.toLocaleString("id-ID")]},J.id)})]}),_&&s.jsxs("p",{className:"form-error",children:["Error loading packages: ",_.message]}),!N&&v&&v.length===0&&s.jsx("p",{className:"text-xs text-amber-600",children:"No active packages available"}),h.new_package&&s.jsx("p",{className:"form-error",children:h.new_package.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Catatan Upgrade"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"e.g., Dari 100 Mbps ke 200 Mbps",...d("upgrade_notes")})]})]})]}),e.type==="downgrade"&&s.jsxs("div",{className:"space-y-4 bg-amber-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Downgrade Completion Fields"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Paket Baru *"}),s.jsxs("select",{className:`form-input ${h.new_package?"border-red-500":""}`,...d("new_package",{required:"Paket baru is required"}),disabled:N,children:[s.jsx("option",{value:"",children:N?"Loading packages...":"Pilih Paket Baru..."}),v==null?void 0:v.map(J=>{var Z;return s.jsxs("option",{value:J.name||J.package_name,children:[J.name||J.package_name," - ",J.speed_mbps||J.speed," Mbps - Rp ",(Z=J.price||J.monthly_price)==null?void 0:Z.toLocaleString("id-ID")]},J.id)})]}),_&&s.jsxs("p",{className:"form-error",children:["Error loading packages: ",_.message]}),!N&&v&&v.length===0&&s.jsx("p",{className:"text-xs text-amber-600",children:"No active packages available"}),h.new_package&&s.jsx("p",{className:"form-error",children:h.new_package.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Catatan Downgrade"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"e.g., Dari 200 Mbps ke 100 Mbps",...d("downgrade_notes")})]})]})]}),e.type==="wifi_setup"&&s.jsxs("div",{className:"space-y-4 bg-purple-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900",children:"WiFi Setup Completion Fields"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Nama WiFi *"}),s.jsx("input",{type:"text",className:`form-input ${h.wifi_name?"border-red-500":""}`,...d("wifi_name",{required:"Nama WiFi is required"})}),h.wifi_name&&s.jsx("p",{className:"form-error",children:h.wifi_name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Password WiFi *"}),s.jsx("input",{type:"text",className:`form-input ${h.wifi_password?"border-red-500":""}`,...d("wifi_password",{required:"Password WiFi is required"})}),h.wifi_password&&s.jsx("p",{className:"form-error",children:h.wifi_password.message})]})]})]})]}),l==="completed"&&(i==null?void 0:i.role)!=="technician"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Customer Rating"}),s.jsxs("select",{className:"form-input",...d("customer_rating"),children:[s.jsx("option",{value:"",children:"No rating"}),s.jsx("option",{value:"5",children:" Excellent"}),s.jsx("option",{value:"4",children:" Good"}),s.jsx("option",{value:"3",children:" Average"}),s.jsx("option",{value:"2",children:" Poor"}),s.jsx("option",{value:"1",children:" Very Poor"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Customer Feedback"}),s.jsx("textarea",{rows:2,className:"form-input",placeholder:"Customer comments about the service...",...d("customer_feedback")})]})]}),s.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:s.jsx("button",{type:"submit",disabled:r||!O&&l===e.status,className:"btn-primary",children:r?s.jsxs(s.Fragment,{children:[s.jsx(At,{size:"sm",className:"mr-2"}),"Updating..."]}):"Update Status"})})]})})]})},xo=({to:e,label:t})=>s.jsxs(Gs,{to:e,className:"btn-outline",children:[s.jsx($O,{className:"h-4 w-4 mr-2"}),t]}),ebe=()=>{var y,b;const{id:e}=M0(),{user:t}=Gn(),r=vr(),[n,a]=w.useState("details"),[i,l]=w.useState(null),{data:o,isLoading:c,error:u}=Ge(["ticket",e],()=>Oa.getTicket(e),{enabled:!!e}),d=qt(v=>Oa.updateTicketStatus(e,v),{onSuccess:()=>{r.invalidateQueries(["ticket",e]),r.invalidateQueries(["tickets"]),ne.success("Ticket status updated successfully!")},onError:v=>{var N,_;ne.error(((_=(N=v.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to update ticket status")}}),f=(y=o==null?void 0:o.data)==null?void 0:y.ticket,h=v=>{const N={open:{class:"badge-info",label:"Open",icon:Ut},assigned:{class:"badge-warning",label:"Assigned",icon:Ct},in_progress:{class:"badge-warning",label:"In Progress",icon:Ut},completed:{class:"badge-success",label:"Completed",icon:Ke},cancelled:{class:"badge-gray",label:"Cancelled",icon:Ht},on_hold:{class:"badge-gray",label:"On Hold",icon:Ut}},_=N[v]||N.open,j=_.icon;return s.jsxs("span",{className:`badge ${_.class} inline-flex items-center`,children:[s.jsx(j,{className:"h-3 w-3 mr-1"}),_.label]})},m=v=>{const N={low:{class:"badge-gray",label:"Low"},normal:{class:"badge-info",label:"Normal"},high:{class:"badge-warning",label:"High"},critical:{class:"badge-danger",label:"Critical"}},_=N[v]||N.normal;return s.jsx("span",{className:`badge ${_.class}`,children:_.label})},p=v=>v?new Date(v).toLocaleString():"Not set",x=(v,N)=>{if(!v||!N)return null;const _=new Date(v),k=new Date(N)-_,E=Math.floor(k/(1e3*60*60)),T=Math.floor(k%(1e3*60*60)/(1e3*60));return`${E}h ${T}m`};if(c)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(At,{size:"lg"})});if(u||!f)return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(xo,{to:"/tickets",label:"Back to Tickets"})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center py-12",children:[s.jsx(Ht,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ticket Not Found"}),s.jsx("p",{className:"text-gray-500",children:"The ticket you're looking for doesn't exist or you don't have permission to view it."})]})})]});const g=[{id:"details",label:"Details",icon:qo},{id:"status",label:"Update Status",icon:Ut},{id:"history",label:"History",icon:Nr}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(xo,{to:"/tickets",label:"Back to Tickets"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Gi,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-lg font-mono font-semibold border border-blue-200",children:f.ticket_number})]}),s.jsx("p",{className:"text-gray-600",children:f.title})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[h(f.status),m(f.priority)]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[f.customer_numeric_id&&s.jsx(Gs,{to:`/customers/${f.customer_numeric_id}`,className:"card hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-8 w-8 text-blue-600 bg-blue-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.customer_name}),f.customer_code&&s.jsx("p",{className:"text-xs text-gray-500 font-mono",children:f.customer_code})]})]})})}),s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ut,{className:"h-8 w-8 text-green-600 bg-green-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Created"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(f.created_at).toLocaleDateString()})]})]})})}),s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nr,{className:"h-8 w-8 text-orange-600 bg-orange-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"SLA Due"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.sla_due_date?new Date(f.sla_due_date).toLocaleDateString():"Not set"})]})]})})}),f.assigned_technician_id?s.jsx(Gs,{to:`/technicians/${f.assigned_technician_id}`,className:"card hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-8 w-8 text-purple-600 bg-purple-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Technician"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.technician_name}),s.jsx("p",{className:"text-xs text-gray-500",children:f.employee_id})]})]})})}):s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-8 w-8 text-purple-600 bg-purple-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Technician"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Unassigned"})]})]})})})]}),!["completed","cancelled"].includes(f.status)&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quick Actions:"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[f.status==="open"&&t&&s.jsxs("button",{onClick:()=>{d.mutate({status:"assigned",technician_id:t.id,notes:"Self-assigned via quick action"})},disabled:d.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(Ct,{className:"h-4 w-4"}),"Assign to Me"]}),f.status==="assigned"&&s.jsxs("button",{onClick:()=>{d.mutate({status:"in_progress",notes:"Started working on ticket"})},disabled:d.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(Tp,{className:"h-4 w-4"}),"Start Progress"]}),f.status==="in_progress"&&s.jsxs("button",{onClick:()=>{l("completed"),a("status"),window.scrollTo({top:0,behavior:"smooth"})},disabled:d.isLoading,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(Ke,{className:"h-4 w-4"}),"Complete Ticket"]}),["open","assigned","in_progress"].includes(f.status)&&s.jsxs("button",{onClick:()=>{d.mutate({status:"on_hold",notes:"Put on hold via quick action"})},disabled:d.isLoading,className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(Ut,{className:"h-4 w-4"}),"Put On Hold"]}),f.status!=="cancelled"&&s.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to cancel this ticket?")&&d.mutate({status:"cancelled",notes:"Cancelled via quick action"})},disabled:d.isLoading,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(wt,{className:"h-4 w-4"}),"Cancel"]})]})]})}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:g.map(v=>{const N=v.icon;return s.jsxs("button",{onClick:()=>a(v.id),className:`
                  flex items-center py-2 px-1 border-b-2 font-medium text-sm
                  ${n===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),v.label]},v.id)})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[n==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ticket Information"})}),s.jsx("div",{className:"card-body",children:s.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Type"}),s.jsx("dd",{className:"text-sm text-gray-900",children:f.service_type_name||f.type})]}),(f.category_name||f.category)&&f.category!=="Not specified"&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Category"}),s.jsx("dd",{className:"text-sm text-gray-900",children:f.category_name||f.category})]}),f.scheduled_date&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Scheduled Date"}),s.jsx("dd",{className:"text-sm text-gray-900",children:p(f.scheduled_date)})]}),f.estimated_duration&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Estimated Duration"}),s.jsxs("dd",{className:"text-sm text-gray-900",children:[f.estimated_duration," minutes"]})]}),f.started_at&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Started At"}),s.jsx("dd",{className:"text-sm text-gray-900",children:p(f.started_at)})]}),f.completed_at&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Completed At"}),s.jsx("dd",{className:"text-sm text-gray-900",children:p(f.completed_at)})]}),f.started_at&&f.completed_at&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Actual Duration"}),s.jsx("dd",{className:"text-sm text-gray-900",children:x(f.started_at,f.completed_at)})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Description"})}),s.jsx("div",{className:"card-body",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:f.description})})]}),f.work_notes&&s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Work Notes"})}),s.jsx("div",{className:"card-body",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:f.work_notes})})]}),f.resolution_notes&&s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resolution"})}),s.jsxs("div",{className:"card-body",children:[s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:f.resolution_notes}),f.customer_rating&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Customer Rating:"}),s.jsxs("div",{className:"flex items-center",children:["".repeat(f.customer_rating),s.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",f.customer_rating,"/5)"]})]})]}),f.customer_feedback&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Feedback:"}),s.jsxs("p",{className:"text-sm text-gray-900 italic",children:['"',f.customer_feedback,'"']})]})]})]})]}),f.completion_data&&f.status==="completed"&&s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Completion Details"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.completion_data.odp_location&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Lokasi ODP"}),s.jsx("dd",{className:"text-sm text-gray-900",children:f.completion_data.odp_location})]}),f.completion_data.odp_distance&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Jarak ODP"}),s.jsxs("dd",{className:"text-sm text-gray-900",children:[f.completion_data.odp_distance," meter"]})]}),f.completion_data.final_attenuation&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Redaman Terakhir"}),s.jsxs("dd",{className:"text-sm text-gray-900",children:[f.completion_data.final_attenuation," dB"]})]}),f.completion_data.wifi_name&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Nama WiFi"}),s.jsx("dd",{className:"text-sm text-gray-900",children:f.completion_data.wifi_name})]}),f.completion_data.wifi_password&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Password WiFi"}),s.jsx("dd",{className:"text-sm text-gray-900 font-mono",children:f.completion_data.wifi_password})]}),f.completion_data.activation_date&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Tanggal Aktif"}),s.jsx("dd",{className:"text-sm text-gray-900",children:p(f.completion_data.activation_date)})]}),f.completion_data.repair_date&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"Tanggal Perbaikan"}),s.jsx("dd",{className:"text-sm text-gray-900",children:p(f.completion_data.repair_date)})]}),f.completion_data.new_category&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600",children:"New Category"}),s.jsx("dd",{className:"text-sm text-gray-900",children:f.completion_data.new_category})]})]}),(f.completion_data.otdr_photo||f.completion_data.attenuation_photo||f.completion_data.modem_sn_photo)&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Foto Dokumentasi"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.completion_data.otdr_photo&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Foto OTDR"}),s.jsxs("a",{href:`http://localhost:3001${f.completion_data.otdr_photo.url}`,target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-300 rounded-lg overflow-hidden hover:border-blue-500 transition-colors",children:[s.jsx("img",{src:`http://localhost:3001${f.completion_data.otdr_photo.url}`,alt:"OTDR Photo",className:"w-full h-32 object-cover",onError:v=>console.error("Failed to load OTDR photo:",f.completion_data.otdr_photo.url)}),s.jsx("div",{className:"p-2 bg-gray-50",children:s.jsx("p",{className:"text-xs text-gray-600 truncate",children:f.completion_data.otdr_photo.filename})})]})]}),f.completion_data.attenuation_photo&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Foto Redaman"}),s.jsxs("a",{href:`http://localhost:3001${f.completion_data.attenuation_photo.url}`,target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-300 rounded-lg overflow-hidden hover:border-blue-500 transition-colors",children:[s.jsx("img",{src:`http://localhost:3001${f.completion_data.attenuation_photo.url}`,alt:"Attenuation Photo",className:"w-full h-32 object-cover",onError:v=>console.error("Failed to load Attenuation photo:",f.completion_data.attenuation_photo.url)}),s.jsx("div",{className:"p-2 bg-gray-50",children:s.jsx("p",{className:"text-xs text-gray-600 truncate",children:f.completion_data.attenuation_photo.filename})})]})]}),f.completion_data.modem_sn_photo&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Foto SN Modem"}),s.jsxs("a",{href:`http://localhost:3001${f.completion_data.modem_sn_photo.url}`,target:"_blank",rel:"noopener noreferrer",className:"block border border-gray-300 rounded-lg overflow-hidden hover:border-blue-500 transition-colors",children:[s.jsx("img",{src:`http://localhost:3001${f.completion_data.modem_sn_photo.url}`,alt:"Modem SN Photo",className:"w-full h-32 object-cover",onError:v=>console.error("Failed to load Modem SN photo:",f.completion_data.modem_sn_photo.url)}),s.jsx("div",{className:"p-2 bg-gray-50",children:s.jsx("p",{className:"text-xs text-gray-600 truncate",children:f.completion_data.modem_sn_photo.filename})})]})]})]})]})]})]})]}),n==="status"&&s.jsx(Z1e,{ticket:f,onUpdate:d.mutate,isLoading:d.isLoading,preSelectedStatus:i,onStatusPreSelected:()=>l(null)}),n==="history"&&s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status History"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[((b=f.status_history)==null?void 0:b.length)||0," changes"]})]})}),s.jsx("div",{className:"card-body",children:f.status_history&&f.status_history.length>0?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),s.jsx("div",{className:"space-y-6",children:f.status_history.map((v,N)=>{const _={open:{icon:qo,color:"blue",bg:"bg-blue-100",border:"border-blue-200"},assigned:{icon:Ct,color:"indigo",bg:"bg-indigo-100",border:"border-indigo-200"},in_progress:{icon:Tp,color:"yellow",bg:"bg-yellow-100",border:"border-yellow-200"},on_hold:{icon:Ut,color:"purple",bg:"bg-purple-100",border:"border-purple-200"},completed:{icon:Ke,color:"green",bg:"bg-green-100",border:"border-green-200"},cancelled:{icon:wt,color:"red",bg:"bg-red-100",border:"border-red-200"}},j=_[v.new_status]||_.open,k=j.icon,E=f.status_history[N+1],T=E?x(v.created_at,E.created_at):null;return s.jsxs("div",{className:"relative flex items-start space-x-4",children:[s.jsx("div",{className:"relative flex-shrink-0 z-10",children:s.jsx("div",{className:`h-10 w-10 ${j.bg} rounded-full flex items-center justify-center border-2 ${j.border} shadow-sm`,children:s.jsx(k,{className:`h-5 w-5 text-${j.color}-600`})})}),s.jsxs("div",{className:"flex-1 min-w-0 bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.old_status&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-gray-500 capitalize",children:v.old_status.replace("_"," ")}),s.jsx("span",{className:"text-gray-400",children:""})]}),h(v.new_status),T&&s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:["Duration: ",T]})]}),s.jsxs("span",{className:"text-xs text-gray-400",children:["#",N+1]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ct,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"font-medium",children:v.changed_by_name})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:p(v.created_at)})]})]}),v.technician_name&&s.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-blue-50 rounded border-l-2 border-blue-400",children:[s.jsx(Ct,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-sm text-blue-900",children:[s.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",v.technician_name,s.jsxs("span",{className:"text-xs text-blue-600 ml-1",children:["(",v.technician_employee_id,")"]})]})]}),v.notes&&s.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded border-l-2 border-gray-300",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(qo,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:v.notes})]})})]})]},v.id)})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ut,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No status history available"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Status changes will appear here"})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[f.package_name&&s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Information"})}),s.jsxs("div",{className:"card-body space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ir,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.package_name}),s.jsx("p",{className:"text-sm text-gray-500",children:f.service_type})]})]}),f.bandwidth_down&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Bandwidth"}),s.jsxs("span",{className:"text-sm font-medium",children:[s.jsxs("span",{className:"text-blue-600",children:[" ",f.bandwidth_up||f.bandwidth_down]}),s.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),s.jsxs("span",{className:"text-green-600",children:[" ",f.bandwidth_down]}),s.jsx("span",{className:"text-gray-900 ml-1",children:"Mbps"})]})]}),f.monthly_price&&s.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Monthly Price"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Rp ",parseInt(f.monthly_price).toLocaleString("id-ID")]})]})]})]}),f.equipment_needed&&s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Equipment Needed"})}),s.jsx("div",{className:"card-body",children:s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:f.equipment_needed})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attachments"})}),s.jsx("div",{className:"card-body",children:f.attachments&&f.attachments.length>0?s.jsx("div",{className:"space-y-2",children:f.attachments.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qo,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:v.original_filename})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:s.jsx(jc,{className:"h-4 w-4"})})]},v.id))}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Xi,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No attachments"})]})})]})]})]})]})},tbe=({customer:e=null,isOpen:t,onClose:r,onSuccess:n})=>{var v,N;const a=!!e,[i,l]=w.useState({customer_id:"",name:"",ktp:"",phone:"",phone_alt:"",email:"",address:"",latitude:"",longitude:"",odp:"",pic_name:"",pic_position:"",pic_phone:"",business_type:"residential",operating_hours:"",customer_type:"regular",payment_type:"postpaid",service_type:"broadband",package_id:"",subscription_start_date:new Date().toISOString().split("T")[0],billing_cycle:"monthly",ip_address:"",ip_type:"dynamic",notes:""}),[o,c]=w.useState({}),[u,d]=w.useState(!1),[f,h]=w.useState("basic"),{data:m,isLoading:p}=Ge("packages-list",()=>ws.getPackages({is_active:"true"}),{enabled:t,staleTime:3e5});w.useEffect(()=>{l(e?{customer_id:e.customer_id||"",name:e.name||"",ktp:e.ktp||"",phone:e.phone||"",phone_alt:e.phone_alt||"",email:e.email||"",address:e.address||"",latitude:e.latitude||"",longitude:e.longitude||"",odp:e.odp||"",pic_name:e.pic_name||"",pic_position:e.pic_position||"",pic_phone:e.pic_phone||"",business_type:e.business_type||"residential",operating_hours:e.operating_hours||"",customer_type:e.customer_type||"regular",payment_type:e.payment_type||"postpaid",service_type:e.service_type||"broadband",package_id:e.package_id||"",subscription_start_date:e.subscription_start_date?new Date(e.subscription_start_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],billing_cycle:e.billing_cycle||"monthly",ip_address:e.ip_address||"",ip_type:e.ip_type||"dynamic",notes:e.notes||""}:{customer_id:"",name:"",ktp:"",phone:"",phone_alt:"",email:"",address:"",latitude:"",longitude:"",odp:"",pic_name:"",pic_position:"",pic_phone:"",business_type:"residential",operating_hours:"",customer_type:"regular",payment_type:"postpaid",service_type:"broadband",package_id:"",subscription_start_date:new Date().toISOString().split("T")[0],billing_cycle:"monthly",ip_address:"",ip_type:"dynamic",notes:""}),c({})},[e,t]);const x=(_,j)=>{l(k=>({...k,[_]:j})),o[_]&&c(k=>({...k,[_]:null}))},g=()=>{const _={};return i.customer_id.trim()||(_.customer_id="Customer ID is required"),i.name.trim()||(_.name="Name is required"),i.phone.trim()||(_.phone="Phone is required"),i.address.trim()||(_.address="Address is required"),i.package_id||(_.package_id="Package is required"),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(_.email="Invalid email format"),i.ktp&&!/^\d{16}$/.test(i.ktp)&&(_.ktp="KTP must be 16 digits"),i.phone&&!/^[0-9+\-\s()]+$/.test(i.phone)&&(_.phone="Invalid phone format"),i.latitude&&(isNaN(i.latitude)||Math.abs(i.latitude)>90)&&(_.latitude="Invalid latitude (-90 to 90)"),i.longitude&&(isNaN(i.longitude)||Math.abs(i.longitude)>180)&&(_.longitude="Invalid longitude (-180 to 180)"),c(_),Object.keys(_).length===0},y=async _=>{var j,k,E,T;if(_.preventDefault(),!g()){ne.error("Please fix the validation errors");return}d(!0);try{const C={...i,latitude:i.latitude?parseFloat(i.latitude):null,longitude:i.longitude?parseFloat(i.longitude):null,package_id:parseInt(i.package_id)};let A;a?(A=await Dn.updateCustomer(e.id,C),ne.success("Customer updated successfully")):(A=await Dn.createCustomer(C),ne.success("Customer created successfully")),n==null||n(A.data),r()}catch(C){console.error("Submit error:",C);const A=((k=(j=C.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to save customer";if(ne.error(A),(T=(E=C.response)==null?void 0:E.data)!=null&&T.errors){const S={};C.response.data.errors.forEach(B=>{S[B.path||B.param]=B.msg}),c(S)}}finally{d(!1)}},b=[{id:"basic",label:"Basic Info",icon:Ct},{id:"contact",label:"Contact & Location",icon:jn},{id:"service",label:"Service & Package",icon:ir},{id:"technical",label:"Technical",icon:Go}];return t?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsxs("div",{className:"relative top-4 mx-auto p-0 border w-full max-w-4xl shadow-lg rounded-lg bg-white mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a?"Edit Customer":"Create New Customer"}),s.jsx("p",{className:"text-sm text-gray-500",children:a?"Update customer information":"Fill in the customer details below"})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:b.map(_=>{const j=_.icon;return s.jsxs("button",{onClick:()=>h(_.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${f===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(j,{className:"h-4 w-4 mr-2"}),_.label,(_.id==="basic"&&(o.customer_id||o.name||o.ktp)||_.id==="contact"&&(o.phone||o.email||o.address||o.latitude||o.longitude)||_.id==="service"&&o.package_id||_.id==="technical"&&o.ip_address)&&s.jsx(Ht,{className:"h-3 w-3 ml-1 text-red-500"})]},_.id)})})}),s.jsxs("form",{onSubmit:y,className:"p-6",children:[f==="basic"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer ID *"}),s.jsx("input",{type:"text",value:i.customer_id,onChange:_=>x("customer_id",_.target.value),className:`input-field ${o.customer_id?"border-red-500":""}`,placeholder:"e.g., CUST001",disabled:a}),o.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",value:i.name,onChange:_=>x("name",_.target.value),className:`input-field ${o.name?"border-red-500":""}`,placeholder:"Enter full name"}),o.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KTP Number"}),s.jsx("input",{type:"text",value:i.ktp,onChange:_=>x("ktp",_.target.value),className:`input-field ${o.ktp?"border-red-500":""}`,placeholder:"16 digit KTP number",maxLength:16}),o.ktp&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.ktp})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),s.jsxs("select",{value:i.business_type,onChange:_=>x("business_type",_.target.value),className:"input-field",children:[s.jsx("option",{value:"residential",children:"Residential"}),s.jsx("option",{value:"office",children:"Office"}),s.jsx("option",{value:"shop",children:"Shop"}),s.jsx("option",{value:"factory",children:"Factory"}),s.jsx("option",{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),s.jsx("input",{type:"text",value:i.operating_hours,onChange:_=>x("operating_hours",_.target.value),className:"input-field",placeholder:"e.g., 08:00-17:00 or 24/7"})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Person in Charge (PIC)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIC Name"}),s.jsx("input",{type:"text",value:i.pic_name,onChange:_=>x("pic_name",_.target.value),className:"input-field",placeholder:"Contact person name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIC Position"}),s.jsx("input",{type:"text",value:i.pic_position,onChange:_=>x("pic_position",_.target.value),className:"input-field",placeholder:"e.g., Manager, Owner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIC Phone"}),s.jsx("input",{type:"text",value:i.pic_phone,onChange:_=>x("pic_phone",_.target.value),className:"input-field",placeholder:"PIC phone number"})]})]})]})]}),f==="contact"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Phone *"}),s.jsx("input",{type:"text",value:i.phone,onChange:_=>x("phone",_.target.value),className:`input-field ${o.phone?"border-red-500":""}`,placeholder:"Primary phone number"}),o.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alternative Phone"}),s.jsx("input",{type:"text",value:i.phone_alt,onChange:_=>x("phone_alt",_.target.value),className:"input-field",placeholder:"Alternative phone number"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:i.email,onChange:_=>x("email",_.target.value),className:`input-field ${o.email?"border-red-500":""}`,placeholder:"Email address"}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Address *"}),s.jsx("textarea",{value:i.address,onChange:_=>x("address",_.target.value),className:`input-field ${o.address?"border-red-500":""}`,rows:3,placeholder:"Complete address including RT/RW, Kelurahan, Kecamatan, City, Postal Code"}),o.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.address})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),s.jsx("input",{type:"number",step:"any",value:i.latitude,onChange:_=>x("latitude",_.target.value),className:`input-field ${o.latitude?"border-red-500":""}`,placeholder:"e.g., -6.200000"}),o.latitude&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.latitude})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),s.jsx("input",{type:"number",step:"any",value:i.longitude,onChange:_=>x("longitude",_.target.value),className:`input-field ${o.longitude?"border-red-500":""}`,placeholder:"e.g., 106.816666"}),o.longitude&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.longitude})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ODP"}),s.jsx("input",{type:"text",value:i.odp,onChange:_=>x("odp",_.target.value),className:"input-field",placeholder:"e.g., ODP-JKT-001-A12"})]})]})]}),f==="service"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Type"}),s.jsxs("select",{value:i.customer_type,onChange:_=>x("customer_type",_.target.value),className:"input-field",children:[s.jsx("option",{value:"regular",children:"Regular"}),s.jsx("option",{value:"non-regular",children:"Non-Regular"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),s.jsxs("select",{value:i.payment_type,onChange:_=>x("payment_type",_.target.value),className:"input-field",children:[s.jsx("option",{value:"postpaid",children:"Postpaid"}),s.jsx("option",{value:"prepaid",children:"Prepaid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),s.jsxs("select",{value:i.service_type,onChange:_=>x("service_type",_.target.value),className:"input-field",children:[s.jsx("option",{value:"broadband",children:"Broadband"}),s.jsx("option",{value:"dedicated",children:"Dedicated"}),s.jsx("option",{value:"corporate",children:"Corporate"}),s.jsx("option",{value:"mitra",children:"Mitra"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Internet Package *"}),p?s.jsx("div",{className:"input-field flex items-center justify-center",children:s.jsx(At,{size:"sm"})}):s.jsxs("select",{value:i.package_id,onChange:_=>x("package_id",_.target.value),className:`input-field ${o.package_id?"border-red-500":""}`,children:[s.jsx("option",{value:"",children:"Select Package"}),(N=(v=m==null?void 0:m.data)==null?void 0:v.packages)==null?void 0:N.map(_=>s.jsxs("option",{value:_.id,children:[_.package_name," - ",_.bandwidth_down," Mbps - ",new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(_.monthly_price)]},_.id))]}),o.package_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.package_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscription Start Date"}),s.jsx("input",{type:"date",value:i.subscription_start_date,onChange:_=>x("subscription_start_date",_.target.value),className:"input-field"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Billing Cycle"}),s.jsxs("select",{value:i.billing_cycle,onChange:_=>x("billing_cycle",_.target.value),className:"input-field",children:[s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"}),s.jsx("option",{value:"yearly",children:"Yearly"})]})]})]})}),f==="technical"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IP Address"}),s.jsx("input",{type:"text",value:i.ip_address,onChange:_=>x("ip_address",_.target.value),className:"input-field",placeholder:"e.g., 192.168.1.100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IP Type"}),s.jsxs("select",{value:i.ip_type,onChange:_=>x("ip_type",_.target.value),className:"input-field",children:[s.jsx("option",{value:"dynamic",children:"Dynamic"}),s.jsx("option",{value:"static",children:"Static"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsx("textarea",{value:i.notes,onChange:_=>x("notes",_.target.value),className:"input-field",rows:4,placeholder:"Additional notes about the customer..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 mt-8",children:[s.jsx("button",{type:"button",onClick:r,className:"btn-secondary",disabled:u,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx(At,{size:"sm",className:"mr-2"}),a?"Updating...":"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dg,{className:"h-4 w-4 mr-2"}),a?"Update Customer":"Create Customer"]})})]})]})]})}):null},rbe=()=>{var ee,le,ue,ke,Ee,ae,ve;const e=Fi(),t=vr(),{user:r,isAdmin:n,isSupervisor:a}=Gn(),[i,l]=w.useState({search:"",customer_type:"",service_type:"",account_status:"",payment_status:"",package_id:""}),[o,c]=w.useState({page:1,limit:10}),[u,d]=w.useState("created_at"),[f,h]=w.useState("DESC"),[m,p]=w.useState(!1),[x,g]=w.useState(null),[y,b]=w.useState(!1),[v,N]=w.useState([]),[_,j]=w.useState(!1),[k,E]=w.useState(null),{data:T,isLoading:C,refetch:A,error:S}=Ge(["customers",i,o,u,f],()=>Dn.getCustomers({...i,...o,sort_by:u,sort_order:f}),{keepPreviousData:!0,staleTime:3e4}),{data:B}=Ge("packages-list",()=>ws.getPackages({is_active:"true"}),{staleTime:3e5}),{data:M}=Ge("customer-stats",()=>Dn.getCustomerStats(),{refetchOnWindowFocus:!0,refetchOnMount:"always"}),Y=((ee=T==null?void 0:T.data)==null?void 0:ee.customers)||[],z=((ue=(le=T==null?void 0:T.data)==null?void 0:le.pagination)==null?void 0:ue.pages)||1,R=((Ee=(ke=T==null?void 0:T.data)==null?void 0:ke.pagination)==null?void 0:Ee.total)||0,H=(M==null?void 0:M.data)||{total_customers:0,active_customers:0,pending_installation_customers:0,suspended_customers:0,paid_customers:0,unpaid_customers:0};w.useEffect(()=>{const ce=()=>{t.invalidateQueries(["customers"]),t.invalidateQueries("customer-stats"),console.log(" Customer list & stats refreshed")};return window.addEventListener("customer-created",ce),window.addEventListener("customer-updated",ce),()=>{window.removeEventListener("customer-created",ce),window.removeEventListener("customer-updated",ce)}},[t]);const U=(ce,ye)=>{l(Me=>({...Me,[ce]:ye})),c(Me=>({...Me,page:1}))},te=ce=>{c(ye=>({...ye,page:ce}))},K=async()=>{var ce;try{b(!0);const Me=((ce=(await Dn.getCustomers({...i,page:1,limit:1e4,sort_by:u,sort_order:f})).data)==null?void 0:ce.customers)||[];if(Me.length===0){ne.error("Tidak ada data untuk di-export");return}const Xe=Me.map(($e,Ze)=>{var Nt,br;return{No:Ze+1,"Customer Code":$e.customer_id||"-",Nama:$e.name,Email:$e.email||"-",Telepon:$e.phone||"-",Alamat:$e.address||"-",Kota:$e.city||"-",Provinsi:$e.province||"-",Package:$e.package_name||"-","Harga Bulanan":J($e.monthly_price),"Customer Type":$e.customer_type||"-","Service Type":$e.service_type||"-","Account Status":((Nt=$e.account_status)==null?void 0:Nt.toUpperCase())||"-","Payment Status":((br=$e.payment_status)==null?void 0:br.toUpperCase())||"-",Username:$e.username||"-","Tanggal Registrasi":el($e.created_at),"Tanggal Aktif":$e.activation_date?PM($e.activation_date):"-"}}),st=H_(Xe,"Customers_Export","Customers Data");ne.success(` ${st.rows} customers berhasil di-export!`)}catch(ye){console.error("Export error:",ye),ne.error("Gagal export data. Silakan coba lagi.")}finally{b(!1)}},D=()=>{A(),p(!1),g(null)},L=()=>{p(!1),g(null)},F=ce=>{u===ce?h(f==="ASC"?"DESC":"ASC"):(d(ce),h("DESC")),c(ye=>({...ye,page:1}))},O=ce=>u!==ce?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):f==="ASC"?s.jsx(As,{className:"h-4 w-4 text-blue-600"}):s.jsx(Cs,{className:"h-4 w-4 text-blue-600"}),re=ce=>ce?ce.split("_").map(ye=>ye.charAt(0).toUpperCase()+ye.slice(1)).join(" "):"-",oe=(ce,ye="account")=>{const Me={account:{active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",suspended:"bg-yellow-100 text-yellow-800",pending_installation:"bg-blue-100 text-blue-800",pending_activation:"bg-purple-100 text-purple-800"},payment:{paid:"bg-green-100 text-green-800",unpaid:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",overdue:"bg-orange-100 text-orange-800"}},st=(Me[ye]||Me.account)[ce]||"bg-gray-100 text-gray-800";return s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${st}`,children:re(ce)})},J=ce=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(ce),Z=ce=>{ce.target.checked?(N(Y.map(ye=>ye.id)),j(!0)):(N([]),j(!1))},se=ce=>{if(v.includes(ce))N(v.filter(ye=>ye!==ce)),j(!1);else{const ye=[...v,ce];N(ye),ye.length===Y.length&&j(!0)}},G=async()=>{if(v.length===0){ne.error("Pilih customer terlebih dahulu");return}if(window.confirm(`Suspend ${v.length} customer yang dipilih?`))try{let ce=0,ye=0;for(const Me of v)try{await Dn.updateCustomer(Me,{account_status:"suspended"}),ce++}catch(Xe){ye++,console.error(`Failed to suspend customer ${Me}:`,Xe)}ce>0?(ne.success(` ${ce} customer berhasil di-suspend${ye>0?`, ${ye} gagal`:""}`),A(),N([]),j(!1)):ne.error("Gagal suspend customer")}catch(ce){console.error("Bulk suspend error:",ce),ne.error("Terjadi kesalahan saat suspend customer")}},P=async()=>{if(v.length===0){ne.error("Pilih customer terlebih dahulu");return}if(window.confirm(`Aktifkan ${v.length} customer yang dipilih?`))try{let ce=0,ye=0;for(const Me of v)try{await Dn.updateCustomer(Me,{account_status:"active"}),ce++}catch(Xe){ye++,console.error(`Failed to activate customer ${Me}:`,Xe)}ce>0?(ne.success(` ${ce} customer berhasil diaktifkan${ye>0?`, ${ye} gagal`:""}`),A(),N([]),j(!1)):ne.error("Gagal aktifkan customer")}catch(ce){console.error("Bulk activate error:",ce),ne.error("Terjadi kesalahan saat aktifkan customer")}},ie=async()=>{if(v.length===0){ne.error("Pilih customer terlebih dahulu");return}if(window.confirm(` PERINGATAN: Hapus ${v.length} customer yang dipilih?

Customer akan dinonaktifkan dan tidak bisa login.`))try{let ce=0,ye=0;for(const Me of v)try{await Dn.deleteCustomer(Me),ce++}catch(Xe){ye++,console.error(`Failed to delete customer ${Me}:`,Xe)}ce>0?(ne.success(` ${ce} customer berhasil dihapus${ye>0?`, ${ye} gagal`:""}`),A(),N([]),j(!1)):ne.error("Gagal hapus customer")}catch(ce){console.error("Bulk delete error:",ce),ne.error("Terjadi kesalahan saat hapus customer")}},je=(ce,ye)=>{navigator.clipboard.writeText(ce).then(()=>{E(ye),ne.success(`${ye} berhasil di-copy!`),setTimeout(()=>E(null),2e3)}).catch(Me=>{ne.error("Gagal copy ke clipboard"),console.error("Copy error:",Me)})},Te=async(ce,ye)=>{if(ce.stopPropagation(),!!window.confirm(`Suspend customer ${ye.name}?`))try{await Dn.updateCustomer(ye.id,{account_status:"suspended"}),ne.success(`Customer ${ye.name} berhasil di-suspend`),A()}catch(Me){ne.error("Gagal suspend customer"),console.error("Quick suspend error:",Me)}},Le=async(ce,ye)=>{ce.stopPropagation();try{await Dn.updateCustomer(ye.id,{account_status:"active"}),ne.success(`Customer ${ye.name} berhasil diaktifkan`),A()}catch(Me){ne.error("Gagal aktifkan customer"),console.error("Quick activate error:",Me)}},Se=(ce,ye)=>{ce.stopPropagation(),window.location.href=`tel:${ye}`},rt=(ce,ye)=>{ce.stopPropagation(),window.location.href=`mailto:${ye}`},nt=n||a;return S?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx(Zs,{className:"h-12 w-12 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Customers"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Gagal memuat data customer"}),s.jsxs("button",{onClick:()=>A(),className:"btn-primary",children:[s.jsx(Ap,{className:"h-4 w-4 mr-2"}),"Coba Lagi"]})]})}):nt?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Management"}),s.jsx("p",{className:"text-gray-600",children:"Kelola data customer dan informasi layanan"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:K,disabled:y||C,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:y?s.jsxs(s.Fragment,{children:[s.jsx(Ij,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})}),n&&s.jsxs("button",{onClick:()=>p(!0),className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Customer"]})]})]}),v.length>0&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[v.length," customer dipilih"]}),s.jsx("button",{onClick:()=>{N([]),j(!1)},className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Batal Pilihan"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:P,className:"px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm inline-flex items-center",children:[s.jsx(VS,{className:"h-4 w-4 mr-1"}),"Aktifkan"]}),s.jsxs("button",{onClick:G,className:"px-3 py-1.5 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors text-sm inline-flex items-center",children:[s.jsx(HS,{className:"h-4 w-4 mr-1"}),"Suspend"]}),n&&s.jsxs("button",{onClick:ie,className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm inline-flex items-center",children:[s.jsx(Ya,{className:"h-4 w-4 mr-1"}),"Hapus"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:Va,title:"Total Customer",value:H.total_customers||0,color:"blue",onClick:()=>{l({search:"",customer_type:"",service_type:"",account_status:"",payment_status:"",package_id:""}),c({...o,page:1})}}),s.jsx(Ue,{icon:Zs,title:"Active",value:H.active_customers||0,color:"green",onClick:()=>{l({...i,account_status:i.account_status==="active"?"":"active",payment_status:""}),c({...o,page:1})}}),s.jsx(Ue,{icon:Ut,title:"Pending Installation",value:H.pending_installation_customers||0,color:"orange",onClick:()=>{l({...i,account_status:i.account_status==="pending_installation"?"":"pending_installation",payment_status:""}),c({...o,page:1})}}),s.jsx(Ue,{icon:Ht,title:"Suspended",value:H.suspended_customers||0,color:"red",onClick:()=>{l({...i,account_status:i.account_status==="suspended"?"":"suspended",payment_status:""}),c({...o,page:1})}})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Ue,{icon:wt,title:"Unpaid",value:H.unpaid_customers||0,color:"yellow",onClick:()=>{l({...i,payment_status:i.payment_status==="unpaid"?"":"unpaid",account_status:""}),c({...o,page:1})}}),s.jsx(Ue,{icon:Ke,title:"Paid",value:H.paid_customers||0,color:"green",onClick:()=>{l({...i,payment_status:i.payment_status==="paid"?"":"paid",account_status:""}),c({...o,page:1})}})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari customer...",value:i.search,onChange:ce=>U("search",ce.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Layanan"}),s.jsxs("select",{className:"form-input",value:i.service_type,onChange:ce=>U("service_type",ce.target.value),children:[s.jsx("option",{value:"",children:"Semua Layanan"}),s.jsx("option",{value:"broadband",children:"Broadband"}),s.jsx("option",{value:"dedicated",children:"Dedicated"}),s.jsx("option",{value:"corporate",children:"Corporate"}),s.jsx("option",{value:"mitra",children:"Mitra"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Akun"}),s.jsxs("select",{className:"form-input",value:i.account_status,onChange:ce=>U("account_status",ce.target.value),children:[s.jsx("option",{value:"",children:"Semua Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Bayar"}),s.jsxs("select",{className:"form-input",value:i.payment_status,onChange:ce=>U("payment_status",ce.target.value),children:[s.jsx("option",{value:"",children:"Status Bayar"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"unpaid",children:"Unpaid"}),s.jsx("option",{value:"pending",children:"Pending"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paket"}),s.jsxs("select",{className:"form-input",value:i.package_id,onChange:ce=>U("package_id",ce.target.value),children:[s.jsx("option",{value:"",children:"Semua Paket"}),(ve=(ae=B==null?void 0:B.data)==null?void 0:ae.packages)==null?void 0:ve.map(ce=>s.jsx("option",{value:ce.id,children:ce.package_name},ce.id))]})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Customers",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",R," total)"]})]})}),s.jsx("div",{className:"card-body p-0",children:C?s.jsx("div",{className:"py-12",children:s.jsx(At,{className:"mx-auto"})}):Y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Va,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada customer"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Belum ada data customer. Customer akan dibuat dari pendaftaran yang disetujui."}),s.jsxs("button",{onClick:()=>e("/registrations"),className:"btn-primary inline-flex items-center",children:[s.jsx(rl,{className:"h-4 w-4 mr-2"}),"Lihat Pendaftaran"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell w-12",children:s.jsx("input",{type:"checkbox",checked:_,onChange:Z,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",title:"Pilih Semua"})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>F("name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Customer"}),O("name")]})}),s.jsx("th",{className:"table-header-cell",children:"Kontak"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>F("package_name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Paket"}),O("package_name")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>F("account_status"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),O("account_status")]})}),s.jsx("th",{className:"table-header-cell",children:"Tickets"}),s.jsx("th",{className:"table-header-cell",children:"Quick Actions"})]})}),s.jsx("tbody",{className:"table-body",children:Y.map(ce=>s.jsxs("tr",{onClick:()=>e(`/customers/${ce.id}`),className:"group cursor-pointer hover:bg-blue-50 hover:shadow-md hover:border-l-4 hover:border-l-blue-500 transition-all duration-200",title:"Klik untuk lihat detail customer",children:[s.jsx("td",{className:"table-cell",onClick:ye=>ye.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:v.includes(ce.id),onChange:()=>se(ce.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:ce.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsxs("span",{children:["ID: ",ce.customer_id]}),s.jsx("button",{onClick:ye=>{ye.stopPropagation(),je(ce.customer_id,"Customer ID")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Customer ID",children:k==="Customer ID"?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-500"})})]})]})}),s.jsxs("td",{className:"table-cell",children:[s.jsxs("div",{className:"flex items-center mb-1 gap-1",children:[s.jsx(zn,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{children:ce.phone}),s.jsx("button",{onClick:ye=>{ye.stopPropagation(),je(ce.phone,"Phone")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Phone",children:k==="Phone"?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-500"})})]}),ce.email&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-1",children:[s.jsx(cn,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"truncate max-w-[150px]",children:ce.email}),s.jsx("button",{onClick:ye=>{ye.stopPropagation(),je(ce.email,"Email")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Email",children:k==="Email"?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-500"})})]})]}),s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"font-medium",children:ce.package_name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[ce.bandwidth_down," Mbps - ",J(ce.monthly_price)]})]}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"space-y-1",children:[oe(ce.account_status,"account"),oe(ce.payment_status,"payment")]})}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:ce.total_tickets||0}),s.jsx("div",{className:"text-xs text-gray-500",children:"total"})]})}),s.jsx("td",{className:"table-cell",onClick:ye=>ye.stopPropagation(),children:s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:ye=>Se(ye,ce.phone),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Call Customer",children:s.jsx(s0,{className:"h-4 w-4 text-green-600"})}),ce.email&&s.jsx("button",{onClick:ye=>rt(ye,ce.email),className:"p-1.5 hover:bg-blue-100 rounded transition-colors",title:"Email Customer",children:s.jsx(cn,{className:"h-4 w-4 text-blue-600"})}),ce.account_status==="active"?s.jsx("button",{onClick:ye=>Te(ye,ce),className:"p-1.5 hover:bg-yellow-100 rounded transition-colors",title:"Suspend Customer",children:s.jsx(HS,{className:"h-4 w-4 text-yellow-600"})}):s.jsx("button",{onClick:ye=>Le(ye,ce),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Activate Customer",children:s.jsx(VS,{className:"h-4 w-4 text-green-600"})})]})})]},ce.id))})]})}),s.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>te(o.page-1),disabled:o.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>te(o.page+1),disabled:o.page===z,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:o.limit,onChange:ce=>c({page:1,limit:parseInt(ce.target.value)}),className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(o.page-1)*o.limit+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(o.page*o.limit,R)})," ","of ",s.jsx("span",{className:"font-medium",children:R})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>te(o.page-1),disabled:o.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(z,10)},(ce,ye)=>z<=10||o.page<=5?ye+1:o.page>=z-4?z-9+ye:o.page-5+ye).map(ce=>s.jsx("button",{onClick:()=>te(ce),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o.page===ce?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ce},ce)),s.jsx("button",{onClick:()=>te(o.page+1),disabled:o.page===z,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})})]})})]}),s.jsx(tbe,{customer:x,isOpen:m||!!x,onClose:L,onSuccess:D})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[s.jsx(fg,{className:"h-24 w-24 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access Customer Management."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Required role: Admin or Supervisor"})]})},nbe=()=>{var oe,J,Z,se;const{id:e}=M0(),t=Fi(),[r,n]=w.useState("overview"),[a,i]=w.useState(!1),[l,o]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[h,m]=w.useState(!1),[p,x]=w.useState(""),[g,y]=w.useState(""),[b,v]=w.useState(""),{data:N,isLoading:_,error:j,refetch:k}=Ge(["customer",e],()=>Dn.getCustomer(e),{enabled:!!e,staleTime:3e4}),{data:E}=Ge("packages",ws.getAll,{refetchOnWindowFocus:!1}),{data:T,isLoading:C}=Ge(["customer-tickets",e],()=>Oa.getTickets({customer_id:e,limit:100}),{enabled:!!e&&r==="tickets",staleTime:3e4}),A=Array.isArray((oe=T==null?void 0:T.data)==null?void 0:oe.tickets)?T.data.tickets:[];if(_)return s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})});if(j||!((J=N==null?void 0:N.data)!=null&&J.customer))return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx(Ht,{className:"h-12 w-12 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Customer Not Found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Customer yang Anda cari tidak ditemukan"}),s.jsx(xo,{to:"/customers",label:"Back to Customers"})]});const S=N.data.customer,B=N.data.equipment||[],M=N.data.recent_payments||[],Y=N.data.service_history||[];N.data.active_complaints;const z=N.data.ticket_stats||{},R=G=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(G),H=G=>G?new Date(G).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",U=G=>G?G.split("_").map(P=>P.charAt(0).toUpperCase()+P.slice(1)).join(" "):"-",te=(G,P="account")=>{const ie={account:{active:{bg:"bg-green-100",text:"text-green-800",icon:Ke},inactive:{bg:"bg-red-100",text:"text-red-800",icon:wt},suspended:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Ht},pending_installation:{bg:"bg-blue-100",text:"text-blue-800",icon:Ut},pending_activation:{bg:"bg-purple-100",text:"text-purple-800",icon:Ut}},payment:{paid:{bg:"bg-green-100",text:"text-green-800",icon:Ke},unpaid:{bg:"bg-red-100",text:"text-red-800",icon:wt},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Ut},overdue:{bg:"bg-orange-100",text:"text-orange-800",icon:Ht}}},Te=(ie[P]||ie.account)[G]||{bg:"bg-gray-100",text:"text-gray-800",icon:Ht},Le=Te.icon;return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Te.bg} ${Te.text}`,children:[s.jsx(Le,{className:"h-3 w-3 mr-1"}),U(G)]})},K=async G=>{if(S!=null&&S.id)try{await Dn.updateCustomer(S.id,{payment_status:G}),ne.success(`Payment status updated to ${U(G)}`),k()}catch(P){console.error("Error updating payment status:",P),ne.error("Failed to update payment status")}},D=async G=>{if(S!=null&&S.id)try{await Dn.updateCustomer(S.id,{account_status:G}),ne.success(`Account status updated to ${U(G)}`),k()}catch(P){console.error("Error updating account status:",P),ne.error("Failed to update account status")}},L=async()=>{if(!(S!=null&&S.id))return;const G=`Apakah Anda yakin ingin menonaktifkan customer ${S.name}?

Customer ID: ${S.customer_id}

Customer akan dinonaktifkan dan tidak dapat login ke sistem.`;if(window.confirm(G))try{await Dn.deleteCustomer(S.id),ne.success("Customer berhasil dinonaktifkan"),t("/customers")}catch(P){console.error("Error deleting customer:",P),ne.error("Gagal menonaktifkan customer")}},F=async(G,P)=>{if(!(S!=null&&S.id)||!P.trim()){ne.error("Value cannot be empty");return}try{await Dn.updateCustomer(S.id,{[G]:P}),ne.success(`${G.charAt(0).toUpperCase()+G.slice(1)} updated successfully`),k(),G==="name"&&u(!1),G==="phone"&&f(!1),G==="address"&&m(!1)}catch(ie){console.error(`Error updating ${G}:`,ie),ne.error(`Failed to update ${G}`)}},O=G=>{G==="name"&&(u(!1),x(S.name)),G==="phone"&&(f(!1),y(S.phone)),G==="address"&&(m(!1),v(S.address))},re=[{id:"overview",label:"Overview",icon:Ct},{id:"tickets",label:"Tickets",icon:Zs,badge:z.total_tickets||A.length||null},{id:"service",label:"Service History",icon:ir},{id:"equipment",label:"Equipment",icon:ay,badge:B.length||null},{id:"payments",label:"Payments",icon:zm,badge:M.length||null}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(xo,{to:"/customers",label:"Back to Customers"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:S.name}),s.jsxs("p",{className:"text-gray-600",children:["Customer ID: ",S.customer_id]})]})]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs("button",{className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Full Name"}),c?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:p,onChange:G=>x(G.target.value),className:"form-input flex-1 text-sm",autoFocus:!0}),s.jsx("button",{onClick:()=>F("name",p),className:"text-green-600 hover:text-green-800",title:"Save",children:s.jsx(Ke,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>O("name"),className:"text-red-600 hover:text-red-800",title:"Cancel",children:s.jsx(wt,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:S.name})]}),s.jsx("button",{onClick:()=>{x(S.name),u(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit name",children:s.jsx(ti,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Phone Number"}),d?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:g,onChange:G=>y(G.target.value),className:"form-input flex-1 text-sm",autoFocus:!0}),s.jsx("button",{onClick:()=>F("phone",g),className:"text-green-600 hover:text-green-800",title:"Save",children:s.jsx(Ke,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>O("phone"),className:"text-red-600 hover:text-red-800",title:"Cancel",children:s.jsx(wt,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(zn,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:S.phone})]}),s.jsx("button",{onClick:()=>{y(S.phone),f(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit phone",children:s.jsx(ti,{className:"h-4 w-4"})})]})]}),S.email&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(cn,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:S.email})]})]}),S.phone_alt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Alternate Phone"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(zn,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:S.phone_alt}),s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Backup)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Address"}),h?s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("textarea",{value:b,onChange:G=>v(G.target.value),className:"form-input flex-1 text-sm",rows:"3",autoFocus:!0}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("button",{onClick:()=>F("address",b),className:"text-green-600 hover:text-green-800",title:"Save",children:s.jsx(Ke,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>O("address"),className:"text-red-600 hover:text-red-800",title:"Cancel",children:s.jsx(wt,{className:"h-4 w-4"})})]})]}):s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start flex-1",children:[s.jsx(jn,{className:"h-4 w-4 text-gray-400 mr-2 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-900",children:S.address})]}),s.jsx("button",{onClick:()=>{v(S.address),m(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors ml-2 flex-shrink-0",title:"Edit address",children:s.jsx(ti,{className:"h-4 w-4"})})]})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Package Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Package"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.package_name})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Bandwidth"}),s.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium text-gray-900",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-blue-600",children:""}),s.jsxs("span",{children:[S.bandwidth_up," Mbps"]})]}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-green-600",children:""}),s.jsxs("span",{children:[S.bandwidth_down," Mbps"]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Price"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:R(S.monthly_price)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"SLA Level"}),s.jsxs("span",{className:`text-sm font-medium ${S.sla_level==="gold"?"text-yellow-600":S.sla_level==="silver"?"text-gray-600":"text-orange-600"}`,children:[s.jsx(ja,{className:"h-3 w-3 inline mr-1"}),(Z=S.sla_level)==null?void 0:Z.toUpperCase()]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Service Type"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:S.service_type})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status & Statistics"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Account Status"}),te(S.account_status,"account")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>D("active"),disabled:S.account_status==="active",className:"px-2 py-1 text-xs bg-green-50 text-green-700 rounded hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Active"}),s.jsx("button",{onClick:()=>D("suspended"),disabled:S.account_status==="suspended",className:"px-2 py-1 text-xs bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suspend"}),s.jsx("button",{onClick:()=>D("inactive"),disabled:S.account_status==="inactive",className:"px-2 py-1 text-xs bg-red-50 text-red-700 rounded hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Inactive"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Payment Status"}),te(S.payment_status,"payment")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>K("paid"),disabled:S.payment_status==="paid",className:"px-2 py-1 text-xs bg-green-50 text-green-700 rounded hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Paid"}),s.jsx("button",{onClick:()=>K("pending"),disabled:S.payment_status==="pending",className:"px-2 py-1 text-xs bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Pending"}),s.jsx("button",{onClick:()=>K("unpaid"),disabled:S.payment_status==="unpaid",className:"px-2 py-1 text-xs bg-red-50 text-red-700 rounded hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Unpaid"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Tickets"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:z.total_tickets||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Customer Rating"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(qu,{className:"h-4 w-4 text-yellow-400 mr-1"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[S.customer_rating||0,"/5"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Outstanding"}),s.jsx("span",{className:`text-sm font-medium ${parseFloat(S.outstanding_balance)>0?"text-red-600":"text-green-600"}`,children:R(S.outstanding_balance)})]})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:re.map(G=>{const P=G.icon;return s.jsxs("button",{onClick:()=>n(G.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${r===G.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(P,{className:"h-4 w-4 mr-2"}),G.label,G.badge&&G.badge>0&&s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${r===G.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:G.badge})]},G.id)})})}),s.jsxs("div",{className:"card-body",children:[r==="overview"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(ir,{className:"h-5 w-5 mr-2 text-blue-600"}),"Service & Installation"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"ODP Assignment"}),S.odp?s.jsxs(Gs,{to:`/master-data/odp?search=${S.odp}`,className:"text-sm font-medium text-blue-600 hover:underline flex items-center",children:[s.jsx(jn,{className:"h-3 w-3 mr-1"}),S.odp]}):s.jsx("span",{className:"text-sm text-gray-400",children:"Not assigned"})]}),S.installation_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Installation Date"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:H(S.installation_date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Registration Date"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:H(S.registration_date)})]}),S.last_payment_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Last Payment"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:H(S.last_payment_date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"IP Address"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.ip_address?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-mono",children:S.ip_address}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",S.ip_type,")"]})]}):s.jsx("span",{className:"text-gray-400",children:"Not assigned yet"})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Customer Type"}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S.customer_type==="vip"?"bg-purple-100 text-purple-800":S.customer_type==="corporate"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:((se=S.customer_type)==null?void 0:se.toUpperCase())||"REGULAR"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Op,{className:"h-5 w-5 mr-2 text-orange-600"}),"Technical Information"]}),s.jsxs("div",{className:"space-y-3",children:[S.signal_strength!==null&&S.signal_strength!==void 0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Signal Strength"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[S.signal_strength,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${S.signal_strength>=80?"bg-green-500":S.signal_strength>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${S.signal_strength}%`}})})]}),S.signal_quality&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Signal Quality"}),s.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${S.signal_quality==="excellent"?"bg-green-100 text-green-800":S.signal_quality==="good"?"bg-blue-100 text-blue-800":S.signal_quality==="fair"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:S.signal_quality.toUpperCase()})]}),S.assigned_technician_id&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Assigned Technician"}),s.jsxs(Gs,{to:`/technicians/${S.assigned_technician_id}`,className:"text-sm font-medium text-blue-600 hover:underline flex items-center",children:[s.jsx(Ct,{className:"h-3 w-3 mr-1"}),"View Details"]})]}),S.latitude&&S.longitude&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"GPS Location"}),s.jsxs("button",{onClick:()=>window.open(`https://www.google.com/maps?q=${S.latitude},${S.longitude}`,"_blank"),className:"text-sm font-medium text-blue-600 hover:underline flex items-center",children:[s.jsx(pW,{className:"h-3 w-3 mr-1"}),"View on Map"]})]}),S.service_quality_score>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Service Quality"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:"h-1.5 bg-blue-500 rounded-full",style:{width:`${S.service_quality_score}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[S.service_quality_score,"%"]})]})]}),!S.signal_strength&&!S.signal_quality&&!S.assigned_technician_id&&!S.latitude&&!S.service_quality_score&&s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Op,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No technical data available yet"})]})]})]}),S.notes&&s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Ht,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Internal Notes"]}),s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:S.notes})})]}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"border-2 border-red-200 rounded-lg p-6 bg-red-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-red-800 mb-1",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-red-600",children:"Menonaktifkan customer akan membuat customer tidak dapat login dan mengakses layanan."})]}),s.jsxs("button",{onClick:L,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors inline-flex items-center gap-2 font-medium",children:[s.jsx(Ya,{className:"h-4 w-4"}),"Deactivate Customer"]})]})})})]}),r==="tickets"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Customer Tickets"}),s.jsx("p",{className:"text-sm text-gray-600",children:"History semua tiket untuk customer ini"})]}),s.jsxs(Gs,{to:`/tickets/create?customer_id=${S.id}`,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Create New Ticket"]})]}),C?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(At,{})}):A.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(Zs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tickets Found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Customer ini belum memiliki tiket"}),s.jsxs(Gs,{to:`/tickets/create?customer_id=${S.id}`,className:"btn-primary inline-flex items-center",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Create First Ticket"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell",children:"Ticket Number"}),s.jsx("th",{className:"table-header-cell",children:"Type"}),s.jsx("th",{className:"table-header-cell",children:"Priority"}),s.jsx("th",{className:"table-header-cell",children:"Status"}),s.jsx("th",{className:"table-header-cell",children:"Technician"}),s.jsx("th",{className:"table-header-cell",children:"Created Date"}),s.jsx("th",{className:"table-header-cell text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:A.map(G=>s.jsxs("tr",{onClick:()=>t(`/tickets/${G.id}`),className:"cursor-pointer hover:bg-blue-50 transition-colors",title:"Klik untuk lihat detail ticket",children:[s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"font-medium text-blue-600",children:G.ticket_number}),s.jsx("div",{className:"text-sm text-gray-500 truncate",title:G.title,children:G.title})]}),s.jsx("td",{className:"table-cell",children:s.jsx("span",{className:"capitalize",children:U(G.type)})}),s.jsx("td",{className:"table-cell",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${G.priority==="critical"?"bg-red-100 text-red-800":G.priority==="high"?"bg-orange-100 text-orange-800":G.priority==="normal"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:U(G.priority)})}),s.jsx("td",{className:"table-cell",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${G.status==="completed"?"bg-green-100 text-green-800":G.status==="cancelled"?"bg-red-100 text-red-800":G.status==="in_progress"?"bg-yellow-100 text-yellow-800":G.status==="on_hold"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:U(G.status)})}),s.jsx("td",{className:"table-cell",children:G.technician_name||"Unassigned"}),s.jsx("td",{className:"table-cell",children:new Date(G.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"flex items-center justify-center text-gray-400",children:s.jsx(oa,{className:"h-5 w-5"})})})]},G.id))})]})})]}),r==="service"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Service History"}),s.jsx("p",{className:"text-sm text-gray-600",children:"History perubahan layanan dan paket customer"})]}),Y.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Service History"}),s.jsx("p",{className:"text-gray-500",children:"Belum ada perubahan layanan untuk customer ini"})]}):s.jsx("div",{className:"space-y-4",children:Y.map((G,P)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${G.action_type==="upgrade"?"bg-green-100":G.action_type==="downgrade"?"bg-orange-100":G.action_type==="package_change"?"bg-blue-100":"bg-gray-100"}`,children:s.jsx(ir,{className:`h-5 w-5 ${G.action_type==="upgrade"?"text-green-600":G.action_type==="downgrade"?"text-orange-600":G.action_type==="package_change"?"text-blue-600":"text-gray-600"}`})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:U(G.action_type||"Service Change")}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G.description||"Perubahan layanan"})]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:H(G.change_date||G.created_at)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-100",children:[G.previous_package&&s.jsxs("div",{className:"bg-red-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Previous Package"}),s.jsx("p",{className:"font-medium text-gray-900",children:G.previous_package}),s.jsxs("p",{className:"text-sm text-gray-600",children:[G.previous_bandwidth," Mbps"]}),s.jsx("p",{className:"text-sm text-gray-900",children:R(G.previous_price)})]}),G.new_package&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"New Package"}),s.jsx("p",{className:"font-medium text-gray-900",children:G.new_package}),s.jsxs("p",{className:"text-sm text-gray-600",children:[G.new_bandwidth," Mbps"]}),s.jsx("p",{className:"text-sm text-gray-900",children:R(G.new_price)})]})]}),G.notes&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded text-sm text-gray-700",children:[s.jsx("strong",{children:"Notes:"})," ",G.notes]}),G.processed_by&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-500",children:[s.jsx(Ct,{className:"h-3 w-3"}),s.jsxs("span",{children:["Processed by: ",G.processed_by_name||G.processed_by]})]})]},P))})]}),r==="equipment"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Customer Equipment"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Perangkat yang digunakan oleh customer"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Add Equipment"]})]}),B.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(ay,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Equipment Registered"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Belum ada equipment yang terdaftar untuk customer ini"}),s.jsxs("button",{onClick:()=>i(!0),className:"btn-primary inline-flex items-center",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Add First Equipment"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(G=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[G.equipment_type==="modem"&&s.jsx(ru,{className:"h-5 w-5 text-blue-500 mr-2"}),G.equipment_type==="router"&&s.jsx(ay,{className:"h-5 w-5 text-green-500 mr-2"}),G.equipment_type==="cable"&&s.jsx(fW,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium text-gray-900 capitalize",children:G.equipment_type})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${G.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.status})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Brand"}),s.jsx("span",{className:"font-medium",children:G.brand||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Model"}),s.jsx("span",{className:"font-medium",children:G.model||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Serial"}),s.jsx("span",{className:"font-medium text-xs",children:G.serial_number||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Installed"}),s.jsx("span",{className:"font-medium",children:H(G.installation_date)})]})]}),G.notes&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsx("p",{className:"text-xs text-gray-600",children:G.notes})})]},G.id))})]}),r==="payments"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Payment History"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Riwayat pembayaran bulanan customer"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),M.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx(zm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment History"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Belum ada riwayat pembayaran untuk customer ini"}),s.jsxs("button",{onClick:()=>o(!0),className:"btn-primary inline-flex items-center",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Record First Payment"]})]}):s.jsx("div",{className:"space-y-4",children:M.map(G=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(zm,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-900",children:G.invoice_number}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:H(G.payment_date)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900",children:R(G.amount)}),te(G.payment_status,"payment")]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:G.payment_method})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Billing Period"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:G.billing_period||"Monthly"})]})]}),G.notes&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Notes:"}),s.jsx("p",{className:"text-sm text-gray-700",children:G.notes})]})]},G.id))})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Equipment"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Equipment form will be implemented"}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>i(!1),className:"btn-secondary",children:"Close"})})]})})}),l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Record Payment"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Payment form will be implemented"}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>o(!1),className:"btn-secondary",children:"Close"})})]})})})]})},abe=({isOpen:e,onClose:t,technician:r=null,onSuccess:n,mode:a="create"})=>{const i=a==="view",[l,o]=w.useState({employee_id:"",full_name:"",phone:"",phone_alt:"",email:"",address:"",emergency_contact_name:"",emergency_contact_phone:"",hire_date:new Date().toISOString().split("T")[0],employment_status:"active",position:"technician",department:"field_operations",supervisor_id:"",skill_level:"junior",specializations:[],certifications:[],work_zone:"",max_daily_tickets:8,preferred_shift:"day",current_latitude:"",current_longitude:"",is_available:!0,availability_status:"available"}),[c,u]=w.useState("basic"),[d,f]=w.useState(!1),[h,m]=w.useState({}),p=["fiber_optic","wireless","networking","installation","troubleshooting","enterprise","residential","maintenance"],x=["Jakarta Pusat","Jakarta Selatan","Jakarta Utara","Jakarta Timur","Jakarta Barat","Bogor","Depok","Tangerang","Bekasi"];w.useEffect(()=>{r&&o({employee_id:r.employee_id||"",full_name:r.full_name||"",phone:r.phone||"",phone_alt:r.phone_alt||"",email:r.email||"",address:r.address||"",emergency_contact_name:r.emergency_contact_name||"",emergency_contact_phone:r.emergency_contact_phone||"",hire_date:r.hire_date?r.hire_date.split("T")[0]:new Date().toISOString().split("T")[0],employment_status:r.employment_status||"active",position:r.position||"technician",department:r.department||"field_operations",supervisor_id:r.supervisor_id||"",skill_level:r.skill_level||"junior",specializations:r.specializations||[],certifications:r.certifications||[],work_zone:r.work_zone||"",max_daily_tickets:r.max_daily_tickets||8,preferred_shift:r.preferred_shift||"day",current_latitude:r.current_latitude||"",current_longitude:r.current_longitude||"",is_available:r.is_available!==void 0?r.is_available:!0,availability_status:r.availability_status||"available"})},[r]);const g=j=>{const{name:k,value:E,type:T,checked:C}=j.target;o(A=>({...A,[k]:T==="checkbox"?C:E})),h[k]&&m(A=>({...A,[k]:""}))},y=j=>{o(k=>({...k,specializations:k.specializations.includes(j)?k.specializations.filter(E=>E!==j):[...k.specializations,j]}))},b=()=>{const j={};return l.employee_id.trim()||(j.employee_id="Employee ID is required"),l.full_name.trim()||(j.full_name="Full name is required"),l.phone.trim()||(j.phone="Phone number is required"),l.email.trim()||(j.email="Email is required"),l.work_zone||(j.work_zone="Work zone is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(j.email="Please enter a valid email address"),l.phone&&!/^[0-9+\-\s()]+$/.test(l.phone)&&(j.phone="Please enter a valid phone number"),m(j),Object.keys(j).length===0},v=async j=>{var k,E;if(j.preventDefault(),!b()){ne.error("Please fix the validation errors");return}f(!0);try{const T={...l,max_daily_tickets:parseInt(l.max_daily_tickets),current_latitude:l.current_latitude?parseFloat(l.current_latitude):null,current_longitude:l.current_longitude?parseFloat(l.current_longitude):null,supervisor_id:l.supervisor_id||null,user_id:(r==null?void 0:r.user_id)||1};r?(await dc.updateTechnician(r.id,T),ne.success("Technician updated successfully!")):(await dc.createTechnician(T),ne.success("Technician created successfully!")),n(),t()}catch(T){console.error("Submit error:",T),ne.error(((E=(k=T.response)==null?void 0:k.data)==null?void 0:E.message)||"Failed to save technician")}finally{f(!1)}},N=()=>{o({employee_id:"",full_name:"",phone:"",phone_alt:"",email:"",address:"",emergency_contact_name:"",emergency_contact_phone:"",hire_date:new Date().toISOString().split("T")[0],employment_status:"active",position:"technician",department:"field_operations",supervisor_id:"",skill_level:"junior",specializations:[],certifications:[],work_zone:"",max_daily_tickets:8,preferred_shift:"day",current_latitude:"",current_longitude:"",is_available:!0,availability_status:"available"}),m({}),u("basic"),t()};if(!e)return null;const _=[{id:"basic",label:"Basic Info",icon:Ct},{id:"employment",label:"Employment",icon:Nr},{id:"skills",label:"Skills & Zone",icon:n0},{id:"location",label:"Location",icon:jn}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a==="view"?"View Technician Details":a==="edit"?"Edit Technician":"Add New Technician"}),s.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6",children:_.map(j=>{const k=j.icon;return s.jsxs("button",{onClick:()=>u(j.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c===j.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(k,{className:"h-4 w-4 inline mr-2"}),j.label]},j.id)})})}),s.jsxs("form",{onSubmit:v,className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"p-6 space-y-6",children:[c==="basic"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee ID *"}),s.jsx("input",{type:"text",name:"employee_id",value:l.employee_id,onChange:g,readOnly:a==="view",className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.employee_id?"border-red-300":"border-gray-300"} ${a==="view"?"bg-gray-50 text-gray-600":""}`,placeholder:"TECH001"}),h.employee_id&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Ht,{className:"h-4 w-4 mr-1"}),h.employee_id]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"full_name",value:l.full_name,onChange:g,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.full_name?"border-red-300":"border-gray-300"}`,placeholder:"John Doe"}),h.full_name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Ht,{className:"h-4 w-4 mr-1"}),h.full_name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:g,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.phone?"border-red-300":"border-gray-300"}`,placeholder:"081234567890"}),h.phone&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Ht,{className:"h-4 w-4 mr-1"}),h.phone]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alternative Phone"}),s.jsx("input",{type:"tel",name:"phone_alt",value:l.phone_alt,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"082345678901"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:g,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.email?"border-red-300":"border-gray-300"}`,placeholder:"john.doe@company.com"}),h.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Ht,{className:"h-4 w-4 mr-1"}),h.email]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{name:"address",value:l.address,onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Full address..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Name"}),s.jsx("input",{type:"text",name:"emergency_contact_name",value:l.emergency_contact_name,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Jane Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Phone"}),s.jsx("input",{type:"tel",name:"emergency_contact_phone",value:l.emergency_contact_phone,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"081234567890"})]})]})]}),c==="employment"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date"}),s.jsx("input",{type:"date",name:"hire_date",value:l.hire_date,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employment Status"}),s.jsxs("select",{name:"employment_status",value:l.employment_status,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"}),s.jsx("option",{value:"terminated",children:"Terminated"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),s.jsx("input",{type:"text",name:"position",value:l.position,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Technician"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsx("input",{type:"text",name:"department",value:l.department,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Field Operations"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Shift"}),s.jsxs("select",{name:"preferred_shift",value:l.preferred_shift,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"day",children:"Day Shift"}),s.jsx("option",{value:"night",children:"Night Shift"}),s.jsx("option",{value:"flexible",children:"Flexible"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Daily Tickets"}),s.jsx("input",{type:"number",name:"max_daily_tickets",value:l.max_daily_tickets,onChange:g,min:"1",max:"20",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})}),c==="skills"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skill Level"}),s.jsxs("select",{name:"skill_level",value:l.skill_level,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"junior",children:"Junior"}),s.jsx("option",{value:"senior",children:"Senior"}),s.jsx("option",{value:"expert",children:"Expert"}),s.jsx("option",{value:"specialist",children:"Specialist"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Zone *"}),s.jsxs("select",{name:"work_zone",value:l.work_zone,onChange:g,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${h.work_zone?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select Work Zone"}),x.map(j=>s.jsx("option",{value:j,children:j},j))]}),h.work_zone&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Ht,{className:"h-4 w-4 mr-1"}),h.work_zone]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:p.map(j=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:l.specializations.includes(j),onChange:()=>y(j),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:j.replace("_"," ")})]},j))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability Status"}),s.jsxs("select",{name:"availability_status",value:l.availability_status,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"busy",children:"Busy"}),s.jsx("option",{value:"break",children:"On Break"}),s.jsx("option",{value:"offline",children:"Offline"})]})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_available",checked:l.is_available,onChange:g,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Available for assignments"})]})})]})]}),c==="location"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Latitude"}),s.jsx("input",{type:"number",name:"current_latitude",value:l.current_latitude,onChange:g,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"-6.2088"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Longitude"}),s.jsx("input",{type:"number",name:"current_longitude",value:l.current_longitude,onChange:g,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"106.8456"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Ht,{className:"h-5 w-5 text-blue-400"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Location Information"}),s.jsx("div",{className:"mt-2 text-sm text-blue-700",children:s.jsx("p",{children:"Current location coordinates will be used for smart assignment and tracking purposes. Leave empty if location is not available."})})]})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-end px-6 py-4 bg-gray-50 border-t border-gray-200 space-x-3",children:[s.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:i?"Close":"Cancel"}),!i&&s.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dg,{className:"h-4 w-4 mr-2"}),a==="edit"?"Update":"Create"," Technician"]})})]})]})]})})},sbe=()=>{var U,te;const e=Fi(),t=vr(),[r,n]=w.useState({search:"",employment_status:"",availability_status:"",skill_level:"",work_zone:"",specialization:""}),[a,i]=w.useState(1),[l,o]=w.useState("created_at"),[c,u]=w.useState("DESC"),[d,f]=w.useState(!1),[h,m]=w.useState(null),[p,x]=w.useState("create"),[g,y]=w.useState(10),{data:b,isLoading:v,refetch:N}=Ge(["technicians",r,a,g,l,c],()=>dc.getTechnicians({...r,page:a,limit:g,sort_by:l,sort_order:c}),{keepPreviousData:!0}),{data:_}=Ge("technician-stats",()=>dc.getTechnicianStats()),j=qt(K=>dc.deleteTechnician(K),{onSuccess:()=>{ne.success("Technician deleted successfully"),N()},onError:K=>{var D,L;ne.error(((L=(D=K.response)==null?void 0:D.data)==null?void 0:L.message)||"Failed to delete technician")}}),k=(K,D)=>{n(L=>({...L,[K]:D})),i(1)},E=()=>{m(null),x("create"),f(!0)},T=(K,D)=>{window.confirm(`Are you sure you want to delete technician "${D}"? This action cannot be undone.`)&&j.mutate(K)},C=()=>{N(),f(!1),m(null)},A=K=>{e(`/technicians/${K.id}`)},S=K=>{l===K?u(c==="ASC"?"DESC":"ASC"):(o(K),u("DESC")),i(1)},B=K=>l!==K?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):c==="ASC"?s.jsx(As,{className:"h-4 w-4 text-blue-600"}):s.jsx(Cs,{className:"h-4 w-4 text-blue-600"}),M=K=>{const D={available:{color:"bg-green-100 text-green-800",icon:Ke,label:"Available"},busy:{color:"bg-yellow-100 text-yellow-800",icon:Ut,label:"Busy"},break:{color:"bg-blue-100 text-blue-800",icon:zO,label:"On Break"},offline:{color:"bg-gray-100 text-gray-800",icon:wt,label:"Offline"}},L=D[K]||D.offline,F=L.icon;return s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${L.color}`,children:[s.jsx(F,{className:"h-3 w-3 mr-1"}),L.label]})},Y=K=>{const D={junior:{color:"bg-blue-100 text-blue-800",label:"Junior"},senior:{color:"bg-purple-100 text-purple-800",label:"Senior"},expert:{color:"bg-orange-100 text-orange-800",label:"Expert"},specialist:{color:"bg-red-100 text-red-800",label:"Specialist"}},L=D[K]||D.junior;return s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${L.color}`,children:[s.jsx(n0,{className:"h-3 w-3 mr-1"}),L.label]})},z=((U=b==null?void 0:b.data)==null?void 0:U.technicians)||[],R=((te=b==null?void 0:b.data)==null?void 0:te.pagination)||{},H=(_==null?void 0:_.data)||{};return w.useEffect(()=>{const K=()=>{t.invalidateQueries(["technicians"]),t.invalidateQueries("technician-stats"),console.log(" Technician list & stats refreshed")};return window.addEventListener("technician-created",K),window.addEventListener("technician-updated",K),window.addEventListener("technician-status-changed",K),()=>{window.removeEventListener("technician-created",K),window.removeEventListener("technician-updated",K),window.removeEventListener("technician-status-changed",K)}},[t]),v&&!b?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(At,{size:"lg"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Technician Management"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Kelola teknisi lapangan dan monitor performa"})]}),s.jsxs("button",{onClick:E,className:"mt-4 sm:mt-0 btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Teknisi"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:Va,title:"Total Teknisi",value:H.total_technicians||0,color:"blue"}),s.jsx(Ue,{icon:Ke,title:"Available",value:H.available_technicians||0,color:"green",onClick:()=>{n({...r,availability_status:r.availability_status==="available"?"":"available"}),i(1)}}),s.jsx(Ue,{icon:Ut,title:"Busy",value:H.busy_technicians||0,color:"yellow",onClick:()=>{n({...r,availability_status:r.availability_status==="busy"?"":"busy"}),i(1)}}),s.jsx(Ue,{icon:wt,title:"Offline",value:H.offline_technicians||0,color:"red",onClick:()=>{n({...r,availability_status:r.availability_status==="offline"?"":"offline"}),i(1)}})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari teknisi...",value:r.search,onChange:K=>k("search",K.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"form-input",value:r.availability_status,onChange:K=>k("availability_status",K.target.value),children:[s.jsx("option",{value:"",children:"Semua Status"}),s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"busy",children:"Busy"}),s.jsx("option",{value:"break",children:"On Break"}),s.jsx("option",{value:"offline",children:"Offline"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skill Level"}),s.jsxs("select",{className:"form-input",value:r.skill_level,onChange:K=>k("skill_level",K.target.value),children:[s.jsx("option",{value:"",children:"Semua Level"}),s.jsx("option",{value:"junior",children:"Junior"}),s.jsx("option",{value:"senior",children:"Senior"}),s.jsx("option",{value:"expert",children:"Expert"}),s.jsx("option",{value:"specialist",children:"Specialist"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Zone"}),s.jsxs("select",{className:"form-input",value:r.work_zone,onChange:K=>k("work_zone",K.target.value),children:[s.jsx("option",{value:"",children:"Semua Zone"}),s.jsx("option",{value:"Jakarta_Pusat",children:"Jakarta Pusat"}),s.jsx("option",{value:"Jakarta_Selatan",children:"Jakarta Selatan"}),s.jsx("option",{value:"Jakarta_Utara",children:"Jakarta Utara"}),s.jsx("option",{value:"Jakarta_Timur",children:"Jakarta Timur"}),s.jsx("option",{value:"Jakarta_Barat",children:"Jakarta Barat"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),s.jsxs("select",{className:"form-input",value:r.specialization,onChange:K=>k("specialization",K.target.value),children:[s.jsx("option",{value:"",children:"Semua Spesialisasi"}),s.jsx("option",{value:"fiber_optic",children:"Fiber Optic"}),s.jsx("option",{value:"wireless",children:"Wireless"}),s.jsx("option",{value:"networking",children:"Networking"}),s.jsx("option",{value:"installation",children:"Installation"}),s.jsx("option",{value:"troubleshooting",children:"Troubleshooting"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment"}),s.jsxs("select",{className:"form-input",value:r.employment_status,onChange:K=>k("employment_status",K.target.value),children:[s.jsx("option",{value:"",children:"Semua"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Technicians",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",R.total||0," total)"]})]})}),s.jsx("div",{className:"card-body p-0",children:z.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Va,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No technicians found"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Get started by adding your first technician."}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{onClick:E,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Add First Technician"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>S("full_name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Technician"}),B("full_name")]})}),s.jsx("th",{className:"table-header-cell",children:"Contact"}),s.jsx("th",{className:"table-header-cell",children:"Skills & Zone"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>S("availability_status"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),B("availability_status")]})}),s.jsx("th",{className:"table-header-cell",children:"Performance"}),s.jsx("th",{className:"table-header-cell text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:z.map(K=>{var D;return s.jsxs("tr",{children:[s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Ct,{className:"h-5 w-5 text-gray-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"font-medium text-gray-900",children:K.full_name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",K.employee_id]})]})]})}),s.jsxs("td",{className:"table-cell",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(zn,{className:"h-3 w-3 mr-1 text-gray-400"}),K.phone]}),K.email&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(cn,{className:"h-3 w-3 mr-1 text-gray-400"}),K.email]})]}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"space-y-2",children:[Y(K.skill_level),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(jn,{className:"h-4 w-4 mr-1"}),(D=K.work_zone)==null?void 0:D.replace("_"," ")]})]})}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"space-y-2",children:[M(K.availability_status),s.jsxs("div",{className:"text-xs text-gray-500",children:["Active Tickets: ",K.active_tickets||0,"/",K.max_daily_tickets||8]})]})}),s.jsxs("td",{className:"table-cell",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(qu,{className:"h-4 w-4 mr-1 text-yellow-400"}),K.avg_customer_rating?parseFloat(K.avg_customer_rating).toFixed(1):"N/A"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Completed: ",K.total_tickets_completed||0]})]}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsx("button",{onClick:()=>A(K),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"View Details",children:s.jsx(kf,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>T(K.id,K.full_name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Technician",children:s.jsx(Ya,{className:"h-4 w-4"})})]})})]},K.id)})})]})}),R&&s.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>i(Math.max(1,a-1)),disabled:a===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>i(Math.min(R.pages,a+1)),disabled:a===R.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:g,onChange:K=>{y(parseInt(K.target.value)),i(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(a-1)*g+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(a*g,R.total)})," ","of ",s.jsx("span",{className:"font-medium",children:R.total})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>i(Math.max(1,a-1)),disabled:a===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(R.pages,10)},(K,D)=>R.pages<=10||a<=5?D+1:a>=R.pages-4?R.pages-9+D:a-5+D).map(K=>s.jsx("button",{onClick:()=>i(K),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${a===K?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:K},K)),s.jsx("button",{onClick:()=>i(Math.min(R.pages,a+1)),disabled:a===R.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})})]})})]}),s.jsx(abe,{isOpen:d,onClose:()=>f(!1),technician:h,onSuccess:C,mode:p})]})},ibe=()=>{var h;const{id:e}=M0(),[t,r]=w.useState("overview"),{data:n,isLoading:a,error:i}=Ge(["technician",e],()=>dc.getTechnician(e),{enabled:!!e,staleTime:3e4});if(a)return s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})});if(i||!((h=n==null?void 0:n.data)!=null&&h.technician))return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx(Ht,{className:"h-12 w-12 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Technician Not Found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Technician yang Anda cari tidak ditemukan"}),s.jsx(xo,{to:"/technicians",label:"Back to Technicians"})]});const l=n.data.technician,o=n.data.stats||{},c=n.data.recent_tickets||[],u=m=>m?new Date(m).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",d=m=>{const x={available:{color:"green",label:"Available"},on_duty:{color:"blue",label:"On Duty"},off_duty:{color:"gray",label:"Off Duty"},on_leave:{color:"yellow",label:"On Leave"},active:{color:"green",label:"Active"},inactive:{color:"red",label:"Inactive"},suspended:{color:"orange",label:"Suspended"}}[m]||{color:"gray",label:m};return s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-${x.color}-100 text-${x.color}-800`,children:x.label})},f=[{id:"overview",label:"Overview",icon:Ct},{id:"performance",label:"Performance",icon:n0},{id:"tickets",label:"Recent Tickets",icon:Zs}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(xo,{to:"/technicians",label:"Back to Technicians"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.full_name}),s.jsxs("p",{className:"text-gray-600",children:["Employee ID: ",l.employee_id]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(zn,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(zn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm",children:l.phone_number||"-"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm",children:l.email||"-"})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(jn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm",children:l.work_zone||"-"})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Zs,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Availability"}),d(l.availability_status)]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Employment"}),d(l.employment_status)]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Skill Level"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:l.skill_level})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(qu,{className:"h-5 w-5 text-yellow-600 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Performance"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Rating"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(qu,{className:"h-4 w-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 ml-1",children:o.avg_rating?o.avg_rating.toFixed(1):"N/A"})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Tickets"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.total_tickets||0})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.completed_tickets||0})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:f.map(m=>{const p=m.icon;return s.jsxs("button",{onClick:()=>r(m.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${t===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(p,{className:"h-4 w-4 mr-2"}),m.label]},m.id)})})}),s.jsxs("div",{className:"p-6",children:[t==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Full Name"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.full_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Employee ID"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.employee_id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Hire Date"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:u(l.hire_date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Max Daily Tickets"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.max_daily_tickets||"-"})]})]})]}),l.specializations&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Specializations"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l.specializations.map((m,p)=>s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:m},p))})]})]}),t==="performance"&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(n0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Performance Metrics"}),s.jsx("p",{className:"text-gray-500",children:"Detailed performance analytics will be displayed here."})]}),t==="tickets"&&s.jsx("div",{children:c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Zs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Recent Tickets"}),s.jsx("p",{className:"text-gray-500",children:"No tickets assigned to this technician yet."})]}):s.jsx("div",{className:"space-y-4",children:c.map(m=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900",children:m.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx(Nr,{className:"h-3 w-3 mr-1"}),u(m.created_at)]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.status==="completed"?"bg-green-100 text-green-800":m.status==="in_progress"?"bg-blue-100 text-blue-800":m.status==="assigned"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:m.status.replace("_"," ")})]})},m.id))})})]})]})]})},Ix={getAll:async()=>await be.get("/inventory"),getById:async e=>await be.get(`/inventory/${e}`),create:async e=>await be.post("/inventory",e),update:async(e,t)=>await be.put(`/inventory/${e}`,t),delete:async e=>await be.delete(`/inventory/${e}`),adjustStock:async(e,t)=>await be.post(`/inventory/${e}/adjust`,t)},lbe=({item:e,onClose:t,onSuccess:r})=>{const n=!!e,{register:a,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=Ha({defaultValues:e||{item_code:"",name:"",category:"",description:"",unit:"pcs",unit_price:"",minimum_stock:10,current_stock:0,location:"",supplier:"",is_active:!0}});w.useEffect(()=>{e&&c(e)},[e,c]);const u=qt(f=>n?Ix.update(e.id,f):Ix.create(f),{onSuccess:()=>{ne.success(n?"Item berhasil diupdate":"Item berhasil ditambahkan"),r()},onError:f=>{var h,m;ne.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Terjadi kesalahan")}}),d=f=>{const h={...f,is_active:f.is_active==="true"||f.is_active===!0,unit_price:parseFloat(f.unit_price)||0,minimum_stock:parseInt(f.minimum_stock)||0,current_stock:parseInt(f.current_stock)||0};u.mutate(h)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Edit Item":"Tambah Item Baru"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:i(d),className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kode Item ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"INV-001",...a("item_code",{required:"Kode item wajib diisi",minLength:{value:3,message:"Kode minimal 3 karakter"}})}),l.item_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.item_code.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Item ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"Nama item",...a("name",{required:"Nama item wajib diisi"})}),l.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name.message})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Kategori & Satuan"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kategori ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{className:"input-field",...a("category",{required:"Kategori wajib dipilih"}),children:[s.jsx("option",{value:"",children:"Pilih Kategori"}),s.jsx("option",{value:"Hardware",children:"Hardware"}),s.jsx("option",{value:"Cable",children:"Cable"}),s.jsx("option",{value:"Network Equipment",children:"Network Equipment"}),s.jsx("option",{value:"Tools",children:"Tools"}),s.jsx("option",{value:"Accessories",children:"Accessories"}),s.jsx("option",{value:"Consumables",children:"Consumables"})]}),l.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Satuan ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"pcs, meter, box",...a("unit",{required:"Satuan wajib diisi"})}),l.unit&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.unit.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Harga Satuan (Rp)"}),s.jsx("input",{type:"number",className:"input-field",placeholder:"0",step:"0.01",...a("unit_price")})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Stok"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Stok Minimal ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",className:"input-field",min:"0",...a("minimum_stock",{required:"Stok minimal wajib diisi",min:{value:0,message:"Tidak boleh negatif"}})}),l.minimum_stock&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.minimum_stock.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stok Saat Ini"}),s.jsx("input",{type:"number",className:"input-field",min:"0",...a("current_stock",{min:{value:0,message:"Tidak boleh negatif"}})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Lokasi & Supplier"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lokasi"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"Gudang A, Rak 1",...a("location")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"Nama supplier",...a("supplier")})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi"}),s.jsx("textarea",{className:"input-field",rows:"2",placeholder:"Deskripsi item",...a("description")})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"true",...a("is_active"),className:"mr-2"}),"Active"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"false",...a("is_active"),className:"mr-2"}),"Inactive"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),s.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":n?"Update Item":"Tambah Item"})]})]})]})})},obe=()=>{var C;const[e,t]=w.useState(""),[r,n]=w.useState("all"),[a,i]=w.useState("all"),[l,o]=w.useState(!1),[c,u]=w.useState(null),d=vr(),{data:f,isLoading:h}=Ge(["inventory-items"],Ix.getAll,{refetchOnWindowFocus:!1}),m=Array.isArray(f)?f:((C=f==null?void 0:f.data)==null?void 0:C.items)||(f==null?void 0:f.items)||[],p=qt(A=>Ix.delete(A),{onSuccess:()=>{ne.success("Item berhasil dihapus"),d.invalidateQueries(["inventory-items"])},onError:A=>{var S,B;ne.error(((B=(S=A.response)==null?void 0:S.data)==null?void 0:B.message)||"Gagal menghapus item")}}),x=(m==null?void 0:m.filter(A=>{var Y,z;const S=((Y=A.name)==null?void 0:Y.toLowerCase().includes(e.toLowerCase()))||((z=A.item_code)==null?void 0:z.toLowerCase().includes(e.toLowerCase())),B=r==="all"||A.category===r,M=a==="all"||a==="low"&&A.current_stock<=A.minimum_stock||a==="available"&&A.current_stock>A.minimum_stock;return S&&B&&M}))||[],g=(m==null?void 0:m.length)||0,y=(m==null?void 0:m.filter(A=>A.is_active).length)||0,b=(m==null?void 0:m.filter(A=>A.current_stock<=A.minimum_stock).length)||0,v=(m==null?void 0:m.reduce((A,S)=>A+S.current_stock*(S.unit_price||0),0))||0,N=[...new Set((m==null?void 0:m.map(A=>A.category).filter(Boolean))||[])],_=()=>{u(null),o(!0)},j=A=>{u(A),o(!0)},k=(A,S)=>{window.confirm(`Apakah Anda yakin ingin menghapus item "${S}"?`)&&p.mutate(A)},E=()=>{o(!1),u(null)},T=()=>{d.invalidateQueries(["inventory-items"]),E()};return h?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),s.jsx("p",{className:"text-gray-600",children:"Kelola stok barang dan peralatan"})]}),s.jsxs("button",{onClick:_,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Item"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:ir,title:"Total Items",value:g,color:"blue"}),s.jsx(Ue,{icon:ir,title:"Active Items",value:y,color:"green"}),s.jsx(Ue,{icon:Si,title:"Low Stock",value:b,color:"red"}),s.jsx(Ue,{icon:ir,title:"Total Value",value:`Rp ${v.toLocaleString("id-ID")}`,color:"purple"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Cari item...",className:"input-field pl-10",value:e,onChange:A=>t(A.target.value)})]}),s.jsxs("select",{className:"input-field",value:r,onChange:A=>n(A.target.value),children:[s.jsx("option",{value:"all",children:"Semua Kategori"}),N.map(A=>s.jsx("option",{value:A,children:A},A))]}),s.jsxs("select",{className:"input-field",value:a,onChange:A=>i(A.target.value),children:[s.jsx("option",{value:"all",children:"Semua Status"}),s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"low",children:"Low Stock"})]})]})}),s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada item"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan item pertama"}),s.jsxs("button",{onClick:_,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Item"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kode"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(A=>{const S=A.current_stock<=A.minimum_stock;return s.jsxs("tr",{className:`hover:bg-gray-50 ${S?"bg-red-50":""}`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.item_code})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),A.description&&s.jsx("div",{className:"text-xs text-gray-500",children:A.description})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:A.category||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[A.current_stock," ",A.unit,S&&s.jsxs("span",{className:"ml-2 text-xs text-red-600",children:["(Min: ",A.minimum_stock,")"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:A.unit_price?`Rp ${parseInt(A.unit_price).toLocaleString("id-ID")}`:"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:A.location||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S?s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Low Stock"}):s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Available"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>j(A),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Item",children:s.jsx(ti,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>k(A.id,A.name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Item",children:s.jsx(Ya,{className:"h-4 w-4"})})]})})]},A.id)})})]})})}),l&&s.jsx(lbe,{item:c,onClose:E,onSuccess:T})]})},qy={getAll:async(e={})=>await be.get("/inventory-stock",{params:e}),getById:async e=>await be.get(`/inventory-stock/${e}`),update:async(e,t)=>await be.put(`/inventory-stock/${e}`,t),getLowStockAlerts:async()=>await be.get("/inventory-stock/alerts/low-stock"),getValueByCategory:async()=>await be.get("/inventory-stock/reports/value-by-category"),getStats:async()=>await be.get("/inventory-stock/stats")},cbe=()=>{const e=vr(),[t,r]=w.useState(""),[n,a]=w.useState("all"),[i,l]=w.useState(!1),[o,c]=w.useState(1),[u,d]=w.useState("equipment_name"),[f,h]=w.useState("asc"),[m,p]=w.useState(10),{data:x,isLoading:g}=Ge(["inventory-stock",n,i,o,m,u,f,t],()=>qy.getAll({category:n!=="all"?n:void 0,low_stock:i?"true":void 0,search:t||void 0,page:o,limit:m,sort_by:u,sort_order:f}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),{data:y}=Ge("low-stock-alerts",qy.getLowStockAlerts,{refetchOnWindowFocus:!1}),{data:b}=Ge("inventory-stats",qy.getStats,{refetchOnWindowFocus:!0,refetchOnMount:"always"}),v=Array.isArray(x==null?void 0:x.data)?x.data:[],N=Array.isArray(y==null?void 0:y.data)?y.data:[],_=(x==null?void 0:x.pagination)||{},j=(b==null?void 0:b.data)||{},k=parseInt(j.total_items)||0,E=parseFloat(j.total_value)||0,T=parseInt(j.low_stock_count)||0,C=parseInt(j.total_categories)||0;w.useEffect(()=>{const R=()=>{e.invalidateQueries(["inventory-stock"]),e.invalidateQueries("inventory-stats"),e.invalidateQueries("low-stock-alerts"),console.log(" Inventory list & stats refreshed")};return window.addEventListener("inventory-updated",R),window.addEventListener("stock-changed",R),()=>{window.removeEventListener("inventory-updated",R),window.removeEventListener("stock-changed",R)}},[e]);const A=R=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(R),S=R=>({devices:"bg-blue-100 text-blue-800",cables:"bg-green-100 text-green-800",accessories:"bg-yellow-100 text-yellow-800",tools:"bg-purple-100 text-purple-800"})[R]||"bg-gray-100 text-gray-800",B=R=>{u===R?h(f==="asc"?"desc":"asc"):(d(R),h("asc")),c(1)},M=R=>u!==R?s.jsx(Ts,{className:"h-4 w-4"}):f==="asc"?s.jsx(As,{className:"h-4 w-4"}):s.jsx(Cs,{className:"h-4 w-4"}),Y=R=>{r(R.target.value),c(1)},z=(R,H)=>{R==="category"?a(H):R==="lowStock"&&l(H),c(1)};return g&&o===1?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Stock"}),s.jsx("p",{className:"text-gray-600",children:"Kelola stok equipment dan tools"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{title:"Total Items",value:k,icon:ir,color:"blue"}),s.jsx(Ue,{title:"Total Nilai",value:E,icon:Cp,color:"green",format:"currency"}),s.jsx(Ue,{title:"Low Stock",value:T,icon:Si,color:"red",onClick:()=>{l(!i),c(1)}}),s.jsx(Ue,{title:"Kategori",value:C,icon:hg,color:"purple"})]}),N.length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Si,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("h3",{className:"font-semibold text-yellow-800",children:["Peringatan Stock Menipis (",N.length," item)"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map(R=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-yellow-100",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.equipment_name}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Stock: ",R.current_stock," ",R.unit," (Min: ",R.minimum_stock,")"]})]}),s.jsxs("span",{className:"text-xs text-red-600 font-semibold",children:["-",R.shortage]})]},R.id))})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari equipment...",value:t,onChange:Y})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),s.jsxs("select",{className:"form-input",value:n,onChange:R=>z("category",R.target.value),children:[s.jsx("option",{value:"all",children:"Semua Kategori"}),s.jsx("option",{value:"devices",children:"Devices"}),s.jsx("option",{value:"cables",children:"Cables"}),s.jsx("option",{value:"accessories",children:"Accessories"}),s.jsx("option",{value:"tools",children:"Tools"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),s.jsx("select",{className:"form-input",value:"all",onChange:R=>{},children:s.jsx("option",{value:"all",children:"Semua Supplier"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Stock"}),s.jsxs("select",{className:"form-input",value:i?"low":"all",onChange:R=>z("lowStock",R.target.value==="low"),children:[s.jsx("option",{value:"all",children:"Semua Stock"}),s.jsx("option",{value:"low",children:"Low Stock Only"})]})]})]})}),v.length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada inventory stock"}),s.jsx("p",{className:"text-gray-500",children:"Data inventory stock tidak ditemukan"})]}):s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Inventory",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",_.totalRecords||0," total)"]})]})}),s.jsxs("div",{className:"card-body p-0",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("equipment_name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Equipment"}),M("equipment_name")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("category"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Kategori"}),M("category")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("current_stock"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Stock"}),M("current_stock")]})}),s.jsx("th",{className:"table-header-cell text-right cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("unit_cost"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Unit Cost"}),M("unit_cost")]})}),s.jsx("th",{className:"table-header-cell text-right cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("total_value"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Total Value"}),M("total_value")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>B("supplier_name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Supplier"}),M("supplier_name")]})}),s.jsx("th",{className:"table-header-cell text-center",children:"Status"})]})}),s.jsx("tbody",{className:"table-body",children:v.map(R=>s.jsxs("tr",{children:[s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.equipment_name}),s.jsx("div",{className:"text-xs text-gray-500 font-mono",children:R.equipment_code})]}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${S(R.category)}`,children:R.category})}),s.jsxs("td",{className:"table-cell whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[R.current_stock," ",R.unit]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Min: ",R.minimum_stock]})]}),s.jsx("td",{className:"table-cell whitespace-nowrap text-sm text-gray-900 text-right",children:A(R.unit_cost)}),s.jsx("td",{className:"table-cell whitespace-nowrap text-right",children:s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:A(R.total_value)})}),s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"text-sm text-gray-900",children:R.supplier_name}),s.jsx("div",{className:"text-xs text-gray-500",children:R.supplier_contact})]}),s.jsx("td",{className:"table-cell whitespace-nowrap text-center",children:R.is_low_stock?s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Low Stock"}):s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Stock OK"})})]},R.id))})]})}),s.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>c(Math.min(_.totalPages||1,o+1)),disabled:o===(_.totalPages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:m,onChange:R=>{p(parseInt(R.target.value)),c(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(o-1)*m+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(o*m,_.totalRecords||0)})," ","of ",s.jsx("span",{className:"font-medium",children:_.totalRecords||0})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(_.totalPages||1,10)},(R,H)=>{const U=_.totalPages||1;return U<=10||o<=5?H+1:o>=U-4?U-9+H:o-5+H}).map(R=>s.jsx("button",{onClick:()=>c(R),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===R?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:R},R)),s.jsx("button",{onClick:()=>c(Math.min(_.totalPages||1,o+1)),disabled:o===(_.totalPages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})]})]})]})},ube=({package:e,onClose:t})=>{const r=vr(),n=!!e,{register:a,handleSubmit:i,formState:{errors:l}}=Ha({defaultValues:e||{name:"",type:"broadband",speed_mbps:"",price:"",description:""}}),o=qt(u=>n?ws.update(e.id,u):ws.create(u),{onSuccess:()=>{r.invalidateQueries("packages"),fr.success(`Paket berhasil ${n?"diupdate":"ditambahkan"}`),t()},onError:u=>{var d,f;fr.error(((f=(d=u.response)==null?void 0:d.data)==null?void 0:f.message)||`Gagal ${n?"mengupdate":"menambahkan"} paket`)}}),c=u=>{o.mutate({...u,speed_mbps:parseInt(u.speed_mbps),price:parseFloat(u.price)})};return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n?"Edit Paket":"Tambah Paket Baru"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:i(c),className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Paket *"}),s.jsx("input",{type:"text",...a("name",{required:"Nama paket wajib diisi"}),className:"input",placeholder:"Contoh: Paket Home 10 Mbps"}),l.name&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Paket *"}),s.jsxs("select",{...a("type",{required:"Tipe paket wajib dipilih"}),className:"input",children:[s.jsx("option",{value:"broadband",children:"Broadband"}),s.jsx("option",{value:"dedicated",children:"Dedicated"}),s.jsx("option",{value:"corporate",children:"Corporate"})]}),l.type&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.type.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kecepatan (Mbps) *"}),s.jsx("input",{type:"number",...a("speed_mbps",{required:"Kecepatan wajib diisi",min:{value:1,message:"Minimal 1 Mbps"}}),className:"input",placeholder:"10"}),l.speed_mbps&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.speed_mbps.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Harga (Rp) *"}),s.jsx("input",{type:"number",...a("price",{required:"Harga wajib diisi",min:{value:0,message:"Harga tidak boleh negatif"}}),className:"input",placeholder:"250000"}),l.price&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.price.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi"}),s.jsx("textarea",{...a("description"),rows:3,className:"input",placeholder:"Deskripsi paket (opsional)"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 btn-outline",disabled:o.isLoading,children:"Batal"}),s.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:o.isLoading,children:o.isLoading?"Menyimpan...":n?"Update":"Simpan"})]})]})]})})},dbe=()=>{const e=vr(),[t,r]=w.useState(""),[n,a]=w.useState("all"),[i,l]=w.useState(!1),[o,c]=w.useState(null),[u,d]=w.useState("type"),[f,h]=w.useState("asc"),[m,p]=w.useState(1),[x,g]=w.useState(10),{data:y,isLoading:b}=Ge(["packages",n,t,u,f,m,x],()=>ws.getAll({type:n!=="all"?n:void 0,search:t||void 0,page:m,limit:x,sort_by:u,sort_order:f}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),v=(y==null?void 0:y.data)||[],N=(y==null?void 0:y.pagination)||{},{data:_}=Ge("all-packages-stats",()=>ws.getAll({page:1,limit:100}),{refetchOnWindowFocus:!1}),j=(_==null?void 0:_.data)||[],k=j.length,E=j.filter(K=>K.type==="broadband").length,T=j.filter(K=>K.type==="dedicated").length,C=j.filter(K=>K.type==="corporate").length,A=qt(ws.delete,{onSuccess:()=>{e.invalidateQueries("packages"),e.invalidateQueries("all-packages-stats"),fr.success("Paket berhasil dihapus")},onError:K=>{var D,L;fr.error(((L=(D=K.response)==null?void 0:D.data)==null?void 0:L.message)||"Gagal menghapus paket")}}),S=()=>{c(null),l(!0)},B=K=>{c(K),l(!0)},M=async(K,D)=>{window.confirm(`Apakah Anda yakin ingin menghapus paket "${D}"?`)&&A.mutate(K)},Y=K=>{u===K?h(f==="asc"?"desc":"asc"):(d(K),h("asc")),p(1)},z=K=>u!==K?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):f==="asc"?s.jsx(As,{className:"h-4 w-4"}):s.jsx(Cs,{className:"h-4 w-4"}),R=K=>{r(K.target.value),p(1)},H=K=>{a(K),p(1)},U=K=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(K),te=K=>({broadband:"bg-green-100 text-green-800",dedicated:"bg-purple-100 text-purple-800",corporate:"bg-orange-100 text-orange-800"})[K]||"bg-gray-100 text-gray-800";return b&&m===1?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Paket Langganan"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola paket internet untuk pelanggan"})]}),s.jsxs("button",{onClick:S,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Paket"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:ru,title:"Total Paket",value:k,color:"blue"}),s.jsx(Ue,{icon:ru,title:"Broadband",value:E,color:"green"}),s.jsx(Ue,{icon:ru,title:"Dedicated",value:T,color:"purple"}),s.jsx(Ue,{icon:ru,title:"Corporate",value:C,color:"orange"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari paket...",value:t,onChange:R})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipe Paket"}),s.jsxs("select",{className:"form-input",value:n,onChange:K=>H(K.target.value),children:[s.jsx("option",{value:"all",children:"Semua Tipe"}),s.jsx("option",{value:"broadband",children:"Broadband"}),s.jsx("option",{value:"dedicated",children:"Dedicated"}),s.jsx("option",{value:"corporate",children:"Corporate"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Speed Range"}),s.jsx("select",{className:"form-input",value:"all",onChange:K=>{},children:s.jsx("option",{value:"all",children:"Semua Kecepatan"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Range"}),s.jsx("select",{className:"form-input",value:"all",onChange:K=>{},children:s.jsx("option",{value:"all",children:"Semua Harga"})})]})]})}),v.length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx(ru,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada paket"}),s.jsx("p",{className:"text-gray-500 mb-4",children:t||n!=="all"?"Tidak ada paket yang sesuai dengan filter":"Mulai dengan menambahkan paket langganan pertama"}),!t&&n==="all"&&s.jsxs("button",{onClick:S,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Paket"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Packages",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",N.total||0," total)"]})]})}),s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Y("name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Package Name"}),z("name")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Y("type"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Type"}),z("type")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Y("speed_mbps"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Speed"}),z("speed_mbps")]})}),s.jsx("th",{className:"table-header-cell",children:"Description"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors text-right",onClick:()=>Y("price"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Monthly Price"}),z("price")]})}),s.jsx("th",{className:"table-header-cell text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:v.map(K=>s.jsxs("tr",{children:[s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${te(K.type)}`,children:K.type?K.type.charAt(0).toUpperCase()+K.type.slice(1):"Unknown"})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-semibold text-blue-600",children:[K.speed_mbps," Mbps"]})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm text-gray-900 truncate",title:K.description,style:{maxWidth:"300px"},children:K.description||"-"})}),s.jsxs("td",{className:"table-cell whitespace-nowrap text-right",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:U(K.price)}),s.jsx("div",{className:"text-xs text-gray-500",children:"/bulan"})]}),s.jsx("td",{className:"table-cell text-center",children:s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsx("button",{onClick:()=>B(K),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Package",children:s.jsx(ti,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>M(K.id,K.name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Package",disabled:A.isLoading,children:s.jsx(Ya,{className:"h-4 w-4"})})]})})]},K.id))})]})})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg",children:s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>p(Math.min(N.pages||1,m+1)),disabled:m===(N.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:x,onChange:K=>{g(parseInt(K.target.value)),p(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(m-1)*x+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(m*x,N.total||0)})," ","of ",s.jsx("span",{className:"font-medium",children:N.total||0})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(N.pages||1,10)},(K,D)=>{const L=N.pages||1;return L<=10||m<=5?D+1:m>=L-4?L-9+D:m-5+D}).map(K=>s.jsx("button",{onClick:()=>p(K),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${m===K?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:K},K)),s.jsx("button",{onClick:()=>p(Math.min(N.pages||1,m+1)),disabled:m===(N.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})})]}),i&&s.jsx(ube,{package:o,onClose:()=>{l(!1),c(null)}})]})},fbe={getAll:async(e={})=>{try{const t=new URLSearchParams;e.service_type&&t.append("service_type",e.service_type),e.package_type&&t.append("package_type",e.package_type),e.is_free&&t.append("is_free",e.is_free),e.is_active&&t.append("is_active",e.is_active),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await be.get(`/pricelist${r?"?"+r:""}`)}catch(t){return console.error(" PricelistService error:",t),{data:[],pagination:{},summary:[]}}},getById:async e=>await be.get(`/pricelist/${e}`),getByServiceType:async(e,t={})=>await be.get(`/pricelist/by-service/${e}`,{params:t}),create:async e=>await be.post("/pricelist",e),update:async(e,t)=>await be.put(`/pricelist/${e}`,t),delete:async e=>await be.delete(`/pricelist/${e}`),getSummary:async()=>await be.get("/pricelist/reports/summary")},hbe=()=>{const[e,t]=w.useState(""),[r,n]=w.useState("all"),[a,i]=w.useState("all"),[l,o]=w.useState("all"),[c,u]=w.useState("base_price"),[d,f]=w.useState("desc"),[h,m]=w.useState({}),[p,x]=w.useState(10),g=[{code:"installation",name:"Installation"},{code:"repair",name:"Repair"},{code:"maintenance",name:"Maintenance"},{code:"upgrade",name:"Upgrade"},{code:"downgrade",name:"Downgrade"},{code:"wifi_setup",name:"WiFi Setup"},{code:"dismantle",name:"Dismantle"}],{data:y,isLoading:b}=Ge(["pricelist-all",r,a,l,e,c,d],()=>fbe.getAll({is_active:"true",service_type:r!=="all"?r:void 0,package_type:a!=="all"?a:void 0,is_free:l!=="all"?l:void 0,search:e||void 0,page:1,limit:1e3,sort_by:c,sort_order:d}),{refetchOnWindowFocus:!1}),v=(y==null?void 0:y.data)||[];y!=null&&y.summary;const N=v.length,_=v.filter(z=>z.is_free).length,j=v.filter(z=>!z.is_free).length,k=[...new Set(v.map(z=>z.service_type_code))].length,E=v.reduce((z,R)=>(z[R.service_type_code]||(z[R.service_type_code]={type_name:R.type_name,items:[]}),z[R.service_type_code].items.push(R),z),{}),T=z=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(z),C=z=>{c===z?f(d==="asc"?"desc":"asc"):(u(z),f("asc"))},A=z=>c!==z?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):d==="asc"?s.jsx(As,{className:"h-4 w-4"}):s.jsx(Cs,{className:"h-4 w-4"}),S=z=>{t(z.target.value)},B=(z,R)=>{z==="serviceType"?n(R):z==="package"?i(R):z==="isFree"&&o(R)},M=z=>h[z]||1,Y=(z,R)=>{m(H=>({...H,[z]:R}))};return b?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Price List"}),s.jsx("p",{className:"text-gray-600",children:"Daftar harga service dan biaya tambahan"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{title:"Total Items",value:N,icon:$o,color:"blue"}),s.jsx(Ue,{title:"Service Types",value:k,icon:Cp,color:"purple"}),s.jsx(Ue,{title:"Gratis",value:_,icon:mW,color:"green"}),s.jsx(Ue,{title:"Berbayar",value:j,icon:zm,color:"yellow"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari harga service...",value:e,onChange:S})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),s.jsxs("select",{className:"form-input",value:r,onChange:z=>B("serviceType",z.target.value),children:[s.jsx("option",{value:"all",children:"Semua Service Type"}),g.map(z=>s.jsx("option",{value:z.code,children:z.name},z.code))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Package"}),s.jsxs("select",{className:"form-input",value:a,onChange:z=>B("package",z.target.value),children:[s.jsx("option",{value:"all",children:"Semua Paket"}),s.jsx("option",{value:"bronze",children:"Bronze"}),s.jsx("option",{value:"silver",children:"Silver"}),s.jsx("option",{value:"gold",children:"Gold"}),s.jsx("option",{value:"platinum",children:"Platinum"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Harga"}),s.jsxs("select",{className:"form-input",value:l,onChange:z=>B("isFree",z.target.value),children:[s.jsx("option",{value:"all",children:"Semua Harga"}),s.jsx("option",{value:"true",children:"Gratis"}),s.jsx("option",{value:"false",children:"Berbayar"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rows Per Table"}),s.jsxs("select",{className:"form-input",value:p,onChange:z=>{x(parseInt(z.target.value)),m({})},children:[s.jsx("option",{value:"5",children:"5 rows"}),s.jsx("option",{value:"10",children:"10 rows"}),s.jsx("option",{value:"25",children:"25 rows"}),s.jsx("option",{value:"50",children:"50 rows"})]})]})]})}),Object.keys(E).length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx($o,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada price list"}),s.jsx("p",{className:"text-gray-500",children:"Data price list tidak ditemukan"})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(E).map(([z,R])=>{const H=M(z),U=R.items.length,te=Math.ceil(U/p),K=(H-1)*p,D=K+p,L=R.items.slice(K,D);return s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[R.type_name,s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",U," items)"]})]})}),s.jsxs("div",{className:"card-body p-0",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>C("price_name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Nama Service"}),A("price_name")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>C("category_name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Kategori"}),A("category_name")]})}),s.jsx("th",{className:"table-header-cell",children:"Deskripsi"}),s.jsx("th",{className:"table-header-cell",children:"Paket"}),s.jsx("th",{className:"table-header-cell text-right cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>C("base_price"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Harga"}),A("base_price")]})}),s.jsx("th",{className:"table-header-cell",children:"Notes"})]})}),s.jsx("tbody",{className:"table-body",children:L.map(F=>s.jsxs("tr",{children:[s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.price_name})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:F.category_name||"-"})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm text-gray-900 truncate",style:{maxWidth:"200px"},title:F.description,children:F.description||"-"})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:F.applies_to_package&&F.applies_to_package!=="all"?s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800 uppercase",children:F.applies_to_package}):s.jsx("span",{className:"text-xs text-gray-500",children:"All"})}),s.jsx("td",{className:"table-cell whitespace-nowrap text-right",children:F.is_free?s.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:" GRATIS"}):s.jsx("div",{className:"text-sm font-bold text-gray-900",children:T(F.base_price)})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-xs text-gray-600 italic truncate",style:{maxWidth:"150px"},title:F.notes,children:F.notes||"-"})})]},F.id))})]})}),te>1&&s.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>Y(z,Math.max(1,H-1)),disabled:H===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>Y(z,Math.min(te,H+1)),disabled:H===te,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:K+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(D,U)})," of"," ",s.jsx("span",{className:"font-medium",children:U})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>Y(z,Math.max(1,H-1)),disabled:H===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:te},(F,O)=>O+1).map(F=>s.jsx("button",{onClick:()=>Y(z,F),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${H===F?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:F},F)),s.jsx("button",{onClick:()=>Y(z,Math.min(te,H+1)),disabled:H===te,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})]})]},z)})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Informasi Price List"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Price list ini dapat dilihat oleh public untuk transparansi harga"}),s.jsx("li",{children:" Harga dapat berbeda tergantung paket yang dilanggan customer"}),s.jsx("li",{children:" Service yang ditandai GRATIS tidak dikenakan biaya tambahan"}),s.jsx("li",{children:" Biaya kabel tambahan dan spare part dikenakan terpisah jika diperlukan"})]})]})]})})]})},mbe=({equipment:e,onClose:t,onSuccess:r})=>{const n=!!e,{register:a,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=Ha({defaultValues:e||{equipment_code:"",equipment_name:"",category:"",description:"",unit:"pcs",is_active:!0}});w.useEffect(()=>{e&&c(e)},[e,c]);const u=qt(f=>n?Ou.update(e.id,f):Ou.create(f),{onSuccess:()=>{ne.success(n?"Equipment berhasil diupdate":"Equipment berhasil ditambahkan"),r()},onError:f=>{var h,m;ne.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Terjadi kesalahan")}}),d=f=>{const h={...f,is_active:f.is_active==="true"||f.is_active===!0};u.mutate(h)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Edit Equipment":"Tambah Equipment Baru"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:i(d),className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kode Equipment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"EQ-001",...a("equipment_code",{required:"Kode equipment wajib diisi",minLength:{value:3,message:"Kode minimal 3 karakter"}})}),l.equipment_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.equipment_code.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Equipment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"Optical Fiber Cable",...a("equipment_name",{required:"Nama equipment wajib diisi"})}),l.equipment_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.equipment_name.message})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Detail Produk"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kategori ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{className:"input-field",...a("category",{required:"Kategori wajib dipilih"}),children:[s.jsx("option",{value:"",children:"Pilih Kategori"}),s.jsx("option",{value:"devices",children:"Devices"}),s.jsx("option",{value:"cables",children:"Cables"}),s.jsx("option",{value:"connectors",children:"Connectors"}),s.jsx("option",{value:"tools",children:"Tools"}),s.jsx("option",{value:"accessories",children:"Accessories"})]}),l.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"pcs, meter, roll",...a("unit")})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi"}),s.jsx("textarea",{className:"input-field",rows:"2",placeholder:"Deskripsi singkat equipment",...a("description")})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"true",...a("is_active"),className:"mr-2"}),"Active"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"false",...a("is_active"),className:"mr-2"}),"Inactive"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),s.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":n?"Update Equipment":"Tambah Equipment"})]})]})]})})},pbe=()=>{const[e,t]=w.useState(""),[r,n]=w.useState("all"),[a,i]=w.useState("all"),[l,o]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState("equipment_name"),[h,m]=w.useState("asc"),[p,x]=w.useState(1),[g,y]=w.useState(10),b=vr(),{data:v,isLoading:N}=Ge(["equipment-list",r,a,e,d,h,p,g],()=>Ou.getAll({category:r!=="all"?r:void 0,status:a!=="all"?a:void 0,search:e||void 0,page:p,limit:g,sort_by:d,sort_order:h}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),_=(v==null?void 0:v.data)||[],j=(v==null?void 0:v.pagination)||{},{data:k}=Ge("all-equipment-stats",()=>Ou.getAll({page:1,limit:1e3}),{refetchOnWindowFocus:!1}),E=(k==null?void 0:k.data)||[],T=E.length,C=E.filter(O=>O.is_active).length,A=E.filter(O=>!O.is_active).length,S=[...new Set(E.map(O=>O.category).filter(Boolean))],B=S.length,M=qt(O=>Ou.delete(O),{onSuccess:()=>{ne.success("Equipment berhasil dihapus"),b.invalidateQueries(["equipment-list"]),b.invalidateQueries("all-equipment-stats")},onError:O=>{var re,oe;ne.error(((oe=(re=O.response)==null?void 0:re.data)==null?void 0:oe.message)||"Gagal menghapus equipment")}}),Y=()=>{u(null),o(!0)},z=O=>{u(O),o(!0)},R=(O,re)=>{window.confirm(`Apakah Anda yakin ingin menghapus equipment "${re}"?`)&&M.mutate(O)},H=()=>{o(!1),u(null)},U=()=>{b.invalidateQueries(["equipment-list"]),b.invalidateQueries("all-equipment-stats"),H()},te=O=>{d===O?m(h==="asc"?"desc":"asc"):(f(O),m("asc")),x(1)},K=O=>d!==O?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):h==="asc"?s.jsx(As,{className:"h-4 w-4"}):s.jsx(Cs,{className:"h-4 w-4"}),D=O=>{t(O.target.value),x(1)},L=(O,re)=>{O==="category"?n(re):O==="status"&&i(re),x(1)},F=O=>({devices:"bg-blue-100 text-blue-800",cables:"bg-green-100 text-green-800",accessories:"bg-yellow-100 text-yellow-800",tools:"bg-purple-100 text-purple-800"})[O]||"bg-gray-100 text-gray-800";return N&&p===1?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Equipment Management"}),s.jsx("p",{className:"text-gray-600",children:"Kelola data Equipment"})]}),s.jsxs("button",{onClick:Y,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Equipment"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:ir,title:"Total Equipment",value:T,color:"blue"}),s.jsx(Ue,{icon:ir,title:"Active",value:C,color:"green"}),s.jsx(Ue,{icon:ir,title:"Inactive",value:A,color:"red"}),s.jsx(Ue,{icon:ir,title:"Categories",value:B,color:"purple"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari equipment...",value:e,onChange:D})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),s.jsxs("select",{className:"form-input",value:r,onChange:O=>L("category",O.target.value),children:[s.jsx("option",{value:"all",children:"Semua Kategori"}),S.map(O=>s.jsx("option",{value:O,children:O},O))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"form-input",value:a,onChange:O=>L("status",O.target.value),children:[s.jsx("option",{value:"all",children:"Semua Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Type"}),s.jsx("select",{className:"form-input",value:"all",onChange:O=>{},children:s.jsx("option",{value:"all",children:"Semua Unit"})})]})]})}),_.length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada equipment"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan equipment pertama"}),s.jsxs("button",{onClick:Y,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Equipment"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Equipment",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",j.total||0," total)"]})]})}),s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"900px"},children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("equipment_code"),style:{width:"140px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Kode"}),K("equipment_code")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("equipment_name"),style:{width:"280px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Nama Equipment"}),K("equipment_name")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("category"),style:{width:"130px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Kategori"}),K("category")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("unit"),style:{width:"80px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Unit"}),K("unit")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("is_active"),style:{width:"100px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),K("is_active")]})}),s.jsx("th",{className:"table-header-cell text-center",style:{width:"100px"},children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:_.map(O=>s.jsxs("tr",{children:[s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-mono text-gray-900 truncate",children:O.equipment_code})}),s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:O.equipment_name}),O.description&&s.jsx("div",{className:"text-xs text-gray-500 truncate",title:O.description,children:O.description})]}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${F(O.category)}`,children:O.category||"-"})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:O.unit||"pcs"})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${O.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:O.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"table-cell text-center",children:s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsx("button",{onClick:()=>z(O),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Equipment",children:s.jsx(ti,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R(O.id,O.equipment_name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Equipment",children:s.jsx(Ya,{className:"h-4 w-4"})})]})})]},O.id))})]})})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg",children:s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>x(Math.min(j.pages||1,p+1)),disabled:p===(j.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:g,onChange:O=>{y(parseInt(O.target.value)),x(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(p-1)*g+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(p*g,j.total||0)})," ","of ",s.jsx("span",{className:"font-medium",children:j.total||0})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(j.pages||1,10)},(O,re)=>{const oe=j.pages||1;return oe<=10||p<=5?re+1:p>=oe-4?oe-9+re:p-5+re}).map(O=>s.jsx("button",{onClick:()=>x(O),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${p===O?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:O},O)),s.jsx("button",{onClick:()=>x(Math.min(j.pages||1,p+1)),disabled:p===(j.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})})]}),l&&s.jsx(mbe,{equipment:c,onClose:H,onSuccess:U})]})},xbe=({odp:e,onClose:t,onSuccess:r})=>{const n=!!e,{register:a,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=Ha({defaultValues:e||{name:"",location:"",area:"",latitude:"",longitude:"",total_ports:8,used_ports:0,status:"active",notes:""}});w.useEffect(()=>{e&&c(e)},[e,c]);const u=qt(f=>n?Mu.update(e.id,f):Mu.create(f),{onSuccess:()=>{ne.success(n?"ODP berhasil diupdate":"ODP berhasil ditambahkan"),r()},onError:f=>{var h,m;ne.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Terjadi kesalahan")}}),d=f=>{u.mutate(f)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Edit ODP":"Tambah ODP Baru"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:i(d),className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama ODP ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",...a("name",{required:"Nama ODP wajib diisi",minLength:{value:3,message:"Nama minimal 3 karakter"}})}),l.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"Contoh: Area A, Zona 1",...a("area")})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Lokasi"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lokasi ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{className:"input-field",rows:"2",placeholder:"Alamat lengkap lokasi ODP",...a("location",{required:"Lokasi wajib diisi"})}),l.location&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.location.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"-6.200000",...a("latitude",{pattern:{value:/^-?\d+\.?\d*$/,message:"Format latitude tidak valid"}})}),l.latitude&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.latitude.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"106.816666",...a("longitude",{pattern:{value:/^-?\d+\.?\d*$/,message:"Format longitude tidak valid"}})}),l.longitude&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.longitude.message})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Kapasitas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Total Ports ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",className:"input-field",min:"1",...a("total_ports",{required:"Total ports wajib diisi",min:{value:1,message:"Minimal 1 port"},valueAsNumber:!0})}),l.total_ports&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.total_ports.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Used Ports"}),s.jsx("input",{type:"number",className:"input-field",min:"0",...a("used_ports",{min:{value:0,message:"Tidak boleh negatif"},valueAsNumber:!0})}),l.used_ports&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.used_ports.message})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{className:"input-field",...a("status",{required:"Status wajib dipilih"}),children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"full",children:"Full"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),l.status&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.status.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan"}),s.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Catatan tambahan tentang ODP ini",...a("notes")})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),s.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":n?"Update ODP":"Tambah ODP"})]})]})]})})},gbe=()=>{const[e,t]=w.useState(""),[r,n]=w.useState("all"),[a,i]=w.useState("all"),[l,o]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState("name"),[h,m]=w.useState("asc"),[p,x]=w.useState(1),[g,y]=w.useState(10),b=vr(),{data:v,isLoading:N}=Ge(["odps",r,a,e,d,h,p,g],()=>Mu.getAll({status:r!=="all"?r:void 0,area:a!=="all"?a:void 0,search:e||void 0,page:p,limit:g,sort_by:d,sort_order:h}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),_=(v==null?void 0:v.data)||[],j=(v==null?void 0:v.pagination)||{},{data:k}=Ge("all-odps-stats",()=>Mu.getAll({page:1,limit:1e3}),{refetchOnWindowFocus:!1}),E=(k==null?void 0:k.data)||[],T=E.length,C=E.filter(F=>F.status==="active").length,A=E.filter(F=>F.status==="full").length,S=E.filter(F=>F.status==="maintenance").length,B=[...new Set(E.map(F=>F.area).filter(Boolean))],M=qt(F=>Mu.delete(F),{onSuccess:()=>{ne.success("ODP berhasil dihapus"),b.invalidateQueries("odps"),b.invalidateQueries("all-odps-stats")},onError:F=>{var O,re;ne.error(((re=(O=F.response)==null?void 0:O.data)==null?void 0:re.message)||"Gagal menghapus ODP")}}),Y=()=>{u(null),o(!0)},z=F=>{u(F),o(!0)},R=(F,O)=>{window.confirm(`Apakah Anda yakin ingin menghapus ODP "${O}"?`)&&M.mutate(F)},H=()=>{o(!1),u(null)},U=()=>{b.invalidateQueries("odps"),b.invalidateQueries("all-odps-stats"),H()},te=F=>{d===F?m(h==="asc"?"desc":"asc"):(f(F),m("asc")),x(1)},K=F=>d!==F?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):h==="asc"?s.jsx(As,{className:"h-4 w-4"}):s.jsx(Cs,{className:"h-4 w-4"}),D=F=>{t(F.target.value),x(1)},L=(F,O)=>{F==="status"?n(O):F==="area"&&i(O),x(1)};return N&&p===1?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ODP Management"}),s.jsx("p",{className:"text-gray-600",children:"Kelola data Optical Distribution Point"})]}),s.jsxs("button",{onClick:Y,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah ODP"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:jn,title:"Total ODP",value:T,color:"blue"}),s.jsx(Ue,{icon:jn,title:"Active",value:C,color:"green"}),s.jsx(Ue,{icon:jn,title:"Full",value:A,color:"red"}),s.jsx(Ue,{icon:jn,title:"Maintenance",value:S,color:"yellow"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari ODP...",value:e,onChange:D})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Area"}),s.jsxs("select",{className:"form-input",value:a,onChange:F=>L("area",F.target.value),children:[s.jsx("option",{value:"all",children:"Semua Area"}),B.map(F=>s.jsx("option",{value:F,children:F},F))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"form-input",value:r,onChange:F=>L("status",F.target.value),children:[s.jsx("option",{value:"all",children:"Semua Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"full",children:"Full"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),s.jsx("select",{className:"form-input",value:"all",onChange:F=>{},children:s.jsx("option",{value:"all",children:"Semua Kapasitas"})})]})]})}),_.length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada ODP"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan ODP pertama"}),s.jsxs("button",{onClick:Y,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah ODP"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All ODPs",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",j.total||0," total)"]})]})}),s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"900px"},children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("name"),style:{width:"140px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Nama ODP"}),K("name")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("location"),style:{width:"230px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Lokasi"}),K("location")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("area"),style:{width:"130px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Area"}),K("area")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("used_ports"),style:{width:"120px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Kapasitas"}),K("used_ports")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("status"),style:{width:"90px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),K("status")]})}),s.jsx("th",{className:"table-header-cell text-center",style:{width:"110px"},children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:_.map(F=>{var O,re;return s.jsxs("tr",{children:[s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"text-sm text-gray-900 truncate",title:F.location,children:F.location}),F.latitude&&F.longitude&&s.jsxs("div",{className:"text-xs text-gray-500 font-mono truncate",children:[parseFloat(F.latitude).toFixed(6),", ",parseFloat(F.longitude).toFixed(6)]})]}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:F.area||"-"})}),s.jsxs("td",{className:"table-cell",children:[s.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[F.used_ports||0," / ",F.total_ports||0," ports"]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${F.used_ports/F.total_ports*100>=90?"bg-red-600":F.used_ports/F.total_ports*100>=70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${F.used_ports/F.total_ports*100}%`}})})]}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${F.status==="active"?"bg-green-100 text-green-800":F.status==="full"?"bg-red-100 text-red-800":F.status==="maintenance"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:((O=F.status)==null?void 0:O.charAt(0).toUpperCase())+((re=F.status)==null?void 0:re.slice(1))})}),s.jsx("td",{className:"table-cell text-center",children:s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsx("button",{onClick:()=>z(F),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit ODP",children:s.jsx(ti,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R(F.id,F.name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete ODP",children:s.jsx(Ya,{className:"h-4 w-4"})})]})})]},F.id)})})]})})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg",children:s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>x(Math.min(j.pages||1,p+1)),disabled:p===(j.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:g,onChange:F=>{y(parseInt(F.target.value)),x(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(p-1)*g+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(p*g,j.total||0)})," ","of ",s.jsx("span",{className:"font-medium",children:j.total||0})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>x(Math.max(1,p-1)),disabled:p===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(j.pages||1,10)},(F,O)=>{const re=j.pages||1;return re<=10||p<=5?O+1:p>=re-4?re-9+O:p-5+O}).map(F=>s.jsx("button",{onClick:()=>x(F),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${p===F?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:F},F)),s.jsx("button",{onClick:()=>x(Math.min(j.pages||1,p+1)),disabled:p===(j.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})})]}),l&&s.jsx(xbe,{odp:c,onClose:H,onSuccess:U})]})},vbe=({serviceType:e,onClose:t,onSuccess:r})=>{const n=!!e,{register:a,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=Ha({defaultValues:e||{type_code:"",type_name:"",description:"",icon:"",default_duration:120,is_active:!0,display_order:0}});w.useEffect(()=>{e&&c(e)},[e,c]);const u=qt(f=>n?so.update(e.id,f):so.create(f),{onSuccess:()=>{ne.success(n?"Service type berhasil diupdate":"Service type berhasil ditambahkan"),r()},onError:f=>{var h,m;ne.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Terjadi kesalahan")}}),d=f=>{u.mutate(f)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Edit Service Type":"Tambah Service Type Baru"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:i(d),className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type Code ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., installation, repair",...a("type_code",{required:"Type code wajib diisi",pattern:{value:/^[a-z_]+$/,message:"Gunakan lowercase dan underscore"}}),disabled:n}),l.type_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.type_code.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., Installation, Repair",...a("type_name",{required:"Type name wajib diisi",minLength:{value:3,message:"Minimal 3 karakter"}})}),l.type_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.type_name.message})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Deskripsi service type",...a("description")})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Konfigurasi"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., wrench, tool",...a("icon")}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lucide icon name"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Default Duration (minutes) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",className:"input-field",min:"1",...a("default_duration",{required:"Duration wajib diisi",min:{value:1,message:"Minimal 1 menit"},valueAsNumber:!0})}),l.default_duration&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.default_duration.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),s.jsx("input",{type:"number",className:"input-field",min:"0",...a("display_order",{min:{value:0,message:"Minimal 0"},valueAsNumber:!0})})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",...a("is_active")}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Service type aktif dan dapat digunakan"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),s.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":n?"Update Service Type":"Tambah Service Type"})]})]})]})})},ybe=()=>{const[e,t]=w.useState(""),[r,n]=w.useState("all"),[a,i]=w.useState(!1),[l,o]=w.useState(null),[c,u]=w.useState(1),[d,f]=w.useState("display_order"),[h,m]=w.useState("asc"),[p,x]=w.useState(10),g=vr(),{data:y,isLoading:b}=Ge(["service-types",c,p,d,h,e,r],()=>so.getAll({page:c,limit:p,sort_by:d,sort_order:h,search:e||void 0,active_only:r==="active"?"true":r==="inactive"?"false":void 0}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),v=(y==null?void 0:y.data)||[],N=(y==null?void 0:y.pagination)||{},{data:_}=Ge("all-service-types-stats",()=>so.getAll({page:1,limit:1e3}),{refetchOnWindowFocus:!1}),j=(_==null?void 0:_.data)||[],k=j.length,E=j.filter(te=>te.is_active).length,T=j.filter(te=>!te.is_active).length,C=qt(te=>so.delete(te),{onSuccess:()=>{ne.success("Service type berhasil dihapus"),g.invalidateQueries("service-types"),g.invalidateQueries("all-service-types-stats")},onError:te=>{var K,D;ne.error(((D=(K=te.response)==null?void 0:K.data)==null?void 0:D.message)||"Gagal menghapus service type")}}),A=()=>{o(null),i(!0)},S=te=>{o(te),i(!0)},B=(te,K)=>{window.confirm(`Apakah Anda yakin ingin menghapus service type "${K}"?`)&&C.mutate(te)},M=()=>{i(!1),o(null)},Y=()=>{g.invalidateQueries("service-types"),g.invalidateQueries("all-service-types-stats"),M()},z=te=>{d===te?m(h==="asc"?"desc":"asc"):(f(te),m("asc")),u(1)},R=te=>d!==te?s.jsx(Ts,{className:"h-4 w-4"}):h==="asc"?s.jsx(As,{className:"h-4 w-4"}):s.jsx(Cs,{className:"h-4 w-4"}),H=te=>{t(te.target.value),u(1)},U=te=>{n(te),u(1)};return b&&c===1?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Service Types Management"}),s.jsx("p",{className:"text-gray-600",children:"Kelola jenis layanan yang tersedia"})]}),s.jsxs("button",{onClick:A,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Service Type"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:Go,title:"Total Types",value:k,color:"blue"}),s.jsx(Ue,{icon:Go,title:"Active",value:E,color:"green"}),s.jsx(Ue,{icon:Ht,title:"Inactive",value:T,color:"red"}),s.jsx(Ue,{icon:Go,title:"Avg Duration",value:j.length>0?Math.round(j.reduce((te,K)=>te+K.default_duration,0)/j.length):0,color:"purple",suffix:" min"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari service type...",value:e,onChange:H})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"form-input",value:r,onChange:te=>U(te.target.value),children:[s.jsx("option",{value:"all",children:"Semua Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),s.jsx("select",{className:"form-input",value:"all",onChange:te=>{},children:s.jsx("option",{value:"all",children:"Semua Duration"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),s.jsx("select",{className:"form-input",value:"all",onChange:te=>{},children:s.jsx("option",{value:"all",children:"Semua Order"})})]})]})}),v.length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx(Go,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada service type"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan service type pertama"}),s.jsxs("button",{onClick:A,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Service Type"]})]}):s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Service Types",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",N.total||0," total)"]})]})}),s.jsxs("div",{className:"card-body p-0",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>z("display_order"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Order"}),R("display_order")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>z("type_code"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Type Code"}),R("type_code")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>z("type_name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Type Name"}),R("type_name")]})}),s.jsx("th",{className:"table-header-cell",children:"Description"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>z("default_duration"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Duration"}),R("default_duration")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>z("is_active"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),R("is_active")]})}),s.jsx("th",{className:"table-header-cell text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:v.map(te=>s.jsxs("tr",{children:[s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.display_order})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-mono text-gray-900",children:te.type_code})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.type_name})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm text-gray-900",children:te.description||"-"})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[te.default_duration," min"]})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${te.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"table-cell text-center",children:s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsx("button",{onClick:()=>S(te),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Service Type",children:s.jsx(ti,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>B(te.id,te.type_name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Service Type",children:s.jsx(Ya,{className:"h-4 w-4"})})]})})]},te.id))})]})}),s.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>u(Math.max(1,c-1)),disabled:c===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>u(Math.min(N.pages||1,c+1)),disabled:c===(N.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:p,onChange:te=>{x(parseInt(te.target.value)),u(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(c-1)*p+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(c*p,N.total||0)})," ","of ",s.jsx("span",{className:"font-medium",children:N.total||0})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>u(Math.max(1,c-1)),disabled:c===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(N.pages||1,10)},(te,K)=>{const D=N.pages||1;return D<=10||c<=5?K+1:c>=D-4?D-9+K:c-5+K}).map(te=>s.jsx("button",{onClick:()=>u(te),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${c===te?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:te},te)),s.jsx("button",{onClick:()=>u(Math.min(N.pages||1,c+1)),disabled:c===(N.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})]})]}),a&&s.jsx(vbe,{serviceType:l,onClose:M,onSuccess:Y})]})},bbe=({category:e,onClose:t,onSuccess:r})=>{const n=!!e,{register:a,handleSubmit:i,formState:{errors:l,isSubmitting:o},reset:c}=Ha({defaultValues:e||{service_type_code:"",category_code:"",category_name:"",description:"",estimated_duration:120,sla_multiplier:1,requires_checklist:!1,is_active:!0,display_order:0}}),{data:u}=Ge("service-types",()=>so.getAll(!0),{refetchOnWindowFocus:!1});w.useEffect(()=>{e&&c(e)},[e,c]);const d=qt(h=>n?g0.update(e.id,h):g0.create(h),{onSuccess:()=>{ne.success(n?"Category berhasil diupdate":"Category berhasil ditambahkan"),r()},onError:h=>{var m,p;ne.error(((p=(m=h.response)==null?void 0:m.data)==null?void 0:p.message)||"Terjadi kesalahan")}}),f=h=>{d.mutate(h)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Edit Service Category":"Tambah Service Category Baru"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:i(f),className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Service Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{className:"input-field",...a("service_type_code",{required:"Service type wajib dipilih"}),disabled:n,children:[s.jsx("option",{value:"",children:"Pilih Service Type..."}),u==null?void 0:u.map(h=>s.jsx("option",{value:h.type_code,children:h.type_name},h.type_code))]}),l.service_type_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.service_type_code.message})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Informasi Dasar"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category Code ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., fiber_installation",...a("category_code",{required:"Category code wajib diisi",pattern:{value:/^[a-z_]+$/,message:"Gunakan lowercase dan underscore"}}),disabled:n}),l.category_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category_code.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"e.g., Fiber Installation",...a("category_name",{required:"Category name wajib diisi",minLength:{value:3,message:"Minimal 3 karakter"}})}),l.category_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category_name.message})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Deskripsi category",...a("description")})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Konfigurasi"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Estimated Duration (minutes) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",className:"input-field",min:"1",...a("estimated_duration",{required:"Duration wajib diisi",min:{value:1,message:"Minimal 1 menit"},valueAsNumber:!0})}),l.estimated_duration&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.estimated_duration.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SLA Multiplier"}),s.jsx("input",{type:"number",className:"input-field",step:"0.1",min:"0.1",max:"10",...a("sla_multiplier",{min:{value:.1,message:"Minimal 0.1"},max:{value:10,message:"Maksimal 10"},valueAsNumber:!0})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Default: 1.0"}),l.sla_multiplier&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.sla_multiplier.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),s.jsx("input",{type:"number",className:"input-field",min:"0",...a("display_order",{min:{value:0,message:"Minimal 0"},valueAsNumber:!0})})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",...a("is_active")}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),s.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"Category aktif dan dapat digunakan"}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",...a("requires_checklist")}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Requires Checklist"})]}),s.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"Category memerlukan checklist khusus"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Batal"}),s.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Menyimpan...":n?"Update Category":"Tambah Category"})]})]})]})})},wbe=()=>{const[e,t]=w.useState(""),[r,n]=w.useState("all"),[a,i]=w.useState("all"),[l,o]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState("display_order"),[h,m]=w.useState("asc"),[p,x]=w.useState({}),[g,y]=w.useState(10),b=vr(),{data:v}=Ge("service-types-filter",()=>so.getAll({page:1,limit:100}),{refetchOnWindowFocus:!1}),N=(v==null?void 0:v.data)||[],{data:_,isLoading:j}=Ge(["service-categories-all",r,a,e,d,h],()=>g0.getAll({service_type_code:r!=="all"?r:void 0,active_only:a==="active"?"true":a==="inactive"?"false":void 0,search:e||void 0,page:1,limit:1e3,sort_by:d,sort_order:h}),{refetchOnWindowFocus:!1}),k=(_==null?void 0:_.data)||[],E=k.length,T=k.filter(O=>O.is_active).length,C=k.filter(O=>!O.is_active).length,A=[...new Set(k.map(O=>O.service_type_code))].length,S=k.reduce((O,re)=>(O[re.service_type_code]||(O[re.service_type_code]={type_name:re.service_type_name,categories:[]}),O[re.service_type_code].categories.push(re),O),{}),B=qt(O=>g0.delete(O),{onSuccess:()=>{ne.success("Category berhasil dihapus"),b.invalidateQueries("service-categories"),b.invalidateQueries("service-categories-all")},onError:O=>{var re,oe;ne.error(((oe=(re=O.response)==null?void 0:re.data)==null?void 0:oe.message)||"Gagal menghapus category")}}),M=()=>{u(null),o(!0)},Y=O=>{u(O),o(!0)},z=(O,re)=>{window.confirm(`Apakah Anda yakin ingin menghapus category "${re}"?`)&&B.mutate(O)},R=()=>{o(!1),u(null)},H=()=>{b.invalidateQueries("service-categories"),b.invalidateQueries("service-categories-all"),R()},U=O=>{d===O?m(h==="asc"?"desc":"asc"):(f(O),m("asc"))},te=O=>d!==O?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):h==="asc"?s.jsx(As,{className:"h-4 w-4"}):s.jsx(Cs,{className:"h-4 w-4"}),K=O=>{t(O.target.value)},D=(O,re)=>{O==="serviceType"?n(re):O==="status"&&i(re)},L=O=>p[O]||1,F=(O,re)=>{x(oe=>({...oe,[O]:re}))};return j?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Service Categories Management"}),s.jsx("p",{className:"text-gray-600",children:"Kelola kategori layanan berdasarkan service type"})]}),s.jsxs("button",{onClick:M,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Category"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:$o,title:"Total Categories",value:E,color:"blue"}),s.jsx(Ue,{icon:$o,title:"Active",value:T,color:"green"}),s.jsx(Ue,{icon:$o,title:"Inactive",value:C,color:"red"}),s.jsx(Ue,{icon:$o,title:"Service Types",value:A,color:"purple"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari category...",value:e,onChange:K})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),s.jsxs("select",{className:"form-input",value:r,onChange:O=>D("serviceType",O.target.value),children:[s.jsx("option",{value:"all",children:"Semua Service Type"}),N.map(O=>s.jsx("option",{value:O.type_code,children:O.type_name},O.type_code))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"form-input",value:a,onChange:O=>D("status",O.target.value),children:[s.jsx("option",{value:"all",children:"Semua Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rows Per Table"}),s.jsxs("select",{className:"form-input",value:g,onChange:O=>{y(parseInt(O.target.value)),x({})},children:[s.jsx("option",{value:"5",children:"5 rows"}),s.jsx("option",{value:"10",children:"10 rows"}),s.jsx("option",{value:"25",children:"25 rows"}),s.jsx("option",{value:"50",children:"50 rows"})]})]})]})}),Object.keys(S).length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx($o,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada category"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan category pertama"}),s.jsxs("button",{onClick:M,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah Category"]})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(S).map(([O,re])=>{const oe=L(O),J=re.categories.length,Z=Math.ceil(J/g),se=(oe-1)*g,G=se+g,P=re.categories.slice(se,G);return s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[re.type_name,s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",J," categories)"]})]})}),s.jsxs("div",{className:"card-body p-0",children:[s.jsx("div",{className:"overflow-x-auto w-full",children:s.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"900px"},children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("display_order"),style:{width:"50px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"#"}),te("display_order")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("category_code"),style:{width:"150px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Code"}),te("category_code")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("category_name"),style:{width:"170px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Category Name"}),te("category_name")]})}),s.jsx("th",{className:"table-header-cell",style:{width:"200px"},children:"Description"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("estimated_duration"),style:{width:"100px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Duration"}),te("estimated_duration")]})}),s.jsx("th",{className:"table-header-cell",style:{width:"70px"},children:"SLA"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>U("is_active"),style:{width:"90px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),te("is_active")]})}),s.jsx("th",{className:"table-header-cell text-center",style:{width:"100px"},children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:P.map(ie=>s.jsxs("tr",{children:[s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.display_order})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-mono text-gray-900",children:ie.category_code})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.category_name})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"text-sm text-gray-900 truncate",title:ie.description,style:{maxWidth:"200px"},children:ie.description||"-"})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[ie.estimated_duration," min"]})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["",ie.sla_multiplier]})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${ie.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ie.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"table-cell text-center",children:s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsx("button",{onClick:()=>Y(ie),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Category",children:s.jsx(ti,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>z(ie.id,ie.category_name),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete Category",children:s.jsx(Ya,{className:"h-4 w-4"})})]})})]},ie.id))})]})}),Z>1&&s.jsxs("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>F(O,Math.max(1,oe-1)),disabled:oe===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>F(O,Math.min(Z,oe+1)),disabled:oe===Z,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:se+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(G,J)})," of"," ",s.jsx("span",{className:"font-medium",children:J})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>F(O,Math.max(1,oe-1)),disabled:oe===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Z},(ie,je)=>je+1).map(ie=>s.jsx("button",{onClick:()=>F(O,ie),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${oe===ie?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ie},ie)),s.jsx("button",{onClick:()=>F(O,Math.min(Z,oe+1)),disabled:oe===Z,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})]})]},O)})}),l&&s.jsx(bbe,{category:c,onClose:R,onSuccess:H})]})},ps={getAll:async(e={})=>{try{const t=new URLSearchParams;e.role&&t.append("role",e.role),e.status&&t.append("status",e.status),e.search&&t.append("search",e.search),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sort_by&&t.append("sort_by",e.sort_by),e.sort_order&&t.append("sort_order",e.sort_order);const r=t.toString();return await be.get(`/users${r?"?"+r:""}`)}catch(t){return console.error(" UserService error:",t),{data:[],pagination:{}}}},getById:async e=>await be.get(`/users/${e}`),create:async e=>await be.post("/users",e),update:async(e,t)=>await be.put(`/users/${e}`,t),delete:async e=>await be.delete(`/users/${e}`),updatePassword:async(e,t)=>await be.put(`/users/${e}/password`,t),resetPassword:async(e,t)=>await be.post(`/users/${e}/reset-password`,{new_password:t}),getActivityLogs:async(e={})=>{try{const t=new URLSearchParams;e.user_id&&t.append("user_id",e.user_id),e.target_user_id&&t.append("target_user_id",e.target_user_id),e.action&&t.append("action",e.action),e.limit&&t.append("limit",e.limit),e.page&&t.append("page",e.page);const r=t.toString();return await be.get(`/users/activity-logs/list${r?"?"+r:""}`)}catch(t){return console.error(" Get activity logs error:",t),{data:[]}}},unlockAccount:async e=>await be.post(`/users/${e}/unlock`),getLockStatus:async e=>await be.get(`/users/${e}/lock-status`)},jbe=({user:e,onClose:t,onSuccess:r})=>{var g;const n=!!e,[a,i]=w.useState(!1),{register:l,handleSubmit:o,formState:{errors:c,isSubmitting:u},reset:d,watch:f}=Ha({defaultValues:e||{username:"",email:"",full_name:"",phone:"",role:"customer_service",password:"",confirm_password:"",is_active:!0}}),h=f("role"),{data:m}=Ge(["rolePermissions",h],()=>Ep.getRolePermissions(h),{enabled:!!h&&h!=="admin"&&!n,staleTime:5*60*1e3});w.useEffect(()=>{e&&d(e)},[e,d]);const p=qt(y=>n?ps.update(e.id,y):ps.create(y),{onSuccess:()=>{ne.success(n?"User berhasil diupdate":"User berhasil ditambahkan"),r()},onError:y=>{var b,v;ne.error(((v=(b=y.response)==null?void 0:b.data)==null?void 0:v.message)||"Terjadi kesalahan")}}),x=y=>{if(!n&&y.password!==y.confirm_password){ne.error("Password tidak cocok");return}const b={...y,is_active:y.is_active==="true"||y.is_active===!0};delete b.confirm_password,n&&!b.password&&delete b.password,p.mutate(b)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${n?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-blue-500 to-indigo-600"} flex items-center justify-center text-white shadow-lg`,children:n?s.jsx(zS,{className:"h-6 w-6"}):s.jsx(rl,{className:"h-6 w-6"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit User":"Tambah User Baru"}),s.jsx("p",{className:"text-sm text-gray-600",children:n?"Perbarui informasi user":"Lengkapi form untuk membuat user baru"})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-white rounded-lg",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:o(x),className:"p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 mr-2 text-blue-600"}),"Informasi Dasar"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Username ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"username",disabled:n,...l("username",{required:"Username wajib diisi",minLength:{value:3,message:"Username minimal 3 karakter"},pattern:{value:/^[a-zA-Z0-9_]+$/,message:"Username hanya boleh huruf, angka, dan underscore"}})}),c.username&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.username.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Lengkap ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",className:"input-field",placeholder:"Nama lengkap",...l("full_name",{required:"Nama lengkap wajib diisi"})}),c.full_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.full_name.message})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(cn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Informasi Kontak"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",className:"input-field",placeholder:"email@example.com",...l("email",{required:"Email wajib diisi",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Format email tidak valid"}})}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"08123456789",...l("phone")})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ja,{className:"h-5 w-5 mr-2 text-blue-600"}),"Role & Akses"]}),s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Role ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{className:"input-field",...l("role",{required:"Role wajib dipilih"}),children:[s.jsx("option",{value:"",children:"Pilih Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"supervisor",children:"Supervisor"}),s.jsx("option",{value:"technician",children:"Technician"}),s.jsx("option",{value:"customer_service",children:"Customer Service"})]}),c.role&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.role.message}),!n&&h&&s.jsx("div",{className:"mt-4",children:h==="admin"?s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ja,{className:"h-5 w-5 text-purple-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-purple-900 mb-1",children:"Admin Access"}),s.jsxs("p",{className:"text-sm text-purple-800",children:["Admin memiliki ",s.jsx("strong",{children:"akses penuh"})," ke semua fitur sistem (100% permissions)."]})]})]})}):(g=m==null?void 0:m.data)!=null&&g.permissions?s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start flex-1",children:[s.jsx(ub,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:[h==="supervisor"?"Supervisor":h==="technician"?"Technician":"Customer Service"," Permissions"]}),s.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:["User akan mendapat ",s.jsxs("strong",{children:[m.data.permissions.length," permissions"]})]}),!a&&s.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-xs text-blue-600 hover:text-blue-800 font-medium underline",children:"Lihat detail permissions "})]})]})}),a&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[s.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:m.data.permissions.map((y,b)=>s.jsxs("div",{className:"flex items-center text-sm text-blue-800",children:[s.jsx(Ke,{className:"h-3 w-3 text-green-600 mr-2 flex-shrink-0"}),s.jsx("span",{children:y.description||y.name})]},b))}),s.jsx("button",{type:"button",onClick:()=>i(!1),className:"text-xs text-blue-600 hover:text-blue-800 font-medium underline mt-2",children:" Sembunyikan detail"})]})]}):h&&s.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ub,{className:"h-5 w-5 text-gray-500 mr-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading permissions..."})]})})}),!n&&s.jsx("div",{className:"mt-3",children:s.jsxs("p",{className:"text-xs text-gray-500",children:[" Untuk mengatur permissions lebih detail, kunjungi"," ",s.jsx("a",{href:"/permissions",target:"_blank",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Permission Management"})]})})]}),!n&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(a0,{className:"h-5 w-5 mr-2 text-blue-600"}),"Password"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",className:"input-field",placeholder:"Password",...l("password",{required:n?!1:"Password wajib diisi",minLength:{value:6,message:"Password minimal 6 karakter"}})}),c.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",className:"input-field",placeholder:"Confirm password",...l("confirm_password",{required:n?!1:"Konfirmasi password wajib diisi"})}),c.confirm_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.confirm_password.message})]})]})]}),n&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(a0,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Catatan Password"}),s.jsx("p",{className:"text-sm text-blue-800",children:'Untuk mengubah password, gunakan fitur "Reset Password" di tabel user atau menu "Change Password" di halaman profil.'})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:["Status Akun ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center cursor-pointer p-3 bg-white border-2 border-gray-300 rounded-lg hover:border-green-400 transition-all",children:[s.jsx("input",{type:"radio",value:"true",...l("is_active"),className:"mr-3 w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),s.jsxs("label",{className:"flex items-center cursor-pointer p-3 bg-white border-2 border-gray-300 rounded-lg hover:border-red-400 transition-all",children:[s.jsx("input",{type:"radio",value:"false",...l("is_active"),className:"mr-3 w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Inactive"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t-2 border-gray-200 bg-gray-50 -mx-6 -mb-6 px-6 py-4 rounded-b-lg",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Batal"}),s.jsx("button",{type:"submit",className:`btn-primary ${n?"bg-green-600 hover:bg-green-700":""}`,disabled:u,children:u?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Menyimpan..."]}):s.jsxs("span",{className:"flex items-center",children:[n?s.jsx(zS,{className:"h-4 w-4 mr-2"}):s.jsx(rl,{className:"h-4 w-4 mr-2"}),n?"Update User":"Tambah User"]})})]})]})]})})},Nbe=({user:e,onClose:t,onSuccess:r})=>{const[n,a]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(!1),[u,d]=w.useState(!1),f=qt(()=>ps.resetPassword(e.id,n),{onSuccess:x=>{l(x.data.temporary_password),ne.success("Password berhasil direset!"),r()},onError:x=>{var g,y;ne.error(((y=(g=x.response)==null?void 0:g.data)==null?void 0:y.message)||"Gagal reset password")}}),h=()=>{const g="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let y="";for(let b=0;b<12;b++)y+=g.charAt(Math.floor(Math.random()*g.length));a(y),c(!0)},m=x=>{if(x.preventDefault(),!n||n.length<6){ne.error("Password minimal 6 karakter");return}f.mutate()},p=()=>{navigator.clipboard.writeText(i),d(!0),ne.success("Password copied to clipboard!"),setTimeout(()=>d(!1),2e3)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fj,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reset Password"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(En,{className:"h-6 w-6"})})]}),i?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:s.jsx(Ua,{className:"h-8 w-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Password Berhasil Direset!"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Berikut adalah password sementara untuk user ",s.jsx("strong",{children:e.username})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",className:"form-input font-mono",value:i,readOnly:!0}),s.jsx("button",{onClick:p,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Copy to clipboard",children:u?s.jsx(Ua,{className:"h-5 w-5 text-green-600"}):s.jsx(ei,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",s.jsx("strong",{children:"Important:"})," Pastikan Anda menyalin dan menyimpan password ini. Kirimkan ke user melalui channel yang aman (email, WhatsApp, dll)."]})}),s.jsx("button",{onClick:t,className:"w-full btn-primary",children:"Selesai"})]}):s.jsxs("form",{onSubmit:m,className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"User:"})," ",e.full_name," (",e.username,")"]}),s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Email:"})," ",e.email]})]}),s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:o?"text":"password",className:"form-input",placeholder:"Enter new password",value:n,onChange:x=>a(x.target.value),minLength:6,required:!0}),s.jsx("button",{type:"button",onClick:h,className:"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:"Generate Random Password"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:x=>c(x.target.checked),className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Show password"})]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",s.jsx("strong",{children:"Warning:"})," User akan menggunakan password ini untuk login. Pastikan Anda menyimpan dan mengirimkan password ini ke user dengan aman."]})}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:f.isLoading,children:"Batal"}),s.jsx("button",{type:"submit",className:"btn-primary",disabled:f.isLoading,children:f.isLoading?"Resetting...":"Reset Password"})]})]})]})})},_be=({user:e,onClose:t,onSuccess:r})=>{var d;const[n,a]=w.useState(""),[i,l]=w.useState(!1),o=n===e.username,c=qt(()=>ps.delete(e.id),{onSuccess:()=>{ne.success(`User "${e.full_name}" berhasil dihapus`),r(),t()},onError:f=>{var h,m;ne.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Gagal menghapus user")}}),u=()=>{if(!o){ne.error("Konfirmasi username tidak sesuai");return}c.mutate()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(Si,{className:"h-6 w-6 text-red-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Confirm Deletion"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c.isLoading,children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-medium text-blue-600",children:(d=e.full_name)==null?void 0:d.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:e.full_name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["@",e.username]})]})]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]}),s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Role:"})," ",e.role]}),e.phone&&s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",e.phone]})]})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx(Si,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Warning"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"User akan di-soft delete (data masih bisa di-restore)"}),s.jsx("li",{children:"User tidak bisa login setelah dihapus"}),s.jsx("li",{children:"Data terkait seperti tickets & logs akan tetap ada"})]})})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",s.jsx("span",{className:"font-mono font-bold text-red-600",children:e.username})," to confirm:"]}),s.jsx("input",{type:"text",className:`form-input ${o?"border-green-500 focus:ring-green-500":"border-red-300 focus:ring-red-500"}`,placeholder:e.username,value:n,onChange:f=>a(f.target.value),autoFocus:!0,disabled:c.isLoading}),o&&s.jsxs("div",{className:"mt-2 flex items-center text-sm text-green-600",children:[s.jsx(Ke,{className:"h-4 w-4 mr-1"}),"Username confirmed"]})]}),s.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:f=>l(f.target.checked),className:"mr-2",disabled:c.isLoading}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Permanent Delete (Hard Delete)"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Data akan dihapus permanent dan tidak bisa di-restore. Hanya untuk kasus khusus!"})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 p-6 bg-gray-50 rounded-b-lg border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:c.isLoading,children:"Cancel"}),s.jsx("button",{onClick:u,className:`btn-danger ${o?"":"opacity-50 cursor-not-allowed"}`,disabled:!o||c.isLoading,children:c.isLoading?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),i?"Permanent Delete":"Delete User"]})})]})]})})},kbe=({user:e,onClose:t})=>{var a;if(!e)return null;const r=i=>i?new Date(i).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",n=i=>{const l={admin:"bg-purple-100 text-purple-800 border-purple-200",supervisor:"bg-blue-100 text-blue-800 border-blue-200",technician:"bg-green-100 text-green-800 border-green-200",customer_service:"bg-yellow-100 text-yellow-800 border-yellow-200"},o={admin:"Admin",supervisor:"Supervisor",technician:"Technician",customer_service:"Customer Service"};return s.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full border ${l[i]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:o[i]||i})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-start p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:(a=e.full_name)==null?void 0:a.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.full_name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["@",e.username]})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-white rounded-lg",children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[n(e.role),e.is_active?s.jsxs("span",{className:"px-3 py-1 inline-flex items-center text-sm font-semibold rounded-full bg-green-100 text-green-800 border border-green-200",children:[s.jsx(Ke,{className:"h-4 w-4 mr-1"}),"Active"]}):s.jsxs("span",{className:"px-3 py-1 inline-flex items-center text-sm font-semibold rounded-full bg-gray-100 text-gray-800 border border-gray-200",children:[s.jsx(wt,{className:"h-4 w-4 mr-1"}),"Inactive"]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 mr-2 text-blue-600"}),"Contact Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(cn,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Email"}),e.email_verified?s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:[s.jsx(UO,{className:"h-3 w-3 mr-1"}),"Verified"]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:[s.jsx(cn,{className:"h-3 w-3 mr-1"}),"Not Verified"]})]}),s.jsx("p",{className:"text-sm text-gray-900 font-medium break-all mt-1",children:e.email}),e.email_verified_at&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Verified: ",r(e.email_verified_at)]})]})]})}),s.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(zn,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-900 font-medium",children:e.phone||"Not provided"})]})]})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ja,{className:"h-5 w-5 mr-2 text-blue-600"}),"Account Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Nr,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Created At"}),s.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r(e.created_at)})]})]})}),s.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ut,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Last Login"}),s.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r(e.last_login)})]})]})})]})]}),e.role==="technician"&&e.employee_id&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Technician Details"}),s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Employee ID"}),s.jsx("p",{className:"text-sm text-gray-900 font-medium",children:e.employee_id})]}),e.availability_status&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Availability"}),s.jsx("p",{className:"text-sm text-gray-900 font-medium capitalize",children:e.availability_status})]})]})})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["User ID: ",s.jsx("span",{className:"font-mono font-medium text-gray-700",children:e.id})]})})]}),s.jsx("div",{className:"flex justify-end p-6 bg-gray-50 border-t border-gray-200",children:s.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})},Sbe=({onClose:e,onSuccess:t})=>{const[r,n]=w.useState(null),[a,i]=w.useState([]),[l,o]=w.useState([]),[c,u]=w.useState(!1),d=m=>{const p=m.target.files[0];if(!p)return;const x=p.name.split(".").pop().toLowerCase();if(!["csv","xlsx","xls"].includes(x)){ne.error("Format file harus CSV atau Excel");return}n(p);const g=new FileReader;g.onload=y=>{try{const b=new Uint8Array(y.target.result),v=kw(b,{type:"array"}),N=v.SheetNames[0],_=v.Sheets[N],j=xs.sheet_to_json(_);if(j.length===0){ne.error("File kosong atau format tidak valid");return}const k=j.map((C,A)=>{var B,M,Y,z,R,H,U;const S=[];return(!C.Username||C.Username.length<3)&&S.push("Username invalid (min 3 chars)"),(!C.Email||!C.Email.includes("@"))&&S.push("Email invalid"),C["Full Name"]||S.push("Full Name required"),(!C.Role||!["admin","supervisor","technician","customer_service"].includes(C.Role.toLowerCase()))&&S.push("Role invalid"),(!C.Password||C.Password.length<6)&&S.push("Password invalid (min 6 chars)"),{rowNumber:A+2,data:{username:(B=C.Username)==null?void 0:B.trim(),email:(M=C.Email)==null?void 0:M.trim(),full_name:(Y=C["Full Name"])==null?void 0:Y.trim(),phone:((z=C.Phone)==null?void 0:z.trim())||"",role:(R=C.Role)==null?void 0:R.toLowerCase().trim(),password:(H=C.Password)==null?void 0:H.trim(),is_active:((U=C.Status)==null?void 0:U.toLowerCase())!=="inactive"},errors:S,isValid:S.length===0}});i(k),o(k);const E=k.filter(C=>C.isValid).length,T=k.filter(C=>!C.isValid).length;T>0?ne.warning(`${E} valid, ${T} invalid rows`):ne.success(`${E} users ready to import`)}catch(b){ne.error("Gagal membaca file: "+b.message)}},g.readAsArrayBuffer(p)},f=()=>{const m=[{Username:"johndoe","Full Name":"John Doe",Email:"john.doe@example.com",Phone:"081234567890",Role:"technician",Password:"password123",Status:"active"},{Username:"janedoe","Full Name":"Jane Doe",Email:"jane.doe@example.com",Phone:"081234567891",Role:"customer_service",Password:"password456",Status:"active"}],p=xs.json_to_sheet(m),x=xs.book_new();xs.book_append_sheet(x,p,"Users Template"),p["!cols"]=[{wch:15},{wch:20},{wch:25},{wch:15},{wch:20},{wch:15},{wch:10}],U_(x,"import-users-template.xlsx"),ne.success("Template downloaded!")},h=async()=>{var y,b;const m=a.filter(v=>v.isValid);if(m.length===0){ne.error("Tidak ada user valid untuk diimport");return}if(!window.confirm(`Import ${m.length} users?`))return;u(!0);let p=0,x=0;const g=[];for(const v of m)try{await ps.create(v.data),p++}catch(N){x++,g.push(`Row ${v.rowNumber}: ${((b=(y=N.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed"}`)}u(!1),p>0&&(ne.success(`${p} users berhasil diimport!`),t(),x===0&&e()),x>0&&(ne.error(`${x} users gagal diimport`),console.error("Import errors:",g))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xi,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Import Users"})]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:s.jsx(En,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Instructions:"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"Download template Excel/CSV"}),s.jsx("li",{children:"Fill in user data (Username, Full Name, Email, Phone, Role, Password, Status)"}),s.jsx("li",{children:"Upload file (Excel or CSV format)"}),s.jsx("li",{children:"Review validation results"}),s.jsx("li",{children:'Click "Import" to create users'})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Download Template"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get the Excel template with example data"})]}),s.jsxs("button",{onClick:f,className:"btn-outline flex items-center",children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Download Template"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File (CSV or Excel)"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(cb,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{type:"file",className:"sr-only",accept:".csv,.xlsx,.xls",onChange:d,disabled:c})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"CSV or XLSX up to 10MB"}),r&&s.jsxs("p",{className:"text-sm text-green-600 font-medium mt-2",children:[" ",r.name]})]})})]}),l.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Validation Results:"}),s.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Row"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Username"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Email"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Role"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((m,p)=>s.jsxs("tr",{className:m.isValid?"bg-green-50":"bg-red-50",children:[s.jsx("td",{className:"px-4 py-2 text-sm",children:m.rowNumber}),s.jsx("td",{className:"px-4 py-2 text-sm",children:m.data.username}),s.jsx("td",{className:"px-4 py-2 text-sm",children:m.data.email}),s.jsx("td",{className:"px-4 py-2 text-sm",children:m.data.role}),s.jsx("td",{className:"px-4 py-2 text-sm",children:m.isValid?s.jsxs("span",{className:"inline-flex items-center text-xs text-green-700",children:[s.jsx(Ke,{className:"h-3 w-3 mr-1"}),"Valid"]}):s.jsxs("span",{className:"inline-flex items-center text-xs text-red-700",title:m.errors.join(", "),children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),m.errors[0]]})})]},p))})]})}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Valid Rows"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:l.filter(m=>m.isValid).length})]})]})}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Invalid Rows"}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:l.filter(m=>!m.isValid).length})]})]})})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ht,{className:"h-5 w-5 text-yellow-600 mt-0.5 mr-2"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Required Columns:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Username"})," - Minimal 3 karakter, unique"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Full Name"})," - Nama lengkap user"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Email"})," - Format email valid, unique"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Phone"})," - Nomor telepon (optional)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Role"})," - admin, supervisor, technician, atau customer_service"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Password"})," - Minimal 6 karakter"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Status"})," - active atau inactive (default: active)"]})]})]})]})})]}),s.jsxs("div",{className:"flex justify-between p-6 bg-gray-50 border-t border-gray-200",children:[s.jsxs("button",{onClick:f,className:"btn-outline flex items-center",children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Download Template"]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:c,children:"Cancel"}),s.jsx("button",{onClick:h,className:"btn-primary",disabled:c||l.filter(m=>m.isValid).length===0,children:c?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):s.jsxs("span",{className:"flex items-center",children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Import ",l.filter(m=>m.isValid).length," Users"]})})]})]})]})})},Ebe=({targetUserId:e=null,limit:t=20})=>{const{data:r,isLoading:n}=Ge(["activity-logs",e],()=>ps.getActivityLogs({target_user_id:e,limit:t}),{refetchInterval:3e4,refetchOnWindowFocus:!1}),a=Array.isArray(r==null?void 0:r.data)?r.data:[],i=u=>{switch(u){case"created":return s.jsx(Ct,{className:"h-4 w-4 text-green-600"});case"updated":return s.jsx(ti,{className:"h-4 w-4 text-blue-600"});case"deleted":case"deleted_permanent":return s.jsx(Ya,{className:"h-4 w-4 text-red-600"});case"restored":return s.jsx(yW,{className:"h-4 w-4 text-green-600"});case"password_reset":return s.jsx(Fj,{className:"h-4 w-4 text-orange-600"});default:return s.jsx(Zs,{className:"h-4 w-4 text-gray-600"})}},l=u=>{switch(u){case"created":case"restored":return"bg-green-50 border-green-200 text-green-800";case"updated":return"bg-blue-50 border-blue-200 text-blue-800";case"deleted":case"deleted_permanent":return"bg-red-50 border-red-200 text-red-800";case"password_reset":return"bg-orange-50 border-orange-200 text-orange-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},o=u=>({created:"Created User",updated:"Updated User",deleted:"Deleted User",deleted_permanent:"Permanently Deleted",restored:"Restored User",password_reset:"Reset Password"})[u]||u,c=u=>{const d=new Date(u),h=new Date-d,m=Math.floor(h/1e3),p=Math.floor(m/60),x=Math.floor(p/60),g=Math.floor(x/24);return m<60?"Just now":p<60?`${p}m ago`:x<24?`${x}h ago`:g<7?`${g}d ago`:d.toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})};return n?s.jsx("div",{className:"flex justify-center items-center p-8",children:s.jsx(At,{size:"sm"})}):s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Zs,{className:"h-5 w-5 mr-2 text-blue-600"}),"Recent Activity"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," activities"]})]})}),s.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:a.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Zs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No activity logs yet"})]}):a.map(u=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:i(u.action)}),s.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(u.action)}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded border ${l(u.action)}`,children:u.action})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:u.performer_name||"System"}),"  ",s.jsxs("span",{className:"font-medium",children:["@",u.target_username]})]}),u.details&&Object.keys(u.details).length>0&&s.jsx("div",{className:"mt-2 text-xs text-gray-500 bg-gray-50 rounded p-2",children:Object.entries(u.details).map(([d,f])=>s.jsxs("span",{className:"mr-3",children:[s.jsxs("strong",{children:[d,":"]})," ",JSON.stringify(f)]},d))}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx(Ut,{className:"h-3 w-3 mr-1"}),c(u.created_at)]})]})]})},u.id))})]})},Cbe=()=>{const{user:e,isAdmin:t,isSupervisor:r}=Gn(),[n,a]=w.useState(""),[i,l]=w.useState("all"),[o,c]=w.useState("all"),[u,d]=w.useState("all"),[f,h]=w.useState(!1),[m,p]=w.useState(null),[x,g]=w.useState(!1),[y,b]=w.useState(null),[v,N]=w.useState(!1),[_,j]=w.useState(null),[k,E]=w.useState([]),[T,C]=w.useState(!1),[A,S]=w.useState(null),[B,M]=w.useState(!1),[Y,z]=w.useState(null),[R,H]=w.useState(!1),[U,te]=w.useState("created_at"),[K,D]=w.useState("desc"),[L,F]=w.useState(1),[O,re]=w.useState(10),oe=vr(),{data:J,isLoading:Z}=Ge(["users-list",i,o,u,n,U,K,L,O],()=>ps.getAll({role:i!=="all"?i:void 0,status:o!=="all"?o:void 0,search:n||void 0,page:L,limit:O,sort_by:U,sort_order:K}),{refetchOnWindowFocus:!1,keepPreviousData:!0}),se=Array.isArray(J==null?void 0:J.data)?J.data:[],G=(J==null?void 0:J.pagination)||{},P=se.filter(_e=>{if(u==="all")return!0;const xt=_e.last_login?new Date(_e.last_login):null,Rr=xt?Math.floor((new Date-xt)/(1e3*60*60*24)):null;switch(u){case"today":return Rr===0;case"week":return Rr!==null&&Rr<=7;case"month":return Rr!==null&&Rr<=30;case"never":return xt===null;default:return!0}}),{data:ie}=Ge("all-users-stats",()=>ps.getAll({page:1,limit:1e3}),{refetchOnWindowFocus:!1}),je=Array.isArray(ie==null?void 0:ie.data)?ie.data:[],Te=je.length,Le=je.filter(_e=>_e.is_active).length,Se=je.filter(_e=>_e.role==="admin").length,rt=je.filter(_e=>_e.role==="technician").length,nt=()=>{p(null),h(!0)},ee=_e=>{p(_e),h(!0)},le=_e=>{b(_e),g(!0)},ue=()=>{g(!1),b(null)},ke=()=>{oe.invalidateQueries(["users-list"])},Ee=_e=>{j(_e),N(!0)},ae=()=>{N(!1),j(null)},ve=()=>{oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")},ce=async _e=>{var xt,dt;if(window.confirm(`Unlock account for ${_e.full_name}? This will reset all failed login attempts.`))try{await ps.unlockAccount(_e.id),ne.success(`Account unlocked for ${_e.full_name}`),oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")}catch(Rr){ne.error(((dt=(xt=Rr.response)==null?void 0:xt.data)==null?void 0:dt.message)||"Failed to unlock account")}},ye=_e=>{if(_e.target.checked){const xt=P.filter(dt=>dt.id!==(e==null?void 0:e.id)).map(dt=>dt.id);E(xt),C(!0)}else E([]),C(!1)},Me=_e=>{E(xt=>{if(xt.includes(_e)){const dt=xt.filter(Rr=>Rr!==_e);return C(!1),dt}else return[...xt,_e]})},Xe=async()=>{if(k.length===0){ne.error("Pilih minimal 1 user untuk dihapus");return}if(window.confirm(`Hapus ${k.length} users yang dipilih?`))try{await Promise.all(k.map(_e=>ps.delete(_e))),ne.success(`${k.length} users berhasil dihapus`),E([]),C(!1),oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")}catch{ne.error("Gagal menghapus beberapa users")}},st=async()=>{if(k.length===0){ne.error("Pilih minimal 1 user untuk dinonaktifkan");return}if(window.confirm(`Nonaktifkan ${k.length} users yang dipilih?`))try{await Promise.all(k.map(_e=>ps.update(_e,{is_active:!1}))),ne.success(`${k.length} users berhasil dinonaktifkan`),E([]),C(!1),oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")}catch{ne.error("Gagal menonaktifkan beberapa users")}},$e=async()=>{if(k.length===0){ne.error("Pilih minimal 1 user untuk diaktifkan");return}try{await Promise.all(k.map(_e=>ps.update(_e,{is_active:!0}))),ne.success(`${k.length} users berhasil diaktifkan`),E([]),C(!1),oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")}catch{ne.error("Gagal mengaktifkan beberapa users")}},Ze=(_e,xt)=>{navigator.clipboard.writeText(_e),S(xt),ne.success("Copied to clipboard!"),setTimeout(()=>S(null),2e3)},Nt=_e=>{z(_e),M(!0)},br=()=>{M(!1),z(null)},Fs=()=>{H(!0)},oi=()=>{H(!1)},es=()=>{oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats")},Co=()=>{const _e=P.map(Yn=>({Username:Yn.username,"Full Name":Yn.full_name,Email:Yn.email,Phone:Yn.phone||"-",Role:Yn.role,Status:Yn.is_active?"Active":"Inactive","Last Login":Yn.last_login?new Date(Yn.last_login).toLocaleString("id-ID"):"Never","Created At":new Date(Yn.created_at).toLocaleString("id-ID")})),xt=xs.json_to_sheet(_e),dt=xs.book_new();xs.book_append_sheet(dt,xt,"Users");const Rr=_e.reduce((Yn,Xc)=>{var I;return Math.max(Yn,((I=Xc["Full Name"])==null?void 0:I.length)||0)},10);xt["!cols"]=[{wch:15},{wch:Rr},{wch:25},{wch:15},{wch:15},{wch:10},{wch:20},{wch:20}];const Is=`users-export-${new Date().toISOString().split("T")[0]}.xlsx`;U_(dt,Is),ne.success(`Exported ${_e.length} users to ${Is}`)},To=()=>{const _e=P.map(I=>({Username:I.username,"Full Name":I.full_name,Email:I.email,Phone:I.phone||"-",Role:I.role,Status:I.is_active?"Active":"Inactive","Last Login":I.last_login?new Date(I.last_login).toLocaleString("id-ID"):"Never","Created At":new Date(I.created_at).toLocaleString("id-ID")})),xt=xs.json_to_sheet(_e),dt=xs.sheet_to_csv(xt),Rr=new Blob([dt],{type:"text/csv;charset=utf-8;"}),Is=document.createElement("a"),Yn=URL.createObjectURL(Rr),Xc=`users-export-${new Date().toISOString().split("T")[0]}.csv`;Is.setAttribute("href",Yn),Is.setAttribute("download",Xc),Is.style.visibility="hidden",document.body.appendChild(Is),Is.click(),document.body.removeChild(Is),ne.success(`Exported ${_e.length} users to ${Xc}`)},Ao=()=>{h(!1),p(null)},Gc=()=>{oe.invalidateQueries(["users-list"]),oe.invalidateQueries("all-users-stats"),Ao()},Sa=_e=>{U===_e?D(K==="asc"?"desc":"asc"):(te(_e),D("asc")),F(1)},ci=_e=>U!==_e?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):K==="asc"?s.jsx(As,{className:"h-4 w-4"}):s.jsx(Cs,{className:"h-4 w-4"}),he=_e=>{a(_e.target.value),F(1)},Ae=(_e,xt)=>{_e==="role"?l(xt):_e==="status"?c(xt):_e==="lastLogin"&&d(xt),F(1)},ut=_e=>{re(parseInt(_e)),F(1)},Cr=_e=>{const xt={admin:"bg-purple-100 text-purple-800",supervisor:"bg-blue-100 text-blue-800",technician:"bg-green-100 text-green-800",customer_service:"bg-yellow-100 text-yellow-800"},dt={admin:"Admin",supervisor:"Supervisor",technician:"Technician",customer_service:"Customer Service"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${xt[_e]||"bg-gray-100 text-gray-800"}`,children:dt[_e]||_e})};return!t&&!r?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[s.jsx(fg,{className:"h-24 w-24 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access User Management."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Required role: Admin or Supervisor"})]}):Z&&L===1?s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"text-gray-600",children:"Kelola pengguna sistem dan akses"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[t&&s.jsxs("button",{onClick:Fs,className:"btn-outline flex items-center",children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Import"]}),s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"btn-outline flex items-center",children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[s.jsxs("button",{onClick:Co,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center transition-colors rounded-t-lg",children:[s.jsx(cb,{className:"h-4 w-4 mr-2 text-green-600"}),"Export to Excel"]}),s.jsxs("button",{onClick:To,className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center transition-colors rounded-b-lg",children:[s.jsx(cb,{className:"h-4 w-4 mr-2 text-blue-600"}),"Export to CSV"]})]})]}),k.length>0&&t&&s.jsxs("div",{className:"flex items-center space-x-2 mr-4 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[k.length," selected"]}),s.jsx("button",{onClick:$e,className:"text-xs px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",title:"Activate selected users",children:"Activate"}),s.jsx("button",{onClick:st,className:"text-xs px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors",title:"Deactivate selected users",children:"Deactivate"}),s.jsx("button",{onClick:Xe,className:"text-xs px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",title:"Delete selected users",children:"Delete"}),s.jsx("button",{onClick:()=>{E([]),C(!1)},className:"text-xs px-2 py-1 text-gray-600 hover:text-gray-800",title:"Clear selection",children:""})]}),s.jsxs("button",{onClick:nt,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:ma,title:"Total Users",value:Te,color:"blue"}),s.jsx(Ue,{icon:ma,title:"Active Users",value:Le,color:"green"}),s.jsx(Ue,{icon:ma,title:"Admins",value:Se,color:"purple"}),s.jsx(Ue,{icon:ma,title:"Technicians",value:rt,color:"orange"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"form-input pl-10",placeholder:"Cari user...",value:n,onChange:he})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),s.jsxs("select",{className:"form-input",value:i,onChange:_e=>Ae("role",_e.target.value),children:[s.jsx("option",{value:"all",children:"Semua Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"supervisor",children:"Supervisor"}),s.jsx("option",{value:"technician",children:"Technician"}),s.jsx("option",{value:"customer_service",children:"Customer Service"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"form-input",value:o,onChange:_e=>Ae("status",_e.target.value),children:[s.jsx("option",{value:"all",children:"Semua Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Login"}),s.jsxs("select",{className:"form-input",value:u,onChange:_e=>Ae("lastLogin",_e.target.value),children:[s.jsx("option",{value:"all",children:"Semua Waktu"}),s.jsx("option",{value:"today",children:"Hari Ini"}),s.jsx("option",{value:"week",children:"7 Hari Terakhir"}),s.jsx("option",{value:"month",children:"30 Hari Terakhir"}),s.jsx("option",{value:"never",children:"Belum Pernah"})]})]})]})}),se.length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx(ma,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada user"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan user pertama"}),s.jsxs("button",{onClick:nt,className:"btn-primary",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Tambah User"]})]}):P.length===0?s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx(Kn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada hasil"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Coba ubah filter atau search keyword"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Users",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",G.total||0," total)"]})]})}),s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table w-full",style:{tableLayout:"fixed",minWidth:"950px"},children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[t&&s.jsx("th",{className:"table-header-cell",style:{width:"50px"},children:s.jsx("input",{type:"checkbox",checked:T,onChange:ye,className:"cursor-pointer"})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Sa("full_name"),style:{width:"200px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"User"}),ci("full_name")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Sa("email"),style:{width:"180px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Email"}),ci("email")]})}),s.jsx("th",{className:"table-header-cell",style:{width:"120px"},children:"Phone"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Sa("role"),style:{width:"130px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Role"}),ci("role")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Sa("last_login"),style:{width:"100px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Last Login"}),ci("last_login")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Sa("is_active"),style:{width:"90px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),ci("is_active")]})}),s.jsx("th",{className:"table-header-cell text-center",style:{width:"100px"},children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:P.map(_e=>{var xt;return s.jsxs("tr",{className:k.includes(_e.id)?"bg-blue-50":"",children:[t&&s.jsx("td",{className:"table-cell",children:_e.id!==(e==null?void 0:e.id)?s.jsx("input",{type:"checkbox",checked:k.includes(_e.id),onChange:()=>Me(_e.id),className:"cursor-pointer"}):s.jsx("span",{className:"text-gray-300",children:"-"})}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-blue-600",children:(xt=_e.full_name)==null?void 0:xt.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("button",{onClick:()=>Nt(_e),className:"text-sm font-medium text-blue-600 hover:text-blue-800 truncate cursor-pointer text-left",style:{maxWidth:"130px"},title:"Click to view details",children:_e.full_name}),s.jsxs("div",{className:"text-xs text-gray-500 truncate",style:{maxWidth:"130px"},children:["@",_e.username]})]})]})}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"flex items-center group",children:[s.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-gray-900 truncate",title:_e.email,children:_e.email}),_e.email_verified?s.jsx(UO,{className:"h-4 w-4 text-green-600 ml-1 flex-shrink-0",title:"Email verified"}):s.jsx(cn,{className:"h-4 w-4 text-gray-400 ml-1 flex-shrink-0",title:"Email not verified"})]}),s.jsx("button",{onClick:()=>Ze(_e.email,`email-${_e.id}`),className:"ml-2 opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all flex-shrink-0",title:"Copy email",children:A===`email-${_e.id}`?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-400"})})]})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:_e.phone?s.jsxs("div",{className:"flex items-center group",children:[s.jsx("div",{className:"text-sm text-gray-900 flex-1",children:_e.phone}),s.jsx("button",{onClick:()=>Ze(_e.phone,`phone-${_e.id}`),className:"ml-2 opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all",title:"Copy phone",children:A===`phone-${_e.id}`?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-400"})})]}):s.jsx("div",{className:"text-sm text-gray-400",children:"-"})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:Cr(_e.role)}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:_e.last_login?new Date(_e.last_login).toLocaleDateString("id-ID",{day:"2-digit",month:"short"}):"Never"})}),s.jsx("td",{className:"table-cell whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${_e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_e.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"table-cell text-center",children:s.jsxs("div",{className:"flex justify-center space-x-1",children:[(t||r)&&s.jsx("button",{onClick:()=>ee(_e),className:"inline-flex items-center justify-center w-8 h-8 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",title:"Edit User",children:s.jsx(ti,{className:"h-4 w-4"})}),t&&_e.id!==(e==null?void 0:e.id)&&s.jsx("button",{onClick:()=>le(_e),className:"inline-flex items-center justify-center w-8 h-8 text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded-md transition-colors",title:"Reset Password",children:s.jsx(Fj,{className:"h-4 w-4"})}),t&&_e.id!==(e==null?void 0:e.id)&&(_e.failed_login_attempts>0||_e.locked_until)&&s.jsx("button",{onClick:()=>ce(_e),className:"inline-flex items-center justify-center w-8 h-8 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-md transition-colors",title:`Unlock Account (${_e.failed_login_attempts||0} failed attempts)`,children:s.jsx(jW,{className:"h-4 w-4"})}),t&&_e.id!==(e==null?void 0:e.id)&&s.jsx("button",{onClick:()=>Ee(_e),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Delete User",children:s.jsx(Ya,{className:"h-4 w-4"})}),_e.id===(e==null?void 0:e.id)&&s.jsx("span",{className:"text-xs text-gray-400 px-2",title:"Cannot modify yourself",children:"-"})]})})]},_e.id)})})]})})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg",children:s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>F(Math.max(1,L-1)),disabled:L===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>F(Math.min(G.pages||1,L+1)),disabled:L===(G.pages||1),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:O,onChange:_e=>ut(_e.target.value),className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(L-1)*O+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(L*O,G.total||0)})," ","of ",s.jsx("span",{className:"font-medium",children:G.total||0})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>F(Math.max(1,L-1)),disabled:L===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(G.pages||1,10)},(_e,xt)=>G.pages<=10||L<=5?xt+1:L>=G.pages-4?G.pages-9+xt:L-5+xt).map(_e=>s.jsx("button",{onClick:()=>F(_e),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${L===_e?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:_e},_e)),s.jsx("button",{onClick:()=>F(Math.min(G.pages||1,L+1)),disabled:L===(G.pages||1),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})})]}),f&&s.jsx(jbe,{user:m,onClose:Ao,onSuccess:Gc}),x&&y&&s.jsx(Nbe,{user:y,onClose:ue,onSuccess:ke}),v&&_&&s.jsx(_be,{user:_,onClose:ae,onSuccess:ve}),B&&Y&&s.jsx(kbe,{user:Y,onClose:br}),R&&s.jsx(Sbe,{onClose:oi,onSuccess:es}),(t||r)&&s.jsx(Ebe,{limit:15})]})},Tbe=()=>{var k,E,T;const{user:e}=Gn(),t=vr(),[r,n]=w.useState("supervisor"),[a,i]=w.useState({}),[l,o]=w.useState(!1),c=(e==null?void 0:e.role)==="admin",{data:u,isLoading:d,refetch:f}=Ge("permissionMatrix",Ep.getPermissionMatrix,{onError:C=>{var A,S;ne.error(((S=(A=C.response)==null?void 0:A.data)==null?void 0:S.message)||"Failed to load permissions")}}),h=qt(({role:C,permissions:A})=>Ep.updateRolePermissions(C,A),{onSuccess:()=>{ne.success("Permissions updated successfully!"),i({}),o(!1),t.invalidateQueries("permissionMatrix")},onError:C=>{var A,S;ne.error(((S=(A=C.response)==null?void 0:A.data)==null?void 0:S.message)||"Failed to update permissions")}}),m=((k=u==null?void 0:u.data)==null?void 0:k.permissions)||[],p=((E=u==null?void 0:u.data)==null?void 0:E.matrix)||{},x=m.reduce((C,A)=>(C[A.resource]||(C[A.resource]=[]),C[A.resource].push(A),C),{}),g=C=>{var A;return a[C]!==void 0?a[C]:((A=p[r])==null?void 0:A[C])||!1},y=C=>{const A=g(C);i({...a,[C]:!A}),o(!0)},b=()=>{const C=Object.entries(a).map(([A,S])=>({permissionId:m.find(M=>M.name===A).id,granted:S}));h.mutate({role:r,permissions:C})},v=()=>{i({}),o(!1)};if(!c)return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[s.jsx(Si,{className:"h-24 w-24 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to manage permissions."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Required role: Admin"})]});if(d)return s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})});const N=[{value:"supervisor",label:"Supervisor",color:"blue"},{value:"technician",label:"Technician",color:"green"},{value:"customer_service",label:"Customer Service",color:"yellow"}],_={dashboard:"Dashboard",analytics:"Analytics",tickets:"Tickets",customers:"Customers",registrations:"Registrations",technicians:"Technicians",inventory:"Inventory",users:"Users",permissions:"Permissions",reports:"Reports"},j={view:"View",create:"Create",edit:"Edit",delete:"Delete",assign:"Assign",close:"Close",verify:"Verify",approve:"Approve",reject:"Reject",schedule:"Schedule",transactions:"Transactions",reset_password:"Reset Password",manage:"Manage",export:"Export"};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[s.jsx(ja,{className:"h-8 w-8 mr-3 text-purple-600"}),"Permission Management"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure role-based access control for the system"})]}),s.jsxs("button",{onClick:()=>f(),disabled:d,className:"btn-secondary",children:[s.jsx(Ap,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(a0,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"About Permissions:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Admin"})," role always has full access to all features"]}),s.jsx("li",{children:"Customize permissions for Supervisor, Technician, and Customer Service roles"}),s.jsx("li",{children:"Changes take effect immediately after saving"}),s.jsx("li",{children:"Be careful when revoking permissions - it may affect user workflows"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Role to Manage"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:N.map(C=>s.jsx("button",{onClick:()=>{l?window.confirm("You have unsaved changes. Are you sure you want to switch roles?")&&(n(C.value),i({}),o(!1)):n(C.value)},className:`p-4 rounded-lg border-2 transition-all ${r===C.value?`border-${C.color}-500 bg-${C.color}-50`:"border-gray-200 hover:border-gray-300 bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:C.label}),s.jsxs("p",{className:"text-sm text-gray-500",children:[Object.values(p[C.value]||{}).filter(Boolean).length," permissions"]})]}),r===C.value&&s.jsx(Ke,{className:`h-6 w-6 text-${C.color}-600`})]})},C.value))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Permissions for ",(T=N.find(C=>C.value===r))==null?void 0:T.label]}),l&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-sm text-orange-600 font-medium flex items-center",children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Unsaved changes"]}),s.jsx("button",{onClick:v,className:"btn-secondary text-sm",children:"Reset"}),s.jsx("button",{onClick:b,disabled:h.isLoading,className:"btn-primary text-sm",children:h.isLoading?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):s.jsxs("span",{className:"flex items-center",children:[s.jsx(dg,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]}),s.jsx("div",{className:"p-6 space-y-6",children:Object.entries(x).map(([C,A])=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ja,{className:"h-5 w-5 mr-2 text-blue-600"}),_[C]||C]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:A.map(S=>{const B=g(S.name),M=a[S.name]!==void 0;return s.jsxs("div",{className:`flex items-center justify-between p-3 bg-white rounded-lg border-2 transition-all ${M?"border-orange-300 bg-orange-50":B?"border-green-200 hover:border-green-300":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:"flex items-center flex-1",children:s.jsxs("label",{className:"flex items-center cursor-pointer flex-1",children:[s.jsx("input",{type:"checkbox",checked:B,onChange:()=>y(S.name),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j[S.action]||S.action}),s.jsx("p",{className:"text-xs text-gray-500",children:S.description})]})]})}),B?s.jsx(Ke,{className:"h-5 w-5 text-green-600 flex-shrink-0 ml-2"}):s.jsx(wt,{className:"h-5 w-5 text-gray-300 flex-shrink-0 ml-2"})]},S.id)})})]},C))})]}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 border border-purple-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ja,{className:"h-6 w-6 text-purple-600 mt-1 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Permission Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[N.map(C=>{const A=p[C.value]||{},S=Object.values(A).filter(Boolean).length,B=m.length;return s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:C.label}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[S,s.jsxs("span",{className:"text-sm text-gray-500",children:["/",B]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(S/B*100),"% access"]})]},C.value)}),s.jsxs("div",{className:"bg-purple-100 rounded-lg p-4 border border-purple-300",children:[s.jsx("p",{className:"text-xs text-purple-700 font-medium",children:"Admin"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:[m.length,s.jsxs("span",{className:"text-sm text-purple-600",children:["/",m.length]})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"100% access (always)"})]})]})]})]})}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Si,{className:"h-5 w-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Important Notes:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Admin role cannot be modified and always has full access"}),s.jsx("li",{children:"Removing critical permissions may prevent users from doing their jobs"}),s.jsx("li",{children:"Test permission changes with a test account before applying to all users"}),s.jsx("li",{children:"Permission changes take effect immediately - active users may need to refresh"})]})]})]})})]})},Abe=()=>{var A,S;const{user:e,setUser:t}=Gn(),r=vr(),[n,a]=w.useState("profile"),[i,l]=w.useState(!1),[o,c]=w.useState(!1),[u,d]=w.useState(!1),{data:f,isLoading:h}=Ge("profile",_f.getProfile,{onError:B=>{var M,Y;ne.error(((Y=(M=B.response)==null?void 0:M.data)==null?void 0:Y.message)||"Failed to load profile")}}),{register:m,handleSubmit:p,formState:{errors:x},reset:g}=Ha({defaultValues:{full_name:"",email:"",phone:""}}),{register:y,handleSubmit:b,formState:{errors:v},reset:N,watch:_}=Ha({defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}});w.useEffect(()=>{var B;if((B=f==null?void 0:f.data)!=null&&B.user){const M=f.data.user;g({full_name:M.full_name||"",email:M.email||"",phone:M.phone||""})}},[f,g]);const j=qt(B=>_f.updateProfile(B),{onSuccess:B=>{var M;ne.success("Profile updated successfully!"),r.invalidateQueries("profile"),(M=B.data)!=null&&M.user&&t({...e,...B.data.user})},onError:B=>{var M,Y;ne.error(((Y=(M=B.response)==null?void 0:M.data)==null?void 0:Y.message)||"Failed to update profile")}}),k=qt(B=>_f.changePassword(B),{onSuccess:()=>{ne.success("Password changed successfully!"),N(),l(!1),c(!1),d(!1)},onError:B=>{var M,Y;ne.error(((Y=(M=B.response)==null?void 0:M.data)==null?void 0:Y.message)||"Failed to change password")}}),E=B=>{j.mutate(B)},T=B=>{if(B.newPassword!==B.confirmPassword){ne.error("New password and confirmation do not match");return}k.mutate({currentPassword:B.currentPassword,newPassword:B.newPassword})};if(h)return s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})});const C=(A=f==null?void 0:f.data)==null?void 0:A.user;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]})}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:(S=C==null?void 0:C.full_name)==null?void 0:S.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:C==null?void 0:C.full_name}),s.jsxs("p",{className:"text-gray-600",children:["@",C==null?void 0:C.username]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full border ${(C==null?void 0:C.role)==="admin"?"bg-purple-100 text-purple-800 border-purple-200":(C==null?void 0:C.role)==="supervisor"?"bg-blue-100 text-blue-800 border-blue-200":(C==null?void 0:C.role)==="technician"?"bg-green-100 text-green-800 border-green-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}`,children:(C==null?void 0:C.role)==="admin"?"Admin":(C==null?void 0:C.role)==="supervisor"?"Supervisor":(C==null?void 0:C.role)==="technician"?"Technician":"Customer Service"})})]})]})}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>a("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="profile"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 mr-2"}),"Edit Profile"]})}),s.jsx("button",{onClick:()=>a("password"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="password"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($S,{className:"h-5 w-5 mr-2"}),"Change Password"]})})]})}),s.jsxs("div",{className:"max-w-3xl",children:[n==="profile"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 mr-2 text-blue-600"}),"Personal Information"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your personal details and contact information"})]}),s.jsxs("form",{onSubmit:p(E),className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 text-gray-400"}),"Full Name ",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),s.jsx("input",{type:"text",className:"input-field",placeholder:"Enter your full name",...m("full_name",{required:"Full name is required"})}),x.full_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.full_name.message})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(cn,{className:"h-4 w-4 mr-2 text-gray-400"}),"Email Address ",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),s.jsx("input",{type:"email",className:"input-field",placeholder:"email@example.com",...m("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email format"}})}),x.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.email.message})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(zn,{className:"h-4 w-4 mr-2 text-gray-400"}),"Phone Number"]})}),s.jsx("input",{type:"text",className:"input-field",placeholder:"08123456789",...m("phone")})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-5 border border-blue-200",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ja,{className:"h-4 w-4 mr-2 text-blue-600"}),"Username (Cannot be changed)"]})}),s.jsx("input",{type:"text",className:"input-field bg-gray-100 cursor-not-allowed",value:(C==null?void 0:C.username)||"",disabled:!0})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:s.jsx("button",{type:"submit",disabled:j.isLoading,className:"btn-primary",children:j.isLoading?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):s.jsxs("span",{className:"flex items-center",children:[s.jsx(dg,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})})]})]}),n==="password"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(a0,{className:"h-5 w-5 mr-2 text-blue-600"}),"Change Password"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your password to keep your account secure"})]}),s.jsxs("form",{onSubmit:b(T),className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",className:"input-field pr-10",placeholder:"Enter current password",...y("currentPassword",{required:"Current password is required"})}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?s.jsx(Wm,{className:"h-5 w-5"}):s.jsx(kf,{className:"h-5 w-5"})})]}),v.currentPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.currentPassword.message})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o?"text":"password",className:"input-field pr-10",placeholder:"Enter new password (min 6 characters)",...y("newPassword",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),s.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(Wm,{className:"h-5 w-5"}):s.jsx(kf,{className:"h-5 w-5"})})]}),v.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.newPassword.message})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",className:"input-field pr-10",placeholder:"Re-enter new password",...y("confirmPassword",{required:"Please confirm your password",validate:B=>B===_("newPassword")||"Passwords do not match"})}),s.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?s.jsx(Wm,{className:"h-5 w-5"}):s.jsx(kf,{className:"h-5 w-5"})})]}),v.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.confirmPassword.message})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(a0,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Password Security Tips:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Use at least 6 characters"}),s.jsx("li",{children:"Include uppercase and lowercase letters"}),s.jsx("li",{children:"Add numbers and special characters"}),s.jsx("li",{children:"Don't reuse old passwords"})]})]})]})}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:s.jsx("button",{type:"submit",disabled:k.isLoading,className:"btn-primary bg-green-600 hover:bg-green-700",children:k.isLoading?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing Password..."]}):s.jsxs("span",{className:"flex items-center",children:[s.jsx($S,{className:"h-4 w-4 mr-2"}),"Change Password"]})})})]})]})]})]})},wr={requestOTP:async(e,t)=>{try{return await be.post("/registrations/public/request-otp",{phone:e,full_name:t})}catch(r){throw r}},verifyOTP:async(e,t)=>{try{return await be.post("/registrations/public/verify-otp",{phone:e,otp:t})}catch(r){throw r}},submitRegistration:async e=>{try{return await be.post("/registrations/public",e)}catch(t){throw t}},trackStatus:async e=>{try{return await be.get(`/registrations/public/status/${e}`)}catch(t){throw t}},getAll:async(e={})=>{try{const t=new URLSearchParams(e).toString();return await be.get(`/registrations?${t}`)}catch(t){throw t}},getStats:async()=>{try{return await be.get("/registrations/stats")}catch(e){throw e}},getById:async e=>{try{return await be.get(`/registrations/${e}`)}catch(t){throw t}},updateStatus:async(e,t)=>{try{return await be.put(`/registrations/${e}/status`,t)}catch(r){throw r}},createCustomer:async e=>{try{return await be.post(`/registrations/${e}/create-customer`)}catch(t){throw t}}},Pbe=()=>{const e=Fi(),[t,r]=w.useState(1),[n,a]=w.useState(!1),[i,l]=w.useState(!1),[o,c]=w.useState(""),[u,d]=w.useState(!1),[f,h]=w.useState(0),[m,p]=w.useState(null),[x,g]=w.useState(""),[y,b]=w.useState(!1),v=w.useRef(null),{register:N,handleSubmit:_,formState:{errors:j},watch:k,setValue:E,trigger:T}=Ha({mode:"onChange",defaultValues:{service_type:"broadband",preferred_time_slot:"morning"}}),C=k("phone"),A=k("full_name"),S=k("id_card_photo"),{data:B,isLoading:M}=Ge("packages-broadband",()=>ws.getAll(),{select:L=>(Array.isArray(L==null?void 0:L.data)?L.data:[]).filter(O=>O.type==="broadband")});w.useEffect(()=>{if(f>0){const L=setTimeout(()=>h(f-1),1e3);return()=>clearTimeout(L)}},[f]),w.useEffect(()=>{(async()=>{try{const F=await be.get("/auth/recaptcha-config");F.data&&(b(F.data.enabled),g(F.data.siteKey))}catch(F){console.error("Failed to fetch reCAPTCHA config:",F),b(!1)}})()},[]);const Y=L=>{p(L)},z=async()=>{var F,O,re;if(!await T(["phone","full_name"])){ne.error("Mohon lengkapi nama dan nomor WhatsApp");return}try{const oe=await wr.requestOTP(C,A);oe.success&&(l(!0),h(60),ne.success(oe.message||"Kode OTP telah dikirim ke WhatsApp Anda"),(F=oe.data)!=null&&F.otp&&(console.log("Dev mode OTP:",oe.data.otp),ne.info(`Dev mode - OTP: ${oe.data.otp}`,{duration:1e4})))}catch(oe){ne.error(((re=(O=oe.response)==null?void 0:O.data)==null?void 0:re.message)||"Gagal mengirim OTP")}},R=async()=>{var L,F,O,re;if(o.length!==6){ne.error("Kode OTP harus 6 digit");return}try{(await wr.verifyOTP(C,o)).success&&(a(!0),E("whatsapp_verified","true"),ne.success("WhatsApp berhasil diverifikasi!"))}catch(oe){const J=((F=(L=oe.response)==null?void 0:L.data)==null?void 0:F.message)||"Kode OTP salah",Z=(re=(O=oe.response)==null?void 0:O.data)==null?void 0:re.attemptsLeft;Z!==void 0?ne.error(`${J}. Sisa percobaan: ${Z}`):ne.error(J)}},H=L=>new Promise((F,O)=>{const re=new FileReader;re.readAsDataURL(L),re.onload=()=>F(re.result),re.onerror=oe=>O(oe)}),U=async L=>{var F,O,re,oe,J;if(!n){ne.error("Mohon verifikasi nomor WhatsApp terlebih dahulu");return}if(y&&!m){ne.error("Mohon selesaikan verifikasi reCAPTCHA"),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});return}d(!0);try{let Z=null;(F=L.id_card_photo)!=null&&F[0]&&(Z=await H(L.id_card_photo[0]));const se={...L,id_card_photo:Z,whatsapp_verified:"true",recaptchaToken:m,id_card_number:L.id_card_number||null,rt:L.rt||null,rw:L.rw||null,kelurahan:L.kelurahan||null,kecamatan:L.kecamatan||null,postal_code:L.postal_code||null,address_notes:L.address_notes||null,preferred_installation_date:L.preferred_installation_date||null,notes:L.notes||null,referral_code:L.referral_code||null,package_id:parseInt(L.package_id)};console.log(" SUBMITTING REGISTRATION - FULL DATA:"),console.log(JSON.stringify(se,null,2)),console.log(" Data Keys:",Object.keys(se)),console.log(" package_id type:",typeof se.package_id,"=",se.package_id);const G=await wr.submitRegistration(se);G.success&&(ne.success("Pendaftaran berhasil!"),e(`/track/${G.data.registration_number}`,{state:{fromRegistration:!0}}))}catch(Z){console.error(" REGISTRATION SUBMIT ERROR:",{message:Z.message,response:(O=Z.response)==null?void 0:O.data,status:(re=Z.response)==null?void 0:re.status}),v.current&&(v.current.reset(),p(null)),ne.error(((J=(oe=Z.response)==null?void 0:oe.data)==null?void 0:J.message)||"Gagal submit pendaftaran")}finally{d(!1)}},te=async L=>{L&&(L.preventDefault(),L.stopPropagation());let F=[];if(t===1){if(F=["full_name","email","phone"],!await T(F))return;if(!n){ne.error("Mohon verifikasi nomor WhatsApp terlebih dahulu!",{icon:"",duration:4e3});return}}else if(t===2){if(F=["address","city"],!await T(F))return}else if(t===3&&(F=["package_id"],!await T(F)))return;r(t+1),window.scrollTo({top:0,behavior:"smooth"})},K=()=>{r(t-1),window.scrollTo({top:0,behavior:"smooth"})},D=[{number:1,title:"Data Pribadi",icon:Ct},{number:2,title:"Alamat",icon:jn},{number:3,title:"Pilih Paket",icon:ir},{number:4,title:"Konfirmasi",icon:ny}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-10 w-auto"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AGLIS"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Daftar Sekarang"})]})]}),s.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Sudah Terdaftar? Login"})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex items-center justify-between mb-8",children:D.map((L,F)=>{const O=L.icon,re=t===L.number,oe=t>L.number;return s.jsxs(yt.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`
                      w-12 h-12 rounded-full flex items-center justify-center font-semibold transition-all
                      ${oe?"bg-green-500 text-white":re?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-200 text-gray-400"}
                    `,children:oe?s.jsx(Ua,{className:"h-6 w-6"}):s.jsx(O,{className:"h-6 w-6"})}),s.jsx("div",{className:"mt-2 text-center",children:s.jsx("p",{className:`text-sm font-medium ${re?"text-blue-600":"text-gray-500"}`,children:L.title})})]}),F<D.length-1&&s.jsx("div",{className:`
                      h-1 flex-1 mx-2 rounded transition-all
                      ${t>L.number?"bg-green-500":"bg-gray-200"}
                    `})]},L.number)})})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:s.jsxs("form",{onSubmit:_(U),children:[t===1&&s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Data Pribadi & Verifikasi WhatsApp"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Lengkapi data pribadi dan verifikasi nomor WhatsApp Anda"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap *"}),s.jsx("input",{type:"text",className:`form-input ${j.full_name?"border-red-500":""}`,placeholder:"Masukkan nama lengkap sesuai KTP",...N("full_name",{required:"Nama lengkap wajib diisi",minLength:{value:3,message:"Nama minimal 3 karakter"}})}),j.full_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.full_name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",className:`form-input ${j.email?"border-red-500":""}`,placeholder:"contoh@email.com",...N("email",{required:"Email wajib diisi",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Format email tidak valid"}})}),j.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.email.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nomor WhatsApp *",n&&s.jsxs("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:[s.jsx(ja,{className:"inline h-4 w-4 mr-1"}),"Terverifikasi"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"tel",className:`form-input flex-1 ${j.phone?"border-red-500":n?"border-green-500 bg-green-50":""}`,placeholder:"08123456789",disabled:n,...N("phone",{required:"Nomor WhatsApp wajib diisi",pattern:{value:/^(\+62|62|0)[0-9]{9,12}$/,message:"Format nomor tidak valid (contoh: 081234567890)"}})}),!n&&s.jsx("button",{type:"button",onClick:z,disabled:f>0||!C,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap",children:f>0?`${f}s`:"Kirim OTP"})]}),j.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.phone.message}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[s.jsx(zn,{className:"inline h-3 w-3 mr-1"}),"Pastikan nomor WhatsApp aktif untuk verifikasi"]})]}),i&&!n&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(bW,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Masukkan kode OTP yang dikirim ke WhatsApp Anda"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:o,onChange:L=>c(L.target.value.replace(/\D/g,"").slice(0,6)),className:"form-input flex-1 text-center text-2xl font-bold tracking-widest",placeholder:"000000",maxLength:6}),s.jsx("button",{type:"button",onClick:R,disabled:o.length!==6,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap",children:"Verifikasi"})]}),f===0&&s.jsx("button",{type:"button",onClick:z,className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Kirim ulang OTP"})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor KTP (Opsional)"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"3201012345678901",...N("id_card_number",{pattern:{value:/^[0-9]{16}$/,message:"Nomor KTP harus 16 digit"}})}),j.id_card_number&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.id_card_number.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto KTP (Opsional)"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(Xi,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("div",{className:"flex text-sm text-gray-600",children:s.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[s.jsx("span",{children:"Upload foto KTP"}),s.jsx("input",{type:"file",accept:"image/*",className:"sr-only",...N("id_card_photo")})]})}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"}),(S==null?void 0:S[0])&&s.jsxs("p",{className:"text-sm text-green-600 font-medium",children:[" ",S[0].name]})]})})]})]})]}),t===2&&s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alamat Lengkap"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Pastikan alamat yang Anda masukkan adalah lokasi instalasi"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alamat Lengkap *"}),s.jsx("textarea",{rows:3,className:`form-input ${j.address?"border-red-500":""}`,placeholder:"Jl. Contoh No. 123",...N("address",{required:"Alamat wajib diisi",minLength:{value:10,message:"Alamat terlalu pendek"}})}),j.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.address.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RT"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"001",...N("rt")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RW"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"005",...N("rw")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kelurahan"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"Nama Kelurahan",...N("kelurahan")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kecamatan"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"Nama Kecamatan",...N("kecamatan")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kota *"}),s.jsx("input",{type:"text",className:`form-input ${j.city?"border-red-500":""}`,placeholder:"Jakarta",...N("city",{required:"Kota wajib diisi"})}),j.city&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.city.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kode Pos"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"12345",...N("postal_code",{pattern:{value:/^[0-9]{5}$/,message:"Kode pos harus 5 digit"}})}),j.postal_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.postal_code.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patokan/Catatan Alamat"}),s.jsx("textarea",{rows:2,className:"form-input",placeholder:"Dekat minimarket, rumah cat biru, dll",...N("address_notes")})]})]})]}),t===3&&s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pilih Paket Internet"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Pilih paket yang sesuai dengan kebutuhan Anda"})]}),s.jsxs("div",{className:"space-y-4",children:[M?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading packages..."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B==null?void 0:B.map(L=>{var F;return s.jsxs("label",{className:`
                            relative flex cursor-pointer rounded-lg border-2 p-6 transition-all
                            ${k("package_id")===L.id.toString()?"border-blue-600 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-blue-300 bg-white"}
                          `,children:[s.jsx("input",{type:"radio",value:L.id,className:"sr-only",...N("package_id",{required:"Pilih salah satu paket"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:L.name||L.package_name}),k("package_id")===L.id.toString()&&s.jsx(ny,{className:"h-6 w-6 text-blue-600"})]}),s.jsxs("div",{className:"flex items-baseline mb-3",children:[s.jsx("span",{className:"text-3xl font-bold text-blue-600",children:L.speed_mbps||L.speed}),s.jsx("span",{className:"text-gray-600 ml-2",children:"Mbps"})]}),s.jsxs("div",{className:"flex items-baseline",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["Rp ",(F=L.price||L.monthly_price)==null?void 0:F.toLocaleString("id-ID")]}),s.jsx("span",{className:"text-gray-600 ml-2",children:"/bulan"})]}),L.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-3",children:L.description})]})]},L.id)})}),j.package_id&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:j.package_id.message}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Instalasi yang Diinginkan (Opsional)"}),s.jsx("input",{type:"date",className:"form-input",min:new Date().toISOString().split("T")[0],...N("preferred_installation_date")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waktu Instalasi yang Diinginkan"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"morning",label:"Pagi (08:00-12:00)"},{value:"afternoon",label:"Siang (12:00-16:00)"},{value:"evening",label:"Sore (16:00-18:00)"}].map(L=>s.jsxs("label",{className:`
                            relative flex cursor-pointer rounded-lg border-2 p-4 text-center transition-all
                            ${k("preferred_time_slot")===L.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                          `,children:[s.jsx("input",{type:"radio",value:L.value,className:"sr-only",...N("preferred_time_slot")}),s.jsx("span",{className:"text-sm font-medium text-gray-900 w-full",children:L.label})]},L.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan Tambahan (Opsional)"}),s.jsx("textarea",{rows:3,className:"form-input",placeholder:"Permintaan khusus, pertanyaan, dll",...N("notes")})]})]})]}),t===4&&s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Konfirmasi Data"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Periksa kembali data Anda sebelum submit"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Pribadi"}),s.jsxs("dl",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-gray-600",children:"Nama:"}),s.jsx("dd",{className:"font-medium text-gray-900",children:k("full_name")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-gray-600",children:"Email:"}),s.jsx("dd",{className:"font-medium text-gray-900",children:k("email")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-gray-600",children:"WhatsApp:"}),s.jsxs("dd",{className:"font-medium text-green-600 flex items-center",children:[k("phone"),s.jsx(ja,{className:"inline h-4 w-4 ml-2"})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alamat"}),s.jsx("p",{className:"text-gray-900",children:k("address")}),(k("rt")||k("rw"))&&s.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["RT ",k("rt")||"-"," / RW ",k("rw")||"-"]}),s.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[k("kelurahan"),", ",k("kecamatan"),", ",k("city")," ",k("postal_code")]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border-2 border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Paket yang Dipilih"}),(()=>{var F;const L=B==null?void 0:B.find(O=>O.id===parseInt(k("package_id")));return L?s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-bold text-gray-900",children:L.name||L.package_name}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:[L.speed_mbps||L.speed," Mbps"]}),s.jsxs("p",{className:"text-xl font-semibold text-gray-900 mt-2",children:["Rp ",(F=L.price||L.monthly_price)==null?void 0:F.toLocaleString("id-ID"),"/bulan"]})]}):s.jsx("p",{className:"text-gray-500",children:"Belum memilih paket"})})()]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Ht,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"Penting!"}),s.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:[" Tim kami akan menghubungi Anda untuk verifikasi data",s.jsx("br",{})," Survey lokasi akan dilakukan sebelum instalasi",s.jsx("br",{})," Instalasi akan dijadwalkan setelah survey selesai",s.jsx("br",{})," Pastikan nomor WhatsApp aktif untuk komunikasi"]})]})]})}),y&&x&&s.jsx("div",{className:"flex justify-center",children:s.jsx(a5,{ref:v,sitekey:x,onChange:Y,onExpired:()=>p(null),onErrored:()=>{p(null),ne.error("reCAPTCHA error. Please refresh the page.")},theme:"light"})}),y&&!m&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ja,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-blue-800",children:"Mohon selesaikan verifikasi reCAPTCHA di atas sebelum submit"})})]})})]})]}),s.jsxs("div",{className:"bg-gray-50 px-8 py-6 border-t flex justify-between",children:[t>1&&s.jsxs("button",{type:"button",onClick:K,className:"inline-flex items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[s.jsx($O,{className:"h-5 w-5 mr-2"}),"Kembali"]}),s.jsx("div",{className:"ml-auto",children:t<4?s.jsxs("button",{type:"button",onClick:te,className:"inline-flex items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:["Selanjutnya",s.jsx(cW,{className:"h-5 w-5 ml-2"})]}):s.jsx("button",{type:"submit",disabled:u||y&&!m,className:"inline-flex items-center px-8 py-3 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Memproses..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ny,{className:"h-5 w-5 mr-2"}),"Daftar Sekarang"]})})})]})]})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Butuh bantuan? Hubungi kami di"," ",s.jsx("a",{href:"https://wa.me/6281234567890",className:"text-blue-600 hover:text-blue-700 font-medium",children:"WhatsApp"})," ","atau"," ",s.jsx("a",{href:"tel:021-12345678",className:"text-blue-600 hover:text-blue-700 font-medium",children:"021-12345678"})]})})]})]})},dA=()=>{const{registrationNumber:e}=M0(),[t,r]=w.useState(e||""),[n,a]=w.useState(e||""),{data:i,isLoading:l,error:o,refetch:c}=Ge(["track-registration",n],()=>wr.trackStatus(n),{enabled:!!n,retry:!1,select:x=>x.data}),u=x=>{x.preventDefault(),t.trim()&&(a(t.trim()),c())};w.useEffect(()=>{if(!n||!i)return;it.connect();const x=g=>{console.log(" [TrackingPage] Registration update received:",g),(g.registration_number===n||g.registration_number===i.registration_number||g.email===n||g.email===i.email)&&(console.log(" [TrackingPage] Update is for current registration, refetching..."),c())};return it.on("registration_updated",x),it.on("registration_status_changed",x),console.log(" [TrackingPage] Socket listeners setup for:",n),()=>{console.log(" [TrackingPage] Removing socket listeners"),it.off("registration_updated",x),it.off("registration_status_changed",x)}},[n,i,c]);const d=x=>{const g={pending_verification:{label:"Menunggu Verifikasi",icon:Ut,color:"yellow",description:"Data Anda sedang dalam proses verifikasi oleh tim kami"},verified:{label:"Terverifikasi",icon:ma,color:"blue",description:"Data Anda telah diverifikasi. Menunggu jadwal survey"},survey_scheduled:{label:"Survey Dijadwalkan",icon:Nr,color:"indigo",description:"Survey lokasi telah dijadwalkan"},survey_completed:{label:"Survey Selesai",icon:Um,color:"purple",description:"Survey lokasi telah selesai. Menunggu persetujuan"},approved:{label:"Disetujui",icon:Ke,color:"green",description:"Pendaftaran Anda telah disetujui! Instalasi akan segera dijadwalkan"},customer_created:{label:"Customer Telah Dibuat",icon:Ke,color:"green",description:"Selamat! Anda telah terdaftar sebagai customer. Instalasi akan segera dijadwalkan"},rejected:{label:"Ditolak",icon:wt,color:"red",description:"Pendaftaran Anda ditolak"},cancelled:{label:"Dibatalkan",icon:wt,color:"gray",description:"Pendaftaran dibatalkan"}};return g[x]||g.pending_verification},f=(x,g)=>{const y=["pending_verification","verified","survey_scheduled","survey_completed","approved","customer_created"],b=y.indexOf(x),v=y.indexOf(g);return x==="rejected"||x==="cancelled"?v<=b?"completed":"pending":v<b?"completed":v===b?"current":"pending"},h=x=>({pending_verification:{title:"Langkah Selanjutnya",items:["Tim kami akan melakukan verifikasi data (1-2 hari kerja)","Pastikan nomor WhatsApp Anda aktif","Anda akan dihubungi untuk jadwal survey lokasi"],color:"blue"},verified:{title:"Menunggu Jadwal Survey",items:["Tim akan menghubungi Anda untuk jadwal survey","Pastikan lokasi mudah diakses","Siapkan denah lokasi jika diperlukan"],color:"blue"},survey_scheduled:{title:"Persiapan Survey",items:["Pastikan ada yang bisa menerima tim survey","Siapkan akses ke lokasi instalasi","Berikan informasi teknis lokasi jika ada"],color:"indigo"},survey_completed:{title:"Menunggu Persetujuan",items:["Survey lokasi telah selesai dilakukan","Tim sedang review hasil survey","Anda akan dihubungi untuk hasil persetujuan"],color:"purple"},approved:{title:"Selamat! Pendaftaran Disetujui",items:["Tim kami akan segera menghubungi untuk jadwal instalasi","Pastikan nomor WhatsApp Anda aktif","Proses pembuatan account customer sedang berlangsung"],color:"green"},customer_created:{title:"Menunggu Jadwal Instalasi",items:["Selamat! Anda sudah terdaftar sebagai customer","Tim instalasi akan menghubungi untuk jadwal","Pastikan nomor WhatsApp aktif dan lokasi siap diakses"],color:"green"}})[x],m=i?d(i.status):null,p=(m==null?void 0:m.icon)||Ut;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-12 w-auto"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AGLIS"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Lacak Status Pendaftaran"})]})]})})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cek Status Pendaftaran"}),s.jsxs("form",{onSubmit:u,className:"flex gap-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",value:t,onChange:x=>r(x.target.value),placeholder:"Masukkan nomor registrasi atau email",className:"form-input w-full"})}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[s.jsx(Kn,{className:"h-5 w-5 mr-2"}),"Cari"]})]})]}),l&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Mencari data..."})]}),o&&n&&!l&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[s.jsx(wt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Data Tidak Ditemukan"}),s.jsx("p",{className:"text-gray-600",children:"Pendaftaran dengan nomor/email tersebut tidak ditemukan."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Pastikan Anda memasukkan nomor registrasi atau email yang benar."})]}),i&&!l&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:`
                px-8 py-6 border-b-4
                ${m.color==="green"?"bg-green-50 border-green-500":m.color==="yellow"?"bg-yellow-50 border-yellow-500":m.color==="blue"?"bg-blue-50 border-blue-500":m.color==="red"?"bg-red-50 border-red-500":"bg-gray-50 border-gray-500"}
              `,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`
                      p-3 rounded-full
                      ${m.color==="green"?"bg-green-500":m.color==="yellow"?"bg-yellow-500":m.color==="blue"?"bg-blue-500":m.color==="red"?"bg-red-500":"bg-gray-500"}
                    `,children:s.jsx(p,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status Pendaftaran"}),s.jsx("p",{className:`
                        text-2xl font-bold
                        ${m.color==="green"?"text-green-700":m.color==="yellow"?"text-yellow-700":m.color==="blue"?"text-blue-700":m.color==="red"?"text-red-700":"text-gray-700"}
                      `,children:m.label}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Nomor Registrasi"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:i.registration_number})]})]})}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 mr-2 text-blue-600"}),"Informasi Pribadi"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ct,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Nama"}),s.jsx("p",{className:"font-medium text-gray-900",children:i.full_name})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(cn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-900",children:i.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"WhatsApp"}),s.jsxs("p",{className:"font-medium text-green-600 flex items-center",children:[i.phone,s.jsx(ja,{className:"h-4 w-4 ml-1"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ir,{className:"h-5 w-5 mr-2 text-blue-600"}),"Paket yang Dipilih"]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[s.jsx("p",{className:"text-xl font-bold text-gray-900",children:i.package_name}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:[new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i.monthly_price),"/bulan"]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(jn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Alamat Instalasi"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("p",{className:"text-gray-900",children:i.address||"Belum tersedia"}),i.city&&s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:i.city})]})]}),i.status==="survey_scheduled"&&i.survey_scheduled_date&&s.jsx("div",{className:"bg-indigo-50 border-l-4 border-indigo-500 p-6 rounded-r-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Nr,{className:"h-6 w-6 text-indigo-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-indigo-900 mb-2",children:" Survey Telah Dijadwalkan"}),s.jsx("p",{className:"text-indigo-800 text-lg font-semibold",children:new Date(i.survey_scheduled_date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-indigo-700 text-sm mt-2",children:"Mohon siapkan akses lokasi untuk tim survey kami"})]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Nr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Timeline"]}),s.jsx("div",{className:"space-y-4",children:[{status:"pending_verification",label:"Pendaftaran Diterima",date:i.created_at},{status:"verified",label:"Data Diverifikasi",date:i.verified_at},{status:"survey_scheduled",label:"Survey Dijadwalkan",date:i.survey_scheduled_date},{status:"survey_completed",label:"Survey Selesai",date:null},{status:"approved",label:"Disetujui",date:i.approved_at},{status:"customer_created",label:"Customer Dibuat",date:null}].map((x,g)=>{const y=f(i.status,x.status);return s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`
                            w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0
                            ${y==="completed"?"bg-green-500 text-white":y==="current"?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-200 text-gray-400"}
                          `,children:y==="completed"?s.jsx(Ke,{className:"h-6 w-6"}):s.jsx("div",{className:"w-3 h-3 bg-current rounded-full"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`font-medium ${y==="current"?"text-blue-600":"text-gray-900"}`,children:x.label}),x.date&&s.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.date).toLocaleString("id-ID")})]})]},g)})})]}),i.status==="rejected"&&i.rejection_reason&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ht,{className:"h-6 w-6 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Alasan Penolakan"}),s.jsx("p",{className:"text-red-800",children:i.rejection_reason})]})]})}),h(i.status)&&s.jsxs("div",{className:`
                    border rounded-lg p-6
                    ${h(i.status).color==="green"?"bg-green-50 border-green-200":h(i.status).color==="blue"?"bg-blue-50 border-blue-200":h(i.status).color==="indigo"?"bg-indigo-50 border-indigo-200":h(i.status).color==="purple"?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}
                  `,children:[s.jsxs("h4",{className:`
                      font-semibold mb-3 flex items-center
                      ${h(i.status).color==="green"?"text-green-900":h(i.status).color==="blue"?"text-blue-900":h(i.status).color==="indigo"?"text-indigo-900":h(i.status).color==="purple"?"text-purple-900":"text-gray-900"}
                    `,children:[s.jsx(Ke,{className:"h-5 w-5 mr-2"}),h(i.status).title]}),s.jsx("ul",{className:`
                      space-y-2
                      ${h(i.status).color==="green"?"text-green-800":h(i.status).color==="blue"?"text-blue-800":h(i.status).color==="indigo"?"text-indigo-800":h(i.status).color==="purple"?"text-purple-800":"text-gray-800"}
                    `,children:h(i.status).items.map((x,g)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Ke,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:x})]},g))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Butuh Bantuan?"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("a",{href:"https://wa.me/6281234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[s.jsx(zn,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Chat dengan kami"})]})]}),s.jsxs("a",{href:"tel:021-12345678",className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(zn,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Telepon"}),s.jsx("p",{className:"text-sm text-gray-600",children:"021-12345678"})]})]})]})]})]}),!n&&!l&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[s.jsx(Kn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lacak Pendaftaran Anda"}),s.jsx("p",{className:"text-gray-600",children:"Masukkan nomor registrasi atau email untuk melihat status pendaftaran"})]})]})]})},OM=({isOpen:e,onClose:t,onConfirm:r,title:n="Konfirmasi",message:a="Apakah Anda yakin?",confirmText:i="Ya, Lanjutkan",cancelText:l="Batal",type:o="info",isLoading:c=!1,children:u})=>{if(!e)return null;const d={danger:{icon:Ht,bgColor:"bg-red-100",iconColor:"text-red-600",buttonColor:"bg-red-600 hover:bg-red-700",borderColor:"border-red-200"},warning:{icon:Si,bgColor:"bg-yellow-100",iconColor:"text-yellow-600",buttonColor:"bg-yellow-600 hover:bg-yellow-700",borderColor:"border-yellow-200"},success:{icon:Ke,bgColor:"bg-green-100",iconColor:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700",borderColor:"border-green-200"},info:{icon:ub,bgColor:"bg-blue-100",iconColor:"text-blue-600",buttonColor:"bg-blue-600 hover:bg-blue-700",borderColor:"border-blue-200"}},f=d[o]||d.info,h=f.icon,m=()=>{c||r()},p=()=>{c||t()};return s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:p}),s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsx("button",{onClick:p,disabled:c,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:s.jsx(En,{className:"h-6 w-6"})}),s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsxs("div",{className:"sm:flex sm:items-start",children:[s.jsx("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${f.bgColor} sm:mx-0 sm:h-10 sm:w-10`,children:s.jsx(h,{className:`h-6 w-6 ${f.iconColor}`})}),s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 pr-8",children:n}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:a}),u&&s.jsx("div",{className:"mt-3",children:u})]})]})]})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-3",children:[s.jsx("button",{type:"button",disabled:c,onClick:m,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white ${f.buttonColor} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):i}),s.jsx("button",{type:"button",disabled:c,onClick:p,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l})]})]})]})]})},Obe=()=>{var br,Fs,oi,es,Co,To,Ao,Gc,Sa,ci;const e=Fi(),t=vr(),{user:r,isAdmin:n,isSupervisor:a,isCustomerService:i}=Gn(),[l,o]=w.useState(1),[c,u]=w.useState(10),[d,f]=w.useState(null),[h,m]=w.useState(!1),[p,x]=w.useState(null),[g,y]=w.useState(""),[b,v]=w.useState(""),[N,_]=w.useState(""),[j,k]=w.useState("created_at"),[E,T]=w.useState("DESC"),[C,A]=w.useState(!1),[S,B]=w.useState({search:"",status:"",dateFilter:""}),[M,Y]=w.useState([]),[z,R]=w.useState(!1),[H,U]=w.useState(null),[te,K]=w.useState(!1),[D,L]=w.useState(null),F=he=>he?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(he):"-",{data:O,isLoading:re}=Ge(["registrations",S,l,c,j,E],()=>wr.getAll({...S,page:l,limit:c,sort_by:j,sort_order:E}),{keepPreviousData:!0}),{data:oe}=Ge("registration-stats",()=>wr.getStats(),{select:he=>he.data}),J=qt(({id:he,data:Ae})=>wr.updateStatus(he,Ae),{onSuccess:he=>{var Ae;t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),x(null),y(""),v(""),_(""),(Ae=he==null?void 0:he.data)!=null&&Ae.registration&&f(he.data.registration),ne.success("Status berhasil diupdate")},onError:he=>{var Ae,ut;ne.error(((ut=(Ae=he.response)==null?void 0:Ae.data)==null?void 0:ut.message)||"Gagal update status")}}),Z=qt(he=>wr.createCustomer(he),{onSuccess:he=>{t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),ne.success("Customer dan ticket instalasi berhasil dibuat!"),m(!1),f(null)},onError:he=>{var Ae,ut;ne.error(((ut=(Ae=he.response)==null?void 0:Ae.data)==null?void 0:ut.message)||"Gagal membuat customer")}}),se=()=>{if(!d)return;let he={status:p,notes:g};if(p==="rejected"){if(!b.trim()){ne.error("Alasan penolakan wajib diisi");return}he.rejection_reason=b}if(p==="survey_scheduled"){if(!N){ne.error("Tanggal survey wajib diisi");return}he.survey_scheduled_date=N}if(p==="survey_completed"){if(!g.trim()){ne.error("Hasil survey wajib diisi");return}he.notes=g}J.mutate({id:d.id,data:he})},G=he=>{L(he),K(!0)},P=()=>{D&&(Z.mutate(D.id),K(!1),L(null))},ie=he=>{j===he?T(E==="ASC"?"DESC":"ASC"):(k(he),T("DESC")),o(1)},je=he=>j!==he?s.jsx(Ts,{className:"h-4 w-4 text-gray-400"}):E==="ASC"?s.jsx(As,{className:"h-4 w-4 text-blue-600"}):s.jsx(Cs,{className:"h-4 w-4 text-blue-600"}),Te=he=>{const Ae={pending_verification:{label:"Pending",color:"bg-yellow-100 text-yellow-800"},verified:{label:"Verified",color:"bg-blue-100 text-blue-800"},survey_scheduled:{label:"Survey Scheduled",color:"bg-indigo-100 text-indigo-800"},survey_completed:{label:"Survey Done",color:"bg-purple-100 text-purple-800"},approved:{label:"Approved",color:"bg-green-100 text-green-800"},customer_created:{label:"Customer Created",color:"bg-emerald-100 text-emerald-800"},rejected:{label:"Rejected",color:"bg-red-100 text-red-800"}},ut=Ae[he]||Ae.pending_verification;return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ut.color}`,children:ut.label})},Le=async()=>{var he;try{A(!0);const ut=((he=(await wr.getAll({...S,page:1,limit:1e4,sort_by:j,sort_order:E})).data)==null?void 0:he.registrations)||[];if(ut.length===0){ne.error("Tidak ada data untuk di-export");return}const Cr=dt=>({pending_verification:"Pending",verified:"Verified",survey_scheduled:"Survey Scheduled",survey_completed:"Survey Done",approved:"Approved",customer_created:"Customer Created",rejected:"Rejected",cancelled:"Cancelled"})[dt]||dt,_e=ut.map((dt,Rr)=>({No:Rr+1,"Registration Number":dt.registration_number,"Tanggal Daftar":el(dt.created_at),"Nama Lengkap":dt.full_name,Email:dt.email||"-",WhatsApp:dt.phone||"-","Alamat Lengkap":dt.address||"-",Kota:dt.city||"-",Package:dt.package_name||"-","Harga Bulanan":Y1e(dt.monthly_price),Status:Cr(dt.status),"Verified Date":dt.verified_at?el(dt.verified_at):"-","Survey Scheduled":dt.survey_scheduled_date?el(dt.survey_scheduled_date):"-","Approved Date":dt.approved_at?el(dt.approved_at):"-","Rejection Reason":dt.rejection_reason||"-","Preferred Install Date":dt.preferred_installation_date?PM(dt.preferred_installation_date):"-"})),xt=H_(_e,"Registrations_Export","Registrations Data");ne.success(` ${xt.rows} registrations berhasil di-export!`)}catch(Ae){console.error("Export error:",Ae),ne.error("Gagal export data. Silakan coba lagi.")}finally{A(!1)}},Se=he=>{he.target.checked?(Y(Nt.map(Ae=>Ae.id)),R(!0)):(Y([]),R(!1))},rt=he=>{if(M.includes(he))Y(M.filter(Ae=>Ae!==he)),R(!1);else{const Ae=[...M,he];Y(Ae),Ae.length===Nt.length&&R(!0)}},nt=async()=>{if(M.length===0){ne.error("Pilih registration terlebih dahulu");return}if(window.confirm(`Verify ${M.length} registration yang dipilih?`))try{let he=0,Ae=0;for(const ut of M)try{await wr.updateStatus(ut,"verified",{notes:"Bulk verified"}),he++}catch(Cr){Ae++,console.error(`Failed to verify registration ${ut}:`,Cr)}he>0?(ne.success(` ${he} registration berhasil di-verify${Ae>0?`, ${Ae} gagal`:""}`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),Y([]),R(!1)):ne.error("Gagal verify registration")}catch(he){console.error("Bulk verify error:",he),ne.error("Terjadi kesalahan saat verify registration")}},ee=async()=>{if(M.length===0){ne.error("Pilih registration terlebih dahulu");return}const he=window.prompt("Alasan reject (akan diterapkan ke semua):");if(he&&window.confirm(` Reject ${M.length} registration?`))try{let Ae=0,ut=0;for(const Cr of M)try{await wr.updateStatus(Cr,"rejected",{rejection_reason:he,notes:"Bulk rejected"}),Ae++}catch(_e){ut++,console.error(`Failed to reject registration ${Cr}:`,_e)}Ae>0?(ne.success(` ${Ae} registration berhasil di-reject${ut>0?`, ${ut} gagal`:""}`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),Y([]),R(!1)):ne.error("Gagal reject registration")}catch(Ae){console.error("Bulk reject error:",Ae),ne.error("Terjadi kesalahan saat reject registration")}},le=(he,Ae)=>{navigator.clipboard.writeText(he).then(()=>{U(Ae),ne.success(`${Ae} berhasil di-copy!`),setTimeout(()=>U(null),2e3)}).catch(ut=>{ne.error("Gagal copy ke clipboard"),console.error("Copy error:",ut)})},ue=async(he,Ae)=>{if(he.stopPropagation(),!!window.confirm(`Verify registration ${Ae.registration_number}?`))try{await wr.updateStatus(Ae.id,"verified",{notes:"Quick verified"}),ne.success(`Registration ${Ae.registration_number} verified`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats")}catch(ut){ne.error("Failed to verify registration"),console.error("Quick verify error:",ut)}},ke=async(he,Ae)=>{he.stopPropagation();const ut=window.prompt("Alasan reject:");if(ut)try{await wr.updateStatus(Ae.id,"rejected",{rejection_reason:ut,notes:"Quick rejected"}),ne.success(`Registration ${Ae.registration_number} rejected`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats")}catch(Cr){ne.error("Failed to reject registration"),console.error("Quick reject error:",Cr)}},Ee=(he,Ae)=>{he.stopPropagation(),window.location.href=`tel:${Ae}`},ae=(he,Ae)=>{he.stopPropagation(),window.location.href=`mailto:${Ae}`},ve=(he,Ae)=>{he.stopPropagation(),L(Ae),K(!0)},ce=async(he,Ae)=>{if(he.stopPropagation(),!!window.confirm(`Approve registration ${Ae.registration_number}?`))try{await wr.updateStatus(Ae.id,"approved",{notes:"Quick approved"}),ne.success(`Registration ${Ae.registration_number} approved`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats")}catch(ut){ne.error("Failed to approve registration"),console.error("Quick approve error:",ut)}},ye=async(he,Ae)=>{he.stopPropagation();const ut=window.prompt("Survey date (YYYY-MM-DD):",new Date().toISOString().split("T")[0]);if(ut)try{await wr.updateStatus(Ae.id,"survey_scheduled",{survey_date:ut,notes:"Survey scheduled via quick action"}),ne.success(`Survey scheduled for ${Ae.registration_number}`),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats")}catch(Cr){ne.error("Failed to schedule survey"),console.error("Quick schedule survey error:",Cr)}},Me=n||a||i,Xe=n||a||i,st=n||a,$e=oe||{},Ze=((Fs=(br=O==null?void 0:O.data)==null?void 0:br.pagination)==null?void 0:Fs.total)||0,Nt=((oi=O==null?void 0:O.data)==null?void 0:oi.registrations)||[];return w.useEffect(()=>{const he=Cr=>{console.log(" Registration update received:",Cr),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),ne.success("Data registrasi telah diperbarui!")},Ae=Cr=>{var _e;console.log(" New registration received:",Cr),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats"),ne.success(`Pendaftaran baru dari ${((_e=Cr.registration)==null?void 0:_e.full_name)||"customer"}!`,{duration:4e3,icon:""})},ut=Cr=>{console.log(" Customer created:",Cr),t.invalidateQueries(["registrations"]),t.invalidateQueries("registration-stats")};return it.on("new_registration",Ae),it.on("registration-updated",he),it.on("registration_updated",he),it.on("customer-created",ut),it.on("registration_status_changed",he),console.log(" Socket.IO listeners registered for registrations"),()=>{it.off("new_registration",Ae),it.off("registration-updated",he),it.off("registration_updated",he),it.off("customer-created",ut),it.off("registration_status_changed",he),console.log(" Socket.IO listeners cleaned up")}},[t]),Me?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pendaftaran Customer"}),s.jsx("p",{className:"text-gray-600",children:"Kelola pendaftaran customer baru dari public form"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Le,disabled:C||re,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:C?s.jsxs(s.Fragment,{children:[s.jsx(Ij,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})}),s.jsxs(Gs,{to:"/registration-analytics",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(ob,{className:"-ml-1 mr-2 h-5 w-5"}),"Analytics"]}),s.jsxs("a",{href:"/register",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[s.jsx(rl,{className:"h-4 w-4 mr-2"}),"Form Pendaftaran"]})]})]}),M.length>0&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[M.length," registration dipilih"]}),s.jsx("button",{onClick:()=>{Y([]),R(!1)},className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Batal Pilihan"})]}),s.jsxs("div",{className:"flex gap-2",children:[Xe&&s.jsxs("button",{onClick:nt,className:"px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm inline-flex items-center",children:[s.jsx(ma,{className:"h-4 w-4 mr-1"}),"Verify"]}),st&&s.jsxs("button",{onClick:ee,className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm inline-flex items-center",children:[s.jsx(wt,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ue,{icon:Dj,title:"Total Pendaftaran",value:$e.total_registrations||0,color:"blue"}),s.jsx(Ue,{icon:Ut,title:"Need Review",value:(parseInt($e.pending_verification)||0)+(parseInt($e.verified)||0),color:"yellow",onClick:()=>{const he=S.status==="pending_verification"||S.status==="verified";B({...S,status:he?"":"pending_verification",dateFilter:""}),o(1)}}),s.jsx(Ue,{icon:Nr,title:"Survey",value:(parseInt($e.survey_scheduled)||0)+(parseInt($e.survey_completed)||0),color:"indigo",onClick:()=>{const he=S.status==="survey_scheduled"||S.status==="survey_completed";B({...S,status:he?"":"survey_scheduled",dateFilter:""}),o(1)}}),s.jsx(Ue,{icon:Ke,title:"Approved",value:$e.approved||0,color:"green",onClick:()=>{B({...S,status:S.status==="approved"?"":"approved",dateFilter:""}),o(1)}})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx(Ue,{icon:Lo,title:"Customer Created",value:$e.customer_created||0,color:"emerald",onClick:()=>{B({...S,status:S.status==="customer_created"?"":"customer_created",dateFilter:""}),o(1)}}),s.jsx(Ue,{icon:wt,title:"Rejected",value:$e.rejected||0,color:"red",onClick:()=>{B({...S,status:S.status==="rejected"?"":"rejected",dateFilter:""}),o(1)}}),s.jsx(Ue,{icon:Nr,title:"Today's New",value:$e.today_registrations||0,color:"orange",onClick:()=>{B({...S,status:"",dateFilter:S.dateFilter==="today"?"":"today"}),o(1)}})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kn,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Cari nama, email, nomor...",className:"form-input pl-10",value:S.search,onChange:he=>B({...S,search:he.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"form-input",value:S.status,onChange:he=>B({...S,status:he.target.value}),children:[s.jsx("option",{value:"",children:"Semua Status"}),s.jsx("option",{value:"pending_verification",children:"Pending Verification"}),s.jsx("option",{value:"verified",children:"Verified"}),s.jsx("option",{value:"survey_scheduled",children:"Survey Scheduled"}),s.jsx("option",{value:"survey_completed",children:"Survey Completed"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"customer_created",children:"Customer Created"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Registrations",s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",Ze," total)"]})]})}),s.jsxs("div",{className:"card-body p-0",children:[re?s.jsx("div",{className:"py-12",children:s.jsx(At,{className:"mx-auto"})}):((es=O==null?void 0:O.data)==null?void 0:es.registrations.length)===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(rl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Belum ada pendaftaran"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Pendaftaran akan muncul setelah customer mengisi form pendaftaran"}),s.jsxs("a",{href:"/register",target:"_blank",rel:"noopener noreferrer",className:"btn-primary inline-flex items-center",children:[s.jsx(rl,{className:"h-4 w-4 mr-2"}),"Buka Form Pendaftaran"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell w-12",children:s.jsx("input",{type:"checkbox",checked:z,onChange:Se,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",title:"Pilih Semua"})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ie("registration_number"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Nomor Registrasi"}),je("registration_number")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ie("full_name"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Customer"}),je("full_name")]})}),s.jsx("th",{className:"table-header-cell",children:"Paket"}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ie("status"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status"}),je("status")]})}),s.jsx("th",{className:"table-header-cell cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ie("created_at"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Tanggal"}),je("created_at")]})}),s.jsx("th",{className:"table-header-cell",children:"Quick Actions"})]})}),s.jsx("tbody",{className:"table-body",children:(Co=O==null?void 0:O.data)==null?void 0:Co.registrations.map(he=>s.jsxs("tr",{onClick:()=>e(`/registrations/${he.id}`),className:"group cursor-pointer hover:bg-blue-50 hover:shadow-md hover:border-l-4 hover:border-l-green-500 transition-all duration-200",title:"Klik untuk lihat detail registrasi",children:[s.jsx("td",{className:"table-cell",onClick:Ae=>Ae.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:M.includes(he.id),onChange:()=>rt(he.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsxs("td",{className:"table-cell",children:[s.jsxs("div",{className:"font-medium text-blue-600 flex items-center gap-1",children:[s.jsx("span",{children:he.registration_number}),s.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),le(he.registration_number,"Registration Number")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Registration Number",children:H==="Registration Number"?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-500"})})]}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(he.created_at).toLocaleDateString("id-ID")})]}),s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"font-medium text-gray-900",children:he.full_name}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1 gap-1",children:[s.jsx(zn,{className:"h-3 w-3"}),s.jsx("span",{children:he.phone}),s.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),le(he.phone,"Phone")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Phone",children:H==="Phone"?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-500"})})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-1",children:[s.jsx(cn,{className:"h-3 w-3"}),s.jsx("span",{className:"truncate max-w-[150px]",children:he.email}),s.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),le(he.email,"Email")},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded transition-opacity",title:"Copy Email",children:H==="Email"?s.jsx(Ua,{className:"h-3 w-3 text-green-600"}):s.jsx(ei,{className:"h-3 w-3 text-gray-500"})})]})]}),s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"font-medium",children:he.package_name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[F(he.monthly_price),"/bln"]})]}),s.jsx("td",{className:"table-cell",children:Te(he.status)}),s.jsxs("td",{className:"table-cell",children:[s.jsx("div",{className:"text-sm text-gray-900",children:new Date(he.created_at).toLocaleDateString("id-ID")}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(he.created_at).toLocaleTimeString("id-ID")})]}),s.jsx("td",{className:"table-cell",onClick:Ae=>Ae.stopPropagation(),children:s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[he.phone&&s.jsx("button",{onClick:Ae=>Ee(Ae,he.phone),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Call Customer",children:s.jsx(s0,{className:"h-4 w-4 text-green-600"})}),he.email&&s.jsx("button",{onClick:Ae=>ae(Ae,he.email),className:"p-1.5 hover:bg-blue-100 rounded transition-colors",title:"Email Customer",children:s.jsx(cn,{className:"h-4 w-4 text-blue-600"})}),Xe&&he.status==="pending_verification"&&s.jsx("button",{onClick:Ae=>ue(Ae,he),className:"p-1.5 hover:bg-blue-100 rounded transition-colors",title:"Quick Verify",children:s.jsx(ma,{className:"h-4 w-4 text-blue-600"})}),st&&!["customer_created","rejected","cancelled"].includes(he.status)&&s.jsx("button",{onClick:Ae=>ke(Ae,he),className:"p-1.5 hover:bg-red-100 rounded transition-colors",title:"Quick Reject",children:s.jsx(wt,{className:"h-4 w-4 text-red-600"})}),he.status==="verified"&&s.jsx("button",{onClick:Ae=>ce(Ae,he),className:"p-1.5 hover:bg-green-100 rounded transition-colors",title:"Quick Approve",children:s.jsx(Ke,{className:"h-4 w-4 text-green-600"})}),he.status==="verified"&&s.jsx("button",{onClick:Ae=>ye(Ae,he),className:"p-1.5 hover:bg-orange-100 rounded transition-colors",title:"Quick Schedule Survey",children:s.jsx(Nr,{className:"h-4 w-4 text-orange-600"})}),he.status==="approved"&&!he.customer_id&&s.jsx("button",{onClick:Ae=>ve(Ae,he),className:"p-1.5 hover:bg-purple-100 rounded transition-colors",title:"Quick Create Customer",children:s.jsx(Lo,{className:"h-4 w-4 text-purple-600"})})]})})]},he.id))})]})}),((Ao=(To=O==null?void 0:O.data)==null?void 0:To.registrations)==null?void 0:Ao.length)>0&&((Gc=O==null?void 0:O.data)==null?void 0:Gc.pagination)&&s.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>o(Math.max(1,l-1)),disabled:l===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>o(Math.min(O.data.pagination.pages,l+1)),disabled:l===O.data.pagination.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Show"}),s.jsxs("select",{value:c,onChange:he=>{u(parseInt(he.target.value)),o(1)},className:"form-input py-1 px-2 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-700",children:"rows"})]}),s.jsx("div",{className:"border-l border-gray-300 h-6"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(l-1)*c+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(l*c,O.data.pagination.total)})," ","of ",s.jsx("span",{className:"font-medium",children:O.data.pagination.total})," results"]})]}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>o(Math.max(1,l-1)),disabled:l===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Qa,{className:"h-5 w-5"})}),Array.from({length:Math.min(O.data.pagination.pages,10)},(he,Ae)=>{const ut=O.data.pagination.pages;return ut<=10||l<=5?Ae+1:l>=ut-4?ut-9+Ae:l-5+Ae}).map(he=>s.jsx("button",{onClick:()=>o(he),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${l===he?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:he},he)),s.jsx("button",{onClick:()=>o(Math.min(O.data.pagination.pages,l+1)),disabled:l===O.data.pagination.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(oa,{className:"h-5 w-5"})})]})})]})]})})]}),h&&d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Detail Pendaftaran"}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(wt,{className:"h-6 w-6"})})]})}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("p",{className:"text-xl font-bold text-gray-900 mt-1",children:Te(d.status)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Nomor Registrasi"}),s.jsx("p",{className:"text-lg font-bold text-blue-600 mt-1",children:d.registration_number})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Pribadi"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Nama Lengkap"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"WhatsApp"}),s.jsxs("p",{className:"font-medium text-green-600 flex items-center",children:[d.phone,s.jsx(ja,{className:"h-4 w-4 ml-1",title:"Verified"})]})]}),d.id_card_number&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Nomor KTP"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.id_card_number})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alamat"}),s.jsx("p",{className:"text-gray-900",children:d.address}),(d.rt||d.rw)&&s.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["RT ",d.rt||"-"," / RW ",d.rw||"-"]}),s.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[d.kelurahan,", ",d.kecamatan,", ",d.city," ",d.postal_code]}),d.address_notes&&s.jsxs("p",{className:"text-gray-600 text-sm mt-2 italic",children:["Catatan: ",d.address_notes]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Paket"}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[s.jsx("p",{className:"text-xl font-bold text-gray-900",children:d.package_name}),s.jsxs("p",{className:"text-lg text-gray-600 mt-1",children:[d.bandwidth_down," Mbps"]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:["Rp ",(Sa=d.monthly_price)==null?void 0:Sa.toLocaleString("id-ID"),"/bulan"]})]})]}),!["rejected"].includes(d.status)&&d.status!=="customer_created"&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:d.status==="approved"&&!d.customer_id?"Create Customer":"Available Actions"}),d.status==="pending_verification"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",style:{borderColor:p==="verified"?"#10b981":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"verified",checked:p==="verified",onChange:he=>x(he.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Verify - Verifikasi Data"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Data sudah diperiksa dan valid"})]})]}),s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors",style:{borderColor:p==="rejected"?"#ef4444":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"rejected",checked:p==="rejected",onChange:he=>x(he.target.value),className:"h-4 w-4 text-red-600 focus:ring-red-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Reject - Tolak Pendaftaran"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Data tidak valid atau tidak memenuhi syarat"})]})]})]})}),d.status==="verified"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",style:{borderColor:p==="approved"?"#10b981":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"approved",checked:p==="approved",onChange:he=>x(he.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Approve - Setujui Langsung"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Skip survey, langsung create customer (Fast Track)"})]})]}),s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-indigo-50 transition-colors",style:{borderColor:p==="survey_scheduled"?"#6366f1":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"survey_scheduled",checked:p==="survey_scheduled",onChange:he=>x(he.target.value),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Schedule Survey"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Jadwalkan survey lokasi terlebih dahulu"})]})]}),s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors",style:{borderColor:p==="rejected"?"#ef4444":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"rejected",checked:p==="rejected",onChange:he=>x(he.target.value),className:"h-4 w-4 text-red-600 focus:ring-red-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Reject - Tolak Pendaftaran"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Data tidak memenuhi syarat"})]})]})]})}),d.status==="survey_scheduled"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-indigo-50 border-2 border-indigo-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-indigo-900",children:" Survey Scheduled"}),s.jsx("p",{className:"text-sm text-indigo-700 mt-1",children:"Survey telah dijadwalkan. Setelah survey dilakukan, update status di bawah ini."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",style:{borderColor:p==="survey_completed"?"#10b981":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"survey_completed",checked:p==="survey_completed",onChange:he=>x(he.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Survey Completed"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Survey sudah selesai, lokasi feasible untuk instalasi"})]})]}),s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors",style:{borderColor:p==="rejected"?"#ef4444":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"rejected",checked:p==="rejected",onChange:he=>x(he.target.value),className:"h-4 w-4 text-red-600 focus:ring-red-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Reject - Tidak Feasible"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Lokasi tidak memungkinkan untuk instalasi"})]})]})]})]}),d.status==="survey_completed"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:" Survey Completed"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Survey sudah selesai. Pilih tindakan selanjutnya di bawah ini."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",style:{borderColor:p==="approved"?"#10b981":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"approved",checked:p==="approved",onChange:he=>x(he.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Approve - Setujui Pendaftaran"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Lokasi feasible, siap untuk create customer"})]})]}),s.jsxs("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer hover:bg-red-50 transition-colors",style:{borderColor:p==="rejected"?"#ef4444":"#e5e7eb"},children:[s.jsx("input",{type:"radio",name:"action",value:"rejected",checked:p==="rejected",onChange:he=>x(he.target.value),className:"h-4 w-4 text-red-600 focus:ring-red-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:" Reject - Tidak Feasible"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Hasil survey menunjukkan lokasi tidak layak"})]})]})]})]}),d.status==="approved"&&!d.customer_id&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900",children:" Registration Approved!"}),s.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Pendaftaran sudah disetujui. Klik tombol di bawah untuk membuat data customer dan ticket instalasi."})]}),s.jsx("button",{onClick:()=>G(d),disabled:Z.isLoading,className:"w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 transition-colors inline-flex items-center justify-center",children:Z.isLoading?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(HomeIcon,{className:"h-5 w-5 mr-2"}),"Buat Customer & Ticket Instalasi"]})})]}),p&&d.status!=="approved"&&s.jsxs("div",{className:"mt-6 space-y-4",children:[p==="survey_scheduled"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tanggal Survey ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"datetime-local",value:N,onChange:he=>_(he.target.value),className:"form-input",min:new Date().toISOString().slice(0,16)})]}),p==="survey_completed"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hasil Survey ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{rows:4,value:g,onChange:he=>y(he.target.value),className:"form-input",placeholder:"Contoh: Survey completed successfully. ODP distance: 50m. Cable needed: 60m. No obstacles found. Location is feasible for installation."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Tips: Sebutkan jarak ODP, panjang kabel needed, hambatan (jika ada), dan kesimpulan kelayakan instalasi."})]}),p==="rejected"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Alasan Penolakan ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{rows:3,value:b,onChange:he=>v(he.target.value),className:"form-input",placeholder:"Jelaskan alasan penolakan secara detail..."})]}),p!=="survey_completed"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan (Opsional)"}),s.jsx("textarea",{rows:2,value:g,onChange:he=>y(he.target.value),className:"form-input",placeholder:"Tambahkan catatan tambahan..."})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[s.jsx("button",{onClick:()=>{x(null),y(""),v(""),_("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Batal"}),s.jsx("button",{onClick:se,disabled:J.isLoading,className:`
                              px-6 py-2 rounded-lg text-white transition-colors inline-flex items-center
                              ${p==="rejected"?"bg-red-600 hover:bg-red-700":p==="survey_scheduled"?"bg-indigo-600 hover:bg-indigo-700":"bg-green-600 hover:bg-green-700"}
                              disabled:bg-gray-400 disabled:cursor-not-allowed
                            `,children:J.isLoading?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{className:"h-5 w-5 mr-2"}),"Konfirmasi"]})})]})]})]})]})]})})]}),s.jsx(OM,{isOpen:te,onClose:()=>{K(!1),L(null)},onConfirm:P,title:" Buat Customer & Ticket Instalasi",message:D?`Apakah Anda yakin ingin membuat customer dan ticket instalasi untuk "${D.full_name}"?`:"",confirmText:"Ya, Buat Customer",cancelText:"Batal",type:"success",isLoading:Z.isLoading,children:D&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:[s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Nama:"}),s.jsx("span",{className:"font-medium text-gray-900",children:D.full_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"No. HP:"}),s.jsx("span",{className:"font-medium text-gray-900",children:D.phone||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Paket:"}),s.jsx("span",{className:"font-medium text-gray-900",children:D.service_package||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Alamat:"}),s.jsxs("span",{className:"font-medium text-gray-900 text-right ml-2",children:[(ci=D.installation_address)==null?void 0:ci.substring(0,40),"..."]})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:s.jsxs("p",{className:"text-xs text-gray-600",children:[" Customer baru akan dibuat",s.jsx("br",{})," Ticket instalasi akan otomatis dibuatkan",s.jsx("br",{})," Notifikasi akan dikirim"]})})]})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96",children:[s.jsx(fg,{className:"h-24 w-24 text-red-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access Registrations."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Required role: Admin, Supervisor, or Customer Service"})]})},Dbe=()=>{var G,P;const{id:e}=M0(),t=Fi(),r=vr(),{user:n}=Gn(),[a,i]=w.useState("details"),[l,o]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(""),[p,x]=w.useState(""),[g,y]=w.useState(!1),{data:b,isLoading:v,error:N}=Ge(["registration",e],()=>wr.getById(e),{enabled:!!e,staleTime:3e4}),{data:_}=Ge("packages",ws.getAll,{refetchOnWindowFocus:!1}),j=b==null?void 0:b.data,k=(G=_==null?void 0:_.data)==null?void 0:G.find(ie=>ie.id===(j==null?void 0:j.package_id)),E=(n==null?void 0:n.role)==="admin",T=(n==null?void 0:n.role)==="supervisor",C=(n==null?void 0:n.role)==="customer_service",A=E||T||C,S=E||T||C,B=E||T||C,M=E||T||C;w.useEffect(()=>{j&&["verified","survey_scheduled","survey_completed"].includes(j.status)&&i("actions")},[j]);const Y=qt(({id:ie,data:je})=>wr.updateStatus(ie,je),{onSuccess:()=>{ne.success("Status berhasil diupdate"),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations"),o(""),u(""),f(""),m(""),x("")},onError:ie=>{var je,Te;ne.error(((Te=(je=ie.response)==null?void 0:je.data)==null?void 0:Te.message)||"Gagal update status")}}),z=qt(ie=>wr.createCustomer(ie),{onSuccess:ie=>{ne.success("Customer dan ticket instalasi berhasil dibuat!"),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations"),r.invalidateQueries("customers"),r.invalidateQueries("tickets")},onError:ie=>{var je,Te;console.error(" CREATE CUSTOMER ERROR:",ie),ne.error(((Te=(je=ie.response)==null?void 0:je.data)==null?void 0:Te.message)||"Gagal membuat customer")}}),R=()=>{if(!j)return;let ie={status:l,notes:p};if(l==="rejected"){if(!c.trim()){ne.error("Alasan penolakan wajib diisi");return}ie.rejection_reason=c}if(l==="survey_scheduled"){if(!d){ne.error("Tanggal survey wajib diisi");return}ie.survey_scheduled_date=d}if(l==="survey_completed"){if(!h.trim()){ne.error("Hasil survey wajib diisi");return}ie.survey_notes=h,ie.survey_result="feasible"}Y.mutate({id:j.id,data:ie})},H=()=>{y(!0)},U=()=>{z.mutate(j.id),y(!1)},te=()=>{window.location.href=`tel:${j.phone}`},K=()=>{window.location.href=`mailto:${j.email}`},D=async()=>{if(window.confirm(`Verify registration ${j.registration_number}?`))try{await wr.updateStatus(j.id,"verified",{notes:"Quick verified"}),ne.success(`Registration ${j.registration_number} verified`),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations")}catch(ie){ne.error("Failed to verify registration"),console.error("Quick verify error:",ie)}},L=async()=>{const ie=window.prompt("Alasan reject:");if(ie)try{await wr.updateStatus(j.id,"rejected",{rejection_reason:ie,notes:"Quick rejected"}),ne.success(`Registration ${j.registration_number} rejected`),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations")}catch(je){ne.error("Failed to reject registration"),console.error("Quick reject error:",je)}},F=async()=>{if(window.confirm(`Approve registration ${j.registration_number}?`))try{await wr.updateStatus(j.id,"approved",{notes:"Quick approved"}),ne.success(`Registration ${j.registration_number} approved`),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations")}catch(ie){ne.error("Failed to approve registration"),console.error("Quick approve error:",ie)}},O=async()=>{const ie=window.prompt("Survey date (YYYY-MM-DD):",new Date().toISOString().split("T")[0]);if(ie)try{await wr.updateStatus(j.id,"survey_scheduled",{survey_date:ie,notes:"Survey scheduled via quick action"}),ne.success(`Survey scheduled for ${j.registration_number}`),r.invalidateQueries(["registration",e]),r.invalidateQueries("registrations")}catch(je){ne.error("Failed to schedule survey"),console.error("Quick schedule survey error:",je)}},re=ie=>ie?ie.replace(/_/g," ").split(" ").map(je=>je.charAt(0).toUpperCase()+je.slice(1)).join(" "):"-",oe=ie=>{const je={pending_verification:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Ut},verified:{color:"bg-blue-100 text-blue-800 border-blue-300",icon:Ke},survey_scheduled:{color:"bg-indigo-100 text-indigo-800 border-indigo-300",icon:Nr},survey_completed:{color:"bg-purple-100 text-purple-800 border-purple-300",icon:Um},approved:{color:"bg-green-100 text-green-800 border-green-300",icon:ma},customer_created:{color:"bg-emerald-100 text-emerald-800 border-emerald-300",icon:Lo},rejected:{color:"bg-red-100 text-red-800 border-red-300",icon:wt}},Te=je[ie]||je.pending_verification,Le=Te.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium border ${Te.color}`,children:[s.jsx(Le,{className:"h-4 w-4"}),re(ie)]})},J=ie=>ie?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(ie):"-",Z=ie=>ie?new Date(ie).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-";if(v)return s.jsx("div",{className:"flex justify-center items-center min-h-96",children:s.jsx(At,{})});if(N||!j)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx(Ht,{className:"h-12 w-12 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Registration Not Found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Pendaftaran tidak ditemukan"}),s.jsx(xo,{to:"/registrations",label:"Back to Registrations"})]});const se=[{id:"details",label:"Details",icon:qo},{id:"actions",label:"Actions",icon:Go},{id:"timeline",label:"Timeline",icon:Nr}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(xo,{to:"/registrations",label:"Back to Registrations"}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[j.registration_number," - ",j.full_name]}),s.jsx("p",{className:"text-gray-600",children:"Pendaftaran Customer Baru"})]})]}),s.jsx("div",{children:oe(j.status)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"h-8 w-8 text-blue-600 bg-blue-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer"}),s.jsx("p",{className:"text-base font-semibold text-gray-900 truncate",children:j.full_name}),s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(zn,{className:"h-3 w-3"}),j.phone]})]})]})})}),s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(cn,{className:"h-8 w-8 text-green-600 bg-green-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Email"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:j.email}),j.whatsapp_verified&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(Ke,{className:"h-3 w-3"}),"WhatsApp Verified"]})]})]})})}),s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ir,{className:"h-8 w-8 text-purple-600 bg-purple-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Package"}),s.jsx("p",{className:"text-base font-semibold text-gray-900 truncate",children:(k==null?void 0:k.name)||"Loading..."}),s.jsx("p",{className:"text-xs text-gray-500",children:k?J(k.price)+"/bln":"-"})]})]})})}),s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nr,{className:"h-8 w-8 text-orange-600 bg-orange-100 rounded-lg p-2 mr-3"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Created"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:Z(j.created_at)}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(j.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]})})})]}),!["customer_created","rejected","cancelled"].includes(j.status)&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quick Actions:"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[j.phone&&s.jsxs("button",{onClick:te,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(s0,{className:"h-4 w-4"}),"Call Customer"]}),j.email&&s.jsxs("button",{onClick:K,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(cn,{className:"h-4 w-4"}),"Email Customer"]}),A&&j.status==="pending_verification"&&s.jsxs("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(ma,{className:"h-4 w-4"}),"Quick Verify"]}),B&&j.status==="verified"&&s.jsxs("button",{onClick:F,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(Ke,{className:"h-4 w-4"}),"Quick Approve"]}),A&&j.status==="verified"&&s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(Nr,{className:"h-4 w-4"}),"Schedule Survey"]}),M&&j.status==="approved"&&!j.customer_id&&s.jsxs("button",{onClick:H,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(Lo,{className:"h-4 w-4"}),"Create Customer"]}),S&&!["customer_created","rejected","cancelled"].includes(j.status)&&s.jsxs("button",{onClick:L,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm font-medium inline-flex items-center gap-2 transition-colors",children:[s.jsx(wt,{className:"h-4 w-4"}),"Quick Reject"]})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:se.map(ie=>{const je=ie.icon;return s.jsxs("button",{onClick:()=>i(ie.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${a===ie.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(je,{className:"h-4 w-4 mr-2"}),ie.label]},ie.id)})})}),s.jsxs("div",{className:"card-body",children:[a==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Pribadi"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ct,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Nama Lengkap"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.full_name})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(cn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.email})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"WhatsApp"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-gray-900",children:j.phone}),j.whatsapp_verified&&s.jsx(Ke,{className:"h-4 w-4 text-green-500",title:"Verified"})]})]})]}),j.id_card_number&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qo,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Nomor KTP"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.id_card_number})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alamat"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(jn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Alamat Lengkap"}),s.jsx("p",{className:"text-gray-900",children:j.address})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pl-8",children:[j.rt&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"RT"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.rt})]}),j.rw&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"RW"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.rw})]}),j.kelurahan&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Kelurahan"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.kelurahan})]}),j.kecamatan&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Kecamatan"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.kecamatan})]}),j.city&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Kota"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.city})]}),j.postal_code&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Kode Pos"}),s.jsx("p",{className:"font-medium text-gray-900",children:j.postal_code})]})]}),j.address_notes&&s.jsxs("div",{className:"pl-8 pt-2 border-t",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Catatan Alamat"}),s.jsx("p",{className:"text-sm text-gray-700 italic",children:j.address_notes})]})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Paket"}),k?s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(ir,{className:"h-10 w-10 text-blue-600 bg-white rounded-lg p-2 shadow-sm"}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-xl font-semibold text-gray-900",children:k.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description}),s.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Kecepatan"}),s.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[k.speed_mbps," Mbps"]})]}),s.jsx("div",{className:"h-8 w-px bg-gray-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Harga Bulanan"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:J(k.price)})]}),s.jsx("div",{className:"h-8 w-px bg-gray-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Tipe"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:k.type})]})]})]})]})}),j.preferred_installation_date&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 flex items-start gap-3",children:[s.jsx(Nr,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Preferensi Instalasi"}),s.jsxs("p",{className:"font-medium text-gray-900",children:[Z(j.preferred_installation_date),j.preferred_time_slot&&s.jsxs("span",{className:"ml-2 text-gray-600",children:["(",j.preferred_time_slot==="morning"?"Pagi":j.preferred_time_slot==="afternoon"?"Siang":"Sore",")"]})]})]})]}),j.notes&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Catatan Customer"}),s.jsxs("p",{className:"text-gray-900 italic",children:['"',j.notes,'"']})]})]}):s.jsx("p",{className:"text-gray-500 text-sm",children:"Paket tidak ditemukan"})]}),(j.survey_scheduled_date||j.survey_notes)&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Survey"}),s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 border border-indigo-200",children:[j.survey_scheduled_date&&s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(Nr,{className:"h-5 w-5 text-indigo-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Tanggal Survey"}),s.jsx("p",{className:"font-medium text-gray-900",children:new Date(j.survey_scheduled_date).toLocaleString("id-ID")})]})]}),j.survey_notes&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qo,{className:"h-5 w-5 text-indigo-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Hasil Survey"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:j.survey_notes})]})]})]})]})]}),a==="actions"&&s.jsxs("div",{className:"space-y-6",children:[!["customer_created","rejected","cancelled"].includes(j.status)&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-sm border border-blue-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:s.jsx(Ke,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tindakan cepat untuk status registrasi ini"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[A&&j.status==="pending_verification"&&s.jsxs("button",{onClick:D,className:"px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium inline-flex items-center justify-center gap-3 transition-all hover:shadow-lg",children:[s.jsx(ma,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Verifikasi Data"}),s.jsx("div",{className:"text-xs text-blue-100",children:"Validasi & approve data"})]})]}),B&&j.status==="verified"&&s.jsxs("button",{onClick:F,className:"px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium inline-flex items-center justify-center gap-3 transition-all hover:shadow-lg",children:[s.jsx(Ke,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Approve Langsung"}),s.jsx("div",{className:"text-xs text-green-100",children:"Setujui pendaftaran"})]})]}),A&&j.status==="verified"&&s.jsxs("button",{onClick:O,className:"px-6 py-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm font-medium inline-flex items-center justify-center gap-3 transition-all hover:shadow-lg",children:[s.jsx(Nr,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Jadwalkan Survey"}),s.jsx("div",{className:"text-xs text-orange-100",children:"Atur jadwal survey"})]})]}),M&&j.status==="approved"&&!j.customer_id&&s.jsxs("button",{onClick:H,className:"px-6 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm font-medium inline-flex items-center justify-center gap-3 transition-all hover:shadow-lg",children:[s.jsx(Lo,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Buat Customer"}),s.jsx("div",{className:"text-xs text-purple-100",children:"Create customer & ticket"})]})]}),S&&!["customer_created","rejected","cancelled"].includes(j.status)&&s.jsxs("button",{onClick:L,className:"px-6 py-4 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-medium inline-flex items-center justify-center gap-3 transition-all hover:shadow-lg",children:[s.jsx(wt,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Reject Registrasi"}),s.jsx("div",{className:"text-xs text-red-100",children:"Tolak dengan alasan"})]})]}),j.phone&&s.jsxs("button",{onClick:te,className:"px-6 py-4 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 text-sm font-medium inline-flex items-center justify-center gap-3 transition-all hover:shadow-lg",children:[s.jsx(s0,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Call Customer"}),s.jsx("div",{className:"text-xs text-emerald-100",children:j.phone})]})]}),j.email&&s.jsxs("button",{onClick:K,className:"px-6 py-4 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 text-sm font-medium inline-flex items-center justify-center gap-3 transition-all hover:shadow-lg",children:[s.jsx(cn,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Email Customer"}),s.jsx("div",{className:"text-xs text-cyan-100",children:(P=j.email)==null?void 0:P.substring(0,20)})]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:s.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),s.jsx("span",{children:"Gunakan quick actions untuk proses lebih cepat, atau gunakan form detail di bawah untuk kontrol lebih lengkap"})]})})]}),j.status==="approved"&&!j.customer_id&&s.jsxs("div",{children:[s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded mb-6",children:[s.jsx("p",{className:"font-medium text-blue-900",children:" Registration Approved!"}),s.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"Pendaftaran sudah disetujui. Klik tombol di bawah untuk membuat data customer dan ticket instalasi."})]}),s.jsxs("button",{onClick:H,disabled:z.isLoading,className:"w-full px-6 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors inline-flex items-center justify-center gap-2 text-lg font-medium",children:[s.jsx(Lo,{className:"h-6 w-6"}),z.isLoading?"Creating Customer...":"Buat Customer & Ticket Instalasi"]})]}),j.customer_id&&s.jsxs("div",{children:[s.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded mb-6",children:[s.jsx("p",{className:"font-medium text-green-900",children:" Customer Sudah Dibuat!"}),s.jsx("p",{className:"text-sm text-green-800 mt-1",children:"Customer dan installation ticket sudah dibuat."})]}),s.jsxs("button",{onClick:()=>t(`/customers/${j.customer_id}`),className:"w-full btn btn-primary py-4 text-lg",children:[s.jsx(Ct,{className:"h-6 w-6 mr-2"}),"Lihat Customer Detail"]})]}),j.status==="rejected"&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(wt,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Registration ",re(j.status)]}),s.jsx("p",{className:"text-gray-500",children:"Tidak ada tindakan yang tersedia"}),j.rejection_reason&&s.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4 max-w-2xl mx-auto",children:[s.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Alasan:"}),s.jsxs("p",{className:"text-red-800",children:['"',j.rejection_reason,'"']})]})]}),!["approved","customer_created","rejected"].includes(j.status)&&s.jsxs("div",{children:[j.status==="pending_verification"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-yellow-900",children:" Pending Verification"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Pendaftaran menunggu verifikasi data. Pilih tindakan di bawah ini."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="verified"?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"verified",checked:l==="verified",onChange:()=>o("verified"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ma,{className:`h-5 w-5 mr-3 ${l==="verified"?"text-blue-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="verified"?"text-blue-600":"text-gray-900"}`,children:"Verifikasi Data"}),s.jsx("div",{className:"text-gray-500",children:"Data sudah diperiksa dan valid"})]})]})}),l==="verified"&&s.jsx("div",{className:"flex-shrink-0 text-blue-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]}),s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"rejected",checked:l==="rejected",onChange:()=>o("rejected"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:`h-5 w-5 mr-3 ${l==="rejected"?"text-red-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="rejected"?"text-red-600":"text-gray-900"}`,children:"Tolak Pendaftaran"}),s.jsx("div",{className:"text-gray-500",children:"Data tidak valid atau tidak memenuhi syarat"})]})]})}),l==="rejected"&&s.jsx("div",{className:"flex-shrink-0 text-red-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]})]})]}),j.status==="verified"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:" Data Verified"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Data sudah diverifikasi. Pilih langkah selanjutnya."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="approved"?"border-green-500 text-green-600 bg-green-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"approved",checked:l==="approved",onChange:()=>o("approved"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:`h-5 w-5 mr-3 ${l==="approved"?"text-green-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="approved"?"text-green-600":"text-gray-900"}`,children:"Approve Langsung"}),s.jsx("div",{className:"text-gray-500",children:"Fast track: Skip survey"})]})]})}),l==="approved"&&s.jsx("div",{className:"flex-shrink-0 text-green-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]}),s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="survey_scheduled"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"survey_scheduled",checked:l==="survey_scheduled",onChange:()=>o("survey_scheduled"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nr,{className:`h-5 w-5 mr-3 ${l==="survey_scheduled"?"text-indigo-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="survey_scheduled"?"text-indigo-600":"text-gray-900"}`,children:"Schedule Survey"}),s.jsx("div",{className:"text-gray-500",children:"Perlu survey lokasi & coverage"})]})]})}),l==="survey_scheduled"&&s.jsx("div",{className:"flex-shrink-0 text-indigo-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]}),s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"rejected",checked:l==="rejected",onChange:()=>o("rejected"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:`h-5 w-5 mr-3 ${l==="rejected"?"text-red-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject Pendaftaran"}),s.jsx("div",{className:"text-gray-500",children:"Tidak ada coverage atau tidak layak"})]})]})}),l==="rejected"&&s.jsx("div",{className:"flex-shrink-0 text-red-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]})]})]}),j.status==="survey_scheduled"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-4 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-indigo-900",children:" Survey Scheduled"}),s.jsxs("p",{className:"text-sm text-indigo-700 mt-1",children:["Survey telah dijadwalkan pada ",new Date(j.survey_scheduled_date).toLocaleString("id-ID"),". Setelah survey dilakukan, update status di bawah ini."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="survey_completed"?"border-purple-500 text-purple-600 bg-purple-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"survey_completed",checked:l==="survey_completed",onChange:()=>o("survey_completed"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Um,{className:`h-5 w-5 mr-3 ${l==="survey_completed"?"text-purple-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="survey_completed"?"text-purple-600":"text-gray-900"}`,children:"Survey Completed"}),s.jsx("div",{className:"text-gray-500",children:"Lokasi feasible untuk instalasi"})]})]})}),l==="survey_completed"&&s.jsx("div",{className:"flex-shrink-0 text-purple-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]}),s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"rejected",checked:l==="rejected",onChange:()=>o("rejected"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:`h-5 w-5 mr-3 ${l==="rejected"?"text-red-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject - Tidak Feasible"}),s.jsx("div",{className:"text-gray-500",children:"Lokasi tidak memungkinkan"})]})]})}),l==="rejected"&&s.jsx("div",{className:"flex-shrink-0 text-red-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]})]})]}),j.status==="survey_completed"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:" Survey Completed"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Survey sudah selesai. Pilih tindakan selanjutnya di bawah ini."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="approved"?"border-green-500 text-green-600 bg-green-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"approved",checked:l==="approved",onChange:()=>o("approved"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:`h-5 w-5 mr-3 ${l==="approved"?"text-green-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="approved"?"text-green-600":"text-gray-900"}`,children:"Approve Pendaftaran"}),s.jsx("div",{className:"text-gray-500",children:"Lokasi feasible, siap create customer"})]})]})}),l==="approved"&&s.jsx("div",{className:"flex-shrink-0 text-green-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]}),s.jsxs("label",{className:`
                          relative flex cursor-pointer rounded-lg border p-4 focus:outline-none transition-colors
                          ${l==="rejected"?"border-red-500 text-red-600 bg-red-50":"border-gray-300 bg-white hover:bg-gray-50"}
                        `,children:[s.jsx("input",{type:"radio",name:"action",value:"rejected",checked:l==="rejected",onChange:()=>o("rejected"),className:"sr-only"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:`h-5 w-5 mr-3 ${l==="rejected"?"text-red-600":"text-gray-400"}`}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:`font-medium ${l==="rejected"?"text-red-600":"text-gray-900"}`,children:"Reject - Tidak Feasible"}),s.jsx("div",{className:"text-gray-500",children:"Lokasi tidak layak untuk instalasi"})]})]})}),l==="rejected"&&s.jsx("div",{className:"flex-shrink-0 text-red-600",children:s.jsx(Ke,{className:"h-5 w-5"})})]})]})]}),l&&s.jsxs("div",{className:"space-y-6 mt-6",children:[l==="rejected"&&s.jsxs("div",{children:[s.jsxs("label",{className:"form-label",children:["Alasan Penolakan ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:c,onChange:ie=>u(ie.target.value),rows:6,className:"form-input",placeholder:"Jelaskan alasan penolakan dengan detail..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contoh: Lokasi tidak ada coverage ODP, jarak terlalu jauh, atau data tidak valid"})]}),l==="survey_scheduled"&&s.jsxs("div",{children:[s.jsxs("label",{className:"form-label",children:["Tanggal & Waktu Survey ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"datetime-local",value:d,onChange:ie=>f(ie.target.value),className:"form-input"})]}),l==="survey_completed"&&s.jsxs("div",{children:[s.jsxs("label",{className:"form-label",children:["Hasil Survey ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:h,onChange:ie=>m(ie.target.value),rows:8,className:"form-input",placeholder:"Jelaskan hasil survey dengan detail..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Informasi: Lokasi ODP, jarak ke customer, panjang kabel, hambatan, dan kesimpulan feasibility"})]}),(l==="verified"||l==="approved"||l==="survey_scheduled")&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Catatan (Opsional)"}),s.jsx("textarea",{value:p,onChange:ie=>x(ie.target.value),rows:3,className:"form-input",placeholder:"Tambahkan catatan jika diperlukan..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>{o(""),u(""),f(""),m(""),x("")},className:"btn-secondary",children:"Batal"}),s.jsx("button",{onClick:R,disabled:Y.isLoading||l==="rejected"&&!c||l==="survey_scheduled"&&!d||l==="survey_completed"&&!h,className:"btn-primary",children:Y.isLoading?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-block animate-spin mr-2",children:""}),"Processing..."]}):"Konfirmasi"})]})]})]})]}),a==="timeline"&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-6",children:"Approval Timeline"}),s.jsxs("div",{className:"border-l-4 border-gray-200 pl-6 space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-green-500 border-4 border-white shadow"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(Ke,{className:"h-4 w-4 text-green-600"}),"Pendaftaran Dibuat"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(j.created_at).toLocaleString("id-ID")})]})]}),j.verified_at&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-blue-500 border-4 border-white shadow"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(ma,{className:"h-4 w-4 text-blue-600"}),"Data Diverifikasi"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(j.verified_at).toLocaleString("id-ID")}),j.verification_notes&&s.jsx("div",{className:"mt-2 bg-blue-50 rounded p-3 border-l-2 border-blue-400",children:s.jsxs("p",{className:"text-sm text-blue-900 italic",children:['"',j.verification_notes,'"']})})]})]}),j.survey_scheduled_date&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-indigo-500 border-4 border-white shadow"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(Nr,{className:"h-4 w-4 text-indigo-600"}),"Survey Dijadwalkan"]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Scheduled for: ",new Date(j.survey_scheduled_date).toLocaleString("id-ID")]})]})]}),j.survey_completed_date&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-purple-500 border-4 border-white shadow"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(Um,{className:"h-4 w-4 text-purple-600"}),"Survey Selesai"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(j.survey_completed_date).toLocaleString("id-ID")}),j.survey_notes&&s.jsxs("div",{className:"mt-2 bg-purple-50 rounded p-3 border-l-2 border-purple-400",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900 mb-1",children:"Hasil Survey:"}),s.jsxs("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:['"',j.survey_notes,'"']})]})]})]}),j.approved_at&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-green-500 border-4 border-white shadow"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(Ke,{className:"h-4 w-4 text-green-600"}),"Pendaftaran Disetujui"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(j.approved_at).toLocaleString("id-ID")}),j.approval_notes&&s.jsx("div",{className:"mt-2 bg-green-50 rounded p-3 border-l-2 border-green-400",children:s.jsxs("p",{className:"text-sm text-green-900 italic",children:['"',j.approval_notes,'"']})})]})]}),j.rejection_reason&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-red-500 border-4 border-white shadow"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(wt,{className:"h-4 w-4 text-red-600"}),"Pendaftaran Ditolak"]}),s.jsxs("div",{className:"mt-2 bg-red-50 rounded p-3 border-l-2 border-red-400",children:[s.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Alasan:"}),s.jsxs("p",{className:"text-sm text-red-800",children:['"',j.rejection_reason,'"']})]})]})]}),j.customer_id&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -left-[1.85rem] mt-1.5 h-4 w-4 rounded-full bg-purple-500 border-4 border-white shadow"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(Lo,{className:"h-4 w-4 text-purple-600"}),"Customer Created"]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Customer ID: ",j.customer_id]}),s.jsx("button",{onClick:()=>t(`/customers/${j.customer_id}`),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:" View Customer Detail"})]})]})]})]})]})]}),s.jsx(OM,{isOpen:g,onClose:()=>y(!1),onConfirm:U,title:" Buat Customer & Ticket Instalasi",message:j?`Apakah Anda yakin ingin membuat customer dan ticket instalasi untuk "${j.full_name}"?`:"",confirmText:"Ya, Buat Customer",cancelText:"Batal",type:"success",isLoading:z.isLoading,children:j&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:[s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Nama:"}),s.jsx("span",{className:"font-medium text-gray-900",children:j.full_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"No. HP:"}),s.jsx("span",{className:"font-medium text-gray-900",children:j.phone||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Paket:"}),s.jsx("span",{className:"font-medium text-gray-900",children:(k==null?void 0:k.name)||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Harga:"}),s.jsxs("span",{className:"font-medium text-gray-900",children:["Rp ",new Intl.NumberFormat("id-ID").format((k==null?void 0:k.price)||0),"/bulan"]})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:s.jsxs("p",{className:"text-xs text-gray-600",children:[" Customer baru akan dibuat di sistem",s.jsx("br",{})," Ticket instalasi akan otomatis dibuatkan",s.jsx("br",{})," Notifikasi akan dikirim ke teknisi",s.jsx("br",{})," Status registrasi akan di-update"]})})]})})]})},gm=({icon:e,title:t,value:r,subtitle:n,trend:a,color:i="blue"})=>{const l={blue:"bg-blue-500 text-blue-600 bg-blue-50",green:"bg-green-500 text-green-600 bg-green-50",yellow:"bg-yellow-500 text-yellow-600 bg-yellow-50",red:"bg-red-500 text-red-600 bg-red-50",purple:"bg-purple-500 text-purple-600 bg-purple-50",indigo:"bg-indigo-500 text-indigo-600 bg-indigo-50"},[o,c,u]=(l[i]||l.blue).split(" ");return s.jsx("div",{className:`${u} rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:r}),n&&s.jsx("p",{className:"text-sm text-gray-600",children:n}),a&&s.jsxs("div",{className:`flex items-center mt-2 text-sm ${a>0?"text-green-600":"text-red-600"}`,children:[a>0?s.jsx(uW,{className:"h-4 w-4 mr-1"}):s.jsx(oW,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:[Math.abs(a),"% vs last period"]})]})]}),s.jsx("div",{className:`${o} p-3 rounded-lg`,children:s.jsx(e,{className:"h-6 w-6 text-white"})})]})})},Fbe=()=>{const[e,t]=w.useState(30),{data:r}=Ge(["registration-analytics-overview",e],()=>be.get(`/registration-analytics/overview?timeframe=${e}`),{select:d=>d.data}),{data:n}=Ge(["registration-trends",e],()=>be.get(`/registration-analytics/trends?days=${e}`),{select:d=>d.data}),{data:a}=Ge("registration-package-popularity",()=>be.get("/registration-analytics/package-popularity"),{select:d=>d.data}),{data:i}=Ge("registration-funnel",()=>be.get("/registration-analytics/funnel"),{select:d=>d.data}),l=(r==null?void 0:r.funnel)||{},o=(r==null?void 0:r.time_metrics)||{},c=(i==null?void 0:i.map(d=>({stage:d.stage,count:parseInt(d.count),percentage:parseFloat(d.percentage)||0})))||[],u=[{name:"Pending",value:parseInt(l.pending)||0,color:"#EAB308"},{name:"Verified",value:parseInt(l.verified)||0,color:"#3B82F6"},{name:"Survey Scheduled",value:parseInt(l.survey_scheduled)||0,color:"#6366F1"},{name:"Survey Done",value:parseInt(l.survey_completed)||0,color:"#8B5CF6"},{name:"Approved",value:parseInt(l.approved)||0,color:"#10B981"},{name:"Rejected",value:parseInt(l.rejected)||0,color:"#EF4444"}].filter(d=>d.value>0);return s.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Registration Analytics"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Analisis pendaftaran customer baru"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Periode:"}),[7,30,60,90].map(d=>s.jsxs("button",{onClick:()=>t(d),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e===d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d," Hari"]},d))]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx(gm,{icon:Va,title:"Total Registrations",value:l.total_registrations||0,color:"blue"}),s.jsx(gm,{icon:Ke,title:"Approved",value:l.approved||0,subtitle:`${l.approval_rate||0}% approval rate`,color:"green"}),s.jsx(gm,{icon:hg,title:"Conversion Rate",value:`${l.conversion_rate||0}%`,subtitle:`${l.converted_to_customer||0} customers`,color:"purple"}),s.jsx(gm,{icon:Ut,title:"Avg Approval Time",value:`${o.avg_approval_time_hours||0}h`,subtitle:"From registration",color:"indigo"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status Distribution"}),s.jsx(ec,{width:"100%",height:300,children:s.jsxs(wR,{children:[s.jsx(VN,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,percent:f})=>`${d}: ${(f*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((d,f)=>s.jsx(Td,{fill:d.color},`cell-${f}`))}),s.jsx(Zo,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversion Funnel"}),s.jsx(ec,{width:"100%",height:300,children:s.jsxs(bR,{data:c,children:[s.jsx(Tu,{strokeDasharray:"3 3"}),s.jsx(Au,{dataKey:"stage",angle:-45,textAnchor:"end",height:100}),s.jsx(Pu,{}),s.jsx(Zo,{}),s.jsx(qN,{dataKey:"count",fill:"#3B82F6"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Trends"}),s.jsx(ec,{width:"100%",height:300,children:s.jsxs(yR,{data:n||[],children:[s.jsx(Tu,{strokeDasharray:"3 3"}),s.jsx(Au,{dataKey:"date",tickFormatter:d=>new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"short"})}),s.jsx(Pu,{}),s.jsx(Zo,{labelFormatter:d=>new Date(d).toLocaleDateString("id-ID")}),s.jsx(Ju,{}),s.jsx(uc,{type:"monotone",dataKey:"total",stroke:"#3B82F6",strokeWidth:2,name:"Total"}),s.jsx(uc,{type:"monotone",dataKey:"approved",stroke:"#10B981",strokeWidth:2,name:"Approved"}),s.jsx(uc,{type:"monotone",dataKey:"rejected",stroke:"#EF4444",strokeWidth:2,name:"Rejected"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Popularity"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Package"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Speed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Registrations"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Approved"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Rate"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a==null?void 0:a.map((d,f)=>{var h;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.package_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[d.bandwidth_down," Mbps"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Rp ",(h=d.monthly_price)==null?void 0:h.toLocaleString("id-ID")]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsx("div",{className:"text-sm font-semibold text-blue-600",children:d.registration_count||0})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsx("div",{className:"text-sm font-semibold text-green-600",children:d.approved_count||0})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[d.approval_rate||0,"%"]})})]},f)})})]})})]})]})})};function Ibe(){const{user:e,loading:t}=Gn();return t?s.jsx(At,{}):s.jsx(sW,{children:s.jsx(nW,{children:s.jsxs(e$,{children:[s.jsx(Pt,{path:"/login",element:e?s.jsx(Mh,{to:"/dashboard",replace:!0}):s.jsx(NV,{})}),s.jsx(Pt,{path:"/register",element:s.jsx(Pbe,{})}),s.jsx(Pt,{path:"/track",element:s.jsx(dA,{})}),s.jsx(Pt,{path:"/track/:registrationNumber",element:s.jsx(dA,{})}),s.jsxs(Pt,{path:"/*",element:e?s.jsx(kW,{}):s.jsx(Mh,{to:"/login",replace:!0}),children:[s.jsx(Pt,{path:"dashboard",element:s.jsx(hK,{})}),s.jsx(Pt,{path:"analytics",element:s.jsx(Gce,{})}),s.jsx(Pt,{path:"tickets",element:s.jsx(J1e,{})}),s.jsx(Pt,{path:"tickets/:id",element:s.jsx(ebe,{})}),s.jsx(Pt,{path:"customers",element:s.jsx(rbe,{})}),s.jsx(Pt,{path:"customers/:id",element:s.jsx(nbe,{})}),s.jsx(Pt,{path:"registrations",element:s.jsx(Obe,{})}),s.jsx(Pt,{path:"registrations/:id",element:s.jsx(Dbe,{})}),s.jsx(Pt,{path:"registration-analytics",element:s.jsx(Fbe,{})}),s.jsx(Pt,{path:"technicians",element:s.jsx(sbe,{})}),s.jsx(Pt,{path:"technicians/:id",element:s.jsx(ibe,{})}),s.jsx(Pt,{path:"inventory",element:s.jsx(obe,{})}),s.jsx(Pt,{path:"inventory-stock",element:s.jsx(cbe,{})}),s.jsx(Pt,{path:"master-data/service-types",element:s.jsx(ybe,{})}),s.jsx(Pt,{path:"master-data/service-categories",element:s.jsx(wbe,{})}),s.jsx(Pt,{path:"master-data/packages",element:s.jsx(dbe,{})}),s.jsx(Pt,{path:"master-data/price-list",element:s.jsx(hbe,{})}),s.jsx(Pt,{path:"master-data/equipment",element:s.jsx(pbe,{})}),s.jsx(Pt,{path:"master-data/odp",element:s.jsx(gbe,{})}),s.jsx(Pt,{path:"users",element:s.jsx(Cbe,{})}),s.jsx(Pt,{path:"permissions",element:s.jsx(Tbe,{})}),s.jsx(Pt,{path:"profile",element:s.jsx(Abe,{})}),s.jsx(Pt,{path:"",element:s.jsx(Mh,{to:"/dashboard",replace:!0})})]}),s.jsx(Pt,{path:"*",element:s.jsx(Mh,{to:"/dashboard",replace:!0})})]})})})}const Rbe=new O$({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});Gy.createRoot(document.getElementById("root")).render(s.jsx(yt.StrictMode,{children:s.jsxs(L$,{client:Rbe,children:[s.jsx(o$,{children:s.jsxs(lz,{children:[s.jsx(Ibe,{}),s.jsx(PB,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}}}})]})}),s.jsx(W$.ReactQueryDevtools,{initialIsOpen:!1})]})}));
//# sourceMappingURL=index-D3YDGRhZ.js.map
