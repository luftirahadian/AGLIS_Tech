import{j as e}from"./notifications-Db5RLBef.js";import{e as b,r as w}from"./react-vendor-BQ7pSkNi.js";import{b as _}from"./react-query-B7OIdD7u.js";import{L as T,B as j}from"./customers-BVMxrfSK.js";import{t as k}from"./tickets-ConI5dak.js";import{a as D,o as g,m as A,p as S,w as m,a7 as y,U as B,ad as N,g as C}from"./ui-vendor-BSF25ZVG.js";import"./charts-CREYXqqm.js";import"./socket-BFcXWKeu.js";import"./forms-Dmkgx8TD.js";const F=()=>{var h;const{id:r}=b(),[l,p]=w.useState("overview"),{data:t,isLoading:f,error:u}=_(["technician",r],()=>k.getTechnician(r),{enabled:!!r,staleTime:3e4});if(f)return e.jsx("div",{className:"flex justify-center items-center min-h-96",children:e.jsx(T,{})});if(u||!((h=t==null?void 0:t.data)!=null&&h.technician))return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx(D,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Technician Not Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Technician yang Anda cari tidak ditemukan"}),e.jsx(j,{to:"/technicians",label:"Back to Technicians"})]});const a=t.data.technician,i=t.data.stats||{},x=t.data.recent_tickets||[],d=s=>s?new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",o=s=>{const n={available:{color:"green",label:"Available"},on_duty:{color:"blue",label:"On Duty"},off_duty:{color:"gray",label:"Off Duty"},on_leave:{color:"yellow",label:"On Leave"},active:{color:"green",label:"Active"},inactive:{color:"red",label:"Inactive"},suspended:{color:"orange",label:"Suspended"}}[s]||{color:"gray",label:s};return e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-${n.color}-100 text-${n.color}-800`,children:n.label})},v=[{id:"overview",label:"Overview",icon:B},{id:"performance",label:"Performance",icon:N},{id:"tickets",label:"Recent Tickets",icon:m}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(j,{to:"/technicians",label:"Back to Technicians"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.full_name}),e.jsxs("p",{className:"text-gray-600",children:["Employee ID: ",a.employee_id]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(g,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:a.phone_number||"-"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:a.email||"-"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:a.work_zone||"-"})]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(m,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Availability"}),o(a.availability_status)]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Employment"}),o(a.employment_status)]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Skill Level"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:a.skill_level})]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(y,{className:"h-5 w-5 text-yellow-600 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Performance"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rating"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 ml-1",children:i.avg_rating?i.avg_rating.toFixed(1):"N/A"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Tickets"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.total_tickets||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.completed_tickets||0})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:v.map(s=>{const c=s.icon;return e.jsxs("button",{onClick:()=>p(s.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${l===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),s.label]},s.id)})})}),e.jsxs("div",{className:"p-6",children:[l==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Full Name"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.full_name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Employee ID"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.employee_id})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Hire Date"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:d(a.hire_date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Max Daily Tickets"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.max_daily_tickets||"-"})]})]})]}),a.specializations&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.specializations.map((s,c)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:s},c))})]})]}),l==="performance"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Performance Metrics"}),e.jsx("p",{className:"text-gray-500",children:"Detailed performance analytics will be displayed here."})]}),l==="tickets"&&e.jsx("div",{children:x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(m,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Recent Tickets"}),e.jsx("p",{className:"text-gray-500",children:"No tickets assigned to this technician yet."})]}):e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[e.jsx(C,{className:"h-3 w-3 mr-1"}),d(s.created_at)]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="in_progress"?"bg-blue-100 text-blue-800":s.status==="assigned"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.status.replace("_"," ")})]})},s.id))})})]})]})]})};export{F as default};
//# sourceMappingURL=TechnicianDetailPage-BgQLratJ.js.map
