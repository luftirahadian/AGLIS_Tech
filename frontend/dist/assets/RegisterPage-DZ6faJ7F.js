var ie=Object.defineProperty,ne=Object.defineProperties;var de=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var B=(x,t,c)=>t in x?ie(x,t,{enumerable:!0,configurable:!0,writable:!0,value:c}):x[t]=c,d=(x,t)=>{for(var c in t||(t={}))ce.call(t,c)&&B(x,c,t[c]);if(U)for(var c of U(t))oe.call(t,c)&&B(x,c,t[c]);return x},H=(x,t)=>ne(x,de(t));var v=(x,t,c)=>new Promise((b,_)=>{var R=g=>{try{f(c.next(g))}catch(N){_(N)}},K=g=>{try{f(c.throw(g))}catch(N){_(N)}},f=g=>g.done?b(g.value):Promise.resolve(g.value).then(R,K);f((c=c.apply(x,t)).next())});import{j as e,a as me}from"./notifications-C-A1jlty.js";import{u as xe,r as u,a as he}from"./react-vendor-BQ7pSkNi.js";import{u as ue}from"./forms-Dmkgx8TD.js";import{b as pe}from"./react-query-B7OIdD7u.js";import{U as be,q as ge,r as fe,f as L,v as je,a7 as I,p as J,i as Ne,aj as ye,a as ve,z as h,s as ke,aQ as we}from"./ui-vendor-ng1X_mIA.js";import{R as _e}from"./index-6L5nMPsx.js";import{r as W}from"./registrationService-DfHnWxZz.js";import{p as Ae}from"./customers-Bkp7alR1.js";import"./charts-CREYXqqm.js";import"./socket-BFcXWKeu.js";const $e=()=>{const x=xe(),[t,c]=u.useState(1),[b,_]=u.useState(!1),[R,K]=u.useState(!1),[f,g]=u.useState(""),[N,$]=u.useState(!1),[j,V]=u.useState(0),[A,P]=u.useState(null),[E,z]=u.useState(""),[S,M]=u.useState(!1),O=u.useRef(null),{register:o,handleSubmit:Z,formState:{errors:l},watch:r,setValue:Q,trigger:T}=ue({mode:"onChange",defaultValues:{service_type:"broadband",preferred_time_slot:"morning"}}),D=r("phone"),X=r("full_name"),C=r("id_card_photo"),{data:y,isLoading:Y}=pe("packages-broadband",()=>Ae.getAll(),{select:s=>(Array.isArray(s==null?void 0:s.data)?s.data:[]).filter(i=>i.type==="broadband")});u.useEffect(()=>{if(j>0){const s=setTimeout(()=>V(j-1),1e3);return()=>clearTimeout(s)}},[j]),u.useEffect(()=>{v(void 0,null,function*(){try{const a=yield me.get("/auth/recaptcha-config");a.data&&(M(a.data.enabled),z(a.data.siteKey))}catch(a){console.error("Failed to fetch reCAPTCHA config:",a),M(!1)}})},[]);const ee=s=>{P(s)},F=()=>v(void 0,null,function*(){var a,i,m;if(!(yield T(["phone","full_name"]))){h.error("Mohon lengkapi nama dan nomor WhatsApp");return}try{const n=yield W.requestOTP(D,X);n.success&&(K(!0),V(60),h.success(n.message||"Kode OTP telah dikirim ke WhatsApp Anda"),(a=n.data)!=null&&a.otp&&(console.log("Dev mode OTP:",n.data.otp),h.info(`Dev mode - OTP: ${n.data.otp}`,{duration:1e4})))}catch(n){h.error(((m=(i=n.response)==null?void 0:i.data)==null?void 0:m.message)||"Gagal mengirim OTP")}}),se=()=>v(void 0,null,function*(){var s,a,i,m;if(f.length!==6){h.error("Kode OTP harus 6 digit");return}try{(yield W.verifyOTP(D,f)).success&&(_(!0),Q("whatsapp_verified","true"),h.success("WhatsApp berhasil diverifikasi!"))}catch(n){const k=((a=(s=n.response)==null?void 0:s.data)==null?void 0:a.message)||"Kode OTP salah",p=(m=(i=n.response)==null?void 0:i.data)==null?void 0:m.attemptsLeft;p!==void 0?h.error(`${k}. Sisa percobaan: ${p}`):h.error(k)}}),ae=s=>new Promise((a,i)=>{const m=new FileReader;m.readAsDataURL(s),m.onload=()=>a(m.result),m.onerror=n=>i(n)}),te=s=>v(void 0,null,function*(){var a,i,m,n,k;if(!b){h.error("Mohon verifikasi nomor WhatsApp terlebih dahulu");return}if(S&&!A){h.error("Mohon selesaikan verifikasi reCAPTCHA"),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});return}$(!0);try{let p=null;(a=s.id_card_photo)!=null&&a[0]&&(p=yield ae(s.id_card_photo[0]));const w=H(d({},s),{id_card_photo:p,whatsapp_verified:"true",recaptchaToken:A,id_card_number:s.id_card_number||null,rt:s.rt||null,rw:s.rw||null,kelurahan:s.kelurahan||null,kecamatan:s.kecamatan||null,postal_code:s.postal_code||null,address_notes:s.address_notes||null,preferred_installation_date:s.preferred_installation_date||null,notes:s.notes||null,referral_code:s.referral_code||null,package_id:parseInt(s.package_id)});console.log("ðŸš€ SUBMITTING REGISTRATION - FULL DATA:"),console.log(JSON.stringify(w,null,2)),console.log("ðŸ“Š Data Keys:",Object.keys(w)),console.log("ðŸ“Š package_id type:",typeof w.package_id,"=",w.package_id);const G=yield W.submitRegistration(w);G.success&&(h.success("Pendaftaran berhasil!"),x(`/track/${G.data.registration_number}`,{state:{fromRegistration:!0}}))}catch(p){console.error("âŒ REGISTRATION SUBMIT ERROR:",{message:p.message,response:(i=p.response)==null?void 0:i.data,status:(m=p.response)==null?void 0:m.status}),O.current&&(O.current.reset(),P(null)),h.error(((k=(n=p.response)==null?void 0:n.data)==null?void 0:k.message)||"Gagal submit pendaftaran")}finally{$(!1)}}),le=s=>v(void 0,null,function*(){s&&(s.preventDefault(),s.stopPropagation());let a=[];if(t===1){if(a=["full_name","email","phone"],!(yield T(a)))return;if(!b){h.error("Mohon verifikasi nomor WhatsApp terlebih dahulu!",{icon:"âš ï¸",duration:4e3});return}}else if(t===2){if(a=["address","city"],!(yield T(a)))return}else if(t===3&&(a=["package_id"],!(yield T(a))))return;c(t+1),window.scrollTo({top:0,behavior:"smooth"})}),re=()=>{c(t-1),window.scrollTo({top:0,behavior:"smooth"})},q=[{number:1,title:"Data Pribadi",icon:be},{number:2,title:"Alamat",icon:ge},{number:3,title:"Pilih Paket",icon:fe},{number:4,title:"Konfirmasi",icon:L}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-10 w-auto"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AGLIS"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Daftar Sekarang"})]})]}),e.jsx("button",{onClick:()=>x("/login"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Sudah Terdaftar? Login"})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex items-center justify-between mb-8",children:q.map((s,a)=>{const i=s.icon,m=t===s.number,n=t>s.number;return e.jsxs(he.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`
                      w-12 h-12 rounded-full flex items-center justify-center font-semibold transition-all
                      ${n?"bg-green-500 text-white":m?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-200 text-gray-400"}
                    `,children:n?e.jsx(je,{className:"h-6 w-6"}):e.jsx(i,{className:"h-6 w-6"})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsx("p",{className:`text-sm font-medium ${m?"text-blue-600":"text-gray-500"}`,children:s.title})})]}),a<q.length-1&&e.jsx("div",{className:`
                      h-1 flex-1 mx-2 rounded transition-all
                      ${t>s.number?"bg-green-500":"bg-gray-200"}
                    `})]},s.number)})})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:e.jsxs("form",{onSubmit:Z(te),children:[t===1&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Data Pribadi & Verifikasi WhatsApp"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Lengkapi data pribadi dan verifikasi nomor WhatsApp Anda"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap *"}),e.jsx("input",d({type:"text",className:`form-input ${l.full_name?"border-red-500":""}`,placeholder:"Masukkan nama lengkap sesuai KTP"},o("full_name",{required:"Nama lengkap wajib diisi",minLength:{value:3,message:"Nama minimal 3 karakter"}}))),l.full_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.full_name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",d({type:"email",className:`form-input ${l.email?"border-red-500":""}`,placeholder:"contoh@email.com"},o("email",{required:"Email wajib diisi",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Format email tidak valid"}}))),l.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nomor WhatsApp *",b&&e.jsxs("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:[e.jsx(I,{className:"inline h-4 w-4 mr-1"}),"Terverifikasi"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",d({type:"tel",className:`form-input flex-1 ${l.phone?"border-red-500":b?"border-green-500 bg-green-50":""}`,placeholder:"08123456789",disabled:b},o("phone",{required:"Nomor WhatsApp wajib diisi",pattern:{value:/^(\+62|62|0)[0-9]{9,12}$/,message:"Format nomor tidak valid (contoh: 081234567890)"}}))),!b&&e.jsx("button",{type:"button",onClick:F,disabled:j>0||!D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap",children:j>0?`${j}s`:"Kirim OTP"})]}),l.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.phone.message}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[e.jsx(J,{className:"inline h-3 w-3 mr-1"}),"Pastikan nomor WhatsApp aktif untuk verifikasi"]})]}),R&&!b&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ne,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Masukkan kode OTP yang dikirim ke WhatsApp Anda"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:f,onChange:s=>g(s.target.value.replace(/\D/g,"").slice(0,6)),className:"form-input flex-1 text-center text-2xl font-bold tracking-widest",placeholder:"000000",maxLength:6}),e.jsx("button",{type:"button",onClick:se,disabled:f.length!==6,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors whitespace-nowrap",children:"Verifikasi"})]}),j===0&&e.jsx("button",{type:"button",onClick:F,className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Kirim ulang OTP"})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor KTP (Opsional)"}),e.jsx("input",d({type:"text",className:"form-input",placeholder:"3201012345678901"},o("id_card_number",{pattern:{value:/^[0-9]{16}$/,message:"Nomor KTP harus 16 digit"}}))),l.id_card_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.id_card_number.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto KTP (Opsional)"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(ye,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("div",{className:"flex text-sm text-gray-600",children:e.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500",children:[e.jsx("span",{children:"Upload foto KTP"}),e.jsx("input",d({type:"file",accept:"image/*",className:"sr-only"},o("id_card_photo")))]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"}),(C==null?void 0:C[0])&&e.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["âœ“ ",C[0].name]})]})})]})]})]}),t===2&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alamat Lengkap"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Pastikan alamat yang Anda masukkan adalah lokasi instalasi"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alamat Lengkap *"}),e.jsx("textarea",d({rows:3,className:`form-input ${l.address?"border-red-500":""}`,placeholder:"Jl. Contoh No. 123"},o("address",{required:"Alamat wajib diisi",minLength:{value:10,message:"Alamat terlalu pendek"}}))),l.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.address.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RT"}),e.jsx("input",d({type:"text",className:"form-input",placeholder:"001"},o("rt")))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RW"}),e.jsx("input",d({type:"text",className:"form-input",placeholder:"005"},o("rw")))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kelurahan"}),e.jsx("input",d({type:"text",className:"form-input",placeholder:"Nama Kelurahan"},o("kelurahan")))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kecamatan"}),e.jsx("input",d({type:"text",className:"form-input",placeholder:"Nama Kecamatan"},o("kecamatan")))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kota *"}),e.jsx("input",d({type:"text",className:`form-input ${l.city?"border-red-500":""}`,placeholder:"Jakarta"},o("city",{required:"Kota wajib diisi"}))),l.city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.city.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kode Pos"}),e.jsx("input",d({type:"text",className:"form-input",placeholder:"12345"},o("postal_code",{pattern:{value:/^[0-9]{5}$/,message:"Kode pos harus 5 digit"}}))),l.postal_code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.postal_code.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patokan/Catatan Alamat"}),e.jsx("textarea",d({rows:2,className:"form-input",placeholder:"Dekat minimarket, rumah cat biru, dll"},o("address_notes")))]})]})]}),t===3&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pilih Paket Internet"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Pilih paket yang sesuai dengan kebutuhan Anda"})]}),e.jsxs("div",{className:"space-y-4",children:[Y?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Loading packages..."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y==null?void 0:y.map(s=>{var a;return e.jsxs("label",{className:`
                            relative flex cursor-pointer rounded-lg border-2 p-6 transition-all
                            ${r("package_id")===s.id.toString()?"border-blue-600 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-blue-300 bg-white"}
                          `,children:[e.jsx("input",d({type:"radio",value:s.id,className:"sr-only"},o("package_id",{required:"Pilih salah satu paket"}))),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.name||s.package_name}),r("package_id")===s.id.toString()&&e.jsx(L,{className:"h-6 w-6 text-blue-600"})]}),e.jsxs("div",{className:"flex items-baseline mb-3",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:s.speed_mbps||s.speed}),e.jsx("span",{className:"text-gray-600 ml-2",children:"Mbps"})]}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["Rp ",(a=s.price||s.monthly_price)==null?void 0:a.toLocaleString("id-ID")]}),e.jsx("span",{className:"text-gray-600 ml-2",children:"/bulan"})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-3",children:s.description})]})]},s.id)})}),l.package_id&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.package_id.message}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Instalasi yang Diinginkan (Opsional)"}),e.jsx("input",d({type:"date",className:"form-input",min:new Date().toISOString().split("T")[0]},o("preferred_installation_date")))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waktu Instalasi yang Diinginkan"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"morning",label:"Pagi (08:00-12:00)"},{value:"afternoon",label:"Siang (12:00-16:00)"},{value:"evening",label:"Sore (16:00-18:00)"}].map(s=>e.jsxs("label",{className:`
                            relative flex cursor-pointer rounded-lg border-2 p-4 text-center transition-all
                            ${r("preferred_time_slot")===s.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                          `,children:[e.jsx("input",d({type:"radio",value:s.value,className:"sr-only"},o("preferred_time_slot"))),e.jsx("span",{className:"text-sm font-medium text-gray-900 w-full",children:s.label})]},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan Tambahan (Opsional)"}),e.jsx("textarea",d({rows:3,className:"form-input",placeholder:"Permintaan khusus, pertanyaan, dll"},o("notes")))]})]})]}),t===4&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Konfirmasi Data"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Periksa kembali data Anda sebelum submit"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Pribadi"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-gray-600",children:"Nama:"}),e.jsx("dd",{className:"font-medium text-gray-900",children:r("full_name")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-gray-600",children:"Email:"}),e.jsx("dd",{className:"font-medium text-gray-900",children:r("email")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-gray-600",children:"WhatsApp:"}),e.jsxs("dd",{className:"font-medium text-green-600 flex items-center",children:[r("phone"),e.jsx(I,{className:"inline h-4 w-4 ml-2"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alamat"}),e.jsx("p",{className:"text-gray-900",children:r("address")}),(r("rt")||r("rw"))&&e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["RT ",r("rt")||"-"," / RW ",r("rw")||"-"]}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[r("kelurahan"),", ",r("kecamatan"),", ",r("city")," ",r("postal_code")]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border-2 border-blue-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Paket yang Dipilih"}),(()=>{var a;const s=y==null?void 0:y.find(i=>i.id===parseInt(r("package_id")));return s?e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.name||s.package_name}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:[s.speed_mbps||s.speed," Mbps"]}),e.jsxs("p",{className:"text-xl font-semibold text-gray-900 mt-2",children:["Rp ",(a=s.price||s.monthly_price)==null?void 0:a.toLocaleString("id-ID"),"/bulan"]})]}):e.jsx("p",{className:"text-gray-500",children:"Belum memilih paket"})})()]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(ve,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"Penting!"}),e.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:["â€¢ Tim kami akan menghubungi Anda untuk verifikasi data",e.jsx("br",{}),"â€¢ Survey lokasi akan dilakukan sebelum instalasi",e.jsx("br",{}),"â€¢ Instalasi akan dijadwalkan setelah survey selesai",e.jsx("br",{}),"â€¢ Pastikan nomor WhatsApp aktif untuk komunikasi"]})]})]})}),S&&E&&e.jsx("div",{className:"flex justify-center",children:e.jsx(_e,{ref:O,sitekey:E,onChange:ee,onExpired:()=>P(null),onErrored:()=>{P(null),h.error("reCAPTCHA error. Please refresh the page.")},theme:"light"})}),S&&!A&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(I,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:"Mohon selesaikan verifikasi reCAPTCHA di atas sebelum submit"})})]})})]})]}),e.jsxs("div",{className:"bg-gray-50 px-8 py-6 border-t flex justify-between",children:[t>1&&e.jsxs("button",{type:"button",onClick:re,className:"inline-flex items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),"Kembali"]}),e.jsx("div",{className:"ml-auto",children:t<4?e.jsxs("button",{type:"button",onClick:le,className:"inline-flex items-center px-6 py-3 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:["Selanjutnya",e.jsx(we,{className:"h-5 w-5 ml-2"})]}):e.jsx("button",{type:"submit",disabled:N||S&&!A,className:"inline-flex items-center px-8 py-3 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Memproses..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-5 w-5 mr-2"}),"Daftar Sekarang"]})})})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Butuh bantuan? Hubungi kami di"," ",e.jsxs("a",{href:"https://wa.me/6281316003245",className:"text-blue-600 hover:text-blue-700 font-medium inline-flex items-center gap-1",children:[e.jsx(J,{className:"h-4 w-4"}),"WhatsApp: 0813-1600-3245"]})]})})]})]})};export{$e as default};
//# sourceMappingURL=RegisterPage-DZ6faJ7F.js.map
