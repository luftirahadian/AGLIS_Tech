const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AnalyticsDashboard-ifXMZiI7.js","assets/notifications-Dt-KZFDl.js","assets/react-vendor-BQ7pSkNi.js","assets/react-query-B7OIdD7u.js","assets/ui-vendor-Ccu0xyBn.js","assets/charts-CREYXqqm.js","assets/customers-CPkOMPXe.js","assets/socket-BFcXWKeu.js","assets/forms-Dmkgx8TD.js","assets/PerformanceDashboard-DGm37y1U.js","assets/tickets-Dx5J63Mv.js","assets/TechniciansPage-BgPIpLhQ.js","assets/TechnicianDetailPage-DdNNpO7k.js","assets/masterDataService-DH5wUSsz.js","assets/InventoryPage-D3O93w-a.js","assets/InventoryStockPage-DV6Eth2G.js","assets/PackagesPage-BU3fzpZo.js","assets/PriceListPage-DC1lfnx4.js","assets/EquipmentPage-CxdF8Bvx.js","assets/ODPPage-BHPR4ZF3.js","assets/ServiceTypesPage-Drw_0YpX.js","assets/ServiceCategoriesPage-Ch3-rMI3.js","assets/UsersPage-7stR3MsD.js","assets/PermissionsPage-n6NI-ntb.js","assets/SkillLevelsPage-D_oYptS3.js","assets/SpecializationsPage-BJ1qWm4H.js","assets/WhatsAppGroupsPage-B1tyn9zB.js","assets/WhatsAppTemplatesPage-B0pOjIGD.js","assets/ProfilePage-vMi2BF_m.js","assets/RegisterPage-D_UhSDBw.js","assets/registrationService-jf9rjoT2.js","assets/TrackingPage-BGh82aQw.js","assets/RegistrationsPage-Bu0fAOMv.js","assets/RegistrationDetailPage-BMDXzyh_.js","assets/RegistrationAnalyticsPage-WU2Wa7-b.js","assets/InvoicesPage-CJk0hUQr.js","assets/InvoiceDetailPage-CqWOy8Pn.js","assets/InvoiceCreatePage-Be7zYjnZ.js","assets/PaymentsPage-BdXMNFXl.js","assets/CustomerLoginPage-lPmI6YWW.js","assets/CustomerDashboardPage-CRmMAQxq.js","assets/CustomerPortalLayout-Uk9eK6Rp.js","assets/CustomerInvoicesPage-DX1Ytc6u.js","assets/CustomerTicketsPage-qHdljnnO.js","assets/CustomerTicketDetailPage-DT2WgFQj.js","assets/CustomerProfilePage-BZCmzVf3.js","assets/CustomerFAQPage-DTT6dLX0.js"])))=>i.map(i=>d[i]);
var wt=Object.defineProperty,jt=Object.defineProperties;var _t=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable;var We=(a,t,n)=>t in a?wt(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,$=(a,t)=>{for(var n in t||(t={}))Nt.call(t,n)&&We(a,n,t[n]);if($e)for(var n of $e(t))kt.call(t,n)&&We(a,n,t[n]);return a},z=(a,t)=>jt(a,_t(t));var b=(a,t,n)=>new Promise((r,s)=>{var i=l=>{try{m(n.next(l))}catch(d){s(d)}},c=l=>{try{m(n.throw(l))}catch(d){s(d)}},m=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,c);m((n=n.apply(a,t)).next())});import{a as k,j as e}from"./notifications-Dt-KZFDl.js";import{b as Pt,r as o,f as St,N as qe,u as tt,a as at,L as Tt,O as Ct,g as nt,h as Ot,i as w,j as me,B as At}from"./react-vendor-BQ7pSkNi.js";import{a as xe,b as J,u as le,Q as Et,c as Rt}from"./react-query-B7OIdD7u.js";import{z as M,am as ze,ag as re,K as pe,O as Dt,F as rt,a2 as st,$ as Mt,ab as ge,r as it,B as Fe,a9 as Lt,e as It,an as $t,j as te,ao as Wt,a7 as Ve,X as Ee,ap as je,W as _e,aq as G,ar as qt,T as Ne,v as ot,I as zt,A as Ft,t as Re,m as Vt,as as Ut,at as Qt,k as Ht,ak as Xt,au as Kt,U as Bt,av as Jt,aw as Ue,V as Yt,ax as Gt,E as Zt,ah as ea,ai as ta,ay as aa,C as be,b as na,N as ra,az as sa}from"./ui-vendor-Ccu0xyBn.js";import{u as ae,s as S,L as de,K as Z,A as ia}from"./customers-CPkOMPXe.js";import"./socket-BFcXWKeu.js";import{u as oa}from"./forms-Dmkgx8TD.js";import{r as ca}from"./charts-CREYXqqm.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ke={},Qe=Pt;ke.createRoot=Qe.createRoot,ke.hydrateRoot=Qe.hydrateRoot;var ct={exports:{}};ct.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var la=ct.exports;const da="modulepreload",ua=function(a){return"/"+a},He={},_=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=ua(l),l in He)return;He[l]=!0;const d=l.endsWith(".css"),j=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${j}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":da,d||(f.as="script"),f.crossOrigin="",f.href=l,m&&f.setAttribute("nonce",m),document.head.appendChild(f),d)return new Promise((p,u)=>{f.addEventListener("load",p),f.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return s.then(c=>{for(const m of c||[])m.status==="rejected"&&i(m.reason);return t().catch(i)})},Y={getNotifications:(...t)=>b(void 0,[...t],function*(a={}){const n=new URLSearchParams;a.page&&n.append("page",a.page),a.limit&&n.append("limit",a.limit),a.type&&n.append("type",a.type),a.is_read!==void 0&&n.append("is_read",a.is_read),a.priority&&n.append("priority",a.priority),a.include_archived&&n.append("include_archived",a.include_archived);const r=n.toString(),s=`/notifications${r?`?${r}`:""}`;return k.get(s)}),getNotification:a=>b(void 0,null,function*(){return k.get(`/notifications/${a}`)}),markAsRead:a=>b(void 0,null,function*(){return k.patch(`/notifications/${a}/read`)}),markAllAsRead:()=>b(void 0,null,function*(){return k.patch("/notifications/read-all")}),archive:a=>b(void 0,null,function*(){return k.patch(`/notifications/${a}/archive`)}),delete:a=>b(void 0,null,function*(){return k.delete(`/notifications/${a}`)}),getSettings:()=>b(void 0,null,function*(){return k.get("/notifications/settings/preferences")}),updateSettings:a=>b(void 0,null,function*(){return k.put("/notifications/settings/preferences",a)}),cleanupExpired:()=>b(void 0,null,function*(){return k.delete("/notifications/cleanup/expired")}),create:a=>b(void 0,null,function*(){return k.post("/notifications",a)})};class ma{constructor(){this.permission="default",this.enabled=!1,this.checkPermission()}checkPermission(){return"Notification"in window?(this.permission=Notification.permission,this.enabled=this.permission==="granted",this.enabled):(console.warn("⚠️ Browser does not support desktop notifications"),!1)}requestPermission(){return b(this,null,function*(){if(!("Notification"in window))return console.warn("⚠️ Browser does not support desktop notifications"),!1;if(Notification.permission==="granted")return this.enabled=!0,!0;try{const t=yield Notification.requestPermission();return this.permission=t,this.enabled=t==="granted",this.enabled?(console.log("✅ Desktop notifications enabled"),this.show({title:"Notifikasi Aktif!",body:"Anda akan menerima notifikasi desktop untuk update penting",icon:"/aglis-logo.svg",tag:"welcome"})):console.log("❌ Desktop notifications denied"),this.enabled}catch(t){return console.error("Error requesting notification permission:",t),!1}})}show(t){if(!this.enabled)return console.log("Desktop notifications not enabled"),null;try{const{title:n,body:r,icon:s="/aglis-logo.svg",tag:i,requireInteraction:c=!1,onClick:m,data:l={}}=t,d=new Notification(n,{body:r,icon:s,tag:i,requireInteraction:c,badge:"/aglis-logo.svg",vibrate:[200,100,200],data:l,silent:!1});return m?d.onclick=j=>{j.preventDefault(),window.focus(),m(j,l),d.close()}:d.onclick=j=>{j.preventDefault(),window.focus(),d.close()},c||setTimeout(()=>{d.close()},1e4),d}catch(n){return console.error("Error showing desktop notification:",n),null}}showNewTicket(t){return this.show({title:"🎫 Tiket Baru",body:`${t.ticket_number}: ${t.title||"No title"}`,tag:`ticket-${t.id}`,requireInteraction:!0,onClick:()=>{window.location.href=`/tickets/${t.id}`},data:{type:"ticket",id:t.id}})}showTicketAssignment(t){return this.show({title:"🔔 Tiket Ditugaskan",body:`${t.ticket_number} telah ditugaskan kepada Anda`,tag:`assignment-${t.id}`,requireInteraction:!0,onClick:()=>{window.location.href=`/tickets/${t.id}`},data:{type:"assignment",id:t.id}})}showNewRegistration(t){return this.show({title:"🎉 Pendaftar Baru!",body:`${t.full_name} - ${t.phone}`,tag:`registration-${t.id}`,onClick:()=>{window.location.href="/registrations"},data:{type:"registration",id:t.id}})}showSLAWarning(t){return this.show({title:"⚠️ SLA Warning!",body:`Tiket ${t.ticket_number} mendekati deadline SLA`,tag:`sla-${t.id}`,requireInteraction:!0,onClick:()=>{window.location.href=`/tickets/${t.id}`},data:{type:"sla_warning",id:t.id}})}showPaymentReceived(t){return this.show({title:"💵 Pembayaran Diterima",body:`Rp ${(t.amount||0).toLocaleString("id-ID")} - ${t.invoice_number||"Unknown"}`,tag:`payment-${t.id}`,onClick:()=>{t.invoice_id&&(window.location.href=`/invoices/${t.invoice_id}`)},data:{type:"payment",id:t.id}})}showSystemAlert(t){return this.show({title:"🚨 System Alert",body:t.message||"System alert detected",tag:`alert-${t.id||Date.now()}`,requireInteraction:!0,data:$({type:"system_alert"},t)})}showCustom(t,n,r={}){return this.show($({title:t,body:n},r))}clearByTag(t){console.log(`Notification tag "${t}" will auto-close`)}isSupported(){return"Notification"in window}getPermission(){return this.permission}isEnabled(){return this.enabled}}const U=new ma,lt=o.createContext(),ha=()=>{const a=o.useContext(lt);if(!a)throw new Error("useNotifications must be used within a NotificationProvider");return a},fa=({children:a})=>{const{user:t}=ae(),n=xe(),r=o.useRef(!1),s=o.useRef(new Set),[i,c]=o.useState([]),[m,l]=o.useState(0),[d,j]=o.useState(!1),[f,p]=o.useState(!1),[u,x]=o.useState({email_notifications:!0,push_notifications:!0,sound_notifications:!0,desktop_notifications:!0,notification_types:{ticket_assigned:!0,ticket_updated:!0,ticket_completed:!0,system_alert:!0,technician_status:!0,new_ticket:!0,new_registration:!0,payment_received:!0,sla_warning:!0}}),{data:R,isLoading:D,refetch:N}=J(["notifications",{page:1,limit:50,is_read:!1}],()=>Y.getNotifications({page:1,limit:50,is_read:!1}),{enabled:!!t,refetchInterval:3e4,onSuccess:h=>{var v;(v=h==null?void 0:h.data)!=null&&v.notifications&&(c(h.data.notifications),l(h.data.unreadCount||0))}}),{data:A}=J(["notification-settings"],Y.getSettings,{enabled:!!t,onSuccess:h=>{var v;(v=h==null?void 0:h.data)!=null&&v.settings&&x(h.data.settings)}}),P=o.useCallback(h=>{const v=`${h.id||h.type}-${h.timestamp||Date.now()}`;if(s.current.has(v)){console.log("⚠️ Duplicate notification ignored:",v);return}if(s.current.add(v),setTimeout(()=>{s.current.delete(v)},1e4),console.log("🔔 Received notification:",h),c(O=>[h,...O]),l(O=>O+1),u.push_notifications&&C(h.type)&&F(h),u.sound_notifications&&C(h.type)){let O="default";h.type==="system_alert"||h.type==="sla_warning"?O="urgent":h.type==="ticket_completed"||h.type==="payment_received"?O="success":(h.type==="ticket_assigned"||h.type==="new_ticket")&&(O="warning"),W(O)}u.desktop_notifications&&f&&C(h.type)&&T(h),n.invalidateQueries(["notifications"])},[u,n]),E=o.useCallback(h=>{console.log("🎫 Ticket updated:",h),n.invalidateQueries(["tickets"]),n.invalidateQueries(["ticket",h.ticketId]),(h.assignedTo===(t==null?void 0:t.id)||h.updatedBy===(t==null?void 0:t.id))&&M.success(`Ticket #${h.ticketId} updated`)},[n,t]),L=o.useCallback(h=>{console.log("👷 Technician status changed:",h),n.invalidateQueries(["technicians"]),n.invalidateQueries(["technician-stats"]),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="supervisor")&&M.info(`Technician status updated: ${h.status}`)},[n,t]),X=o.useCallback(h=>{var v,O;console.log("👷 New technician created:",h),n.invalidateQueries(["technicians"]),n.invalidateQueries(["technician-stats"]),window.dispatchEvent(new CustomEvent("technician-created",{detail:h})),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="supervisor")&&M.success(`New technician added: ${((v=h.technician)==null?void 0:v.employee_id)||((O=h.technician)==null?void 0:O.full_name)}`)},[n,t]),I=o.useCallback(h=>{console.log("👤 New user created:",h),h.technician&&(n.invalidateQueries(["technicians"]),n.invalidateQueries(["technician-stats"]),window.dispatchEvent(new CustomEvent("technician-created",{detail:h}))),n.invalidateQueries(["users"])},[n]),g=o.useCallback(h=>{console.log("⚠️ System alert:",h);const v={duration:h.priority==="urgent"?1e4:5e3,style:{background:h.priority==="urgent"?"#ef4444":"#f59e0b",color:"white"}};M(h.message,v)},[]),C=h=>{var v;return((v=u.notification_types)==null?void 0:v[h])!==!1},F=h=>{const v={duration:5e3,style:{background:h.priority==="high"?"#ef4444":"#3b82f6",color:"white"}};M(h.message,v)},T=h=>{try{const{type:v,title:O,message:ie,data:y}=h;switch(v){case"new_ticket":U.showNewTicket({id:y==null?void 0:y.ticket_id,ticket_number:(y==null?void 0:y.ticket_number)||"N/A",title:ie});break;case"ticket_assigned":U.showTicketAssignment({id:y==null?void 0:y.ticket_id,ticket_number:(y==null?void 0:y.ticket_number)||"N/A"});break;case"new_registration":U.showNewRegistration({id:y==null?void 0:y.registration_id,full_name:(y==null?void 0:y.full_name)||"New Customer",phone:(y==null?void 0:y.phone)||""});break;case"sla_warning":U.showSLAWarning({id:y==null?void 0:y.ticket_id,ticket_number:(y==null?void 0:y.ticket_number)||"N/A"});break;case"payment_received":U.showPaymentReceived({id:y==null?void 0:y.payment_id,invoice_id:y==null?void 0:y.invoice_id,invoice_number:y==null?void 0:y.invoice_number,amount:y==null?void 0:y.amount});break;case"system_alert":U.showSystemAlert({id:y==null?void 0:y.alert_id,message:ie});break;default:U.showCustom(O,ie,{tag:`notif-${h.id||Date.now()}`,data:y})}}catch(v){console.warn("Could not show desktop notification:",v)}},W=(h="default")=>{try{const v=new(window.AudioContext||window.webkitAudioContext),O={urgent:[{freq:880,duration:.1},{freq:1046,duration:.15}],success:[{freq:523,duration:.1},{freq:659,duration:.1},{freq:784,duration:.15}],warning:[{freq:659,duration:.15},{freq:523,duration:.15}],default:[{freq:659,duration:.12},{freq:784,duration:.18}]},ie=O[h]||O.default;let y=v.currentTime;ie.forEach(({freq:bt,duration:ye})=>{const oe=v.createOscillator(),ce=v.createGain();oe.connect(ce),ce.connect(v.destination),oe.frequency.value=bt,oe.type="sine",ce.gain.setValueAtTime(0,y),ce.gain.linearRampToValueAtTime(.2,y+.01),ce.gain.exponentialRampToValueAtTime(.01,y+ye),oe.start(y),oe.stop(y+ye),y+=ye+.05})}catch(v){console.warn("Could not play notification sound:",v)}};o.useEffect(()=>{if(!t)return;b(void 0,null,function*(){if(U.isSupported()){const v=U.getPermission();v==="default"?setTimeout(()=>b(void 0,null,function*(){console.log("🔔 Requesting desktop notification permission...");const O=yield U.requestPermission();p(O),console.log(O?"✅ Desktop notifications enabled":"❌ Desktop notifications denied by user")}),2e3):v==="granted"?(p(!0),console.log("✅ Desktop notifications already granted")):console.log("❌ Desktop notifications not permitted")}else console.log("⚠️ Desktop notifications not supported by browser")})},[t]),o.useEffect(()=>{if(!t)return;console.log("🔗 Initializing Socket.IO connection..."),S.connect(t);const v=setInterval(()=>{const O=S.getConnectionStatus();j(O.isConnected)},1e3);return()=>{clearInterval(v)}},[t]),o.useEffect(()=>{if(!(!d||r.current))return console.log("📡 Setting up socket event listeners..."),r.current=!0,S.on("notification",P),S.on("ticket_updated",E),S.on("technician_status_changed",L),S.on("technician-created",X),S.on("user-created",I),S.on("system_alert",g),()=>{console.log("🔌 Cleaning up socket event listeners..."),r.current=!1,S.off("notification",P),S.off("ticket_updated",E),S.off("technician_status_changed",L),S.off("technician-created",X),S.off("user-created",I),S.off("system_alert",g)}},[d,P,E,L,X,I,g]),o.useEffect(()=>()=>{console.log("🛑 Disconnecting socket on unmount..."),S.disconnect()},[]);const yt={notifications:i,unreadCount:m,isSocketConnected:d,settings:u,isLoading:D,desktopNotificationsEnabled:f,requestDesktopPermission:()=>U.requestPermission().then(p),markAsRead:h=>b(void 0,null,function*(){try{yield Y.markAsRead(h),c(v=>v.map(O=>O.id===h?z($({},O),{is_read:!0,read_at:new Date().toISOString()}):O)),l(v=>Math.max(0,v-1)),n.invalidateQueries(["notifications"])}catch(v){console.error("Error marking notification as read:",v),M.error("Failed to mark notification as read")}}),markAllAsRead:()=>b(void 0,null,function*(){try{yield Y.markAllAsRead(),c(h=>h.map(v=>z($({},v),{is_read:!0,read_at:new Date().toISOString()}))),l(0),n.invalidateQueries(["notifications"]),M.success("All notifications marked as read")}catch(h){console.error("Error marking all notifications as read:",h),M.error("Failed to mark all notifications as read")}}),archiveNotification:h=>b(void 0,null,function*(){try{yield Y.archiveNotification(h),c(v=>v.filter(O=>O.id!==h)),n.invalidateQueries(["notifications"]),M.success("Notification archived")}catch(v){console.error("Error archiving notification:",v),M.error("Failed to archive notification")}}),updateSettings:h=>b(void 0,null,function*(){try{yield Y.updateSettings(h),x(v=>$($({},v),h)),n.invalidateQueries(["notification-settings"]),M.success("Notification settings updated")}catch(v){console.error("Error updating notification settings:",v),M.error("Failed to update notification settings")}}),refetchNotifications:N,joinRoom:h=>{d&&S.joinRoom(h)},leaveRoom:h=>{d&&S.leaveRoom(h)},emitTicketUpdate:h=>{d&&S.emitTicketUpdate(h)},emitTechnicianStatusUpdate:h=>{d&&S.emitTechnicianStatusUpdate(h)},reconnect:()=>S.reconnect(t),disconnect:()=>S.disconnect()};return e.jsx(lt.Provider,{value:yt,children:a})},pa={getAllPermissions:()=>b(void 0,null,function*(){return yield k.get("/permissions/all")}),getRolePermissions:a=>b(void 0,null,function*(){return yield k.get(`/permissions/role/${a}`)}),getPermissionMatrix:()=>b(void 0,null,function*(){return yield k.get("/permissions/matrix")}),updateRolePermissions:(a,t)=>b(void 0,null,function*(){return yield k.put(`/permissions/role/${a}`,{permissions:t})}),getMyPermissions:()=>b(void 0,null,function*(){return yield k.get("/permissions/me")})},ga=o.createContext(),xa=({children:a})=>{const{user:t}=ae(),[n,r]=o.useState([]),{data:s,isLoading:i}=J(["permissions",t==null?void 0:t.role],()=>pa.getMyPermissions(),{enabled:!!t,onSuccess:p=>{var R;const u=((R=p.data)==null?void 0:R.permissions)||[],x=Array.isArray(u)?u.map(D=>typeof D=="string"?D:D.name):[];r(x)},onError:p=>{console.error("Failed to load permissions:",p),r([])}}),c=p=>(t==null?void 0:t.role)==="admin"?!0:n.includes(p),m=(...p)=>(t==null?void 0:t.role)==="admin"?!0:p.some(u=>n.includes(u)),f={permissions:n,isLoading:i,hasPermission:c,hasAnyPermission:m,hasAllPermissions:(...p)=>(t==null?void 0:t.role)==="admin"?!0:p.every(u=>n.includes(u)),can:(p,u)=>{const x=`${p}.${u}`;return c(x)},canAccessPage:p=>{const x={dashboard:["dashboard.view"],analytics:["analytics.view"],tickets:["tickets.view"],customers:["customers.view"],registrations:["registrations.view"],technicians:["technicians.view"],inventory:["inventory.view"],users:["users.view"],permissions:["permissions.view"]}[p];return x?m(...x):!0}};return e.jsx(ga.Provider,{value:f,children:a})},va=({isOpen:a,onClose:t,collapsed:n})=>{var g,C,F;const{user:r}=ae();St();const[s,i]=o.useState(null),[c,m]=o.useState(!0),[l,d]=o.useState(!1),[j,f]=o.useState(!1),[p,u]=o.useState(!1),[x,R]=o.useState(!1),[D,N]=o.useState(!1),[A,P]=o.useState(!1),[E,L]=o.useState(!1),I=[{id:"core-operations",section:"Core Operations",icon:ze,roles:["admin","supervisor","manager","noc","technician","customer_service"],isOpen:c,setIsOpen:m,items:[{name:"Dashboard",href:"/dashboard",icon:ze,roles:["admin","supervisor","manager","noc","technician","customer_service"]},{name:"Tickets",href:"/tickets",icon:re,roles:["admin","supervisor","manager","noc","technician","customer_service"]}]},{id:"customer-management",section:"Customer Management",icon:pe,roles:["admin","supervisor","manager","noc","customer_service"],isOpen:l,setIsOpen:d,items:[{name:"Customers",href:"/customers",icon:pe,roles:["admin","supervisor","manager","noc","customer_service"]},{name:"Registrations",href:"/registrations",icon:Dt,roles:["admin","supervisor","manager","customer_service"]}]},{id:"financial-management",section:"Financial",icon:Mt,roles:["admin","supervisor","customer_service"],isOpen:j,setIsOpen:f,items:[{name:"Invoices",href:"/invoices",icon:rt,roles:["admin","supervisor","customer_service"]},{name:"Payments",href:"/payments",icon:st,roles:["admin","supervisor","customer_service"]}]},{id:"operations",section:"Operations",icon:ge,roles:["admin","supervisor","manager","noc","technician"],isOpen:p,setIsOpen:u,items:[{name:"Technicians",href:"/technicians",icon:ge,roles:["admin","supervisor","manager","noc"]},{name:"Inventory",href:"/inventory-stock",icon:it,roles:["admin","supervisor","manager","noc","technician"]}]},{id:"analytics-reports",section:"Analytics & Reports",icon:It,roles:["admin","supervisor","manager","noc"],isOpen:x,setIsOpen:R,items:[{name:"Analytics",href:"/analytics",icon:Fe,roles:["admin","supervisor","manager","noc"]},{name:"Reg Analytics",href:"/registration-analytics",icon:Fe,roles:["admin","supervisor","manager"]},{name:"Performance",href:"/performance",icon:Lt,roles:["admin","manager"]}]},{id:"system-admin",section:"System & Admin",icon:Ve,roles:["admin","supervisor"],isOpen:D,setIsOpen:N,items:[{name:"Master Data",icon:$t,roles:["admin","supervisor"],hasSubmenu:!0,submenu:[{name:"Service Types",href:"/master-data/service-types"},{name:"Service Categories",href:"/master-data/service-categories"},{name:"Paket Langganan",href:"/master-data/packages"},{name:"Price List",href:"/master-data/price-list"},{name:"Equipment",href:"/master-data/equipment"},{name:"ODP",href:"/master-data/odp"},{name:"Skill Levels",href:"/master-data/skill-levels"},{name:"Specializations",href:"/master-data/specializations"},{name:"WhatsApp Groups",href:"/master-data/whatsapp-groups"},{name:"WhatsApp Templates",href:"/master-data/whatsapp-templates"}]},{name:"Notifications",icon:te,roles:["admin","supervisor"],hasSubmenu:!0,submenu:[{name:"Templates",href:"/notifications/templates"},{name:"Analytics",href:"/notifications/analytics"},{name:"Settings",href:"/notifications/settings"}]},{name:"Users",href:"/users",icon:Wt,roles:["admin","supervisor"]},{name:"Permissions",href:"/permissions",icon:Ve,roles:["admin"]}]}].map(T=>z($({},T),{items:T.items.filter(W=>W.roles.includes(r==null?void 0:r.role))})).filter(T=>T.roles.includes(r==null?void 0:r.role)&&T.items.length>0);return e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden",onClick:t}),e.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-30 bg-white shadow-lg transform transition-all duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${a?"translate-x-0":"-translate-x-full"}
        ${n?"lg:w-20":"lg:w-64"}
        w-64
      `,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-8 w-8"})}),!n&&e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-800 whitespace-nowrap",children:"AGLIS"})]}),e.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:e.jsx(Ee,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto h-[calc(100vh-8rem)]",children:I.map(T=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("button",{onClick:()=>T.setIsOpen(!T.isOpen),className:`
                  w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-md
                  transition-colors duration-150
                  ${n?"justify-center":""}
                  text-gray-600 hover:bg-gray-100 hover:text-gray-900
                `,onMouseEnter:()=>!n&&i(T.id),onMouseLeave:()=>i(null),children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[e.jsx(T.icon,{className:`flex-shrink-0 h-5 w-5 ${n?"":"mr-3"}`}),!n&&e.jsx("span",{className:"truncate font-semibold text-xs uppercase tracking-wide",children:T.section})]}),!n&&(T.isOpen?e.jsx(je,{className:"h-4 w-4 flex-shrink-0"}):e.jsx(_e,{className:"h-4 w-4 flex-shrink-0"}))]}),T.isOpen&&!n&&e.jsx("div",{className:"mt-1 space-y-1 ml-2",children:T.items.map(W=>{if(W.hasSubmenu){const ne=W.name==="Master Data"?A:E,Le=W.name==="Master Data"?P:L;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>Le(!ne),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(W.icon,{className:"mr-3 flex-shrink-0 h-4 w-4"}),e.jsx("span",{children:W.name})]}),ne?e.jsx(je,{className:"h-4 w-4"}):e.jsx(_e,{className:"h-4 w-4"})]}),ne&&e.jsx("div",{className:"ml-8 mt-1 space-y-1",children:W.submenu.map(ue=>e.jsx(qe,{to:ue.href,className:({isActive:Ie})=>`
                                    flex items-center px-3 py-2 text-sm rounded-md transition-colors
                                    ${Ie?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                                  `,children:e.jsx("span",{className:"truncate",children:ue.name})},ue.href))})]},W.name)}return e.jsxs(qe,{to:W.href,className:({isActive:ne})=>`
                          flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors
                          ${ne?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                        `,children:[e.jsx(W.icon,{className:"mr-3 flex-shrink-0 h-4 w-4"}),e.jsx("span",{className:"truncate",children:W.name})]},W.href)})}),n&&s===T.id&&e.jsx("div",{className:"absolute left-20 bg-gray-900 text-white px-2 py-1 rounded text-xs whitespace-nowrap z-50",children:T.section})]},T.id))}),e.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex-shrink-0 ${n?"mx-auto":""}`,children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold",children:((g=r==null?void 0:r.full_name)==null?void 0:g.charAt(0))||((C=r==null?void 0:r.username)==null?void 0:C.charAt(0))||"U"})}),!n&&e.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:(r==null?void 0:r.full_name)||(r==null?void 0:r.username)}),e.jsx("p",{className:"text-xs text-gray-500 truncate capitalize",children:(F=r==null?void 0:r.role)==null?void 0:F.replace("_"," ")})]})]})})]})]})},ya=()=>{const a=xe(),{data:t,isLoading:n,error:r}=J(["notification-settings"],()=>Y.getSettings(),{select:i=>{var c;return(c=i.data)==null?void 0:c.settings}}),s=le(i=>Y.updateSettings(i),{onSuccess:i=>{a.setQueryData(["notification-settings"],{data:{settings:i.data.settings}}),G.success("Pengaturan notifikasi berhasil diperbarui")},onError:i=>{console.error("Failed to update notification settings:",i),G.error("Gagal memperbarui pengaturan notifikasi")}});return{settings:t,isLoading:n,error:r,updateSettings:s.mutate,isUpdating:s.isLoading}};function Pe(a){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(a)}function H(a,t){if(t.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+t.length+" present")}function q(a){H(1,arguments);var t=Object.prototype.toString.call(a);return a instanceof Date||Pe(a)==="object"&&t==="[object Date]"?new Date(a.getTime()):typeof a=="number"||t==="[object Number]"?new Date(a):((typeof a=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var ba={};function wa(){return ba}function Xe(a){var t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),a.getTime()-t.getTime()}function fe(a,t){H(2,arguments);var n=q(a),r=q(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function ja(a,t){H(2,arguments);var n=q(a),r=q(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function _a(a,t){return H(2,arguments),q(a).getTime()-q(t).getTime()}var Na={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ka="trunc";function Pa(a){return Na[ka]}function Sa(a){H(1,arguments);var t=q(a);return t.setHours(23,59,59,999),t}function Ta(a){H(1,arguments);var t=q(a),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ca(a){H(1,arguments);var t=q(a);return Sa(t).getTime()===Ta(t).getTime()}function Oa(a,t){H(2,arguments);var n=q(a),r=q(t),s=fe(n,r),i=Math.abs(ja(n,r)),c;if(i<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var m=fe(n,r)===-s;Ca(q(a))&&i===1&&fe(a,r)===1&&(m=!1),c=s*(i-Number(m))}return c===0?0:c}function Aa(a,t,n){H(2,arguments);var r=_a(a,t)/1e3;return Pa()(r)}var Ea={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ra=function(t,n,r){var s,i=Ea[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function se(a){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):a.defaultWidth,r=a.formats[n]||a.formats[a.defaultWidth];return r}}var Da={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ma={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},La={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ia={date:se({formats:Da,defaultWidth:"full"}),time:se({formats:Ma,defaultWidth:"full"}),dateTime:se({formats:La,defaultWidth:"full"})},$a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wa=function(t,n,r,s){return $a[t]};function K(a){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&a.formattingValues){var i=a.defaultFormattingWidth||a.defaultWidth,c=n!=null&&n.width?String(n.width):i;s=a.formattingValues[c]||a.formattingValues[i]}else{var m=a.defaultWidth,l=n!=null&&n.width?String(n.width):a.defaultWidth;s=a.values[l]||a.values[m]}var d=a.argumentCallback?a.argumentCallback(t):t;return s[d]}}var qa={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},za={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fa={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Va={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ua={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ha=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xa={ordinalNumber:Ha,era:K({values:qa,defaultWidth:"wide"}),quarter:K({values:za,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:K({values:Fa,defaultWidth:"wide"}),day:K({values:Va,defaultWidth:"wide"}),dayPeriod:K({values:Ua,defaultWidth:"wide",formattingValues:Qa,defaultFormattingWidth:"wide"})};function B(a){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],i=t.match(s);if(!i)return null;var c=i[0],m=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],l=Array.isArray(m)?Ba(m,function(f){return f.test(c)}):Ka(m,function(f){return f.test(c)}),d;d=a.valueCallback?a.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;var j=t.slice(c.length);return{value:d,rest:j}}}function Ka(a,t){for(var n in a)if(a.hasOwnProperty(n)&&t(a[n]))return n}function Ba(a,t){for(var n=0;n<a.length;n++)if(t(a[n]))return n}function dt(a){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(a.matchPattern);if(!r)return null;var s=r[0],i=t.match(a.parsePattern);if(!i)return null;var c=a.valueCallback?a.valueCallback(i[0]):i[0];c=n.valueCallback?n.valueCallback(c):c;var m=t.slice(s.length);return{value:c,rest:m}}}var Ja=/^(\d+)(th|st|nd|rd)?/i,Ya=/\d+/i,Ga={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Za={any:[/^b/i,/^(a|c)/i]},en={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tn={any:[/1/i,/2/i,/3/i,/4/i]},an={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},on={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ln={ordinalNumber:dt({matchPattern:Ja,parsePattern:Ya,valueCallback:function(t){return parseInt(t,10)}}),era:B({matchPatterns:Ga,defaultMatchWidth:"wide",parsePatterns:Za,defaultParseWidth:"any"}),quarter:B({matchPatterns:en,defaultMatchWidth:"wide",parsePatterns:tn,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:B({matchPatterns:an,defaultMatchWidth:"wide",parsePatterns:nn,defaultParseWidth:"any"}),day:B({matchPatterns:rn,defaultMatchWidth:"wide",parsePatterns:sn,defaultParseWidth:"any"}),dayPeriod:B({matchPatterns:on,defaultMatchWidth:"any",parsePatterns:cn,defaultParseWidth:"any"})},dn={code:"en-US",formatDistance:Ra,formatLong:Ia,formatRelative:Wa,localize:Xa,match:ln,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ut(a,t){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}function un(a){return ut({},a)}var Ke=1440,mn=2520,we=43200,hn=86400;function fn(a,t,n){var r,s;H(2,arguments);var i=wa(),c=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:i.locale)!==null&&r!==void 0?r:dn;if(!c.formatDistance)throw new RangeError("locale must contain formatDistance property");var m=fe(a,t);if(isNaN(m))throw new RangeError("Invalid time value");var l=ut(un(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:m}),d,j;m>0?(d=q(t),j=q(a)):(d=q(a),j=q(t));var f=Aa(j,d),p=(Xe(j)-Xe(d))/1e3,u=Math.round((f-p)/60),x;if(u<2)return n!=null&&n.includeSeconds?f<5?c.formatDistance("lessThanXSeconds",5,l):f<10?c.formatDistance("lessThanXSeconds",10,l):f<20?c.formatDistance("lessThanXSeconds",20,l):f<40?c.formatDistance("halfAMinute",0,l):f<60?c.formatDistance("lessThanXMinutes",1,l):c.formatDistance("xMinutes",1,l):u===0?c.formatDistance("lessThanXMinutes",1,l):c.formatDistance("xMinutes",u,l);if(u<45)return c.formatDistance("xMinutes",u,l);if(u<90)return c.formatDistance("aboutXHours",1,l);if(u<Ke){var R=Math.round(u/60);return c.formatDistance("aboutXHours",R,l)}else{if(u<mn)return c.formatDistance("xDays",1,l);if(u<we){var D=Math.round(u/Ke);return c.formatDistance("xDays",D,l)}else if(u<hn)return x=Math.round(u/we),c.formatDistance("aboutXMonths",x,l)}if(x=Oa(j,d),x<12){var N=Math.round(u/we);return c.formatDistance("xMonths",N,l)}else{var A=x%12,P=Math.floor(x/12);return A<3?c.formatDistance("aboutXYears",P,l):A<9?c.formatDistance("overXYears",P,l):c.formatDistance("almostXYears",P+1,l)}}function mt(a,t){return H(1,arguments),fn(a,Date.now(),t)}var pn={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},gn=function(t,n,r){var s,i=pn[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+s:s+" yang lalu":s},xn={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},vn={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},yn={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bn={date:se({formats:xn,defaultWidth:"full"}),time:se({formats:vn,defaultWidth:"full"}),dateTime:se({formats:yn,defaultWidth:"full"})},wn={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},jn=function(t,n,r,s){return wn[t]},_n={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},Nn={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},kn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},Pn={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},Sn={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},Tn={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},Cn=function(t,n){var r=Number(t);return"ke-"+r},On={ordinalNumber:Cn,era:K({values:_n,defaultWidth:"wide"}),quarter:K({values:Nn,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:K({values:kn,defaultWidth:"wide"}),day:K({values:Pn,defaultWidth:"wide"}),dayPeriod:K({values:Sn,defaultWidth:"wide",formattingValues:Tn,defaultFormattingWidth:"wide"})},An=/^ke-(\d+)?/i,En=/\d+/i,Rn={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},Dn={any:[/^s/i,/^(m|e)/i]},Mn={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},Ln={any:[/1/i,/2/i,/3/i,/4/i]},In={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},$n={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wn={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},qn={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},zn={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},Fn={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},Vn={ordinalNumber:dt({matchPattern:An,parsePattern:En,valueCallback:function(t){return parseInt(t,10)}}),era:B({matchPatterns:Rn,defaultMatchWidth:"wide",parsePatterns:Dn,defaultParseWidth:"any"}),quarter:B({matchPatterns:Mn,defaultMatchWidth:"wide",parsePatterns:Ln,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:B({matchPatterns:In,defaultMatchWidth:"wide",parsePatterns:$n,defaultParseWidth:"any"}),day:B({matchPatterns:Wn,defaultMatchWidth:"wide",parsePatterns:qn,defaultParseWidth:"any"}),dayPeriod:B({matchPatterns:zn,defaultMatchWidth:"any",parsePatterns:Fn,defaultParseWidth:"any"})},ht={code:"id",formatDistance:gn,formatLong:bn,formatRelative:jn,localize:On,match:Vn,options:{weekStartsOn:1,firstWeekContainsDate:1}};const ee={getNotifications:(...t)=>b(void 0,[...t],function*(a={}){const{page:n=1,limit:r=50,type:s=null,is_read:i=null}=a;let c=`page=${n}&limit=${r}`;return s&&(c+=`&type=${s}`),i!==null&&(c+=`&is_read=${i}`),(yield k.get(`/notification-center?${c}`)).data}),getUnreadCount:()=>b(void 0,null,function*(){return(yield k.get("/notification-center/unread-count")).data}),getStatistics:()=>b(void 0,null,function*(){return(yield k.get("/notification-center/statistics")).data}),markAsRead:a=>b(void 0,null,function*(){return(yield k.put(`/notification-center/${a}/read`)).data}),markAllAsRead:()=>b(void 0,null,function*(){return(yield k.put("/notification-center/mark-all-read")).data}),deleteNotification:a=>b(void 0,null,function*(){return(yield k.delete(`/notification-center/${a}`)).data}),clearReadNotifications:()=>b(void 0,null,function*(){return(yield k.delete("/notification-center/clear-read")).data}),createNotification:a=>b(void 0,null,function*(){return(yield k.post("/notification-center",a)).data})},Un=({isOpen:a,onClose:t})=>{var X,I;const n=tt(),r=xe(),s=o.useRef(null),[i,c]=o.useState("all"),[m,l]=o.useState(1),{data:d,isLoading:j,refetch:f}=J(["notification-center",{page:m,filter:i}],()=>{const g={page:m,limit:20};return i==="unread"?g.is_read=!1:i!=="all"&&(g.type=i),ee.getNotifications(g)},{enabled:a,staleTime:1e4,refetchOnWindowFocus:!1,refetchOnMount:!0});o.useEffect(()=>{a&&f()},[a,f]);const{data:p}=J("notification-unread-count",()=>ee.getUnreadCount(),{refetchInterval:3e4,staleTime:1e4}),u=le(g=>ee.markAsRead(g),{onSuccess:()=>{r.invalidateQueries("notification-center"),r.invalidateQueries("notification-unread-count")}}),x=le(()=>ee.markAllAsRead(),{onSuccess:g=>{M.success(`${g.data.count} notifications marked as read`),r.invalidateQueries("notification-center"),r.invalidateQueries("notification-unread-count")}}),R=le(g=>ee.deleteNotification(g),{onSuccess:()=>{M.success("Notification deleted"),r.invalidateQueries("notification-center"),r.invalidateQueries("notification-unread-count")}}),D=le(()=>ee.clearReadNotifications(),{onSuccess:g=>{M.success(`${g.data.count} notifications cleared`),r.invalidateQueries("notification-center"),r.invalidateQueries("notification-unread-count")}});o.useEffect(()=>{if(!a)return;const g=T=>{var W;console.log("🔔 New notification received:",T),r.invalidateQueries("notification-center"),r.invalidateQueries("notification-unread-count"),M.success(((W=T.notification)==null?void 0:W.title)||"New notification",{icon:"🔔",duration:3e3})},C=T=>{console.log("👁️ Notification read:",T),r.invalidateQueries("notification-unread-count")},F=T=>{console.log("🧹 Notifications cleared:",T),r.invalidateQueries("notification-center")};return S.on("new_notification",g),S.on("notification_read",C),S.on("notifications_cleared",F),S.on("notification_deleted",C),S.on("notifications_all_read",C),()=>{S.off("new_notification",g),S.off("notification_read",C),S.off("notifications_cleared",F),S.off("notification_deleted",C),S.off("notifications_all_read",C)}},[a,r]),o.useEffect(()=>{const g=C=>{s.current&&!s.current.contains(C.target)&&t()};return a&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[a,t]);const N=g=>{var F;g.is_read||u.mutate(g.id);const C=(F=g.data)==null?void 0:F.link;C&&(n(C),t())},A=g=>({ticket:e.jsx(re,{className:"h-5 w-5 text-blue-600"}),registration:e.jsx(rt,{className:"h-5 w-5 text-green-600"}),invoice:e.jsx(st,{className:"h-5 w-5 text-yellow-600"}),alert:e.jsx(Ft,{className:"h-5 w-5 text-red-600"}),system:e.jsx(zt,{className:"h-5 w-5 text-gray-600"})})[g]||e.jsx(te,{className:"h-5 w-5 text-gray-600"}),P=g=>{const C={urgent:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",normal:"bg-blue-100 text-blue-800",low:"bg-gray-100 text-gray-800"};return C[g]||C.normal},E=((X=d==null?void 0:d.data)==null?void 0:X.notifications)||[],L=((I=d==null?void 0:d.data)==null?void 0:I.pagination)||{};return a?e.jsxs("div",{ref:s,className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[600px] flex flex-col",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),e.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(Ee,{className:"h-5 w-5 text-gray-500"})})]}),e.jsx("div",{className:"flex gap-2 text-sm overflow-x-auto",children:[{key:"all",label:"All"},{key:"unread",label:"Unread"},{key:"ticket",label:"Tickets"},{key:"registration",label:"Registrations"},{key:"invoice",label:"Invoices"}].map(g=>e.jsx("button",{onClick:()=>{c(g.key),l(1)},className:`px-3 py-1 rounded-full transition-colors whitespace-nowrap ${i===g.key?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g.label},g.key))})]}),E.length>0&&e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 flex gap-2",children:[e.jsxs("button",{onClick:()=>x.mutate(),disabled:x.isLoading,className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded transition-colors disabled:opacity-50",children:[e.jsx(qt,{className:"h-4 w-4"}),"Mark all read"]}),e.jsxs("button",{onClick:()=>D.mutate(),disabled:D.isLoading,className:"flex items-center gap-1 px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Clear read"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:j?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-600 border-t-transparent mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading..."})]}):E.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(te,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No notifications"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i==="all"?"You're all caught up!":`No ${i} notifications`})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:E.map(g=>e.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${g.is_read?"":"bg-blue-50"}`,onClick:()=>N(g),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:A(g.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:`text-sm font-medium ${g.is_read?"text-gray-700":"text-gray-900"}`,children:g.title}),g.priority!=="normal"&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${P(g.priority)}`,children:g.priority})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:g.message}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:mt(new Date(g.created_at),{addSuffix:!0,locale:ht})}),e.jsxs("div",{className:"flex gap-1",children:[!g.is_read&&e.jsx("button",{onClick:C=>{C.stopPropagation(),u.mutate(g.id)},className:"p-1 hover:bg-blue-100 rounded transition-colors",title:"Mark as read",children:e.jsx(ot,{className:"h-4 w-4 text-blue-600"})}),e.jsx("button",{onClick:C=>{C.stopPropagation(),R.mutate(g.id)},className:"p-1 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ne,{className:"h-4 w-4 text-red-600"})})]})]})]}),!g.is_read&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})})]})},g.id))})}),L.pages>1&&e.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("button",{onClick:()=>l(g=>Math.max(1,g-1)),disabled:m===1,className:"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"text-gray-600",children:["Page ",m," of ",L.pages]}),e.jsx("button",{onClick:()=>l(g=>Math.min(L.pages,g+1)),disabled:m===L.pages,className:"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]}):null},Qn=()=>{var s;const[a,t]=o.useState(!1),{data:n}=J("notification-unread-count",()=>ee.getUnreadCount(),{refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:1e4}),r=((s=n==null?void 0:n.data)==null?void 0:s.count)||0;return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>t(!a),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Notifications",children:[e.jsx(te,{className:"h-6 w-6"}),r>0&&e.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[20px] h-5 px-1.5 bg-red-600 text-white text-xs font-bold rounded-full animate-pulse",children:r>99?"99+":r})]}),e.jsx(Un,{isOpen:a,onClose:()=>t(!1)})]})},Hn=({isOpen:a,onClose:t})=>{const{settings:n,updateSettings:r,isUpdating:s}=ya(),{desktopNotificationsEnabled:i,requestDesktopPermission:c}=ha(),[m,l]=o.useState({email_notifications:!0,push_notifications:!0,sound_notifications:!0,desktop_notifications:!0,notification_types:{ticket_assigned:!0,ticket_updated:!0,ticket_completed:!0,system_alert:!0,technician_status:!0,new_ticket:!0,new_registration:!0,payment_received:!0,sla_warning:!0},quiet_hours_start:"",quiet_hours_end:""});at.useEffect(()=>{var u,x,R,D;n&&l({email_notifications:(u=n.email_notifications)!=null?u:!0,push_notifications:(x=n.push_notifications)!=null?x:!0,sound_notifications:(R=n.sound_notifications)!=null?R:!0,desktop_notifications:(D=n.desktop_notifications)!=null?D:!0,notification_types:n.notification_types||{ticket_assigned:!0,ticket_updated:!0,ticket_completed:!0,system_alert:!0,technician_status:!0,new_ticket:!0,new_registration:!0,payment_received:!0,sla_warning:!0},quiet_hours_start:n.quiet_hours_start||"",quiet_hours_end:n.quiet_hours_end||""})},[n]);const d=u=>{u.preventDefault(),r(m)},j=(u,x)=>{l(R=>z($({},R),{notification_types:z($({},R.notification_types),{[u]:x})}))},f=()=>{m.quiet_hours_start&&m.quiet_hours_end?l(u=>z($({},u),{quiet_hours_start:"",quiet_hours_end:""})):l(u=>z($({},u),{quiet_hours_start:"22:00",quiet_hours_end:"07:00"}))},p={ticket_assigned:"Tiket Ditugaskan",ticket_updated:"Tiket Diperbarui",ticket_completed:"Tiket Selesai",system_alert:"Peringatan Sistem",technician_status:"Status Teknisi",new_ticket:"Tiket Baru",new_registration:"Pendaftar Baru",payment_received:"Pembayaran Diterima",sla_warning:"SLA Warning"};return a?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl transform transition-transform",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"h-6 w-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pengaturan Notifikasi"})]}),e.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(te,{className:"h-5 w-5 mr-2 text-blue-600"}),"Pengaturan Umum"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Vt,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifikasi"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Terima notifikasi via email"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.email_notifications,onChange:u=>l(x=>z($({},x),{email_notifications:u.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(te,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifikasi"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Terima notifikasi push di browser"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.push_notifications,onChange:u=>l(x=>z($({},x),{push_notifications:u.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ut,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Suara Notifikasi"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Mainkan suara saat ada notifikasi"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.sound_notifications,onChange:u=>l(x=>z($({},x),{sound_notifications:u.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Notifikasi Desktop"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tampilkan notifikasi bahkan saat browser minimize"}),!i&&e.jsx("button",{onClick:()=>b(void 0,null,function*(){(yield c())?G.success("Desktop notifications enabled!"):G.error("Permission denied. Check browser settings.")}),className:"mt-2 text-xs text-blue-600 hover:text-blue-800 font-medium",children:"🔔 Klik untuk izinkan"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[i?e.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full font-medium",children:"Aktif"}):e.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:"Belum Aktif"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.desktop_notifications&&i,onChange:u=>l(x=>z($({},x),{desktop_notifications:u.target.checked})),disabled:!i,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 peer-disabled:opacity-50 peer-disabled:cursor-not-allowed"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(ot,{className:"h-5 w-5 mr-2 text-blue-600"}),"Tipe Notifikasi"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(p).map(([u,x])=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsx("span",{className:"font-medium text-gray-900",children:x}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.notification_types[u],onChange:R=>j(u,R.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},u))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(Ht,{className:"h-5 w-5 mr-2 text-blue-600"}),"Jam Tenang"]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Nonaktifkan Notifikasi"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Jangan tampilkan notifikasi pada jam tertentu"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!(m.quiet_hours_start&&m.quiet_hours_end),onChange:f,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),m.quiet_hours_start&&m.quiet_hours_end&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dari"}),e.jsx("input",{type:"time",value:m.quiet_hours_start,onChange:u=>l(x=>z($({},x),{quiet_hours_start:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sampai"}),e.jsx("input",{type:"time",value:m.quiet_hours_end,onChange:u=>l(x=>z($({},x),{quiet_hours_end:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Batal"}),e.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:s?"Menyimpan...":"Simpan"})]})]})})]})]}):null},Be={createSample:()=>b(void 0,null,function*(){return k.post("/test-notifications/create-sample")}),clearAll:()=>b(void 0,null,function*(){return k.delete("/test-notifications/clear-all")})},Xn=({isOpen:a,onClose:t})=>{const[n,r]=o.useState(!1),[s,i]=o.useState(!1),c=()=>b(void 0,null,function*(){try{r(!0);const l=yield Be.createSample();G.success(`Created ${l.data.notifications.length} sample notifications`)}catch(l){console.error("Failed to create sample notifications:",l),G.error("Failed to create sample notifications")}finally{r(!1)}}),m=()=>b(void 0,null,function*(){try{i(!0),yield Be.clearAll(),G.success("All notifications cleared")}catch(l){console.error("Failed to clear notifications:",l),G.error("Failed to clear notifications")}finally{i(!1)}});return a?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),e.jsxs("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-xl shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Re,{className:"h-6 w-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Test Notifications"})]}),e.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:"×"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"Gunakan panel ini untuk membuat notifikasi sample untuk testing Notification Center."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:c,disabled:n,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Xt,{className:"h-5 w-5"}),e.jsx("span",{children:n?"Creating...":"Create Sample Notifications"})]}),e.jsxs("button",{onClick:m,disabled:s,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Ne,{className:"h-5 w-5"}),e.jsx("span",{children:s?"Clearing...":"Clear All Notifications"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Sample notifications include:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Ticket assigned notification"}),e.jsx("li",{children:"• Ticket status update"}),e.jsx("li",{children:"• System alert (urgent priority)"}),e.jsx("li",{children:"• Technician status update"}),e.jsx("li",{children:"• New ticket created"}),e.jsx("li",{children:"• Ticket completed"})]})]})]})]})]}):null},Kn=({onMenuClick:a})=>{var f,p;const{user:t,logout:n}=ae(),[r,s]=o.useState(!1),[i,c]=o.useState(!1),[m,l]=o.useState(!1),d=o.useRef(null);o.useEffect(()=>{const u=x=>{d.current&&!d.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]);const j=()=>{n(),s(!1)};return e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:a,className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:hidden transition-colors",children:e.jsx(Kt,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-9 w-auto"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900 hidden sm:block",children:"AGLIS Management System"}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 sm:hidden",children:"AGLIS"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx(Qn,{}),e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>s(!r),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center shadow-sm",children:e.jsx(Bt,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"hidden lg:block text-left min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.full_name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:(f=t==null?void 0:t.role)==null?void 0:f.replace("_"," ")})]}),e.jsx(je,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${r?"rotate-180":""}`})]}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl py-2 z-[9999] border border-gray-200 ring-1 ring-black ring-opacity-5",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.full_name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize truncate",children:(p=t==null?void 0:t.role)==null?void 0:p.replace("_"," ")})]}),e.jsxs("div",{className:"py-1",children:[e.jsxs(Tt,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[e.jsx(Re,{className:"h-4 w-4 mr-3 text-gray-400"}),"Profile Settings"]}),e.jsxs("button",{onClick:()=>{c(!0),s(!1)},className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(te,{className:"h-4 w-4 mr-3 text-gray-400"}),"Notification Settings"]}),(t==null?void 0:t.role)==="admin"&&e.jsxs("button",{onClick:()=>{l(!0),s(!1)},className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Jt,{className:"h-4 w-4 mr-3 text-gray-400"}),"Test Notifications"]}),e.jsxs("button",{onClick:j,className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(Ue,{className:"h-4 w-4 mr-3 text-red-500"}),"Sign Out"]})]})]})]}),e.jsx("button",{onClick:j,className:"lg:hidden p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors",title:"Sign Out",children:e.jsx(Ue,{className:"h-4 w-4"})})]})]})}),e.jsx(Hn,{isOpen:i,onClose:()=>c(!1)}),e.jsx(Xn,{isOpen:m,onClose:()=>l(!1)})]})},Bn=()=>{const[a,t]=o.useState(!1),[n,r]=o.useState(()=>localStorage.getItem("sidebarCollapsed")==="true");return o.useEffect(()=>{localStorage.setItem("sidebarCollapsed",n)},[n]),e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e.jsx(va,{isOpen:a,onClose:()=>t(!1),collapsed:n}),e.jsx("button",{onClick:()=>r(!n),className:`
          hidden lg:flex items-center justify-center
          fixed top-20 z-50
          w-6 h-12 bg-white border border-gray-200 
          rounded-r-lg shadow-md
          text-gray-600 hover:text-blue-600 hover:bg-blue-50
          transition-all duration-300
          group
          ${n?"left-20":"left-64"}
        `,title:n?"Expand Sidebar":"Collapse Sidebar",children:n?e.jsx(_e,{className:"h-4 w-4 group-hover:scale-125 transition-transform"}):e.jsx(Yt,{className:"h-4 w-4 group-hover:scale-125 transition-transform"})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Kn,{onMenuClick:()=>t(!0)}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(Ct,{})})})]})]})};var ft={exports:{}},Jn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yn=Jn,Gn=Yn;function pt(){}function gt(){}gt.resetWarningCache=pt;var Zn=function(){function a(r,s,i,c,m,l){if(l!==Gn){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}a.isRequired=a;function t(){return a}var n={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:t,element:a,elementType:a,instanceOf:t,node:a,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gt,resetWarningCache:pt};return n.PropTypes=n,n};ft.exports=Zn();var er=ft.exports;const V=nt(er);var tr=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Se(){return Se=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Se.apply(this,arguments)}function ar(a,t){if(a==null)return{};var n={},r=Object.keys(a),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=a[s]);return n}function he(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function nr(a,t){a.prototype=Object.create(t.prototype),a.prototype.constructor=a,Te(a,t)}function Te(a,t){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Te(a,t)}var ve=function(a){nr(t,a);function t(){var r;return r=a.call(this)||this,r.handleExpired=r.handleExpired.bind(he(r)),r.handleErrored=r.handleErrored.bind(he(r)),r.handleChange=r.handleChange.bind(he(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(he(r)),r}var n=t.prototype;return n.getCaptchaFunction=function(s){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[s]:this.props.grecaptcha[s]:null},n.getValue=function(){var s=this.getCaptchaFunction("getResponse");return s&&this._widgetId!==void 0?s(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var s=this.getCaptchaFunction("execute");if(s&&this._widgetId!==void 0)return s(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var s=this;return new Promise(function(i,c){s.executionResolve=i,s.executionReject=c,s.execute()})},n.reset=function(){var s=this.getCaptchaFunction("reset");s&&this._widgetId!==void 0&&s(this._widgetId)},n.forceReset=function(){var s=this.getCaptchaFunction("reset");s&&s()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(s){this.props.onChange&&this.props.onChange(s),this.executionResolve&&(this.executionResolve(s),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var s=this.getCaptchaFunction("render");if(s&&this._widgetId===void 0){var i=document.createElement("div");this._widgetId=s(i,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(i)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(s){this.captcha=s},n.render=function(){var s=this.props;s.sitekey,s.onChange,s.theme,s.type,s.tabindex,s.onExpired,s.onErrored,s.size,s.stoken,s.grecaptcha,s.badge,s.hl,s.isolated;var i=ar(s,tr);return o.createElement("div",Se({},i,{ref:this.handleRecaptchaRef}))},t}(o.Component);ve.displayName="ReCAPTCHA";ve.propTypes={sitekey:V.string.isRequired,onChange:V.func,grecaptcha:V.object,theme:V.oneOf(["dark","light"]),type:V.oneOf(["image","audio"]),tabindex:V.number,onExpired:V.func,onErrored:V.func,size:V.oneOf(["compact","normal","invisible"]),stoken:V.string,hl:V.string,badge:V.oneOf(["bottomright","bottomleft","inline"]),isolated:V.bool};ve.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var De=ca,rr={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sr={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ir={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Me={};Me[De.ForwardRef]=ir;Me[De.Memo]=xt;function Je(a){return De.isMemo(a)?xt:Me[a.$$typeof]||rr}var or=Object.defineProperty,cr=Object.getOwnPropertyNames,Ye=Object.getOwnPropertySymbols,lr=Object.getOwnPropertyDescriptor,dr=Object.getPrototypeOf,Ge=Object.prototype;function vt(a,t,n){if(typeof t!="string"){if(Ge){var r=dr(t);r&&r!==Ge&&vt(a,r,n)}var s=cr(t);Ye&&(s=s.concat(Ye(t)));for(var i=Je(a),c=Je(t),m=0;m<s.length;++m){var l=s[m];if(!sr[l]&&!(n&&n[l])&&!(c&&c[l])&&!(i&&i[l])){var d=lr(t,l);try{or(a,l,d)}catch(j){}}}}return a}var ur=vt;const mr=nt(ur);function Ce(){return Ce=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ce.apply(this,arguments)}function hr(a,t){if(a==null)return{};var n={},r=Object.keys(a),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=a[s]);return n}function fr(a,t){a.prototype=Object.create(t.prototype),a.prototype.constructor=a,a.__proto__=t}var Q={},pr=0;function gr(a,t){return t=t||{},function(r){var s=r.displayName||r.name||"Component",i=function(m){fr(l,m);function l(j,f){var p;return p=m.call(this,j,f)||this,p.state={},p.__scriptURL="",p}var d=l.prototype;return d.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+pr++),this.__scriptLoaderID},d.setupScriptURL=function(){return this.__scriptURL=typeof a=="function"?a():a,this.__scriptURL},d.asyncScriptLoaderHandleLoad=function(f){var p=this;this.setState(f,function(){return p.props.asyncScriptOnLoad&&p.props.asyncScriptOnLoad(p.state)})},d.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=Q[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var p in f.observers)f.observers[p](f);delete window[t.callbackName]},d.componentDidMount=function(){var f=this,p=this.setupScriptURL(),u=this.asyncScriptLoaderGetScriptLoaderID(),x=t,R=x.globalName,D=x.callbackName,N=x.scriptId;if(R&&typeof window[R]!="undefined"&&(Q[p]={loaded:!0,observers:{}}),Q[p]){var A=Q[p];if(A&&(A.loaded||A.errored)){this.asyncScriptLoaderHandleLoad(A);return}A.observers[u]=function(I){return f.asyncScriptLoaderHandleLoad(I)};return}var P={};P[u]=function(I){return f.asyncScriptLoaderHandleLoad(I)},Q[p]={loaded:!1,observers:P};var E=document.createElement("script");E.src=p,E.async=!0;for(var L in t.attributes)E.setAttribute(L,t.attributes[L]);N&&(E.id=N);var X=function(g){if(Q[p]){var C=Q[p],F=C.observers;for(var T in F)g(F[T])&&delete F[T]}};D&&typeof window!="undefined"&&(window[D]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),E.onload=function(){var I=Q[p];I&&(I.loaded=!0,X(function(g){return D?!1:(g(I),!0)}))},E.onerror=function(){var I=Q[p];I&&(I.errored=!0,X(function(g){return g(I),!0}))},document.body.appendChild(E)},d.componentWillUnmount=function(){var f=this.__scriptURL;if(t.removeOnUnmount===!0)for(var p=document.getElementsByTagName("script"),u=0;u<p.length;u+=1)p[u].src.indexOf(f)>-1&&p[u].parentNode&&p[u].parentNode.removeChild(p[u]);var x=Q[f];x&&(delete x.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete Q[f])},d.render=function(){var f=t.globalName,p=this.props;p.asyncScriptOnLoad;var u=p.forwardedRef,x=hr(p,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window!="undefined"&&(x[f]=typeof window[f]!="undefined"?window[f]:void 0),x.ref=u,o.createElement(r,x)},l}(o.Component),c=o.forwardRef(function(m,l){return o.createElement(i,Ce({},m,{forwardedRef:l}))});return c.displayName="AsyncScriptLoader("+s+")",c.propTypes={asyncScriptOnLoad:V.func},mr(c,r)}}var Oe="onloadcallback",xr="grecaptcha";function Ae(){return typeof window!="undefined"&&window.recaptchaOptions||{}}function vr(){var a=Ae(),t=a.useRecaptchaNet?"recaptcha.net":"www.google.com";return a.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+Oe+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+Oe+"&render=explicit"}const yr=gr(vr,{callbackName:Oe,globalName:xr,attributes:Ae().nonce?{nonce:Ae().nonce}:{}})(ve),br=()=>{const{login:a}=ae(),[t,n]=o.useState(!1),[r,s]=o.useState(!1),[i,c]=o.useState(null),[m,l]=o.useState(""),[d,j]=o.useState(!1),f=o.useRef(null),{register:p,handleSubmit:u,formState:{errors:x}}=oa();o.useEffect(()=>{b(void 0,null,function*(){try{const A=yield k.get("/auth/recaptcha-config");A.data&&(j(A.data.enabled),l(A.data.siteKey))}catch(A){console.error("Failed to fetch reCAPTCHA config:",A),j(!1)}})},[]);const R=N=>{c(N)},D=N=>b(void 0,null,function*(){if(d&&!i){M.error("Please complete the reCAPTCHA verification");return}n(!0);try{const A=z($({},N),{recaptchaToken:i}),P=yield a(A);P.success?M.success("Login successful!"):(f.current&&(f.current.reset(),c(null)),P.error.includes("locked")?M.error(P.error,{duration:5e3}):P.error.includes("Too many")?M.error(P.error,{duration:5e3}):P.error.includes("reCAPTCHA")||P.error.includes("captcha")?M.error("Security verification failed. Please try again."):M.error(P.error))}catch(A){f.current&&(f.current.reset(),c(null)),M.error("Login failed. Please try again.")}finally{n(!1)}});return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto flex items-center justify-center",children:e.jsx("img",{src:"/aglis-logo.svg",alt:"AGLIS Net",className:"h-16 w-auto"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"AGLIS Management System"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u(D),children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:"Username or Email"}),e.jsx("input",$({id:"username",type:"text",autoComplete:"username",className:`form-input ${x.username?"border-red-500":""}`,placeholder:"Enter your username or email"},p("username",{required:"Username or email is required"}))),x.username&&e.jsx("p",{className:"form-error",children:x.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",$({id:"password",type:r?"text":"password",autoComplete:"current-password",className:`form-input pr-10 ${x.password?"border-red-500":""}`,placeholder:"Enter your password"},p("password",{required:"Password is required"}))),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!r),children:r?e.jsx(Gt,{className:"h-5 w-5 text-gray-400"}):e.jsx(Zt,{className:"h-5 w-5 text-gray-400"})})]}),x.password&&e.jsx("p",{className:"form-error",children:x.password.message})]})]}),d&&m&&e.jsx("div",{className:"flex justify-center",children:e.jsx(yr,{ref:f,sitekey:m,onChange:R,onExpired:()=>c(null),onErrored:()=>{c(null),M.error("reCAPTCHA error. Please refresh the page.")},theme:"light"})}),e.jsxs("div",{children:[e.jsx("button",{type:"submit",disabled:t||d&&!i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:t?e.jsx(de,{size:"sm"}):"Sign In"}),d&&!i&&e.jsx("p",{className:"mt-2 text-sm text-center text-gray-500",children:"Please complete the reCAPTCHA verification above"})]})]})]})})},Ze={getDashboardOverview:(a=30)=>b(void 0,null,function*(){return(yield k.get(`/analytics/dashboard/overview?timeframe=${a}`)).data}),getRecentActivities:(a=50)=>b(void 0,null,function*(){return(yield k.get(`/analytics/dashboard/recent-activities?limit=${a}`)).data}),getTicketTrends:(a=30)=>b(void 0,null,function*(){return(yield k.get(`/analytics/dashboard/ticket-trends?timeframe=${a}`)).data}),getServiceDistribution:()=>b(void 0,null,function*(){return(yield k.get("/analytics/dashboard/service-distribution")).data}),getPriorityAnalysis:()=>b(void 0,null,function*(){return(yield k.get("/analytics/dashboard/priority-analysis")).data}),getTechnicianPerformance:()=>b(void 0,null,function*(){return(yield k.get("/analytics/dashboard/technician-performance")).data}),getTicketTrend:(a="7days")=>b(void 0,null,function*(){return(yield k.get(`/analytics/ticket-trend?range=${a}`)).data}),getStatusDistribution:()=>b(void 0,null,function*(){return(yield k.get("/analytics/status-distribution")).data}),getRevenueTrend:()=>b(void 0,null,function*(){return(yield k.get("/analytics/revenue-trend")).data}),getKPIMetrics:()=>b(void 0,null,function*(){return(yield k.get("/analytics/kpi")).data}),getResponseTimeMetrics:()=>b(void 0,null,function*(){return(yield k.get("/analytics/response-time")).data}),getSLACompliance:()=>b(void 0,null,function*(){return(yield k.get("/analytics/sla-compliance")).data})},wr=()=>{var f,p,u,x,R,D;const{user:a}=ae(),t=tt(),n=xe(),{data:r,isLoading:s}=J("dashboard-overview",()=>Ze.getDashboardOverview(),{refetchInterval:3e4,refetchOnWindowFocus:!0,refetchOnMount:"always",staleTime:0}),{data:i,isLoading:c}=J("dashboard-activities",()=>Ze.getRecentActivities(50),{refetchInterval:15e3,refetchOnWindowFocus:!0,refetchOnMount:"always",staleTime:0});if(o.useEffect(()=>{const N=()=>{n.invalidateQueries("dashboard-overview"),n.invalidateQueries("dashboard-activities"),console.log("📊 Dashboard data refreshed due to ticket update")};return window.addEventListener("ticket-updated",N),window.addEventListener("ticket-created",N),window.addEventListener("ticket-assigned",N),window.addEventListener("ticket-completed",N),()=>{window.removeEventListener("ticket-updated",N),window.removeEventListener("ticket-created",N),window.removeEventListener("ticket-assigned",N),window.removeEventListener("ticket-completed",N)}},[n]),s)return e.jsx("div",{className:"flex justify-center items-center min-h-96",children:e.jsx(de,{})});const m=(r==null?void 0:r.data)||{},l=((f=m.tickets)==null?void 0:f.byStatus)||{},d={total_tickets:((p=m.tickets)==null?void 0:p.total)||0,open_tickets:l.open||0,assigned_tickets:l.assigned||0,in_progress_tickets:l.in_progress||0,on_hold_tickets:l.on_hold||0,completed_tickets:l.completed||0,cancelled_tickets:l.cancelled||0,avg_resolution_time:((u=m.resolution)==null?void 0:u.averageHours)||null,avg_customer_rating:((x=m.satisfaction)==null?void 0:x.averageRating)||null,sla_compliance:((R=m.sla)==null?void 0:R.complianceRate)||null,active_technicians:((D=m.technicians)==null?void 0:D.available)||0,approaching_sla:0,overdue_tickets:0},j=({title:N,description:A,icon:P,color:E="blue",onClick:L})=>e.jsx("button",{onClick:L,className:"card hover:shadow-md transition-shadow text-left w-full h-full",children:e.jsxs("div",{className:"card-body flex items-center h-full",children:[e.jsx("div",{className:`p-2 rounded-lg bg-${E}-100 mr-3 flex-shrink-0`,children:e.jsx(P,{className:`h-5 w-5 text-${E}-600`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:N}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:A})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",a==null?void 0:a.full_name,"!"]}),e.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your ISP operations today."})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[e.jsx(Z,{title:"Total",value:d.total_tickets||0,icon:re,color:"blue"}),e.jsx(Z,{title:"Open",value:d.open_tickets||0,icon:ea,color:"blue"}),e.jsx(Z,{title:"Assigned",value:d.assigned_tickets||0,icon:pe,color:"indigo"}),e.jsx(Z,{title:"Progress",value:d.in_progress_tickets||0,icon:ta,color:"orange"}),e.jsx(Z,{title:"On Hold",value:d.on_hold_tickets||0,icon:aa,color:"yellow"}),e.jsx(Z,{title:"Completed",value:d.completed_tickets||0,icon:be,color:"green"}),e.jsx(Z,{title:"Cancelled",value:d.cancelled_tickets||0,icon:na,color:"red"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"card h-full",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-full",children:[e.jsx(j,{title:"Create New Ticket",description:"Add a new service request",icon:re,color:"blue",onClick:()=>t("/tickets")}),e.jsx(j,{title:"Add Customer",description:"Register new customer",icon:pe,color:"green",onClick:()=>t("/customers")}),e.jsx(j,{title:"Manage Technicians",description:"View and manage technicians",icon:ge,color:"purple",onClick:()=>t("/technicians")}),e.jsx(j,{title:"Check Inventory",description:"View stock levels",icon:it,color:"orange",onClick:()=>t("/inventory")})]})})]})}),e.jsx("div",{children:e.jsxs("div",{className:"card h-full flex flex-col",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Activity"})}),e.jsx("div",{className:"card-body flex-1 overflow-hidden",children:c?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(de,{})}):i!=null&&i.data&&i.data.length>0?e.jsx("div",{className:"space-y-4 overflow-y-auto h-full pr-2",style:{maxHeight:"180px"},children:i.data.map((N,A)=>{let P="",E=re,L="blue";return N.status==="completed"?(P=`Ticket #${N.ticketNumber} completed`,E=be,L="green"):N.status==="assigned"?(P=`Ticket #${N.ticketNumber} assigned to technician`,E=ge,L="purple"):N.status==="in_progress"?(P=`Ticket #${N.ticketNumber} in progress`,E=ra,L="orange"):N.status==="open"?(P=`New ticket created: ${N.title}`,E=re,L="blue"):P=`Ticket #${N.ticketNumber} - ${N.title}`,e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`p-1 bg-${L}-100 rounded-full`,children:e.jsx(E,{className:`h-4 w-4 text-${L}-600`})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:P}),e.jsx("p",{className:"text-xs text-gray-500",children:N.timestamp&&!isNaN(new Date(N.timestamp).getTime())?mt(new Date(N.timestamp),{addSuffix:!0,locale:ht}):"Baru saja"})]})]},A)})}):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Tidak ada aktivitas hari ini"})})]})})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="supervisor")&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Performance Overview"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Average Resolution Time"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.avg_resolution_time?`${d.avg_resolution_time.toFixed(1)} hours`:"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.avg_customer_rating?`${d.avg_customer_rating.toFixed(1)}/5.0`:"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"SLA Compliance"}),e.jsx("span",{className:`text-sm font-medium ${d.sla_compliance>=90?"text-green-600":"text-yellow-600"}`,children:d.sla_compliance?`${d.sla_compliance.toFixed(1)}%`:"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active Technicians"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.active_technicians||0})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Alerts"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"space-y-3",children:[d.approaching_sla>0,d.overdue_tickets>0,e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[e.jsx(be,{className:"h-5 w-5 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"All tickets on track"}),e.jsx("p",{className:"text-xs text-green-600",children:"No urgent alerts"})]})]})]})})]})]})]})},jr=o.lazy(()=>_(()=>import("./AnalyticsDashboard-ifXMZiI7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),_r=o.lazy(()=>_(()=>import("./PerformanceDashboard-DGm37y1U.js"),__vite__mapDeps([9,1,2,3,4,5]))),Nr=o.lazy(()=>_(()=>import("./tickets-Dx5J63Mv.js").then(a=>a.T),__vite__mapDeps([10,1,2,3,4,5,6,7,8]))),kr=o.lazy(()=>_(()=>import("./tickets-Dx5J63Mv.js").then(a=>a.a),__vite__mapDeps([10,1,2,3,4,5,6,7,8]))),Pr=o.lazy(()=>_(()=>import("./customers-CPkOMPXe.js").then(a=>a.C),__vite__mapDeps([6,1,2,3,4,5,7,8]))),Sr=o.lazy(()=>_(()=>import("./customers-CPkOMPXe.js").then(a=>a.m),__vite__mapDeps([6,1,2,3,4,5,7,8]))),Tr=o.lazy(()=>_(()=>import("./TechniciansPage-BgPIpLhQ.js"),__vite__mapDeps([11,1,2,3,4,5,10,6,7,8]))),Cr=o.lazy(()=>_(()=>import("./TechnicianDetailPage-DdNNpO7k.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,13,10]))),Or=o.lazy(()=>_(()=>import("./InventoryPage-D3O93w-a.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8]))),Ar=o.lazy(()=>_(()=>import("./InventoryStockPage-DV6Eth2G.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8]))),Er=o.lazy(()=>_(()=>import("./PackagesPage-BU3fzpZo.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8]))),Rr=o.lazy(()=>_(()=>import("./PriceListPage-DC1lfnx4.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8]))),Dr=o.lazy(()=>_(()=>import("./EquipmentPage-CxdF8Bvx.js"),__vite__mapDeps([18,1,2,3,4,5,6,7,8]))),Mr=o.lazy(()=>_(()=>import("./ODPPage-BHPR4ZF3.js"),__vite__mapDeps([19,1,2,3,4,5,10,6,7,8]))),Lr=o.lazy(()=>_(()=>import("./ServiceTypesPage-Drw_0YpX.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8]))),Ir=o.lazy(()=>_(()=>import("./ServiceCategoriesPage-Ch3-rMI3.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8]))),$r=o.lazy(()=>_(()=>import("./UsersPage-7stR3MsD.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,8]))),Wr=o.lazy(()=>_(()=>import("./PermissionsPage-n6NI-ntb.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8]))),qr=o.lazy(()=>_(()=>import("./SkillLevelsPage-D_oYptS3.js"),__vite__mapDeps([24,1,2,3,4,5,13,6,7,8]))),zr=o.lazy(()=>_(()=>import("./SpecializationsPage-BJ1qWm4H.js"),__vite__mapDeps([25,1,2,3,4,5,13,6,7,8]))),Fr=o.lazy(()=>_(()=>import("./WhatsAppGroupsPage-B1tyn9zB.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,8]))),Vr=o.lazy(()=>_(()=>import("./WhatsAppTemplatesPage-B0pOjIGD.js"),__vite__mapDeps([27,1,2,3,4,5]))),Ur=o.lazy(()=>_(()=>import("./ProfilePage-vMi2BF_m.js"),__vite__mapDeps([28,1,2,3,4,5,8,6,7]))),Qr=o.lazy(()=>_(()=>import("./RegisterPage-D_UhSDBw.js"),__vite__mapDeps([29,1,2,3,4,5,8,30,6,7]))),et=o.lazy(()=>_(()=>import("./TrackingPage-BGh82aQw.js"),__vite__mapDeps([31,1,2,3,4,5,30,6,7,8]))),Hr=o.lazy(()=>_(()=>import("./RegistrationsPage-Bu0fAOMv.js"),__vite__mapDeps([32,1,2,3,4,5,30,6,7,8]))),Xr=o.lazy(()=>_(()=>import("./RegistrationDetailPage-BMDXzyh_.js"),__vite__mapDeps([33,1,2,3,4,5,30,6,7,8]))),Kr=o.lazy(()=>_(()=>import("./RegistrationAnalyticsPage-WU2Wa7-b.js"),__vite__mapDeps([34,1,2,3,4,5]))),Br=o.lazy(()=>_(()=>import("./notifications-Dt-KZFDl.js").then(a=>a.N),__vite__mapDeps([1,2,3,4,5]))),Jr=o.lazy(()=>_(()=>import("./notifications-Dt-KZFDl.js").then(a=>a.b),__vite__mapDeps([1,2,3,4,5]))),Yr=o.lazy(()=>_(()=>import("./notifications-Dt-KZFDl.js").then(a=>a.c),__vite__mapDeps([1,2,3,4,5]))),Gr=o.lazy(()=>_(()=>import("./InvoicesPage-CJk0hUQr.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,8]))),Zr=o.lazy(()=>_(()=>import("./InvoiceDetailPage-CqWOy8Pn.js"),__vite__mapDeps([36,1,2,3,4,5,6,7,8]))),es=o.lazy(()=>_(()=>import("./InvoiceCreatePage-Be7zYjnZ.js"),__vite__mapDeps([37,1,2,3,4,5,6,7,8]))),ts=o.lazy(()=>_(()=>import("./PaymentsPage-BdXMNFXl.js"),__vite__mapDeps([38,1,2,3,4,5,6,7,8]))),as=o.lazy(()=>_(()=>import("./CustomerLoginPage-lPmI6YWW.js"),__vite__mapDeps([39,1,2,3,4,5]))),ns=o.lazy(()=>_(()=>import("./CustomerDashboardPage-CRmMAQxq.js"),__vite__mapDeps([40,1,2,3,4,5,41]))),rs=o.lazy(()=>_(()=>import("./CustomerInvoicesPage-DX1Ytc6u.js"),__vite__mapDeps([42,1,2,3,4,5,41]))),ss=o.lazy(()=>_(()=>import("./CustomerTicketsPage-qHdljnnO.js"),__vite__mapDeps([43,1,2,3,4,5,41]))),is=o.lazy(()=>_(()=>import("./CustomerTicketDetailPage-DT2WgFQj.js"),__vite__mapDeps([44,1,2,3,4,5,41]))),os=o.lazy(()=>_(()=>import("./CustomerProfilePage-BZCmzVf3.js"),__vite__mapDeps([45,1,2,3,4,5,41]))),cs=o.lazy(()=>_(()=>import("./CustomerFAQPage-DTT6dLX0.js"),__vite__mapDeps([46,1,2,3,4,5,41])));function ls(){const{user:a,loading:t}=ae();return t?e.jsx(de,{}):e.jsx(xa,{children:e.jsx(fa,{children:e.jsx(o.Suspense,{fallback:e.jsx(de,{}),children:e.jsxs(Ot,{children:[e.jsx(w,{path:"/login",element:a?e.jsx(me,{to:"/dashboard",replace:!0}):e.jsx(br,{})}),e.jsx(w,{path:"/register",element:e.jsx(Qr,{})}),e.jsx(w,{path:"/track",element:e.jsx(et,{})}),e.jsx(w,{path:"/track/:registrationNumber",element:e.jsx(et,{})}),e.jsx(w,{path:"/customer/login",element:e.jsx(as,{})}),e.jsx(w,{path:"/customer/dashboard",element:e.jsx(ns,{})}),e.jsx(w,{path:"/customer/invoices",element:e.jsx(rs,{})}),e.jsx(w,{path:"/customer/tickets",element:e.jsx(ss,{})}),e.jsx(w,{path:"/customer/tickets/:id",element:e.jsx(is,{})}),e.jsx(w,{path:"/customer/profile",element:e.jsx(os,{})}),e.jsx(w,{path:"/customer/faq",element:e.jsx(cs,{})}),e.jsxs(w,{path:"/*",element:a?e.jsx(Bn,{}):e.jsx(me,{to:"/login",replace:!0}),children:[e.jsx(w,{path:"dashboard",element:e.jsx(wr,{})}),e.jsx(w,{path:"analytics",element:e.jsx(jr,{})}),e.jsx(w,{path:"performance",element:e.jsx(_r,{})}),e.jsx(w,{path:"tickets",element:e.jsx(Nr,{})}),e.jsx(w,{path:"tickets/:id",element:e.jsx(kr,{})}),e.jsx(w,{path:"customers",element:e.jsx(Pr,{})}),e.jsx(w,{path:"customers/:id",element:e.jsx(Sr,{})}),e.jsx(w,{path:"registrations",element:e.jsx(Hr,{})}),e.jsx(w,{path:"registrations/:id",element:e.jsx(Xr,{})}),e.jsx(w,{path:"registration-analytics",element:e.jsx(Kr,{})}),e.jsx(w,{path:"technicians",element:e.jsx(Tr,{})}),e.jsx(w,{path:"technicians/:id",element:e.jsx(Cr,{})}),e.jsx(w,{path:"inventory",element:e.jsx(Or,{})}),e.jsx(w,{path:"inventory-stock",element:e.jsx(Ar,{})}),e.jsx(w,{path:"master-data/service-types",element:e.jsx(Lr,{})}),e.jsx(w,{path:"master-data/service-categories",element:e.jsx(Ir,{})}),e.jsx(w,{path:"master-data/packages",element:e.jsx(Er,{})}),e.jsx(w,{path:"master-data/price-list",element:e.jsx(Rr,{})}),e.jsx(w,{path:"master-data/equipment",element:e.jsx(Dr,{})}),e.jsx(w,{path:"master-data/odp",element:e.jsx(Mr,{})}),e.jsx(w,{path:"notifications/templates",element:e.jsx(Br,{})}),e.jsx(w,{path:"notifications/analytics",element:e.jsx(Jr,{})}),e.jsx(w,{path:"notifications/settings",element:e.jsx(Yr,{})}),e.jsx(w,{path:"users",element:e.jsx($r,{})}),e.jsx(w,{path:"permissions",element:e.jsx(Wr,{})}),e.jsx(w,{path:"master-data/skill-levels",element:e.jsx(qr,{})}),e.jsx(w,{path:"master-data/specializations",element:e.jsx(zr,{})}),e.jsx(w,{path:"master-data/whatsapp-groups",element:e.jsx(Fr,{})}),e.jsx(w,{path:"master-data/whatsapp-templates",element:e.jsx(Vr,{})}),e.jsx(w,{path:"invoices",element:e.jsx(Gr,{})}),e.jsx(w,{path:"invoices/new",element:e.jsx(es,{})}),e.jsx(w,{path:"invoices/:id",element:e.jsx(Zr,{})}),e.jsx(w,{path:"payments",element:e.jsx(ts,{})}),e.jsx(w,{path:"profile",element:e.jsx(Ur,{})}),e.jsx(w,{path:"",element:e.jsx(me,{to:"/dashboard",replace:!0})})]}),e.jsx(w,{path:"*",element:e.jsx(me,{to:"/dashboard",replace:!0})})]})})})})}const ds=new Et({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});ke.createRoot(document.getElementById("root")).render(e.jsx(at.StrictMode,{children:e.jsxs(Rt,{client:ds,children:[e.jsx(At,{children:e.jsxs(ia,{children:[e.jsx(ls,{}),e.jsx(sa,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}}}})]})}),e.jsx(la.ReactQueryDevtools,{initialIsOpen:!1})]})}));export{yr as R,Ze as a,pa as p};
//# sourceMappingURL=index-jR0O955e.js.map
